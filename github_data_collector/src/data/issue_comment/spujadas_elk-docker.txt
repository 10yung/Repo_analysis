![image](https://user-images.githubusercontent.com/41216861/69690040-7eea1480-1105-11ea-8110-0beb33b7acd9.png)
how to finish it?
kibana is not working with localhost:9200

> docker exec -it elk-docker_elk_1 /bin/bash
> cat /var/log/kibana/kibana5.log

i get following log 

`{"type":"log","@timestamp":"2019-10-16T00:11:46Z","tags":["info","plugins-system"],"pid":312,"message":"Setting up [4] plugins: [security,translations,inspector,data]"}
{"type":"log","@timestamp":"2019-10-16T00:11:46Z","tags":["info","plugins","security"],"pid":312,"message":"Setting up plugin"}
{"type":"log","@timestamp":"2019-10-16T00:11:46Z","tags":["warning","plugins","security","config"],"pid":312,"message":"Generating a random key for xpack.security.encryptionKey. To prevent sessions from being invalidated on restart, please set xpack.security.encryptionKey in kibana.yml"}
{"type":"log","@timestamp":"2019-10-16T00:11:46Z","tags":["warning","plugins","security","config"],"pid":312,"message":"Session cookies will be transmitted over insecure connections. This is not recommended."}
{"type":"log","@timestamp":"2019-10-16T00:11:46Z","tags":["info","plugins","translations"],"pid":312,"message":"Setting up plugin"}
{"type":"log","@timestamp":"2019-10-16T00:11:46Z","tags":["info","plugins","data"],"pid":312,"message":"Setting up plugin"}
{"type":"log","@timestamp":"2019-10-16T00:11:46Z","tags":["info","plugins-system"],"pid":312,"message":"Starting [3] plugins: [security,translations,data]"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:kibana@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:elasticsearch@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:xpack_main@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:telemetry@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:graph@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:monitoring@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:spaces@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:security@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:searchprofiler@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:ml@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:tilemap@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:watcher@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:grokdebugger@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:dashboard_mode@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:logstash@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:beats_management@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:apm_oss@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:apm@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:code@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:data@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:visualizations@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:interpreter@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:tile_map@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:task_manager@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:maps@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:canvas@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:license_management@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:cloud@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:index_management@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:console@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:console_extensions@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:index_lifecycle_management@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:metrics@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:infra@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["status","plugin:rollup@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:12Z","tags":["info","siem"],"pid":312,"message":"Plugin initializing"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["info","siem"],"pid":312,"message":"Plugin done initializing"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:siem@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:remote_clusters@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:cross_cluster_replication@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:upgrade_assistant@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:uptime@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:oss_telemetry@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:file_upload@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["warning","encrypted_saved_objects"],"pid":312,"message":"Generating a random key for xpack.encrypted_saved_objects.encryptionKey. To be able to decrypt encrypted saved objects attributes after restart, please set xpack.encrypted_saved_objects.encryptionKey in kibana.yml"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:encrypted_saved_objects@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:snapshot_restore@7.4.0","info"],"pid":312,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:kibana_react@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:region_map@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:timelion@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:ui_metric@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:markdown_vis@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:metric_vis@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:table_vis@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:tagcloud@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:13Z","tags":["status","plugin:vega@7.4.0","info"],"pid":312,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["error","elasticsearch","admin"],"pid":312,"message":"Request error, retrying\nHEAD http://localhost:9200/.apm-agent-configuration => connect ECONNREFUSED 127.0.0.1:9200"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["error","elasticsearch","admin"],"pid":312,"message":"Request error, retrying\nGET http://localhost:9200/_nodes?filter_path=nodes.*.version%2Cnodes.*.http.publish_address%2Cnodes.*.ip => connect ECONNREFUSED 127.0.0.1:9200"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:xpack_main@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:graph@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:spaces@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:searchprofiler@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:ml@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:tilemap@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:watcher@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:grokdebugger@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:logstash@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:beats_management@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:maps@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:index_management@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:index_lifecycle_management@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:rollup@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:remote_clusters@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:cross_cluster_replication@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:file_upload@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:snapshot_restore@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["status","plugin:elasticsearch@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from yellow to red - No Living connections","prevState":"yellow","prevMsg":"Waiting for Elasticsearch"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["error","elasticsearch","data"],"pid":312,"message":"Request error, retrying\nGET http://localhost:9200/_xpack => connect ECONNREFUSED 127.0.0.1:9200"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["warning","elasticsearch","data"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["license","warning","xpack"],"pid":312,"message":"License information from the X-Pack plugin could not be obtained from Elasticsearch for the [data] cluster. Error: No Living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:14Z","tags":["warning","elasticsearch","data"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:17Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:17Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["reporting","warning"],"pid":312,"message":"Generating a random key for xpack.reporting.encryptionKey. To prevent pending reports from failing on restart, please set xpack.reporting.encryptionKey in kibana.yml"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["status","plugin:reporting@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from uninitialized to red - No Living connections","prevState":"uninitialized","prevMsg":"uninitialized"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["status","plugin:security@7.4.0","error"],"pid":312,"state":"red","message":"Status changed from green to red - No Living connections","prevState":"green","prevMsg":"Ready"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["reporting","warning"],"pid":312,"message":"The Reporting plugin encountered issues launching Chromium in a self-test. You may have trouble generating reports: [Error: Failed to launch chrome!\n[1016/001318.402431:WARNING:resource_bundle.cc(358)] locale_file_path.empty() for locale \n[1016/001318.402881:FATAL:zygote_host_impl_linux.cc(116)] No usable sandbox! Update your kernel or see https://chromium.googlesource.com/chromium/src/+/master/docs/linux_suid_sandbox_development.md for more information on developing with the SUID sandbox. If you want to live dangerously and need an immediate workaround, you can try using --no-sandbox.\n#0 0x55daccf74bf9 <unknown>\n#1 0x55daccee1783 <unknown>\n#2 0x55daccef4e23 <unknown>\n#3 0x55dace3b32ee <unknown>\n#4 0x55daccea10f8 <unknown>\n#5 0x55dace3b998c <unknown>\n#6 0x55dacce9aad1 <unknown>\n#7 0x55dacceddc3d <unknown>\n#8 0x55daccedd9bb <unknown>\n#9 0x7f663c8abb97 __libc_start_main\n#10 0x55dacb3e402a _start\n\nReceived signal 6\n#0 0x55daccf74bf9 <unknown>\n#1 0x55daccee1783 <unknown>\n#2 0x55daccf74781 <unknown>\n#3 0x7f663e034890 <unknown>\n#4 0x7f663c8c8e97 gsignal\n#5 0x7f663c8ca801 abort\n#6 0x55daccf735c5 <unknown>\n#7 0x55daccef5107 <unknown>\n#8 0x55dace3b32ee <unknown>\n#9 0x55daccea10f8 <unknown>\n#10 0x55dace3b998c <unknown>\n#11 0x55dacce9aad1 <unknown>\n#12 0x55dacceddc3d <unknown>\n#13 0x55daccedd9bb <unknown>\n#14 0x7f663c8abb97 __libc_start_main\n#15 0x55dacb3e402a _start\n  r8: 0000000000000000  r9: 00007ffdcfece990 r10: 0000000000000008 r11: 0000000000000246\n r12: 00007ffdcfecfc58 r13: 00002de05e483b80 r14: 00007ffdcfecfc60 r15: 00007ffdcfecfc68\n  di: 0000000000000002  si: 00007ffdcfece990  bp: 00007ffdcfecebe0  bx: 00007ffdcfecec38\n  dx: 0000000000000000  ax: 0000000000000000  cx: 00007f663c8c8e97  sp: 00007ffdcfece990\n  ip: 00007f663c8c8e97 efl: 0000000000000246 cgf: 002b000000000033 erf: 0000000000000000\n trp: 0000000000000000 msk: 0000000000000000 cr2: 0000000000000000\n[end of stack trace]\nCalling _exit(1). Core file will not be generated.\n\n\nTROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md\n]"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["reporting","warning"],"pid":312,"message":"See Chromium's log output at \"/opt/kibana/data/headless_shell-linux/chrome_debug.log\""}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["reporting","warning"],"pid":312,"message":"Reporting plugin self-check failed. Please check the Kibana Reporting settings. Error: Could not close browser client handle!"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["warning","elasticsearch","data"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["warning","elasticsearch","data"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:18Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:19Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:19Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:21Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:21Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:22Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:22Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:24Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:24Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:27Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:27Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:29Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:29Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:32Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:32Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:34Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:34Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:37Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:37Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:39Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:39Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:42Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:42Z","tags":["warning","elasticsearch","admin"],"pid":312,"message":"No living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:44Z","tags":["warning","elasticsearch","data"],"pid":312,"message":"Unable to revive connection: http://localhost:9200/"}
{"type":"log","@timestamp":"2019-10-16T00:13:44Z","tags":["license","warning","xpack"],"pid":312,"message":"License information from the X-Pack plugin could not be obtained from Elasticsearch for the [data] cluster. Error: No Living connections"}
{"type":"log","@timestamp":"2019-10-16T00:13:44Z","tags":["warning","elasticsearch","data"],"pid":312,"message":"No living connections"}`
deploying latest(730) ELK in kubernetes cluster. Elasticsearch and logstash are coming up but kibana is failing with error "start-stop-daemon: warning: failed to kill 23: No such process"

I am trying to reach ES via a GO Client - the official GO Client from ES is able to connect. however, I am trying to see is this client is reaching the ES instance - https://github.com/olivere/elastic

The client is not able to connect to ELK docker based Elasticsearch as  the transport publish address of the instance is always 172.20.0.2:9200

I tried to change this with the following command -
docker run -d -p 5601:5601 -p 9200:9200 -p 5044:5044 --name elk sebp/elk elasticsearch -Enetwork.publish_host=local -Enetwork.host=local,site

the docker container starts.. how ever the http "publish_address": "172.20.0.2:9200"

I also tried with a docker-compose like,

- cluster.name=eslocal
- bootstrap.memory_lock=true
- http.host=127.0.0.1
- transport.host=127.0.0.1
- network.publish_host=127.0.0.1
- transport.publish_port=9200
Neither is this working.. 

I tried it using a custom elasticsearch yml file.. like in here:- https://elk-docker.readthedocs.io/#setting-up-an-elasticsearch-cluster 

I gave the following commands -
docker run -it --rm=true -p 9200:9200 -p 9300:9300 -v c:/dev/docker/elk/docker-compose.yml:/etc/elasticsearch/elasticsearch.yml sebp/elk

I am getting this error - Error response from daemon: OCI runtime create failed: container_linux.go:344: starting container process caused "process_linux.go:424: container init caused \"rootfs_linux.go:58: mounting \\\"/host_mnt/c/dev/docker/elk/docker-compose.yml\\\" to rootfs \\\"/var/lib/docker/overlay2/854ae312e4b97ff0412a822104f1823542f1dd0c053b35f69b8de8c6a55f809a/merged\\\" at \\\"/var/lib/docker/overlay2/854ae312e4b97ff0412a822104f1823542f1dd0c053b35f69b8de8c6a55f809a/merged/etc/elasticsearch/elasticsearch.yml\\\" caused \\\"not a directory\\\"\"": unknown: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type.

I need to use the ELK stack and I wonder if there is any work around or the right way to use it perhaps ? Any help is appreciated.

thanks
CC

hi, I used this image very well when exec '/usr/local/bin/start.sh', but the docker seems failed since two days ago. Is there any update?

HI,

I am currently working on getting logs of a Windows 2010 system using the SEBP/ELK docker image
I installed docker image on windows 2010 and tried launching the container using the following command:
docker run -p 5601:5601 -p 9200:9200 -p 5044:5044 -it --name elk sebp/elk 
container came up and while l am accessing the "docker ps -a" command I see the container is up and running but the ports 9200,5601,5044 ports are using "0.0.0.0" ip address, I tried changing the elasticsearch.yml file to the "localhost" or "Systems IP" but elastic search/kibana/logstash none of them can be accessed

Can anyone please let me know if I've to change any other files for ELK to come up and running or Any idea what I am missing here

Appreciate immediate response
After the build was complete and the image is running it produces an output like this:

> Couln't start Elasticsearch. Exiting.
> --
>   | Elasticsearch log follows below.
>   | cat: /var/log/elasticsearch/elasticsearch.log: No such file or directory

I'm already see the frequently issues on https://elk-docker.readthedocs.io/#frequent-issues that you make and kinda confused : 
1. Is it max map count issues or memory issues? 
2. What files do i need to change in the repository to make it work?
Any help or feedback would be great, Thanks!
I updated to the latest version of docker container sebp/elk on 4/17/2019.  Since then I have been unable to get Telegraf to start on my host.  It fails connecting to Elasticsearch.  I also get a 502 error connecting to Elasticsearch from Grafana.  I have removed all containers and images and repulled.  I also dleted all data in mount points to start clean and still am unable to connect.  The only change I am aware of that was made on 4/17/2019 was the upgrade of sebp/elk.

I am out of ideas on what to look at next.

**I am running the following versions:**
Grafana 6.1.4 (docker container)
Elasticsearch 7.0.0
Telegraf is 1.10.3 (runs locally on host)
InfluxDB 1.7.6 (runs locally on host)
Docker 18.09.2
Windows 10.0.17763.437

**From http://localhost:9200 I get** 
{
  "name" : "elk",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "ov0z53EQQRyVr2DmDETqCg",
  "version" : {
    "number" : "7.0.0",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "b7e28a7",
    "build_date" : "2019-04-05T22:55:32.697037Z",
    "build_snapshot" : false,
    "lucene_version" : "8.0.0",
    "minimum_wire_compatibility_version" : "6.7.0",
    "minimum_index_compatibility_version" : "6.0.0-beta1"
  },
  "tagline" : "You Know, for Search"
}

**Grafana config for Elasticsearch data source config**
![image](https://user-images.githubusercontent.com/2319445/56849898-67715180-68c0-11e9-9d64-efb239a64c87.png)


**Telegraf log:**
2019-04-27T12:31:04Z I! Loaded inputs: win_perf_counters docker
2019-04-27T12:31:04Z I! Loaded aggregators: 
2019-04-27T12:31:04Z I! Loaded processors: 
2019-04-27T12:31:04Z I! Loaded outputs: influxdb elasticsearch
2019-04-27T12:31:04Z I! Tags enabled: host=DESKTOP-1ND49C8
2019-04-27T12:31:04Z I! [agent] Config: Interval:10s, Quiet:false, Hostname:"DESKTOP-1ND49C8", Flush Interval:10s
2019-04-27T12:31:04Z I! Elasticsearch version: 7.0.0
2019-04-27T12:31:04Z E! [agent] Failed to connect to output elasticsearch, retrying in 15s, error was 'Elasticsearch failed to create index template telegraf : elastic: Error 400 (Bad Request): Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:  [_default_ : {dynamic_templates=[{tags={path_match=tag.*, mapping={ignore_above=512, type=keyword}, match_mapping_type=string}}, {metrics_long={mapping={index=false, type=float}, match_mapping_type=long}}, {metrics_double={mapping={index=false, type=float}, match_mapping_type=double}}, {text_fields={mapping={norms=false}, match=*}}], _all={enabled=false}, properties={@timestamp={type=date}, measurement_name={type=keyword}}}] [type=mapper_parsing_exception]' 
2019-04-27T12:31:19Z I! Elasticsearch version: 7.0.0
2019-04-27T12:31:19Z E! [telegraf] Error running agent: Elasticsearch failed to create index template telegraf : elastic: Error 400 (Bad Request): Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:  [_default_ : {dynamic_templates=[{tags={path_match=tag.*, mapping={ignore_above=512, type=keyword}, match_mapping_type=string}}, {metrics_long={mapping={index=false, type=float}, match_mapping_type=long}}, {metrics_double={mapping={index=false, type=float}, match_mapping_type=double}}, {text_fields={mapping={norms=false}, match=*}}], _all={enabled=false}, properties={@timestamp={type=date}, measurement_name={type=keyword}}}] [type=mapper_parsing_exception]
2019-04-27T12:31:40Z I! Loaded inputs: win_perf_counters docker
2019-04-27T12:31:40Z I! Loaded aggregators: 
2019-04-27T12:31:40Z I! Loaded processors: 
2019-04-27T12:31:40Z I! Loaded outputs: influxdb elasticsearch
2019-04-27T12:31:40Z I! Tags enabled: host=DESKTOP-1ND49C8
2019-04-27T12:31:40Z I! [agent] Config: Interval:10s, Quiet:false, Hostname:"DESKTOP-1ND49C8", Flush Interval:10s
2019-04-27T12:31:40Z I! Elasticsearch version: 7.0.0
2019-04-27T12:31:40Z E! [agent] Failed to connect to output elasticsearch, retrying in 15s, error was 'Elasticsearch failed to create index template telegraf : elastic: Error 400 (Bad Request): Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:  [_default_ : {dynamic_templates=[{tags={path_match=tag.*, mapping={ignore_above=512, type=keyword}, match_mapping_type=string}}, {metrics_long={mapping={index=false, type=float}, match_mapping_type=long}}, {metrics_double={mapping={index=false, type=float}, match_mapping_type=double}}, {text_fields={mapping={norms=false}, match=*}}], _all={enabled=false}, properties={@timestamp={type=date}, measurement_name={type=keyword}}}] [type=mapper_parsing_exception]' 
2019-04-27T12:31:55Z I! Elasticsearch version: 7.0.0
2019-04-27T12:31:55Z E! [telegraf] Error running agent: Elasticsearch failed to create index template telegraf : elastic: Error 400 (Bad Request): Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:  [_default_ : {dynamic_templates=[{tags={path_match=tag.*, mapping={ignore_above=512, type=keyword}, match_mapping_type=string}}, {metrics_long={mapping={index=false, type=float}, match_mapping_type=long}}, {metrics_double={mapping={index=false, type=float}, match_mapping_type=double}}, {text_fields={mapping={norms=false}, match=*}}], _all={enabled=false}, properties={@timestamp={type=date}, measurement_name={type=keyword}}}] [type=mapper_parsing_exception]
2019-04-27T12:33:27Z I! Loaded inputs: win_perf_counters docker
2019-04-27T12:33:27Z I! Loaded aggregators: 
2019-04-27T12:33:27Z I! Loaded processors: 
2019-04-27T12:33:27Z I! Loaded outputs: influxdb elasticsearch
2019-04-27T12:33:27Z I! Tags enabled: host=DESKTOP-1ND49C8
2019-04-27T12:33:27Z I! [agent] Config: Interval:10s, Quiet:false, Hostname:"DESKTOP-1ND49C8", Flush Interval:10s
2019-04-27T12:33:27Z I! Elasticsearch version: 7.0.0
2019-04-27T12:33:27Z E! [agent] Failed to connect to output elasticsearch, retrying in 15s, error was 'Elasticsearch failed to create index template telegraf : elastic: Error 400 (Bad Request): Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:  [_default_ : {dynamic_templates=[{tags={path_match=tag.*, mapping={ignore_above=512, type=keyword}, match_mapping_type=string}}, {metrics_long={mapping={index=false, type=float}, match_mapping_type=long}}, {metrics_double={mapping={index=false, type=float}, match_mapping_type=double}}, {text_fields={mapping={norms=false}, match=*}}], _all={enabled=false}, properties={@timestamp={type=date}, measurement_name={type=keyword}}}] [type=mapper_parsing_exception]' 
2019-04-27T12:33:42Z I! Elasticsearch version: 7.0.0
2019-04-27T12:33:42Z E! [telegraf] Error running agent: Elasticsearch failed to create index template telegraf : elastic: Error 400 (Bad Request): Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:  [_default_ : {dynamic_templates=[{tags={path_match=tag.*, mapping={ignore_above=512, type=keyword}, match_mapping_type=string}}, {metrics_long={mapping={index=false, type=float}, match_mapping_type=long}}, {metrics_double={mapping={index=false, type=float}, match_mapping_type=double}}, {text_fields={mapping={norms=false}, match=*}}], _all={enabled=false}, properties={@timestamp={type=date}, measurement_name={type=keyword}}}] [type=mapper_parsing_exception]

Elastic and Logstash are working fine but when I try to load Kibana in the browser, the page shows the Kibana logo while loading for a few minutes and then eventually shows the error "Kibana did not load properly. Check the server output for more information." I checked the Kibana log but there are no errors. I also checked the memory limit for the container and its very high so I don't think its a memory issue. 