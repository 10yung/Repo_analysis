## Please follow the guide below

- You will be asked some questions, please read them **carefully** and answer honestly
- Put an `x` into all the boxes [ ] relevant to your *pull request* (like that [x])
- Use *Preview* tab to see how your *pull request* will actually look like

- [x] [Searched](https://github.com/shadowsocks/shadowsocks-windows/search?q=is%3Apr&type=Issues) for similar pull requests
- [x] Compiled the code with Visual Studio
- [x] Require translation update
- [ ] Require document update (readme.md, wikipage, etc)

### What is the purpose of your *pull request*?
- [ ] Bug fix
- [ ] Improvement
- [x] New feature

---

### Description of your *pull request* and other information

Part of #2758, we can detect we're updated now.

![图片](https://user-images.githubusercontent.com/17123090/72667024-74664000-3a0f-11ea-8149-4e06d28cf7e9.png)

https://weblate.org/

sample (switchyomega):
https://hosted.weblate.org/engage/switchyomega/
<!--
- Shadowsocks is a non-profit open source project. If you bought the service from a provider, please contact them.
  影梭（Shadowsocks）是一个开源非盈利项目，不提供任何托管服务。如果你是从服务提供商购买的服务，请联系他们。
- If you have questions rather than Shadowsocks Windows client, please go to https://github.com/shadowsocks
  如果你有非影梭Windows客户端相关的问题，请去 https://github.com/shadowsocks
- Please read Wiki carefully, especially https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting
  提问前请先阅读wiki https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting.
- And search from Issue Board https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
  并在Issue Board中搜索 https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
- Please include the following information. Questions lacking details will be closed.
  请按照以下格式描述你的问题，描述不清的问题将会被关闭。
-->

### Shadowsocks version / 影梭版本
v4.1.9.2

### Environment (Operating system, .NET Framework, etc) / 使用环境（操作系统，.NET Framework等）
N/A

### Steps you have tried / 操作步骤

1. Create server with following config:
```json
{
      "server": "127.0.0.1",
      "server_port": 8388,
      "password": "123456",
      "method": "chacha20-ietf-poly1305",
      "plugin": "",
      "plugin_opts": "",
      "plugin_args": "",
      "remarks": "",
      "timeout": 5
}
```
2. Share server link


### What did you expect to see? / 期望的结果
`ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNToxMjM0NTY@127.0.0.1:8388` (generated by ss-android)

### What did you see instead? / 实际结果
`ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNToxMjM0NTZAMTI3LjAuMC4xOjgzODg=`

### Config and error log in detail (with all sensitive info masked) / 配置文件和日志文件（请隐去敏感信息）
N/A
# Shadowsocks version / 影梭版本
4.1.8.0

### Environment (Operating system, .NET Framework, etc) / 使用环境（操作系统，.NET Framework等）
Windows Server 2016 Standard

### Steps you have tried / 操作步骤
服务器地址填写ipv6地址，如：2001:19f0:6001:3606:5400:02ff:fe3d:ed2a，其他配置项跟ipv4一致。

### What did you expect to see? / 期望的结果
访问ipv6上的Shadowsocks服务

### What did you see instead? / 实际结果
连接超时（time out）

### Config and error log in detail (with all sensitive info masked) / 配置文件和日志文件（请隐去敏感信息）

请问如果要使用ipv6提供的Shadowsocks服务，本地服务器是否需要支持ipv6呢？
### Shadowsocks version / 影梭版本
4.1.9.2

### Environment (Operating system, .NET Framework, etc) / 使用环境（操作系统，.NET Framework等）
Win10，.net Framework 4.7.2

### Steps you have tried / 操作步骤
更新到4.1.9.2后，使用google cloud platform搭建的服务

### What did you expect to see? / 期望的结果
可以正常使用

### What did you see instead? / 实际结果
无法正常使用，切换回4.1.8.0后，配置完全一样的情况下恢复正常，开始还以为是IP被ban了，换了几个一直都不行，最后发现是这个的问题

### Config and error log in detail (with all sensitive info masked) / 配置文件和日志文件（请隐去敏感信息）
无
<!--
- Shadowsocks is a non-profit open source project. If you bought the service from a provider, please contact them.
  影梭（Shadowsocks）是一个开源非盈利项目，不提供任何托管服务。如果你是从服务提供商购买的服务，请联系他们。
- If you have questions rather than Shadowsocks Windows client, please go to https://github.com/shadowsocks
  如果你有非影梭Windows客户端相关的问题，请去 https://github.com/shadowsocks
- Please read Wiki carefully, especially https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting
  提问前请先阅读wiki https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting.
- And search from Issue Board https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
  并在Issue Board中搜索 https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
- Please include the following information. Questions lacking details will be closed.
  请按照以下格式描述你的问题，描述不清的问题将会被关闭。
-->

### Shadowsocks version / 影梭版本
4.1.9.2

### Environment (Operating system, .NET Framework, etc) / 使用环境（操作系统，.NET Framework等）
win10 1909 专业版

### Steps you have tried / 操作步骤
1. Shadowsocks 软件上使用 系统代理 - 全局模式
2. 点击 “win 开始“ - 点击 “设置” 按钮 - 点击 “网络和internet” - 点击 “代理” - 在 手动设置代理 标题下输入需要过滤的地址 - 点击 “保存”
![示例图](https://user-images.githubusercontent.com/50958023/72058377-f4ebb900-330a-11ea-86c9-c0c61ccab6a0.png)
3. 切换 Shadowsocks 软件的 系统代理 至 PAC 模式
4. 切换 Shadowsocks 软件的 系统代理 至 全局模式
5. 查看 步骤 2 设置的白名单，发现被重置了
![image](https://user-images.githubusercontent.com/50958023/72058596-5449c900-330b-11ea-9f2c-6a6cb29ed684.png)


### What did you expect to see? / 期望的结果
切换系统代理模式后，白名单设置不会被重置；
或者 Shadowsocks 提供白名单设置功能


### What did you see instead? / 实际结果


### Config and error log in detail (with all sensitive info masked) / 配置文件和日志文件（请隐去敏感信息）

4.1.9:

```
var __PROXY__ = '127.0.0.1:1080'
var proxy = __PROXY__;
```

While the old version is:

```
var proxy = '__PROXY__';
```

This change will cause all of the old pac.txt broken 😕. I personally don't think it's appropriate. At least a **breaking change** notice should be announced.
Prepare for v5, so we can inform user how to migrate to new version at that time.

Possible way to detect breaking change:
- Add &lt;!--__BREAKING_CHANGE__--&gt; in release note
- Add a INSTRUCTION.txt to download

Possible way to inform user:
- Navigate to release page
- Show INSTRUCTION.txt
## Please follow the guide below

- You will be asked some questions, please read them **carefully** and answer honestly
- Put an `x` into all the boxes [ ] relevant to your *pull request* (like that [x])
- Use *Preview* tab to see how your *pull request* will actually look like

- [x] [Searched](https://github.com/shadowsocks/shadowsocks-windows/search?q=is%3Apr&type=Issues) for similar pull requests
- [x] Compiled the code with Visual Studio
- [x] Require translation update
- [ ] Require document update (readme.md, wikipage, etc)

### What is the purpose of your *pull request*?
- [ ] Bug fix
- [x] Improvement
- [ ] New feature

---

### Description of your *pull request* and other information

Close #2715, some heavy modify in ConfigForm.cs in order to show deprecated warning in EncryptionSelect
### Simple split structure:

  - **Stdlib**
    - shadowsocks-csharp-dotnet-core-lib-win ( Used to implement windows related API / Based on .NET Core 3.1)
    - shadowsocks-csharp-dotnet-core-stdlib (Based on.net Standard 2.1)
  - **Test**
    - Test related

### Publish runtime:
  - win-x64
  - win-x86
  - win-arm
  - ~~To be determined~~
    - ~~linux-x64~~
    - ~~linux-arm~~

### To be determined
  - **GUI**
    - Xamarin
    - Electron
    - .NET Core
      - shadowsocks-csharp-dotnet-core-wf (Will now move WinForms content here / Based on .NET Core 3.1)
      - shadowsocks-csharp-dotnet-core-wpf (New WPF implementation / Based on .NET Core 3.1)
-----

### In progress

[Branch: next-net](https://github.com/shadowsocks/shadowsocks-windows/tree/next-net)

Multi-end development, branches will be covered repeatedly, don't fork on this branch at present