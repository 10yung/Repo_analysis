## Please follow the guide below

- You will be asked some questions, please read them **carefully** and answer honestly
- Put an `x` into all the boxes [ ] relevant to your *pull request* (like that [x])
- Use *Preview* tab to see how your *pull request* will actually look like

- [x] [Searched](https://github.com/shadowsocks/shadowsocks-windows/search?q=is%3Apr&type=Issues) for similar pull requests
- [x] Compiled the code with Visual Studio
- [x] Require translation update
- [ ] Require document update (readme.md, wikipage, etc)

### What is the purpose of your *pull request*?
- [ ] Bug fix
- [ ] Improvement
- [x] New feature

---

### Description of your *pull request* and other information

Part of #2758, we can detect we're updated now.

![å›¾ç‰‡](https://user-images.githubusercontent.com/17123090/72667024-74664000-3a0f-11ea-8149-4e06d28cf7e9.png)

https://weblate.org/

sample (switchyomega):
https://hosted.weblate.org/engage/switchyomega/
<!--
- Shadowsocks is a non-profit open source project. If you bought the service from a provider, please contact them.
  å½±æ¢­ï¼ˆShadowsocksï¼‰æ˜¯ä¸€ä¸ªå¼€æºéç›ˆåˆ©é¡¹ç›®ï¼Œä¸æä¾›ä»»ä½•æ‰˜ç®¡æœåŠ¡ã€‚å¦‚æœä½ æ˜¯ä»æœåŠ¡æä¾›å•†è´­ä¹°çš„æœåŠ¡ï¼Œè¯·è”ç³»ä»–ä»¬ã€‚
- If you have questions rather than Shadowsocks Windows client, please go to https://github.com/shadowsocks
  å¦‚æœä½ æœ‰éå½±æ¢­Windowså®¢æˆ·ç«¯ç›¸å…³çš„é—®é¢˜ï¼Œè¯·å» https://github.com/shadowsocks
- Please read Wiki carefully, especially https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting
  æé—®å‰è¯·å…ˆé˜…è¯»wiki https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting.
- And search from Issue Board https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
  å¹¶åœ¨Issue Boardä¸­æœç´¢ https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
- Please include the following information. Questions lacking details will be closed.
  è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼æè¿°ä½ çš„é—®é¢˜ï¼Œæè¿°ä¸æ¸…çš„é—®é¢˜å°†ä¼šè¢«å…³é—­ã€‚
-->

### Shadowsocks version / å½±æ¢­ç‰ˆæœ¬
v4.1.9.2

### Environment (Operating system, .NET Framework, etc) / ä½¿ç”¨ç¯å¢ƒï¼ˆæ“ä½œç³»ç»Ÿï¼Œ.NET Frameworkç­‰ï¼‰
N/A

### Steps you have tried / æ“ä½œæ­¥éª¤

1. Create server with following config:
```json
{
      "server": "127.0.0.1",
      "server_port": 8388,
      "password": "123456",
      "method": "chacha20-ietf-poly1305",
      "plugin": "",
      "plugin_opts": "",
      "plugin_args": "",
      "remarks": "",
      "timeout": 5
}
```
2. Share server link


### What did you expect to see? / æœŸæœ›çš„ç»“æœ
`ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNToxMjM0NTY@127.0.0.1:8388` (generated by ss-android)

### What did you see instead? / å®é™…ç»“æœ
`ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNToxMjM0NTZAMTI3LjAuMC4xOjgzODg=`

### Config and error log in detail (with all sensitive info masked) / é…ç½®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ï¼ˆè¯·éšå»æ•æ„Ÿä¿¡æ¯ï¼‰
N/A
# Shadowsocks version / å½±æ¢­ç‰ˆæœ¬
4.1.8.0

### Environment (Operating system, .NET Framework, etc) / ä½¿ç”¨ç¯å¢ƒï¼ˆæ“ä½œç³»ç»Ÿï¼Œ.NET Frameworkç­‰ï¼‰
Windows Server 2016 Standard

### Steps you have tried / æ“ä½œæ­¥éª¤
æœåŠ¡å™¨åœ°å€å¡«å†™ipv6åœ°å€ï¼Œå¦‚ï¼š2001:19f0:6001:3606:5400:02ff:fe3d:ed2aï¼Œå…¶ä»–é…ç½®é¡¹è·Ÿipv4ä¸€è‡´ã€‚

### What did you expect to see? / æœŸæœ›çš„ç»“æœ
è®¿é—®ipv6ä¸Šçš„ShadowsocksæœåŠ¡

### What did you see instead? / å®é™…ç»“æœ
è¿æ¥è¶…æ—¶ï¼ˆtime outï¼‰

### Config and error log in detail (with all sensitive info masked) / é…ç½®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ï¼ˆè¯·éšå»æ•æ„Ÿä¿¡æ¯ï¼‰

è¯·é—®å¦‚æœè¦ä½¿ç”¨ipv6æä¾›çš„ShadowsocksæœåŠ¡ï¼Œæœ¬åœ°æœåŠ¡å™¨æ˜¯å¦éœ€è¦æ”¯æŒipv6å‘¢ï¼Ÿ
### Shadowsocks version / å½±æ¢­ç‰ˆæœ¬
4.1.9.2

### Environment (Operating system, .NET Framework, etc) / ä½¿ç”¨ç¯å¢ƒï¼ˆæ“ä½œç³»ç»Ÿï¼Œ.NET Frameworkç­‰ï¼‰
Win10ï¼Œ.net Framework 4.7.2

### Steps you have tried / æ“ä½œæ­¥éª¤
æ›´æ–°åˆ°4.1.9.2åï¼Œä½¿ç”¨google cloud platformæ­å»ºçš„æœåŠ¡

### What did you expect to see? / æœŸæœ›çš„ç»“æœ
å¯ä»¥æ­£å¸¸ä½¿ç”¨

### What did you see instead? / å®é™…ç»“æœ
æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œåˆ‡æ¢å›4.1.8.0åï¼Œé…ç½®å®Œå…¨ä¸€æ ·çš„æƒ…å†µä¸‹æ¢å¤æ­£å¸¸ï¼Œå¼€å§‹è¿˜ä»¥ä¸ºæ˜¯IPè¢«banäº†ï¼Œæ¢äº†å‡ ä¸ªä¸€ç›´éƒ½ä¸è¡Œï¼Œæœ€åå‘ç°æ˜¯è¿™ä¸ªçš„é—®é¢˜

### Config and error log in detail (with all sensitive info masked) / é…ç½®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ï¼ˆè¯·éšå»æ•æ„Ÿä¿¡æ¯ï¼‰
æ— 
<!--
- Shadowsocks is a non-profit open source project. If you bought the service from a provider, please contact them.
  å½±æ¢­ï¼ˆShadowsocksï¼‰æ˜¯ä¸€ä¸ªå¼€æºéç›ˆåˆ©é¡¹ç›®ï¼Œä¸æä¾›ä»»ä½•æ‰˜ç®¡æœåŠ¡ã€‚å¦‚æœä½ æ˜¯ä»æœåŠ¡æä¾›å•†è´­ä¹°çš„æœåŠ¡ï¼Œè¯·è”ç³»ä»–ä»¬ã€‚
- If you have questions rather than Shadowsocks Windows client, please go to https://github.com/shadowsocks
  å¦‚æœä½ æœ‰éå½±æ¢­Windowså®¢æˆ·ç«¯ç›¸å…³çš„é—®é¢˜ï¼Œè¯·å» https://github.com/shadowsocks
- Please read Wiki carefully, especially https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting
  æé—®å‰è¯·å…ˆé˜…è¯»wiki https://github.com/shadowsocks/shadowsocks-windows/wiki/Troubleshooting.
- And search from Issue Board https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
  å¹¶åœ¨Issue Boardä¸­æœç´¢ https://github.com/shadowsocks/shadowsocks-windows/issues?utf8=%E2%9C%93&q=is%3Aissue
- Please include the following information. Questions lacking details will be closed.
  è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼æè¿°ä½ çš„é—®é¢˜ï¼Œæè¿°ä¸æ¸…çš„é—®é¢˜å°†ä¼šè¢«å…³é—­ã€‚
-->

### Shadowsocks version / å½±æ¢­ç‰ˆæœ¬
4.1.9.2

### Environment (Operating system, .NET Framework, etc) / ä½¿ç”¨ç¯å¢ƒï¼ˆæ“ä½œç³»ç»Ÿï¼Œ.NET Frameworkç­‰ï¼‰
win10 1909 ä¸“ä¸šç‰ˆ

### Steps you have tried / æ“ä½œæ­¥éª¤
1. Shadowsocks è½¯ä»¶ä¸Šä½¿ç”¨ ç³»ç»Ÿä»£ç† - å…¨å±€æ¨¡å¼
2. ç‚¹å‡» â€œwin å¼€å§‹â€œ - ç‚¹å‡» â€œè®¾ç½®â€ æŒ‰é’® - ç‚¹å‡» â€œç½‘ç»œå’Œinternetâ€ - ç‚¹å‡» â€œä»£ç†â€ - åœ¨ æ‰‹åŠ¨è®¾ç½®ä»£ç† æ ‡é¢˜ä¸‹è¾“å…¥éœ€è¦è¿‡æ»¤çš„åœ°å€ - ç‚¹å‡» â€œä¿å­˜â€
![ç¤ºä¾‹å›¾](https://user-images.githubusercontent.com/50958023/72058377-f4ebb900-330a-11ea-86c9-c0c61ccab6a0.png)
3. åˆ‡æ¢ Shadowsocks è½¯ä»¶çš„ ç³»ç»Ÿä»£ç† è‡³ PAC æ¨¡å¼
4. åˆ‡æ¢ Shadowsocks è½¯ä»¶çš„ ç³»ç»Ÿä»£ç† è‡³ å…¨å±€æ¨¡å¼
5. æŸ¥çœ‹ æ­¥éª¤ 2 è®¾ç½®çš„ç™½åå•ï¼Œå‘ç°è¢«é‡ç½®äº†
![image](https://user-images.githubusercontent.com/50958023/72058596-5449c900-330b-11ea-9f2c-6a6cb29ed684.png)


### What did you expect to see? / æœŸæœ›çš„ç»“æœ
åˆ‡æ¢ç³»ç»Ÿä»£ç†æ¨¡å¼åï¼Œç™½åå•è®¾ç½®ä¸ä¼šè¢«é‡ç½®ï¼›
æˆ–è€… Shadowsocks æä¾›ç™½åå•è®¾ç½®åŠŸèƒ½


### What did you see instead? / å®é™…ç»“æœ


### Config and error log in detail (with all sensitive info masked) / é…ç½®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ï¼ˆè¯·éšå»æ•æ„Ÿä¿¡æ¯ï¼‰

4.1.9:

```
var __PROXY__ = '127.0.0.1:1080'
var proxy = __PROXY__;
```

While the old version is:

```
var proxy = '__PROXY__';
```

This change will cause all of the old pac.txt broken ğŸ˜•. I personally don't think it's appropriate. At least a **breaking change** notice should be announced.
Prepare for v5, so we can inform user how to migrate to new version at that time.

Possible way to detect breaking change:
- Add &lt;!--__BREAKING_CHANGE__--&gt; in release note
- Add a INSTRUCTION.txt to download

Possible way to inform user:
- Navigate to release page
- Show INSTRUCTION.txt
## Please follow the guide below

- You will be asked some questions, please read them **carefully** and answer honestly
- Put an `x` into all the boxes [ ] relevant to your *pull request* (like that [x])
- Use *Preview* tab to see how your *pull request* will actually look like

- [x] [Searched](https://github.com/shadowsocks/shadowsocks-windows/search?q=is%3Apr&type=Issues) for similar pull requests
- [x] Compiled the code with Visual Studio
- [x] Require translation update
- [ ] Require document update (readme.md, wikipage, etc)

### What is the purpose of your *pull request*?
- [ ] Bug fix
- [x] Improvement
- [ ] New feature

---

### Description of your *pull request* and other information

Close #2715, some heavy modify in ConfigForm.cs in order to show deprecated warning in EncryptionSelect
### Simple split structure:

  - **Stdlib**
    - shadowsocks-csharp-dotnet-core-lib-win ( Used to implement windows related API / Based on .NET Core 3.1)
    - shadowsocks-csharp-dotnet-core-stdlib (Based on.net Standard 2.1)
  - **Test**
    - Test related

### Publish runtime:
  - win-x64
  - win-x86
  - win-arm
  - ~~To be determined~~
    - ~~linux-x64~~
    - ~~linux-arm~~

### To be determined
  - **GUI**
    - Xamarin
    - Electron
    - .NET Core
      - shadowsocks-csharp-dotnet-core-wf (Will now move WinForms content here / Based on .NET Core 3.1)
      - shadowsocks-csharp-dotnet-core-wpf (New WPF implementation / Based on .NET Core 3.1)
-----

### In progress

[Branch: next-net](https://github.com/shadowsocks/shadowsocks-windows/tree/next-net)

Multi-end development, branches will be covered repeatedly, don't fork on this branch at present