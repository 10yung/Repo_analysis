```
alterphp/easyadmin-extension-bundle v2.1.7     This bundle provides some extensions to javiereguiluz/easyadmin-bundle
behat/transliterator                v1.2.0     String transliterator
doctrine/annotations                v1.8.0     Docblock Annotations Parser
doctrine/cache                      1.10.0     PHP Doctrine Cache library is a popular cache implementation that supports many different drivers such as redis, memcache, apc, mongodb and others.
doctrine/collections                1.6.4      PHP Doctrine Collections library that adds additional functionality on top of PHP arrays.
doctrine/common                     v2.11.0    PHP Doctrine Common project is a library that provides additional functionality that other Doctrine projects depend on such as better reflection support, persistence interfaces, proxies, event system and much more.
doctrine/data-fixtures              1.4.0      Data Fixtures for all Doctrine Object Managers
doctrine/dbal                       v2.10.0    Powerful PHP database abstraction layer (DBAL) with many features for database schema introspection and management.
doctrine/doctrine-bundle            1.12.2     Symfony DoctrineBundle
doctrine/doctrine-cache-bundle      1.4.0      Symfony Bundle for Doctrine Cache
doctrine/doctrine-fixtures-bundle   3.3.0      Symfony DoctrineFixturesBundle
doctrine/doctrine-migrations-bundle 2.1.2      Symfony DoctrineMigrationsBundle
doctrine/event-manager              1.1.0      The Doctrine Event Manager is a simple PHP event system that was built to be used with the various Doctrine projects.
doctrine/inflector                  1.3.1      Common String Manipulations with regard to casing and singular/plural rules.
doctrine/instantiator               1.3.0      A small, lightweight utility to instantiate objects in PHP without invoking their constructors
doctrine/lexer                      1.2.0      PHP Doctrine Lexer parser library that can be used in Top-Down, Recursive Descent Parsers.
doctrine/migrations                 2.2.0      PHP Doctrine Migrations project offer additional functionality on top of the database abstraction layer (DBAL) for versioning your database schema and easily deploying changes to it. It is a very easy to use and a powerful tool.
doctrine/orm                        v2.7.0     Object-Relational-Mapper for PHP
doctrine/persistence                1.3.3      The Doctrine Persistence project is a set of shared interfaces and functionality that the different Doctrine object mappers share.
doctrine/reflection                 v1.0.0     Doctrine Reflection component
easycorp/easyadmin-bundle           v2.1.4     Admin generator for Symfony applications
easycorp/easy-log-handler           v1.0.9     A handler for Monolog that optimizes log messages to be processed by humans instead of software. Improve your productivity with logs that are easy to understand.
egulias/email-validator             2.1.11     A library for validating emails against several RFCs
friendsofsymfony/user-bundle        v2.1.2     Symfony FOSUserBundle
gedmo/doctrine-extensions           v2.4.38    Doctrine2 behavioral extensions
guzzlehttp/guzzle                   6.5.0      Guzzle is a PHP HTTP client library
guzzlehttp/promises                 v1.3.1     Guzzle promises library
guzzlehttp/psr7                     1.6.1      PSR-7 message implementation that also provides common utility methods
hoa/compiler                        3.17.08.08 The Hoa\Compiler library.
hoa/consistency                     1.17.05.02 The Hoa\Consistency library.
hoa/event                           1.17.01.13 The Hoa\Event library.
hoa/exception                       1.17.01.16 The Hoa\Exception library.
hoa/file                            1.17.07.11 The Hoa\File library.
hoa/iterator                        2.17.01.10 The Hoa\Iterator library.
hoa/math                            1.17.05.16 The Hoa\Math library.
hoa/protocol                        1.17.01.14 The Hoa\Protocol library.
hoa/regex                           1.17.01.13 The Hoa\Regex library.
hoa/stream                          1.17.02.21 The Hoa\Stream library.
hoa/ustring                         4.17.01.16 The Hoa\Ustring library.
hoa/visitor                         2.17.01.16 The Hoa\Visitor library.
hoa/zformat                         1.17.01.10 The Hoa\Zformat library.
jdorn/sql-formatter                 v1.2.17    a PHP SQL highlighting library
jmose/command-scheduler-bundle      v2.1.0     This Symfony bundle will allow you to schedule all your commands just like UNIX crontab
jms/metadata                        2.1.0      Class/method/property metadata management in PHP
jms/serializer                      3.4.0      Library for (de-)serializing data of any complexity; supports XML, JSON, and YAML.
jms/serializer-bundle               3.5.0      Allows you to easily serialize, and deserialize data of any complexity
knplabs/knp-components              v2.3.0     Knplabs component library
knplabs/knp-paginator-bundle        v4.1.1     Paginator bundle for Symfony to automate pagination and simplify sorting and other features
knplabs/knp-snappy-bundle           v1.6.0     Easily create PDF and images in Symfony2 by converting Twig/HTML templates.
knplabs/knp-snappy                  v1.2.0     PHP5 library allowing thumbnail, snapshot or PDF generation from a url or a html page. Wrapper for wkhtmltopdf/wkhtmltoimage.
league/uri-components               1.8.2      URI components manipulation library
league/uri-hostname-parser          1.1.1      ICANN base hostname parsing implemented in PHP.
league/uri-interfaces               1.1.1      Common interface for URI representation
league/uri-manipulations            1.5.0      URI manipulation library
league/uri-parser                   1.4.1      userland URI parser RFC 3986 compliant
league/uri-schemes                  1.2.1      URI manipulation library
monolog/monolog                     1.25.2     Sends your logs to files, sockets, inboxes, databases and various web services
mtdowling/cron-expression           v1.2.1     CRON for PHP: Calculate the next or previous run date and determine if a CRON expression is due
myclabs/deep-copy                   1.9.3      Create deep copies (clones) of your objects
ocramius/package-versions           1.5.1      Composer plugin that provides efficient querying for installed package versions (no runtime IO)
ocramius/proxy-manager              2.2.3      A library providing utilities to generate, instantiate and generally operate with Object Proxies
pagerfanta/pagerfanta               v2.1.3     Pagination for PHP
phar-io/manifest                    1.0.3      Component for reading phar.io manifest information from a PHP Archive (PHAR)
phar-io/version                     2.0.1      Library for handling version information and constraints
phpdocumentor/reflection-common     2.0.0      Common reflection classes used by phpdocumentor to reflect the code structure
phpdocumentor/reflection-docblock   4.3.2      With this component, a library can provide support for annotations via DocBlocks or otherwise retrieve information that is embedded in a DocBlock.
phpdocumentor/type-resolver         1.0.1      A PSR-5 based resolver of Class names, Types and Structural Element Names
php-http/guzzle6-adapter            v2.0.1     Guzzle 6 HTTP Adapter
php-http/httplug                    v2.0.0     HTTPlug, the HTTP client abstraction for PHP
php-http/promise                    v1.0.0     Promise used for asynchronous HTTP requests
phpspec/prophecy                    1.9.0      Highly opinionated mocking framework for PHP 5.3+
phpunit/php-code-coverage           7.0.10     Library that provides collection, processing, and rendering functionality for PHP code coverage information.
phpunit/php-file-iterator           2.0.2      FilterIterator implementation that filters files based on a list of suffixes.
phpunit/php-text-template           1.2.1      Simple template engine.
phpunit/php-timer                   2.1.2      Utility class for timing
phpunit/php-token-stream            3.1.1      Wrapper around PHP's tokenizer extension.
phpunit/phpunit                     8.5.2      The PHP Unit Testing framework.
psr/cache                           1.0.1      Common interface for caching libraries
psr/container                       1.0.0      Common Container Interface (PHP FIG PSR-11)
psr/http-client                     1.0.0      Common interface for HTTP clients
psr/http-message                    1.0.1      Common interface for HTTP messages
psr/log                             1.1.2      Common interface for logging libraries
psr/simple-cache                    1.0.1      Common interfaces for simple caching
ralouphie/getallheaders             3.0.3      A polyfill for getallheaders.
sebastian/code-unit-reverse-lookup  1.0.1      Looks up which function or method a line of code belongs to
sebastian/comparator                3.0.2      Provides the functionality to compare PHP values for equality
sebastian/diff                      3.0.2      Diff implementation
sebastian/environment               4.2.3      Provides functionality to handle HHVM/PHP environments
sebastian/exporter                  3.1.2      Provides the functionality to export PHP variables for visualization
sebastian/global-state              3.0.0      Snapshotting of global state
sebastian/object-enumerator         3.0.3      Traverses array structures and object graphs to enumerate all referenced objects
sebastian/object-reflector          1.1.1      Allows reflection of object attributes, including inherited and non-public ones
sebastian/recursion-context         3.0.0      Provides functionality to recursively process PHP variables
sebastian/resource-operations       2.0.1      Provides a list of PHP built-in functions that operate on resources
sebastian/type                      1.1.3      Collection of value objects that represent the types of the PHP type system
sebastian/version                   2.0.1      Library that helps with managing the version number of Git-hosted PHP projects
sensio/framework-extra-bundle       v5.5.2     This bundle provides a way to configure your controllers with annotations
spatie/calendar-links               1.2.4      Generate add to calendar links for Google, iCal and other calendar systems
squizlabs/php_codesniffer           3.5.3      PHP_CodeSniffer tokenizes PHP, JavaScript and CSS files and detects violations of a defined set of coding standards.
stof/doctrine-extensions-bundle     v1.3.0     Integration of the gedmo/doctrine-extensions with Symfony2
swiftmailer/swiftmailer             v6.2.3     Swiftmailer, free feature-rich PHP mailer
symfony/asset                       v4.4.1     Symfony Asset Component
symfony/browser-kit                 v4.4.1     Symfony BrowserKit Component
symfony/cache-contracts             v1.1.7     Generic abstractions related to caching
symfony/cache                       v4.4.1     Symfony Cache component with PSR-6, PSR-16, and tags
symfony/config                      v4.4.1     Symfony Config Component
symfony/console                     v4.4.1     Symfony Console Component
symfony/debug-bundle                v4.4.1     Symfony DebugBundle
symfony/debug-pack                  v1.0.7     A debug pack for Symfony projects
symfony/debug                       v4.4.1     Symfony Debug Component
symfony/dependency-injection        v4.4.1     Symfony DependencyInjection Component
symfony/doctrine-bridge             v4.4.1     Symfony Doctrine Bridge
symfony/dom-crawler                 v4.4.1     Symfony DomCrawler Component
symfony/dotenv                      v4.4.1     Registers environment variables from a .env file
symfony/error-handler               v4.4.1     Symfony ErrorHandler Component
symfony/event-dispatcher-contracts  v1.1.7     Generic abstractions related to dispatching event
symfony/event-dispatcher            v4.4.1     Symfony EventDispatcher Component
symfony/expression-language         v4.4.1     Symfony ExpressionLanguage Component
symfony/filesystem                  v4.4.1     Symfony Filesystem Component
symfony/finder                      v4.4.1     Symfony Finder Component
symfony/flex                        v1.6.0     Composer plugin for Symfony
symfony/form                        v4.4.1     Symfony Form Component
symfony/framework-bundle            v4.4.1     Symfony FrameworkBundle
symfony/http-foundation             v4.4.1     Symfony HttpFoundation Component
symfony/http-kernel                 v4.4.1     Symfony HttpKernel Component
symfony/inflector                   v4.4.1     Symfony Inflector Component
symfony/intl                        v4.4.1     A PHP replacement layer for the C intl extension that includes additional data from the ICU library.
symfony/mime                        v4.4.1     A library to manipulate MIME messages
symfony/monolog-bridge              v4.4.1     Symfony Monolog Bridge
symfony/monolog-bundle              v3.5.0     Symfony MonologBundle
symfony/options-resolver            v4.4.1     Symfony OptionsResolver Component
symfony/orm-pack                    v1.0.7     A pack for the Doctrine ORM
symfony/polyfill-intl-icu           v1.13.1    Symfony polyfill for intl's ICU-related data and classes
symfony/polyfill-intl-idn           v1.13.1    Symfony polyfill for intl's idn_to_ascii and idn_to_utf8 functions
symfony/polyfill-mbstring           v1.13.1    Symfony polyfill for the Mbstring extension
symfony/polyfill-php72              v1.13.1    Symfony polyfill backporting some PHP 7.2+ features to lower PHP versions
symfony/polyfill-php73              v1.13.1    Symfony polyfill backporting some PHP 7.3+ features to lower PHP versions
symfony/process                     v4.4.1     Symfony Process Component
symfony/profiler-pack               v1.0.4     A pack for the Symfony web profiler
symfony/property-access             v4.4.1     Symfony PropertyAccess Component
symfony/property-info               v4.4.1     Symfony Property Info Component
symfony/routing                     v4.4.1     Symfony Routing Component
symfony/security-bundle             v4.4.1     Symfony SecurityBundle
symfony/security-core               v4.4.1     Symfony Security Component - Core Library
symfony/security-csrf               v4.4.1     Symfony Security Component - CSRF Library
symfony/security-guard              v4.4.1     Symfony Security Component - Guard
symfony/security-http               v4.4.1     Symfony Security Component - HTTP Integration
symfony/service-contracts           v2.0.1     Generic abstractions related to writing services
symfony/stopwatch                   v4.4.1     Symfony Stopwatch Component
symfony/swiftmailer-bundle          v3.4.0     Symfony SwiftmailerBundle
symfony/templating                  v4.4.1     Symfony Templating Component
symfony/translation-contracts       v2.0.1     Generic abstractions related to translation
symfony/translation                 v4.4.1     Symfony Translation Component
symfony/twig-bridge                 v4.4.1     Symfony Twig Bridge
symfony/twig-bundle                 v4.4.1     Symfony TwigBundle
symfony/validator                   v4.4.1     Symfony Validator Component
symfony/var-dumper                  v4.4.1     Symfony mechanism for exploring and dumping PHP variables
symfony/var-exporter                v4.4.1     A blend of var_export() + serialize() to turn any serializable data structure to plain PHP code
symfony/web-profiler-bundle         v4.4.1     Symfony WebProfilerBundle
symfony/yaml                        v4.4.1     Symfony Yaml Component
theseer/tokenizer                   1.1.3      A small library for converting tokenized PHP source code into XML and potentially other formats
twig/extensions                     v1.5.4     Common additional features for Twig that do not directly belong in core
twig/twig                           v2.12.2    Twig, the flexible, fast, and secure template language for PHP
twilio/sdk                          5.41.0     A PHP wrapper for Twilio's API
webmozart/assert                    1.6.0      Assertions to validate method input/output with nice error messages.
zendframework/zend-code             3.4.1      Extensions to the PHP Reflection API, static code scanning, and code generation
zendframework/zend-eventmanager     3.2.1      Trigger and listen to events within a PHP application
```

| Q                   | A
| --------------------| ---------------
| PHPUnit version     | 8.5.2
| PHP version         | 7.2
| Installation Method | Composer

#### Summary

When make on mock objects (this is working example):
```php
        $this->customerRepository
            ->expects($this->at(1))
            ->method('save')
            ->with($newTemporaryCustomerFirst)
        ;

        $this->customerRepository
            ->expects($this->at(3))
            ->method('save')
            ->with($newTemporaryCustomerSecond)
        ;
```
This is error exaple:
```php
        $this->customerRepository
            ->expects($this->at(0))
            ->method('save')
            ->with($newTemporaryCustomerFirst)
        ;
        $this->customerRepository
            ->expects($this->at(1))
            ->method('save')
            ->with($newTemporaryCustomerSecond)
        ;
```
In this case he expects ```$newTemporaryCustomerSecond``` on index *0*

Debuger is showing we iterate on object1, object2 (and make save's), but phpunit mock object is counting save method on 1 & 3, not 0 & 1.

In other case i must start counting from 0, and next use at 2, at 4 etc.

#### Current behavior

Counting index on mock object.

#### How to reproduce

I think its problem when you got mocked object what iniject other services, and other services made save (he shouldn't count other methods inside iniject services).

#### Expected behavior

Fix index on mock objects.

This can happen when referring to an integer class constant,
e.g. `@expectedExceptionCode SomeClass::INTEGER_CONSTANT`
(this file has strict_types=1)

- constant() will return a class constant, which can be of type null/bool/int/float/string/array/resource

The type hint was added in c55e6f781c . PHPUnit 7 wasn't affected.

I didn't see any tests for DocBlock or `@expectedExceptionCode` to base new tests off of.
- EDIT: tests/end-to-end seems to be the most appropriate
This pull request removes the class name as CLI option as stated in #4012 
Hello there,

with #3859 we deprecated calling PHPUnit with a class name. This deprecation was released with PHPUnit `v8.5` and we can remove calling with a class name in the upcoming PHPUnit `v9`.

This Issue is about removing calling PHPUnit with a class name.
I will create a pull request in the next few days.

/Flo
| Q                   | A
| --------------------| ---------------
| PHPUnit version     | 7.5.20
| PHP version         | 7.3.11
| Installation Method | Composer

#### Summary

I am trying to run Functional Test from Drupal 8 using PHPStorm, but can't get the HTML files output to work. It seems to be related to the `--teamcity` option that PHPStorm always adds when running the tests from the IDE. When using the IDE the `--printer` option can be added to the test runner options, but it will appear before the `--teamcity` option.
After trying to run the tests from the CLI I have found that it might be related to the order in which the `--teamcity` and the `--printer` option appear when trying to run the tests.

I thought that the order in which the options appear shouldn't matter, but my testing suggests that it does.

#### Current behavior

No HTML is created when `--teamcity` appears before `--printer`

#### How to reproduce

1. Run a functional test that should generate HTML output from the CLI specifying the `--printer` option before `--teamcity` option. The test runs, but no HTML should be created.

In my specific case I used the following command (direct copy from PHPStorm):
`php /var/www/vendor/phpunit/phpunit/phpunit --verbose --debug --configuration /var/www/web/modules/custom/<module name>/phpunit.xml /var/www/web/modules/custom/<module name> --printer "\Drupal\Tests\Listeners\HtmlOutputPrinter" --teamcity --cache-result-file=/var/www/web/modules/custom/<module name>/.phpunit.result.cache`

2. Run a functional test that should generate HTML output from the CLI specifying the `--printer` option after `--teamcity` option. The test runs and HTML should be created.

In my specific case I used the following command (just moved the printer option to the end):
`php /var/www/vendor/phpunit/phpunit/phpunit --verbose --debug --configuration /var/www/web/modules/custom/<module name>/phpunit.xml /var/www/web/modules/custom/<module name> --teamcity --cache-result-file=/var/www/web/modules/custom/<module name>/.phpunit.result.cache --printer "\Drupal\Tests\Listeners\HtmlOutputPrinter"`

#### Expected behavior

HTML output  should be created irrespective in which order the options are specified.

#### Composer info output

alchemy/zippy                         0.4.9               Zippy, the archive manager companion
asm89/stack-cors                      1.3.0               Cross-origin resource sharing library and stack middleware
behat/mink-browserkit-driver          1.3.3               Symfony2 BrowserKit driver for Mink framework
behat/mink-goutte-driver              v1.2.1              Goutte driver for Mink framework
behat/mink                            v1.7.1              Browser controller/emulator abstraction for PHP
ckeditor/fakeobjects                  4.7.2              
ckeditor/image                        4.7.2              
ckeditor/link                         4.6.2              
codemirror/codemirror                 5.27.4             
commerceguys/addressing               v1.0.6              Addressing library powered by CLDR and Google's address data.
commerceguys/intl                     v1.0.5              Internationalization library powered by CLDR data.
composer/installers                   v1.7.0              A multi-framework Composer library installer
composer/semver                       1.5.0               Semver library that offers utilities, version constraint parsing and validation.
cweagans/composer-patches             1.6.7               Provides a way to patch Composer packages.
dflydev/dot-access-configuration      v1.0.3              Given a deep data structure representing a configuration, access configuration by dot notation.
dflydev/dot-access-data               v1.1.0              Given a deep data structure, access data by dot notation.
dflydev/placeholder-resolver          v1.0.2              Given a data source representing key => value pairs, resolve placeholders like ${foo.bar} to the value associated with the 'foo.bar' key in the data source.
dnoegel/php-xdg-base-dir              v0.1.1              implementation of xdg base directory specification for php
doctrine/annotations                  v1.8.0              Docblock Annotations Parser
doctrine/cache                        1.10.0              PHP Doctrine Cache library is a popular cache implementation that supports many different drivers such as redis, memcache, apc, mongodb and others.
doctrine/collections                  1.6.4               PHP Doctrine Collections library that adds additional functionality on top of PHP arrays.
doctrine/common                       2.12.0              PHP Doctrine Common project is a library that provides additional functionality that other Doctrine projects depend on such as better reflection support, persiste...
doctrine/event-manager                1.1.0               The Doctrine Event Manager is a simple PHP event system that was built to be used with the various Doctrine projects.
doctrine/inflector                    1.3.1               Common String Manipulations with regard to casing and singular/plural rules.
doctrine/instantiator                 1.3.0               A small, lightweight utility to instantiate objects in PHP without invoking their constructors
doctrine/lexer                        1.2.0               PHP Doctrine Lexer parser library that can be used in Top-Down, Recursive Descent Parsers.
doctrine/persistence                  1.3.4               The Doctrine Persistence project is a set of shared interfaces and functionality that the different Doctrine object mappers share.
doctrine/reflection                   v1.1.0              The Doctrine Reflection project is a simple library used by the various Doctrine projects which adds some additional functionality on top of the reflection functi...
drupal/address                        1.7.0               Provides functionality for storing, validating and displaying international postal addresses.
drupal/adminimal_admin_toolbar        1.10.0              Adminimal styling brought to admin toolbar.
drupal/adminimal_theme                1.5.0               Drupal administration theme with modern minimalist design.
drupal/admin_toolbar                  2.0.0               Provides a drop-down menu interface to the core Drupal Toolbar.
drupal/adsense                        1.1.0               Displays Google AdSense ads on your site to earn revenue.
drupal/advancedqueue                  1.0.0-beta3         Provides a better Queue API.
drupal/back_to_top                    1.0.0               Back To Top adds a button that hovers in the bottom of your screen and allow users to smoothly scroll up the page using jQuery.
drupal/backup_migrate                 4.1.0               Backup and Migrate Drupal Module
drupal/blazy                          1.0.0-rc5           Provides basic bLazy integration for lazy loading and multi-serving images.
drupal/bootstrap                      3.21.0              Built to use Bootstrap, a sleek, intuitive, and powerful front-end framework for faster and easier web development.
drupal/bootstrap_layouts              5.x-dev 0db7dad     This module is going to generate layouts with Bootstrap grid system.
drupal/captcha                        1.0.0-beta4         The CAPTCHA module provides this feature to virtually any user facing web form on a Drupal site.
drupal/ckeditor_bootstrap_buttons     1.2.0               Extension to the Drupal 8 CKEditor module.
drupal/colorbox                       1.4.0               A light-weight, customizable lightbox plugin for jQuery.
drupal/colorbutton                    1.1.0               Adds the Color Button plugin to CKEditor.
drupal/commerce                       2.16.0              Drupal Commerce is a flexible eCommerce solution.
drupal/commerce_cart                  2.16.0              Implements the shopping cart system and add to cart features.
drupal/commerce_cart_api              1.4.0               Provides a RESTful interface to interact with carts in Drupal Commerce via a lightweight public API.
drupal/commerce_cart_flyout           1.7.0               WIP
drupal/commerce_checkout              2.16.0              Provides configurable checkout flows.
drupalcommerce/commerce_base          dev-8.x-1.x 16a7fde Commerce 2.x installation profile
drupal/commerce_license               2.0.0-alpha18       License entities and product behavior
drupal/commerce_number_pattern        2.16.0              Provides configurable patterns for generating sequential numbers.
drupal/commerce_order                 2.16.0              Defines the Order entity and associated features.
drupal/commerce_payment               2.16.0              Provides payment functionality.
drupal/commerce_paypal                1.0.0-beta6         Provides Commerce integration for PayPal.
drupal/commerce_price                 2.16.0              Defines the Currency entity.
drupal/commerce_product               2.16.0              Defines the Product entity and associated features.
drupal/commerce_recurring             1.x-dev 9cb1d23     Provides recurring billing for Drupal Commerce.
drupal/commerce_shipping              2.0.0-beta7         Provides shipping functionality for Commerce.
drupal/commerce_store                 2.16.0              Defines the Store entity and associated features.
drupal-composer/drupal-scaffold       2.6.1               Composer Plugin for updating the Drupal scaffold files when using drupal/core
drupal/config_devel                   1.4.0               Helps developers work with configuration.
drupal/console                        1.9.4               The Drupal CLI. A tool to generate boilerplate code, interact with and debug Drupal.
drupal/console-core                   1.9.4               Drupal Console Core
drupal/console-en                     1.9.4               Drupal Console English Language
drupal/console-extend-plugin          0.9.3               Drupal Console Extend Plugin
drupal/contact_block                  1.4.0               Provides blocks for Contact form module.
drupal/core                           8.8.1               Drupal is an open source content management platform powering millions of websites and applications.
drupal/ctools                         3.2.0               Provides a number of utility and helper APIs for Drupal developers and site builders.
drupal/entity                         1.0.0-rc3           Provides expanded entity APIs, which will be moved to Drupal core one day.
drupal/entity_legal                   2.x-dev b517060     Create versionable, trackable legal forms for site users.
drupal/entity_reference_revisions     1.7.0               Adds a Entity Reference field type with revision support.
drupal/extlink                        1.1.0               Modify behavior and appearance of external links.
drupal/facets                         1.4.0               The Facet module allows site builders to easily create and manage faceted search interfaces.
drupal/field_group                    3.0.0-rc2           Provides the field_group module.
drupal/geolocation                    3.x-dev e99f48e     Provides a simple geolocation Drupal field type to store and display location data (lat, lng).
drupal/imce                           1.7.0               Provides a file manager supporting personal folders.
drupal/inline_entity_form             1.0.0-rc2           Provides a widget for inline management (creation, modification, removal) of referenced entities.
drupal/interval                       1.4.0               Provides a field and widget to allow entry of a date/time interval.
drupal/mailsystem                     4.2.0               Mail System
drupal/page_manager                   4.0.0-beta4         Provides a way to place blocks on a custom page.
drupal/panelbutton                    1.2.0               Adds the Panel Button plugin to CKEditor. This plugin is a utility plugin that is required by certain user-facing CKEditor plugins.
drupal/panels                         4.4.0               Core Panels display functions; provides no external UI, at least one other Panels module should be enabled.
drupal/pathauto                       1.6.0               Provides a mechanism for modules to automatically generate aliases for the content they manage.
drupal/physical                       1.0.0               Physical supplies such fields as physical weight and dimensions.
drupal/profile                        1.0.0               Provides configurable user profiles.
drupal/recaptcha                      2.4.0               Protect your website from spam and abuse while letting real people pass through with ease.
drupal/recurring_period               1.0.0-alpha5        Provides a configurable plugin for defining recurring time periods.
drupal/registration_types             1.x-dev 1b76e0b     Customizable registration types
drupal/search_api                     1.15.0              Provides a generic framework for modules offering search capabilities.
drupal/simplenews                     1.x-dev 3ca318b     Send newsletters to subscribed email addresses. For uninstall go to Configuration > Web services > Simplenews > Settings and hit "Prepare uninstall".
drupal/slick                          1.2.0               Slick carousel, the last carousel you'll ever need.
drupal/slick_views                    1.0.0               Provides Slick carousel integration with Views.
drupal/state_machine                  1.0.0-rc1           Provides code-driven workflow functionality.
drupal/swiftmailer                    1.0.0-beta2         Swiftmailer
drupal/token                          1.6.0               Provides a user interface for the Token API, some missing core tokens.
drupal/views_accordion                1.3.0               Provides an accordion views display plugin.
drupal/webform                        5.6.0               Enables the creation of webforms and questionnaires.
drupal/webform_views                  5.x-dev 5e94426     Webform integration with views.
easyrdf/easyrdf                       0.9.1               EasyRdf is a PHP library designed to make it easy to consume and produce RDF.
egulias/email-validator               2.1.14              A library for validating emails against several RFCs
fabpot/goutte                         v3.2.3              A simple PHP Web Scraper
firebase/php-jwt                      v5.0.0              A simple library to encode and decode JSON Web Tokens (JWT) in PHP. Should conform to the current spec.
guzzlehttp/guzzle                     6.5.2               Guzzle is a PHP HTTP client library
guzzlehttp/promises                   v1.3.1              Guzzle promises library
guzzlehttp/psr7                       1.6.1               PSR-7 message implementation that also provides common utility methods
html2text/html2text                   4.0.1               Converts HTML to formatted plain text
jakub-onderka/php-console-color       v0.2               
jakub-onderka/php-console-highlighter v0.4                Highlight PHP code in terminal
jcalderonzumba/gastonjs               v1.0.3              PhantomJS API based server for webpage automation
jcalderonzumba/mink-phantomjs-driver  v0.3.3              PhantomJS driver for Mink framework
jquery/geocomplete                    1.7.0              
jquery/icheck                         1.0.2              
jquery/image-picker                   0.3.0              
jquery/inputmask                      3.3.7              
jquery/intl-tel-input                 12.0.0             
jquery/rateit                         1.1.1              
jquery/select2                        4.0.3              
jquery/timepicker                     1.11.11            
jquery/toggles                        4.0.0              
jquery/word-and-character-counter     2.5.1              
masterminds/html5                     2.7.0               An HTML5 parser and serializer.
mikey179/vfsstream                    v1.6.8              Virtual file system to mock the real file system in unit tests.
myclabs/deep-copy                     1.9.4               Create deep copies (clones) of your objects
nikic/php-parser                      v4.3.0              A PHP parser written in PHP
paragonie/random_compat               v9.99.99            PHP 5.x polyfill for random_bytes() and random_int() from PHP 7
pear/archive_tar                      1.4.9               Tar file management class with compression support (gzip, bzip2, lzma2)
pear/console_getopt                   v1.4.3              More info available on: http://pear.php.net/package/Console_Getopt
pear/pear-core-minimal                v1.10.10            Minimal set of PEAR core files to be used as composer dependency
pear/pear_exception                   v1.0.1              The PEAR Exception base class.
phar-io/manifest                      1.0.3               Component for reading phar.io manifest information from a PHP Archive (PHAR)
phar-io/version                       2.0.1               Library for handling version information and constraints
phpdocumentor/reflection-common       2.0.0               Common reflection classes used by phpdocumentor to reflect the code structure
phpdocumentor/reflection-docblock     4.3.4               With this component, a library can provide support for annotations via DocBlocks or otherwise retrieve information that is embedded in a DocBlock.
phpdocumentor/type-resolver           1.0.1               A PSR-5 based resolver of Class names, Types and Structural Element Names
phpspec/prophecy                      1.10.1              Highly opinionated mocking framework for PHP 5.3+
phpunit/php-code-coverage             6.1.4               Library that provides collection, processing, and rendering functionality for PHP code coverage information.
phpunit/php-file-iterator             2.0.2               FilterIterator implementation that filters files based on a list of suffixes.
phpunit/php-text-template             1.2.1               Simple template engine.
phpunit/php-timer                     2.1.2               Utility class for timing
phpunit/php-token-stream              3.1.1               Wrapper around PHP's tokenizer extension.
phpunit/phpunit                       7.5.20              The PHP Unit Testing framework.
progress-tracker/progress-tracker     1.4.0              
psr/container                         1.0.0               Common Container Interface (PHP FIG PSR-11)
psr/http-message                      1.0.1               Common interface for HTTP messages
psr/log                               1.1.2               Common interface for logging libraries
psy/psysh                             v0.9.12             An interactive shell for modern PHP.
ralouphie/getallheaders               3.0.3               A polyfill for getallheaders.
sainsburys/guzzle-oauth2-plugin       v3.0.5              An OAuth2 middleware for Guzzle
sebastian/code-unit-reverse-lookup    1.0.1               Looks up which function or method a line of code belongs to
sebastian/comparator                  3.0.2               Provides the functionality to compare PHP values for equality
sebastian/diff                        3.0.2               Diff implementation
sebastian/environment                 4.2.3               Provides functionality to handle HHVM/PHP environments
sebastian/exporter                    3.1.2               Provides the functionality to export PHP variables for visualization
sebastian/global-state                2.0.0               Snapshotting of global state
sebastian/object-enumerator           3.0.3               Traverses array structures and object graphs to enumerate all referenced objects
sebastian/object-reflector            1.1.1               Allows reflection of object attributes, including inherited and non-public ones
sebastian/recursion-context           3.0.0               Provides functionality to recursively process PHP variables
sebastian/resource-operations         2.0.1               Provides a list of PHP built-in functions that operate on resources
sebastian/version                     2.0.1               Library that helps with managing the version number of Git-hosted PHP projects
signature_pad/signature_pad           2.3.0              
stack/builder                         v1.0.5              Builder for stack middlewares based on HttpKernelInterface.
stecman/symfony-console-completion    0.10.1              Automatic BASH completion for Symfony Console Component based applications.
swiftmailer/swiftmailer               v5.4.12             Swiftmailer, free feature-rich PHP mailer
symfony/browser-kit                   v3.4.36             Symfony BrowserKit Component
symfony/class-loader                  v3.4.36             Symfony ClassLoader Component
symfony-cmf/routing                   1.4.1               Extends the Symfony2 routing component for dynamic routes and chaining several routers
symfony/config                        v3.4.36             Symfony Config Component
symfony/console                       v3.4.36             Symfony Console Component
symfony/css-selector                  v3.4.36             Symfony CssSelector Component
symfony/debug                         v3.4.36             Symfony Debug Component
symfony/dependency-injection          v3.4.36             Symfony DependencyInjection Component
symfony/dom-crawler                   v3.4.36             Symfony DomCrawler Component
symfony/event-dispatcher              v3.4.36             Symfony EventDispatcher Component
symfony/filesystem                    v3.4.36             Symfony Filesystem Component
symfony/finder                        v3.4.36             Symfony Finder Component
symfony/http-foundation               v3.4.36             Symfony HttpFoundation Component
symfony/http-kernel                   v3.4.36             Symfony HttpKernel Component
symfony/phpunit-bridge                v5.0.2              Symfony PHPUnit Bridge
symfony/polyfill-ctype                v1.13.1             Symfony polyfill for ctype functions
symfony/polyfill-iconv                v1.13.1             Symfony polyfill for the Iconv extension
symfony/polyfill-mbstring             v1.13.1             Symfony polyfill for the Mbstring extension
symfony/polyfill-php56                v1.13.1             Symfony polyfill backporting some PHP 5.6+ features to lower PHP versions
symfony/polyfill-php70                v1.13.1             Symfony polyfill backporting some PHP 7.0+ features to lower PHP versions
symfony/polyfill-php72                v1.13.1             Symfony polyfill backporting some PHP 7.2+ features to lower PHP versions
symfony/polyfill-util                 v1.13.1             Symfony utilities for portability of PHP codes
symfony/process                       v3.4.36             Symfony Process Component
symfony/psr-http-message-bridge       v1.2.0              PSR HTTP message bridge
symfony/routing                       v3.4.36             Symfony Routing Component
symfony/serializer                    v3.4.36             Symfony Serializer Component
symfony/translation                   v3.4.36             Symfony Translation Component
symfony/validator                     v3.4.36             Symfony Validator Component
symfony/var-dumper                    v4.4.2              Symfony mechanism for exploring and dumping PHP variables
symfony/yaml                          v3.4.36             Symfony Yaml Component
theseer/tokenizer                     1.1.3               A small library for converting tokenized PHP source code into XML and potentially other formats
twig/twig                             v1.42.4             Twig, the flexible, fast, and secure template language for PHP
typo3/phar-stream-wrapper             v3.1.3              Interceptors for PHP's native phar:// stream handling
webflo/drupal-finder                  1.2.0               Helper class to locate a Drupal installation from a given path.
webmozart/assert                      1.6.0               Assertions to validate method input/output with nice error messages.
webmozart/path-util                   2.3.0               A robust cross-platform utility for normalizing, comparing and modifying file paths.
zendframework/zend-diactoros          1.8.7               PSR HTTP Message implementations
zendframework/zend-escaper            2.6.1               Securely and safely escape HTML, HTML attributes, JavaScript, CSS, and URLs
zendframework/zend-feed               2.12.0              provides functionality for consuming RSS and Atom feeds
zendframework/zend-stdlib             3.2.1               SPL extensions, array utilities, error handlers, and more
<!--
- Please do not report an issue for a version of PHPUnit that is no longer supported. A list of currently supported versions of PHPUnit is available at https://phpunit.de/supported-versions.html.
- Please do not report an issue if you are using a version of PHP that is not supported by the version of PHPUnit you are using. A list that shows which version of PHP is supported by which version of PHPUnit is available at https://phpunit.de/supported-versions.html.
- Please fill in this template according to your issue.
- Please keep the table shown below at the top of your issue.
- Please include the output of "composer info | sort" if you installed PHPUnit using Composer.
- Please post code as text (using proper markup). Do not post screenshots of code.
- Visit https://phpunit.de/support.html if you are looking for support.
- Please remove this comment before submitting your issue.
-->

| Q                   | A
| --------------------| ---------------
| PHPUnit version     | 8.5.1
| PHP version         | 7.3.11
| Installation Method | Composer

#### Summary

Mocking a class method with params by reference generates an inconsistent behaviour of expects constraints. at() and any() behaves differently than exactly() and atLeast().

#### Current behavior

Mocking consecutive calls to a method with arguments by reference and different value have two outcomes depending on the used constraint in the expects method:
Using at() and verifying the expected values using with($this->equalsTo('foo')) or any() and withConsecutive() the test passes. 
But using exactly() or atLeast() and verifying the expected values using withConsecutive() the test fails.

#### How to reproduce
Micro project with composer, the test, class to be tested with the iteration calling the mokced class the problematic method.
[bug_testcode.zip](https://github.com/sebastianbergmann/phpunit/files/4034571/bug_testcode.zip)

Commenting the last expects() of the test makes it green.
#### Expected behavior

A consistent behaviour.

| Q                   | A
| --------------------| ---------------
| PHPUnit version     | PHPUnit 8.5.0
| PHP version         | 7.3
| Installation Method | Composer 

#### Summary
This is not related to default null arguments.

I found same issue using it even when method doesn't have defaults null

```
    $dummyAccountID = new ID();
    $dummyClientID = new ID();
    $dummySiteID = new ID();

  $this->expectMultipleGetLegacyIDCalls(6, [
            [$dummyAccountID , 1],
            [$dummyClientID , 2],
            [$dummySiteID , 3],
        ]);

    private function expectMultipleGetLegacyIDCalls($numCalls, $returnValueMap) {
        $this->mock
            ->expects($this->exactly($numCalls))
            ->method('getLegacyID')
            ->will($this->returnValueMap($returnValueMap));
    }

 public function getLegacyID(ID $id){ ... }
```

#### Previous Behavior

On phpuni4 the method "getLegacyID" was returning proper integers from the map instead null 
```
   [$dummyAccountID , 1],
            [$dummyClientID , 2],
            [$dummySiteID , 3],
```
  

#### Current Behavior

On phpuni8 the method "getLegacyID" returns null per dummyAccountID , dummyClientID , dummySiteID  instead the given integers from the map 

#### How to reproduce

Create map from new instance of object and integers to return then pass it to 
``` ->will($this->returnValueMap($returnValueMap));  ``` 

```
  [$dummyAccountID , 1],
            [$dummyClientID , 2],
            [$dummySiteID , 3],
```
Recently, triggering deprecation messages using `@trigger_error('Deprecation message', E_USER_DEPRECATED)` (note the silencing operator) has become a de-facto standard way to deal with deprecations, and it would be nice if PHPUnit had a convenient way to report them. It doesn't happen due to [this](https://github.com/sebastianbergmann/phpunit/blob/05ef7aed05e2ef6866301086e6041c9dc7af197f/src/Util/ErrorHandler.php#L81), which seems to be perfectly reasonable in general (e.g. there's no other good way to make `mkdir` work safely other than calling it with `@`, and PHPUnit definitely shouldn't raise such errors); so I propose to add a configuration option that makes error handler handle an error of `E_USER_*` type regardless of `error_reporting` (i.e. without respect to whether silencing has been used or not).

Symfony implemented this in their phpunit-bridge: they [gather deprecations](https://github.com/symfony/phpunit-bridge/blob/master/Legacy/SymfonyTestsListenerTrait.php#L303), then run matching against an expectation; however, it's not a symfony-specific thing: Doctrine [does it](https://github.com/doctrine/orm/blob/2.8.x/lib/Doctrine/ORM/Mapping/UnderscoreNamingStrategy.php#L64), too, and I think it makes sense to add possibility for PHPUnit to be more strict towards such deprecations (and user defined errors in general). Also, the Symfony bridge itself is a controversial thing that I'd personally avoid while it's possible.

I volunteer to work on it if such addition is welcome. @sebastianbergmann , what do you think? My original plan was to introduce a new configuration option, `unsilenceUserDefinedErrors`, and make `E_USER_*` fall below [this check](https://github.com/sebastianbergmann/phpunit/blob/05ef7aed05e2ef6866301086e6041c9dc7af197f/src/Util/ErrorHandler.php#L81) as long as the option is set to `true` while letting it be `false` by default.
Hello

Running PHPUnit 8.5.1. and Symfony 4.4. i got deprecation warning on running php unit tests.

Other deprecation notices (1)
1x: The "PHPUnit\DeepCopy\TypeFilter\Spl\SplDoublyLinkedListFilter" class is considered final. It may change without further notice as of its next major version. You should not extend it from "PHPUnit\DeepCopy\TypeFilter\Spl\SplDoublyLinkedList".

Should i ignore that?
If i ignore this warning my pipeline fails on unittest stage

Any help would be appreciate
One thing that ReturnValueMap lacked was flexibility regarding the
arguments the method was invoked with. It works only with exact match As
a side effect, if you have floats as arguments, it may fail. As a
solution, support has been added for Framework/Constraint objects.

https://github.com/sebastianbergmann/phpunit/issues/3999