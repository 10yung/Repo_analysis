On Debian 9 (stretch), with Ruby 2.3.3p222 and curb 0.9.10, we get the following segfault, coming from: https://github.com/taf2/curb/blob/93d83de2c93d87f86ca2c6c57d0d897dd5a7ad77/lib/curl/easy.rb#L69

This seems related to https://github.com/taf2/curb/issues/342 which was supposedly fixed by https://github.com/taf2/curb/commit/01b715a59fbd4914713104dbf04c1aece2bcdf82, but...was it?

```
home/nick/bundle/ruby/2.3.0/gems/curb-0.9.10.skroutz1/lib/curl/easy.rb:69: [BUG] Segmentation fault at 0x00000000000000
uby 2.3.3p222 (2016-11-21) [x86_64-linux-gnu]
- Control frame information -----------------------------------------------
:0063 p:---- s:0421 e:000420 CFUNC  :perform
:0062 p:0050 s:0418 e:000417 METHOD /home/nick/bundle/ruby/2.3.0/gems/curb-0.9.10.skroutz1/lib/curl/easy.rb:69 [FINISH]
:0061 p:---- s:0413 e:000412 CFUNC  :http
:0060 p:0152 s:0409 e:000408 BLOCK  /home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/transport/http/cur [FINISH]
:0059 p:0206 s:0404 e:000403 METHOD /home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/transport/base.rb:
:0058 p:0025 s:0386 E:000bd0 METHOD /home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/transport/http/cur
:0057 p:0046 s:0379 e:000378 METHOD /home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/client.rb:131
:0056 p:0016 s:0372 e:000371 BLOCK  /home/nick/bundle/ruby/2.3.0/gems/newrelic-elasticsearch-0.3.0/lib/newrelic/elasticsearch.rb:34
:0055 p:0068 s:0370 e:000369 METHOD /home/nick/bundle/ruby/2.3.0/gems/newrelic_rpm-6.4.0.356/lib/new_relic/agent/datastores.rb:122
:0054 p:0069 s:0360 E:000d10 METHOD /home/nick/bundle/ruby/2.3.0/gems/newrelic-elasticsearch-0.3.0/lib/newrelic/elasticsearch.rb:33
:0053 p:0199 s:0351 e:000350 METHOD /home/nick/bundle/ruby/2.3.0/gems/elasticsearch-api-5.0.4/lib/elasticsearch/api/actions/index.rb:100
:0052 p:0048 s:0342 e:000341 METHOD /usr/lib/ruby/2.3.0/delegate.rb:83
:0051 p:0023 s:0334 e:000333 METHOD /home/nick/myapp/config/initializers/driver_proxy.rb:6
:0050 p:0126 s:0328 e:000327 METHOD /home/nick/myapp/app/models/profile.rb:93
:0049 p:0392 s:0325 e:000324 METHOD /home/nick/myapp/lib/rack/user_profile.rb:59
:0048 p:0012 s:0315 e:000314 METHOD /home/nick/myapp/lib/rack/x_meta_client_identifier.rb:12
:0047 p:0047 s:0307 e:000306 METHOD /home/nick/myapp/lib/rack/oauth2_token.rb:10
:0046 p:0012 s:0300 e:000299 METHOD /home/nick/myapp/lib/rack/session_cookie_handler.rb:10
:0045 p:0045 s:0292 e:000291 BLOCK  /home/nick/bundle/ruby/2.3.0/gems/suitcase-0.0.5/lib/suitcase/middleware.rb:18
:0044 p:0014 s:0286 e:000285 METHOD /home/nick/bundle/ruby/2.3.0/gems/suitcase-0.0.5/lib/suitcase/agent.rb:61
:0043 p:0018 s:0282 e:000281 METHOD /home/nick/bundle/ruby/2.3.0/gems/suitcase-0.0.5/lib/suitcase/middleware.rb:14
:0042 p:0063 s:0278 e:000277 METHOD /home/nick/myapp/lib/rack/resque.rb:20
:0041 p:0083 s:0274 e:000273 METHOD /home/nick/bundle/ruby/2.3.0/gems/api-versions-1.2.0/lib/api-versions/middleware.rb:22
:0040 p:0012 s:0268 e:000267 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/etag.rb:25
:0039 p:0045 s:0258 e:000257 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38
:0038 p:0012 s:0250 e:000249 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/head.rb:12
:0037 p:0038 s:0243 e:000242 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232
:0036 p:0010 s:0233 e:000232 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226
:0035 p:0030 s:0229 e:000228 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/cookies.rb:613
:0034 p:0014 s:0220 e:000219 BLOCK  /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/callbacks.rb:26
:0033 p:0037 s:0218 e:000217 METHOD /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/callbacks.rb:97
:0032 p:0016 s:0210 e:000209 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/callbacks.rb:24
:0031 p:0024 s:0204 e:000203 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/executor.rb:12
:0030 p:0030 s:0197 e:000196 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/debug_exceptions.rb:59
:0029 p:0030 s:0187 e:000186 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/show_exceptions.rb:31
:0028 p:0051 s:0181 E:001200 METHOD /home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/rack/logger.rb:36
:0027 p:0012 s:0174 e:000173 BLOCK  /home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/rack/logger.rb:24
:0026 p:0007 s:0172 e:000171 BLOCK  /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/tagged_logging.rb:69
:0025 p:0019 s:0170 e:000169 METHOD /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/tagged_logging.rb:26
:0024 p:0016 s:0165 e:000164 METHOD /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/tagged_logging.rb:69
:0023 p:0049 s:0161 e:000160 METHOD /home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/rack/logger.rb:24
:0022 p:0061 s:0156 e:000155 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/remote_ip.rb:79
:0021 p:0025 s:0151 e:000150 METHOD /home/nick/bundle/ruby/2.3.0/gems/request_store-1.4.1/lib/request_store/middleware.rb:19
:0020 p:0047 s:0145 e:000144 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/request_id.rb:25
:0019 p:0105 s:0140 e:000139 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/method_override.rb:22
:0018 p:0026 s:0135 e:000134 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/runtime.rb:22
:0017 p:0039 s:0126 e:000125 METHOD /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/cache/strategy/local_cache_middleware.rb:27
:0016 p:0024 s:0120 e:000119 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/executor.rb:12
:0015 p:0103 s:0113 e:000112 METHOD /home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/static.rb:125
:0014 p:0012 s:0106 e:000105 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111
:0013 p:0159 s:0095 e:000094 METHOD /home/nick/myapp/lib/rack/flamegraph.rb:39
:0012 p:0081 s:0085 e:000084 METHOD /home/nick/bundle/ruby/2.3.0/gems/sentry-raven-2.7.4/lib/raven/integrations/rack.rb:51
:0011 p:0026 s:0078 e:000077 METHOD /home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/engine.rb:522
:0010 p:0156 s:0073 e:000072 BLOCK  /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/urlmap.rb:68 [FINISH]
:0009 p:---- s:0065 e:000064 CFUNC  :each
:0008 p:0123 s:0062 e:000061 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/urlmap.rb:53
:0007 p:0013 s:0052 e:000051 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/builder.rb:153
:0006 p:0061 s:0048 e:000047 METHOD /home/nick/bundle/ruby/2.3.0/gems/capybara-2.18.0/lib/capybara/server.rb:44
:0005 p:0428 s:0043 E:001c50 METHOD /home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/handler/webrick.rb:86
:0004 p:0207 s:0028 e:000027 METHOD /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140
:0003 p:0346 s:0018 e:000017 METHOD /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96
:0002 p:0098 s:0007 e:000006 BLOCK  /usr/lib/ruby/2.3.0/webrick/server.rb:296 [FINISH]
:0001 p:---- s:0002 e:000001 (none) [FINISH]
- Ruby level backtrace information ----------------------------------------
usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'
usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/handler/webrick.rb:86:in `service'
home/nick/bundle/ruby/2.3.0/gems/capybara-2.18.0/lib/capybara/server.rb:44:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/builder.rb:153:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/urlmap.rb:53:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/urlmap.rb:53:in `each'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/urlmap.rb:68:in `block in call'
home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/engine.rb:522:in `call'
home/nick/bundle/ruby/2.3.0/gems/sentry-raven-2.7.4/lib/raven/integrations/rack.rb:51:in `call'
home/nick/myapp/lib/rack/flamegraph.rb:39:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/static.rb:125:in `call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/executor.rb:12:in `call'
home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/request_id.rb:25:in `call'
home/nick/bundle/ruby/2.3.0/gems/request_store-1.4.1/lib/request_store/middleware.rb:19:in `call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/rack/logger.rb:24:in `call'
home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/tagged_logging.rb:69:in `tagged'
home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/tagged_logging.rb:26:in `tagged'
home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/rack/logger.rb:24:in `block in call'
home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/rack/logger.rb:36:in `call_app'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/executor.rb:12:in `call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/callbacks.rb:97:in `run_callbacks'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
home/nick/bundle/ruby/2.3.0/gems/actionpack-5.1.6.2/lib/action_dispatch/middleware/cookies.rb:613:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
home/nick/bundle/ruby/2.3.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
home/nick/bundle/ruby/2.3.0/gems/api-versions-1.2.0/lib/api-versions/middleware.rb:22:in `call'
home/nick/myapp/lib/rack/resque.rb:20:in `call'
home/nick/bundle/ruby/2.3.0/gems/suitcase-0.0.5/lib/suitcase/middleware.rb:14:in `call'
home/nick/bundle/ruby/2.3.0/gems/suitcase-0.0.5/lib/suitcase/agent.rb:61:in `record'
home/nick/bundle/ruby/2.3.0/gems/suitcase-0.0.5/lib/suitcase/middleware.rb:18:in `block in call'
home/nick/myapp/lib/rack/session_cookie_handler.rb:10:in `call'
home/nick/myapp/lib/rack/oauth2_token.rb:10:in `call'
home/nick/myapp/lib/rack/x_meta_client_identifier.rb:12:in `call'
home/nick/myapp/lib/rack/user_profile.rb:59:in `call'
home/nick/myapp/app/models/profile.rb:93:in `save'
home/nick/myapp/config/initializers/driver_proxy.rb:6:in `method_missing'
usr/lib/ruby/2.3.0/delegate.rb:83:in `method_missing'
home/nick/bundle/ruby/2.3.0/gems/elasticsearch-api-5.0.4/lib/elasticsearch/api/actions/index.rb:100:in `index'
home/nick/bundle/ruby/2.3.0/gems/newrelic-elasticsearch-0.3.0/lib/newrelic/elasticsearch.rb:33:in `perform_request_with_new_relic'
home/nick/bundle/ruby/2.3.0/gems/newrelic_rpm-6.4.0.356/lib/new_relic/agent/datastores.rb:122:in `wrap'
home/nick/bundle/ruby/2.3.0/gems/newrelic-elasticsearch-0.3.0/lib/newrelic/elasticsearch.rb:34:in `block in perform_request_with_new_relic'
home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/client.rb:131:in `perform_request'
home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/transport/http/curb.rb:19:in `perform_request'
home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/transport/base.rb:262:in `perform_request'
home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/transport/http/curb.rb:34:in `block in perform_request'
home/nick/bundle/ruby/2.3.0/gems/elasticsearch-transport-5.0.4.1.skroutz.1/lib/elasticsearch/transport/transport/http/curb.rb:34:in `http'
home/nick/bundle/ruby/2.3.0/gems/curb-0.9.10.skroutz1/lib/curl/easy.rb:69:in `perform'
- Machine register context ------------------------------------------------
RIP: 0x00007f8bc18bea5a RBP: 0x0000000000003ff4 RSP: 0x00007f8baa52a650
RAX: 0x00005611677a8b21 RBX: 0x0000000000003ff4 RCX: 0x0000000000000000
RDX: 0x0000000000003ff4 RDI: 0x00005611677a8b2b RSI: 0x0000000000000001
 R8: 0x0000000000000000  R9: 0x0000000000000000 R10: 0x0037624b9a4c48aa
R11: 0x0000000000000001 R12: 0x0000000000000000 R13: 0x00007f8baa52a740
R14: 0x00007f8b78002d30 R15: 0x00005611677a3fe0 EFL: 0x0000000000010202
- C level backtrace information -------------------------------------------
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc296a025]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc296a25c]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2843904]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc28f581e]
lib/x86_64-linux-gnu/libpthread.so.0 [0x7f8bc25ca0e0]
lib/x86_64-linux-gnu/libc.so.6(_IO_fread+0x1a) [0x7f8bc18bea5a]
usr/lib/x86_64-linux-gnu/libcurl.so.4 [0x7f8bbc340e33]
usr/lib/x86_64-linux-gnu/libcurl.so.4 [0x7f8bbc34163a]
usr/lib/x86_64-linux-gnu/libcurl.so.4 [0x7f8bbc34ca66]
usr/lib/x86_64-linux-gnu/libcurl.so.4(curl_multi_perform+0xb1) [0x7f8bbc34d6c1]
home/nick/bundle/ruby/2.3.0/gems/curb-0.9.10.skroutz1/lib/curb_core.so(rb_curl_multi_run.isra.1+0x1b) [0x7f8bbc5a766b] curb_multi.c:388
home/nick/bundle/ruby/2.3.0/gems/curb-0.9.10.skroutz1/lib/curb_core.so(ruby_curl_multi_perform+0x80) [0x7f8bbc5a7710] curb_multi.c:489
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc29570e5]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc295aee8]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc296010f]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2961eac]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2962b0f]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3(rb_funcall+0xbb) [0x7f8bc29633bb]
home/nick/bundle/ruby/2.3.0/gems/curb-0.9.10.skroutz1/lib/curb_core.so(ruby_curl_easy_perform_verb_str+0x60) [0x7f8bbc598f20] curb_easy.c:2619
home/nick/bundle/ruby/2.3.0/gems/curb-0.9.10.skroutz1/lib/curb_core.so(ruby_curl_easy_perform_verb+0xa1) [0x7f8bbc59cf71] curb_easy.c:2640
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc29570e5]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc295aee8]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc296010f]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2960cf5]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2960dc3]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2960f24]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc295aee8]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc296010f]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3(rb_yield+0x374) [0x7f8bc2966d74]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3(rb_ary_each+0x3c) [0x7f8bc280442c]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc29570e5]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc295ae1c]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc296010f]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2960cf5]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2960dc3]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2973982]
usr/lib/x86_64-linux-gnu/libruby-2.3.so.2.3 [0x7f8bc2973d05]
lib/x86_64-linux-gnu/libpthread.so.0 [0x7f8bc25c04a4]
lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7f8bc193fd0f]
- Other runtime information -----------------------------------------------
 Loaded script: /home/nick/bundle/ruby/2.3.0/bin/spork
 Loaded features:
   0 enumerator.so
   1 thread.rb
   2 rational.so
   3 complex.so
   4 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/enc/encdb.so
   5 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/enc/trans/transdb.so
   6 /usr/lib/ruby/2.3.0/unicode_normalize.rb
   7 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/rbconfig.rb
   8 /usr/lib/ruby/2.3.0/rubygems/compatibility.rb
   9 /usr/lib/ruby/2.3.0/rubygems/defaults.rb
  10 /usr/lib/ruby/2.3.0/rubygems/deprecate.rb
  11 /usr/lib/ruby/2.3.0/rubygems/errors.rb
  12 /usr/lib/ruby/2.3.0/rubygems/version.rb
  13 /usr/lib/ruby/2.3.0/rubygems/requirement.rb
  14 /usr/lib/ruby/2.3.0/rubygems/platform.rb
  15 /usr/lib/ruby/2.3.0/rubygems/basic_specification.rb
  16 /usr/lib/ruby/2.3.0/rubygems/stub_specification.rb
  17 /usr/lib/ruby/2.3.0/rubygems/util/list.rb
  18 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/stringio.so
  19 /usr/lib/ruby/2.3.0/uri/rfc2396_parser.rb
  20 /usr/lib/ruby/2.3.0/uri/rfc3986_parser.rb
  21 /usr/lib/ruby/2.3.0/uri/common.rb
  22 /usr/lib/ruby/2.3.0/uri/generic.rb
  23 /usr/lib/ruby/2.3.0/uri/ftp.rb
  24 /usr/lib/ruby/2.3.0/uri/http.rb
  25 /usr/lib/ruby/2.3.0/uri/https.rb
  26 /usr/lib/ruby/2.3.0/uri/ldap.rb
  27 /usr/lib/ruby/2.3.0/uri/ldaps.rb
  28 /usr/lib/ruby/2.3.0/uri/mailto.rb
  29 /usr/lib/ruby/2.3.0/uri.rb
  30 /usr/lib/ruby/2.3.0/rubygems/specification.rb
  31 /usr/lib/ruby/2.3.0/rubygems/exceptions.rb
  32 /usr/lib/ruby/vendor_ruby/rubygems/defaults/operating_system.rb
  33 /usr/lib/ruby/2.3.0/rubygems/dependency.rb
  34 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_gem.rb
  35 /usr/lib/ruby/2.3.0/monitor.rb
  36 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb
  37 /usr/lib/ruby/2.3.0/rubygems.rb
  38 /usr/lib/ruby/vendor_ruby/did_you_mean/version.rb
  39 /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb
  40 /usr/lib/ruby/vendor_ruby/did_you_mean/levenshtein.rb
  41 /usr/lib/ruby/vendor_ruby/did_you_mean/jaro_winkler.rb
  42 /usr/lib/ruby/vendor_ruby/did_you_mean/spell_checkable.rb
  43 /usr/lib/ruby/2.3.0/delegate.rb
  44 /usr/lib/ruby/vendor_ruby/did_you_mean/spell_checkers/name_error_checkers/class_name_checker.rb
  45 /usr/lib/ruby/vendor_ruby/did_you_mean/spell_checkers/name_error_checkers/variable_name_checker.rb
  46 /usr/lib/ruby/vendor_ruby/did_you_mean/spell_checkers/name_error_checkers.rb
  47 /usr/lib/ruby/vendor_ruby/did_you_mean/spell_checkers/method_name_checker.rb
  48 /usr/lib/ruby/vendor_ruby/did_you_mean/spell_checkers/null_checker.rb
  49 /usr/lib/ruby/vendor_ruby/did_you_mean/formatter.rb
  50 /usr/lib/ruby/vendor_ruby/did_you_mean.rb
  51 /usr/lib/ruby/vendor_ruby/bundler/postit_trampoline.rb
  52 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/pathname.so
  53 /usr/lib/ruby/2.3.0/pathname.rb
  54 /usr/lib/ruby/vendor_ruby/bundler/constants.rb
  55 /usr/lib/ruby/2.3.0/rubygems/text.rb
  56 /usr/lib/ruby/2.3.0/rubygems/path_support.rb
  57 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/io/console.so
  58 /usr/lib/ruby/2.3.0/rubygems/user_interaction.rb
  59 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/etc.so
  60 /usr/lib/ruby/2.3.0/rubygems/config_file.rb
  61 /usr/lib/ruby/vendor_ruby/bundler/rubygems_integration.rb
  62 /usr/lib/ruby/vendor_ruby/bundler/current_ruby.rb
  63 /usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb
  64 /usr/lib/ruby/2.3.0/fileutils.rb
  65 /usr/lib/ruby/vendor_ruby/bundler/errors.rb
  66 /usr/lib/ruby/vendor_ruby/bundler/environment_preserver.rb
  67 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/socket.so
  68 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/io/wait.so
  69 /usr/lib/ruby/2.3.0/socket.rb
  70 /usr/lib/ruby/2.3.0/timeout.rb
  71 /usr/lib/ruby/2.3.0/net/protocol.rb
  72 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/zlib.so
  73 /usr/lib/ruby/2.3.0/net/http/exceptions.rb
  74 /usr/lib/ruby/2.3.0/net/http/header.rb
  75 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/enc/windows_31j.so
  76 /usr/lib/ruby/2.3.0/net/http/generic_request.rb
  77 /usr/lib/ruby/2.3.0/net/http/request.rb
  78 /usr/lib/ruby/2.3.0/net/http/requests.rb
  79 /usr/lib/ruby/2.3.0/net/http/response.rb
  80 /usr/lib/ruby/2.3.0/net/http/responses.rb
  81 /usr/lib/ruby/2.3.0/net/http/proxy_delta.rb
  82 /usr/lib/ruby/2.3.0/net/http/backward.rb
  83 /usr/lib/ruby/2.3.0/net/http.rb
  84 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/date_core.so
  85 /usr/lib/ruby/2.3.0/date.rb
  86 /usr/lib/ruby/2.3.0/time.rb
  87 /usr/lib/ruby/2.3.0/rubygems/request/http_pool.rb
  88 /usr/lib/ruby/2.3.0/rubygems/request/https_pool.rb
  89 /usr/lib/ruby/2.3.0/rubygems/request/connection_pools.rb
  90 /usr/lib/ruby/2.3.0/rubygems/request.rb
  91 /usr/lib/ruby/2.3.0/cgi/core.rb
  92 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/cgi/escape.so
  93 /usr/lib/ruby/2.3.0/cgi/util.rb
  94 /usr/lib/ruby/2.3.0/cgi/cookie.rb
  95 /usr/lib/ruby/2.3.0/cgi.rb
  96 /usr/lib/ruby/2.3.0/rubygems/uri_formatter.rb
  97 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/digest.so
  98 /usr/lib/ruby/2.3.0/digest.rb
  99 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/openssl.so
 100 /usr/lib/ruby/2.3.0/openssl/bn.rb
 101 /usr/lib/ruby/2.3.0/openssl/pkey.rb
 102 /usr/lib/ruby/2.3.0/openssl/cipher.rb
 103 /usr/lib/ruby/2.3.0/openssl/config.rb
 104 /usr/lib/ruby/2.3.0/openssl/digest.rb
 105 /usr/lib/ruby/2.3.0/openssl/x509.rb
 106 /usr/lib/ruby/2.3.0/openssl/buffering.rb
 107 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/io/nonblock.so
 108 /usr/lib/ruby/2.3.0/openssl/ssl.rb
 109 /usr/lib/ruby/2.3.0/openssl.rb
 110 /usr/lib/ruby/2.3.0/securerandom.rb
 111 /usr/lib/ruby/2.3.0/resolv.rb
 112 /usr/lib/ruby/2.3.0/rubygems/remote_fetcher.rb
 113 /usr/lib/ruby/vendor_ruby/bundler/gem_remote_fetcher.rb
 114 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/digest/sha1.so
 115 /usr/lib/ruby/vendor_ruby/bundler/plugin/api/source.rb
 116 /usr/lib/ruby/vendor_ruby/bundler/plugin/api.rb
 117 /usr/lib/ruby/vendor_ruby/bundler/plugin.rb
 118 /usr/lib/ruby/2.3.0/rubygems/util.rb
 119 /usr/lib/ruby/2.3.0/rubygems/source/git.rb
 120 /usr/lib/ruby/2.3.0/rubygems/source/installed.rb
 121 /usr/lib/ruby/2.3.0/rubygems/source/specific_file.rb
 122 /usr/lib/ruby/2.3.0/rubygems/source/local.rb
 123 /usr/lib/ruby/2.3.0/rubygems/source/lock.rb
 124 /usr/lib/ruby/2.3.0/rubygems/source/vendor.rb
 125 /usr/lib/ruby/2.3.0/rubygems/source.rb
 126 /usr/lib/ruby/vendor_ruby/bundler/gem_helpers.rb
 127 /usr/lib/ruby/vendor_ruby/bundler/match_platform.rb
 128 /usr/lib/ruby/vendor_ruby/bundler/rubygems_ext.rb
 129 /usr/lib/ruby/vendor_ruby/bundler/version.rb
 130 /usr/lib/ruby/vendor_ruby/bundler.rb
 131 /usr/lib/ruby/vendor_ruby/bundler/settings.rb
 132 /usr/lib/ruby/vendor_ruby/bundler/yaml_serializer.rb
 133 /usr/lib/ruby/2.3.0/rubygems/ext/build_error.rb
 134 /usr/lib/ruby/2.3.0/rubygems/ext/builder.rb
 135 /usr/lib/ruby/2.3.0/rubygems/ext/configure_builder.rb
 136 /usr/lib/ruby/2.3.0/tmpdir.rb
 137 /usr/lib/ruby/2.3.0/tempfile.rb
 138 /usr/lib/ruby/2.3.0/rubygems/ext/ext_conf_builder.rb
 139 /usr/lib/ruby/2.3.0/rubygems/ext/rake_builder.rb
 140 /usr/lib/ruby/2.3.0/optparse.rb
 141 /usr/lib/ruby/2.3.0/rubygems/command.rb
 142 /usr/lib/ruby/2.3.0/rubygems/ext/cmake_builder.rb
 143 /usr/lib/ruby/2.3.0/rubygems/ext.rb
 144 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/strscan.so
 145 /usr/lib/ruby/vendor_ruby/bundler/source.rb
 146 /usr/lib/ruby/vendor_ruby/bundler/source/path.rb
 147 /usr/lib/ruby/vendor_ruby/bundler/source/git.rb
 148 /usr/lib/ruby/2.3.0/rubygems/name_tuple.rb
 149 /usr/lib/ruby/2.3.0/rubygems/spec_fetcher.rb
 150 /usr/lib/ruby/vendor_ruby/bundler/source/rubygems.rb
 151 /usr/lib/ruby/vendor_ruby/bundler/lockfile_parser.rb
 152 /usr/lib/ruby/2.3.0/set.rb
 153 /usr/lib/ruby/vendor_ruby/bundler/definition.rb
 154 /usr/lib/ruby/vendor_ruby/bundler/dependency.rb
 155 /usr/lib/ruby/vendor_ruby/bundler/ruby_dsl.rb
 156 /usr/lib/ruby/vendor_ruby/bundler/dsl.rb
 157 /usr/lib/ruby/vendor_ruby/bundler/source_list.rb
 158 /usr/lib/ruby/vendor_ruby/bundler/lazy_specification.rb
 159 /usr/lib/ruby/2.3.0/tsort.rb
 160 /usr/lib/ruby/2.3.0/forwardable.rb
 161 /usr/lib/ruby/vendor_ruby/bundler/spec_set.rb
 162 /usr/lib/ruby/vendor_ruby/bundler/gem_version_promoter.rb
 163 /usr/lib/ruby/vendor_ruby/bundler/source/gemspec.rb
 164 /usr/lib/ruby/vendor_ruby/bundler/runtime.rb
 165 /usr/lib/ruby/vendor_ruby/bundler/dep_proxy.rb
 166 /usr/lib/ruby/vendor_ruby/bundler/ui.rb
 167 /usr/lib/ruby/vendor_ruby/bundler/ui/silent.rb
 168 /usr/lib/ruby/vendor_ruby/bundler/ui/rg_proxy.rb
 169 /usr/lib/ruby/vendor_ruby/bundler/index.rb
 170 /usr/lib/ruby/vendor_ruby/bundler/remote_specification.rb
 171 /usr/lib/ruby/vendor_ruby/bundler/stub_specification.rb
 172 /usr/lib/ruby/vendor_ruby/bundler/endpoint_specification.rb
 173 /usr/lib/ruby/vendor_ruby/bundler/setup.rb
 174 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork.rb
 175 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/runner.rb
 176 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/gem_helpers.rb
 177 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/test_framework/rspec.rb
 178 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/test_framework/cucumber.rb
 179 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/test_framework.rb
 180 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/app_framework/unknown.rb
 181 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/app_framework.rb
 182 /usr/lib/ruby/2.3.0/drb/eq.rb
 183 /usr/lib/ruby/2.3.0/drb/invokemethod.rb
 184 /usr/lib/ruby/2.3.0/drb/drb.rb
 185 /usr/lib/ruby/2.3.0/drb.rb
 186 /usr/lib/ruby/2.3.0/rinda/rinda.rb
 187 /usr/lib/ruby/2.3.0/ipaddr.rb
 188 /usr/lib/ruby/2.3.0/rinda/ring.rb
 189 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/run_strategy/magazine/magazine_slave.rb
 190 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/run_strategy/magazine/rinda_ring_finger_patch.rb
 191 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/run_strategy/magazine.rb
 192 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/run_strategy/forking.rb
 193 /home/nick/bundle/ruby/2.3.0/gems/spork-1.0.0rc4.skroutz.5/lib/spork/run_strategy.rb
 194 /home/nick/myapp/config/boot.rb
 195 /usr/lib/x86_64-linux-gnu/ruby/2.3.0/digest/md5.so
 196 /home/nick/bundle/ruby/2.3.0/gems/railties-5.1.6.2/lib/rails/ruby_version_check.rb
 197 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/constants.rb
 198 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/utility/engine.rb
 199 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/abstract_object.rb
 200 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/utility/native_extension_loader.rb
 201 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/mri_object.rb
 202 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/jruby_object.rb
 203 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/rbx_object.rb
 204 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/truffleruby_object.rb
 205 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/object.rb
 206 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/volatile.rb
 207 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/abstract_lockable_object.rb
 208 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/mutex_lockable_object.rb
 209 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/jruby_lockable_object.rb
 210 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/rbx_lockable_object.rb
 211 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/lockable_object.rb
 212 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/condition.rb
 213 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/lock.rb
 214 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization.rb
 215 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/map/non_concurrent_map_backend.rb
 216 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/map/mri_map_backend.rb
 217 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/map.rb
 218 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/core_ext/array/prepend_and_append.rb
 219 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/core_ext/regexp.rb
 220 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/core_ext/hash/deep_merge.rb
 221 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/core_ext/hash/except.rb
 222 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/core_ext/hash/slice.rb
 223 /home/nick/bundle/ruby/2.3.0/gems/i18n-0.7.0/lib/i18n/version.rb
 224 /home/nick/bundle/ruby/2.3.0/gems/i18n-0.7.0/lib/i18n/exceptions.rb
 225 /home/nick/bundle/ruby/2.3.0/gems/i18n-0.7.0/lib/i18n/interpolate/ruby.rb
 226 /home/nick/bundle/ruby/2.3.0/gems/i18n-0.7.0/lib/i18n.rb
 227 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/lazy_load_hooks.rb
 228 /home/nick/bundle/ruby/2.3.0/gems/i18n-0.7.0/lib/i18n/config.rb
 229 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/i18n.rb
 230 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/inflector/inflections.rb
 231 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/inflections.rb
 232 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/inflector/methods.rb
 233 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/dependencies/autoload.rb
 234 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/gem_version.rb
 235 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/version.rb
 236 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/concern.rb
 237 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/core_ext/array/extract_options.rb
 238 /home/nick/bundle/ruby/2.3.0/gems/activesupport-5.1.6.2/lib/active_support/core_ext/module/attribute_accessors.rb
 239 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/version.rb
 240 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/errors.rb
 241 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/event.rb
 242 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/concern/dereferenceable.rb
 243 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/concern/obligation.rb
 244 /usr/lib/ruby/2.3.0/logger.rb
 245 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/concern/logging.rb
 246 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/executor_service.rb
 247 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/utility/at_exit.rb
 248 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/abstract_executor_service.rb
 249 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/serial_executor_service.rb
 250 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/immediate_executor.rb
 251 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/delay.rb
 252 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic_reference/numeric_cas_wrapper.rb
 253 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic_reference/mutex_atomic.rb
 254 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/atomic_reference.rb
 255 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_executor_service.rb
 256 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/utility/monotonic_time.rb
 257 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb
 258 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/thread_pool_executor.rb
 259 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/cached_thread_pool.rb
 260 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/utility/processor_counter.rb
 261 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/configuration.rb
 262 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/mutex_atomic_boolean.rb
 263 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/atomic_boolean.rb
 264 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/utility/native_integer.rb
 265 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/mutex_atomic_fixnum.rb
 266 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/atomic_fixnum.rb
 267 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/cyclic_barrier.rb
 268 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/mutex_count_down_latch.rb
 269 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/java_count_down_latch.rb
 270 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/count_down_latch.rb
 271 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/read_write_lock.rb
 272 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/abstract_thread_local_var.rb
 273 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/ruby_thread_local_var.rb
 274 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/java_thread_local_var.rb
 275 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/thread_local_var.rb
 276 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/reentrant_read_write_lock.rb
 277 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/mutex_semaphore.rb
 278 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/semaphore.rb
 279 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomics.rb
 280 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/fixed_thread_pool.rb
 281 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/simple_executor_service.rb
 282 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/indirect_immediate_executor.rb
 283 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/java_executor_service.rb
 284 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/java_single_thread_executor.rb
 285 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/java_thread_pool_executor.rb
 286 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_single_thread_executor.rb
 287 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/safe_task_executor.rb
 288 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/serialized_execution.rb
 289 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/serialized_execution_delegator.rb
 290 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/single_thread_executor.rb
 291 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/copy_on_write_observer_set.rb
 292 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/copy_on_notify_observer_set.rb
 293 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/concern/observable.rb
 294 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/ivar.rb
 295 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/options.rb
 296 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/scheduled_task.rb
 297 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/java_non_concurrent_priority_queue.rb
 298 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/ruby_non_concurrent_priority_queue.rb
 299 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/non_concurrent_priority_queue.rb
 300 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/timer_set.rb
 301 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executors.rb
 302 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atomic/atomic_markable_reference.rb
 303 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/agent.rb
 304 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/atom.rb
 305 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/thread_safe/util.rb
 306 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/array.rb
 307 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/hash.rb
 308 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/set.rb
 309 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/tuple.rb
 310 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/async.rb
 311 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/future.rb
 312 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/dataflow.rb
 313 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/maybe.rb
 314 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/exchanger.rb
 315 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/synchronization/abstract_struct.rb
 316 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/immutable_struct.rb
 317 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/mutable_struct.rb
 318 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/mvar.rb
 319 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/promise.rb
 320 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/settable_struct.rb
 321 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/timer_task.rb
 322 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/tvar.rb
 323 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/collection/lock_free_stack.rb
 324 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/re_include.rb
 325 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/promises.rb
 326 /home/nick/bundle/ruby/2.3.0/gems/concurrent-ruby-1.1.5/lib/concurrent/thread_safe/synchronized_delegator.rb
# ...
```


Hi ðŸ‘‹

Unfortunately, when trying to install `curb` v0.9.10 within a Gemfile of a Rails app, I can't make the installation work. If I do a `gem install curb` on my system, it works fine. 

OS: macOS Catalina, 10.15.1
Ruby: MRI v2.6.4 (also tested with v2.6.5)

Here's the full error:
```
LoadError: dlopen(/Users/robin/.rvm/gems/ruby-2.6.4/gems/curb-0.9.10/lib/curb_core.bundle, 9): Library not loaded: @rpath/libgssapi_krb5.2.2.dyli$
  Referenced from: /Users/robin/.rvm/gems/ruby-2.6.4/gems/curb-0.9.10/lib/curb_core.bundle
  Reason: image not found - /Users/robin/.rvm/gems/ruby-2.6.4/gems/curb-0.9.10/lib/curb_core.bundle
```

What I've tried so far:

* `brew reinstall curl`
*  `brew install krb5`

Does anybody have an idea how to proceed? 
- Create an easy handle that is erroneous for patch
- Observe that performing the easy handle returns a 404 or something similar
- Fix up the erroneous parts
- Re-run the easy handle - It will still fail.
Currently in curb, exceptions due to network errors during requests don't have a general description of the problem, just the raw text of the response header if it could be retrieved. I sometimes have a hard time debugging problems with only that. Also, response headers can be much longer than exception messages usually are, which can cause weirdness in logs and monitoring systems.

In this PR, the exception message is instead based on (a) the error code summary that we already get from `rb_curl_easy_error` and (b) error details from [`CURLOPT_ERRORBUFFER`](https://curl.haxx.se/libcurl/c/CURLOPT_ERRORBUFFER.html). The error buffer is cleared out before each request, so that we don't show outdated information in versions of Curl before 7.60.0 (which don't clear out the buffer for you).

The user can still debug the response header when needed with `verbose` or `on_debug`.
This is nearly identical to the problem described in #355, except the issue is with `connect_timeout` rather than `timeout`. Probably a similar fix to #361 could be done.
just remove extra spaces
just remove some extra spaces
remove some extra spaces
Tech description:

OS: `Ubuntu 16.04`
Ruby: `2.6.3`
Curb: `0.9.10`

Reproduce:
```
require 'curb'
c = Curl::Easy.new('http://ANY_URL')
c.multipart_form_post = true
c.http_post(
  Curl::PostField.content('param', 123),
  Curl::PostField.file('document', 'ANY_FILE')
)
```

Exception stack (not all) with irb:
```
irb(main):019:0>       c = Curl::Easy.new('http://ya.ru')
=> #<Curl::Easy http://ya.ru>
irb(main):020:0>       c.multipart_form_post = true
=> true
irb(main):021:0>       c.http_post(
irb(main):022:1*         Curl::PostField.content('param', 123),
irb(main):023:1*         Curl::PostField.file('document', '/home/air/123.txt')
irb(main):024:1>       )
(irb):21: [BUG] Segmentation fault at 0x00000000000000f7
ruby 2.6.3p62 (2019-04-16 revision 67580) [x86_64-linux]

-- Control frame information -----------------------------------------------
c:0022 p:---- s:0108 e:000107 CFUNC  :http_post
c:0021 p:0038 s:0102 e:000101 EVAL   (irb):21 [FINISH]
c:0020 p:---- s:0099 e:000098 CFUNC  :eval
c:0019 p:0021 s:0091 e:000090 METHOD /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/workspace.rb:85
c:0018 p:0056 s:0083 e:000081 METHOD /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/context.rb:385
c:0017 p:0020 s:0074 e:000073 BLOCK  /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:493
c:0016 p:0025 s:0071 e:000070 METHOD /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:647
c:0015 p:0008 s:0065 e:000064 BLOCK  /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:490
c:0014 p:0100 s:0060 e:000059 BLOCK  /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:246 [FINISH]
c:0013 p:---- s:0056 e:000055 CFUNC  :loop
c:0012 p:0006 s:0052 e:000051 BLOCK  /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:232 [FINISH]
c:0011 p:---- s:0049 e:000048 CFUNC  :catch
c:0010 p:0012 s:0044 e:000043 METHOD /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:231
c:0009 p:0034 s:0040 E:0014f8 METHOD /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:489
c:0008 p:0005 s:0035 e:000034 BLOCK  /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:428 [FINISH]
c:0007 p:---- s:0032 e:000031 CFUNC  :catch
c:0006 p:0064 s:0027 E:001ca8 METHOD /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:427
c:0005 p:0102 s:0022 e:000021 METHOD /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:383
c:0004 p:0019 s:0016 e:000015 TOP    /home/air/.asdf/installs/ruby/2.6.3/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11 [FINISH]
c:0003 p:---- s:0013 e:000012 CFUNC  :load
c:0002 p:0109 s:0008 E:0014e0 EVAL   /home/air/.asdf/installs/ruby/2.6.3/bin/irb:23 [FINISH]
c:0001 p:0000 s:0003 E:001630 (none) [FINISH]

-- Ruby level backtrace information ----------------------------------------
/home/air/.asdf/installs/ruby/2.6.3/bin/irb:23:in `<main>'
/home/air/.asdf/installs/ruby/2.6.3/bin/irb:23:in `load'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11:in `<top (required)>'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:383:in `start'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:427:in `run'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:427:in `catch'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:428:in `block in run'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:489:in `eval_input'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:231:in `each_top_level_statement'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:231:in `catch'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:232:in `block in each_top_level_statement'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:232:in `loop'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/ruby-lex.rb:246:in `block (2 levels) in each_top_level_statement'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:490:in `block in eval_input'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:647:in `signal_status'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb.rb:493:in `block (2 levels) in eval_input'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/context.rb:385:in `evaluate'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/workspace.rb:85:in `evaluate'
/home/air/.asdf/installs/ruby/2.6.3/lib/ruby/2.6.0/irb/workspace.rb:85:in `eval'
(irb):21:in `irb_binding'
(irb):21:in `http_post'
```

Reason: **Integer value** in Curl::PostField.content
Fix: Change `Curl::PostField.content('param', 123)` to `Curl::PostField.content('param', '123')`

I think, Curb should cast value to string automatically or at least do not crash runtime with C stack.
CURLOPT_PROTOCOLS allows users to restrict the allowed protocols in URLs passed to curl. CURLOPT_REDIR_PROTOCOLS enables users to restrict the allowed protocols in redirects, for cases when [CURLOPT_FOLLOWLOCATION](https://curl.haxx.se/libcurl/c/CURLOPT_FOLLOWLOCATION.html) is used.

This PR exposes those options through the `setopt` facility.
Also the constants [CURLPROTO_* ](https://github.com/curl/curl/blob/3609ab3147b11118319da4584a0c72f638697838/include/curl/curl.h#L895-L924) constants are now exposed.

An example usage of the newly exposed options would look like this:
```
c = Curl::Easy.new(user_provided_url)
c.setopt(Curl::CURLOPT_PROTOCOLS, Curl::CURLPROTO_HTTP | Curl::CURLPROTO_HTTPS)
c.perform
```
```
c = Curl::Easy.new(user_provided_url)
c.setopt(Curl::CURLOPT_REDIR_PROTOCOLS, Curl::CURLPROTO_HTTP | Curl::CURLPROTO_HTTPS)
c.follow_location = true
c.perform
```
Due to curl's support of obscure protocols (e.g. DICT, Gopher) this can greatly assist in hardening and thus minimizing the risk of accepting user-provided URLs that use or redirect  to such protocols.

When security vulnerabilities such as  Server-Side Request Forgery - [SSRF](https://www.owasp.org/index.php/Server_Side_Request_Forgery) are concerned, using `CURLOPT_PROTOCOLS` in order to only allow `HTTP/HTTPS` for instance, reduces the exploitation surface down to service discovery in most cases.