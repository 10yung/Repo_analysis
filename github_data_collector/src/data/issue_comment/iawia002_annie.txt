æˆ‘è¯•äº†å‡ ä¸ªéƒ½æ˜¯è¿™ç§æƒ…å†µï¼Œä¸ç®¡æ˜¯ç•ªå‰§è¿˜æ˜¯æ™®é€šæŠ•ç¨¿ï¼Œæ‰€æœ‰åˆ†æ®µéƒ½æ˜¯æ‹’ç»è¿æ¥é”™è¯¯ã€‚é€šè¿‡annieæœ¬èº«ä¸‹è½½å€’æ˜¯æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚
annieè‡ªå·±çš„ä¸‹è½½å’Œaria2æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿæ¯”å¦‚è®¾ç½®äº†ç‰¹æ®Šçš„headerä¹‹ç±»çš„


æˆ‘çœ‹åˆ°ä¹‹å‰ #268 å’Œ #341 çš„é—®é¢˜ï¼Œä¼¼ä¹è§£å†³äº†ï¼Œä½†æ˜¯ç°åœ¨è¿˜æ˜¯è¿™æ ·ï¼Œä¸€å¼€å§‹~5Mï¼Œåˆ°åæ¥å°±åªæœ‰50 - 100käº†ã€‚

ä¸‹è½½çš„åœ°å€: https://www.bilibili.com/video/av26222682\?p=4

ä¸€ç›´æ²¡æœ‰é€Ÿåº¦, ä½†æ˜¯åŸè§†é¢‘å¯ä»¥æ­£å¸¸è§‚çœ‹, ä¸æŒ‚ä»»ä½•ä»£ç†, å…·ä½“æŠ¥é”™å¦‚ä¸‹
Downloading https://www.bilibili.com/video/av26222682?p=4 error:
request error: Get http://cn-hbsjz2-cmcc-bcache-04.acgvideo.com/upgcxcode/58/53/44975358/44975358-2-64.flv?e=ig8euxZM2rNcNbh37zUVhoMznwuBhwdEto8g5X10ugNcXBlqNxHxNEVE5XREto8KqJZHUa6m5J0SqE85tZvEuENvNC8xNEVE9EKE9IMvXBvE2ENvNCImNEVEK9GVqJIwqa80WXIekXRE9IMvXBvEuENvNCImNEVEua6m2jIxux0CkF6s2JZv5x0DQJZY2F8SkXKE9IB5QK==&deadline=1578755240&gen=playurl&nbs=1&oi=3083948209&os=bcache&platform=pc&trid=a97d45c5fe384d96a1ac629f52372ffa&uipk=5&upsig=4806f85eeb3f77e2f0a10ade8d3a4aaf&uparams=e,deadline,gen,nbs,oi,os,platform,trid,uipk&mid=0&origin_cdn=ks3: dial tcp: lookup cn-hbsjz2-cmcc-bcache-04.acgvideo.com: no such host
ä¸‹è½½è…¾è®¯è§†é¢‘è¶Šä¸‹è¶Šæ…¢ï¼Œä½¿ç”¨nethogsæŸ¥çœ‹å®é™…annieå ç”¨ç½‘ç»œåªæœ‰1kB/sï¼Œç„¶è€Œæ˜¾ç¤ºé€Ÿåº¦å¾ˆå¿«ã€‚å·²ç»å¸¦ä¸Š-cs 10äº†ï¼Œä½¿ç”¨-cs 5ä¹Ÿä¸€æ ·ã€‚
ä¸‹è½½è§†é¢‘æ—¶ï¼Œå‘ç°ï¼Œç•ªå‰§å¯ä»¥ä¸‹è½½ï¼ˆä½¿ç”¨cookieï¼‰ï¼Œå•è§†é¢‘æ— è®ºæ˜¯å¦ä½¿ç”¨cookieéƒ½æ— æ³•ä¸‹è½½ï¼Œä¹Ÿå°è¯•äº†ä½¿ç”¨refã€‚
![image](https://user-images.githubusercontent.com/23306503/71803151-f020ce00-309a-11ea-87c1-b64644eea8e3.png)
`PS C:\Users\HP> annie -r https://www.bilibili.com/video/av45654043 -d -i -c "CURRENT_FNVAL=16; _uuid=78F28FE6-B466-77F4-AF9B-A494C8B9EF2621243infoc; buvid3=6D251A24-D3F1-4793-90AD-F3D7B7CF77D2155812infoc; sid=9d6awlls; stardustvideo=1; LIVE_BUVID=AUTO3815782962236056" https://www.bilibili.com/video/av45654043

[36mannie[0m: version [34m0.9.5[0m, A fast, simple and clean video downloader.


URL:         https://www.bilibili.com/video/av45654043
Method:      GET
Headers:     http.Header{
    "Cookie":          {"CURRENT_FNVAL=16; _uuid=78F28FE6-B466-77F4-AF9B-A494C8B9EF2621243infoc; buvid3=6D251A24-D3F1-4793-90AD-F3D7B7CF77D2155812infoc; sid=9d6awlls; stardustvideo=1; LIVE_BUVID=AUTO3815782962236056"},
    "Accept":          {"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"},
    "Accept-Charset":  {"UTF-8,*;q=0.5"},
    "Accept-Encoding": {"gzip,deflate,sdch"},
    "Accept-Language": {"en-US,en;q=0.8"},
    "User-Agent":      {"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.81 Safari/537.36"},
    "Referer":         {"https://www.bilibili.com/video/av45654043"},
}
Status Code: 200
Downloading [36mhttps://www.bilibili.com/video/av45654043[0m error:
[31mjson: cannot unmarshal number into Go struct field multiPage.aid of type string[0m`

ä¸‹è½½åœ°å€http://www.youtube.com/watch?v=cACrCUmzMA4ï¼Œä¸‹è½½å‘½ä»¤ï¼šannie -s 127.0.0.1:1080 -i http://www.youtube.com/watch?v=cACrCUmzMA4ã€‚
æç¤ºDownloading [36mhttp://www.youtube.com/watch?v=cACrCUmzMA4[0m error:
[31murl parse failed[0m    
æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ
è¿™æ ·çš„é“¾æ¥ https://www.bilibili.com/video/av45084065/?p=18
annieä¸‹è½½æŠ¥ä¸€ä¸‹é”™è¯¯:
See `help expand`.
annie https://www.bilibili.com/video/av45084065/?p=18
ref: https://github.com/ytdl-org/youtube-dl/blob/master/youtube_dl/options.py#L732
å¸Œæœ›èƒ½æ”¯æŒæœç‹è§†é¢‘ï¼Œæ„Ÿè°¢