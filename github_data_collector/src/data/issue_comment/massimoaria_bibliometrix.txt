I'm trying to make use of bibliometrix in a package (just of helper functions for my own use). But I'm having a weird dependency issue. 

The following lines are in a function in my package. 
` bibData <- bibliometrix::readFiles(filelist) %>%
    bibliometrix::convert2df(dbsource = "wos", format = "bibtex") %>%
    bibliometrix::biblioAnalysis()`

The convert2df step throws the following error unless I actually have bibliometrix loaded in my session. 

> Error in `[.data.frame`(bibtag, , "ISI") : undefined columns selected
> In addition: Warning message:
> In data("bibtag", envir = environment()) :

The function correctly imports the functions I'm calling:
`#' @importFrom bibliometrix readFiles convert2df biblioAnalysis`

My description file correctly imports bibliometrix

devtools::check() doesn't have any problems

does convert2df depend on something else i need to import?...
While most of the field tags generated by `convert2df()` can be found through either package vignette or the WoS website, I was not able to find any explanation about the following five variables:

1. "DT2"
2. "PP"
3. "BO"
4. "AU_UN_NR"
5. "SR_FULL"

These are not explained in `metaTagExtraction()` function help document, either.

Would you mind adding the definitions of these five tags in the `convert2df()` help document?

I really appreciate @massimoaria for always promptly addressing all the issues.

The responsiveness makes me more like this package, and it really helps my academic work.

I was wondering if you could also address the following at your easiest convenience.

It would be so much appreciated if you could provide more information on `biblioNetwork()` function arguments in its help document.

For instance, `analysis` argument can have any of the four character objects (i.e., "collaboration", "coupling", "co-occurrences" or "co-citation"); however, I am so confused since no definitions of these concepts are missing while those seem very similar to each other. Would you mind adding brief definitions of each option to the user help document? Of course, users could examine `bibliometrix` package source code to understand the underlying calculation; however, it would be very helpful for users because they do not need to do reverse-engineering for this.

Many thanks again!


Some universites or institution of France will change to "France.".  I inverstigate the the cause, and found that errors maybe extract the last word in C1. For example: "PETELET-GIRAUD, E (REPRINT AUTHOR), BUR RECH GEOL \\& MINIERES, LAB DIV, 3 AVE CLAUDE GUILLEMIN,BP 36009, F-45060 ORLEANS 2, **FRANCE.**;PETELET-GIRAUD, EMMANUELLE, LUCK, JEAN-MARC, BEN OTHMAN, DALILA, JOSEPH, CHRISTIAN, UNIV MONTPELLIER 2, UMR 5569, LAB HYDROSCI, PL EUGENE BATAILLON, F-34095 MONTPELLIER 5, **FRANCE.**;PETELET-GIRAUD, EMMANUELLE, NEGREL, PHILIPPE, BUR RECH GEOL \\& MINIERES, LAB DIV, 3 AVE CLAUDE GUILLEMIN,BP 36009, F-45060 ORLEANS 2, **FRANCE.**" 
[data.zip](https://github.com/massimoaria/bibliometrix/files/3796528/data.zip)
code:
`D <- readFiles("F:\\savedrecs1-500.bib",
               "F:\\savedrecs501-1000.bib",
               "F:\\savedrecs1001-1500.bib",
               "F:\\savedrecs1501-2000.bib",
               "F:\\savedrecs2001-2500.bib",
               "F:\\savedrecs2501-3000.bib",
               "F:\\savedrecs3001-3500.bib",
               "F:\\savedrecs3501-3554.bib")

M <- convert2df(D, dbsource = 'isi', format = 'bibtex')

results <- biblioAnalysis(M,sep = ";")

Inst_Co <- results$Affiliation %>% as.data.frame(stringsAsFactors = FALSE)

Inst_Co[1:30]

#all France country, ##############
M1 <- metaTagExtraction(M, Field = "AU_CO", sep = ";")

M2 <- metaTagExtraction(M, Field = "AU1_CO", sep = ";")

AUtest <- M1$AU_CO# excpet first author, Countries of other author

AUtest1 <- M2$AU1_CO# first authors' Countries

AUtest_split <- str_split(AUtest,";",simplify = TRUE) %>% as.data.frame(stringsAsFactors = FALSE)

AUtest2 <- cbind(AUtest1,AUtest_split)# all author

names(AUtest2) <- paste("At",1:20, sep = "")

Mcbind <- cbind(M1,AUtest2)

Mmelt <- melt(Mcbind, measure.vars = names(AUtest2), value.name = "Countries_1")

Mfrance <-  Mmelt[which(Mmelt$Countries_1 =="FRANCE"),]

Mfrance1 <- distinct(Mfrance, TI, .keep_all = TRUE)#delete the repetive documents

Mfrance1$C1[c(5,14,53,55,73,105,107)]#  the results showd the the universities of France were 
different

Mfrance1$TI[c(5,14,53,55,73,105,107)]`




Hi,

I am planning to use bibliometrix on `rscopus::scopus_search`, instead of going through scopus website and downloading bib-files.

I.e. something like:

```
response <- rscopus::scopus_search("TITLE-ABS-KEY(somthing and something)")
data <- rscopus::gen_entries_to_df(response$entries)
M <- new_function(data)
```

I have only recently started to use both, `rscopus` and `bibliometrix` and as far as I can see, you are already wrangling some of the output e.g. from `rscopus::author_df_orig` in `bibliometrix::retrievalByAuthorID`  So I am a bit surprised that there seems to be no general function to generate M-objects directly, like `convert2df` does.

Before I go on and write something myself, I wanted to ask, is this something you have already looked at and abandoned, or is this out of scope for you?



Hello, I am using the `biblioshiny` app from `bibliometrix 2.2.1`, but I am not able to plot a historiograph using data downloaded from the _Web of Science_ in _Plain Text_ format using the _Full Record and Cited References_: I always get a `non-character argument` error. Some other graphs can be produced without problems, for instance the _Authors' Production over Time_. Data from the `joi.zip` example works fine, and with casual inspection of the contents, I do not see a clear difference (except for the presence of a byte order mark, but removing it does not solve my problem).  Am I doing something wrong with the data preparation ?
I'm having some trouble to do my research of bibliometric with bibliometrix on R. 
I've already made a lot of time, using the same code i found the error on **results** part: **Error in if (sum(ind > -1) > 0) { :**
It says that is missing the TRUE/FALSE value, but at this part don't need it. 
I have sure that i'm doing all the things right and didn't found nothing on web about this error. 
Have someone already found this error? Anyone can help me? 

`> library("bibliometrix")
To cite bibliometrix in publications, please use:
  
  Aria, M. & Cuccurullo, C. (2017) bibliometrix: An R-tool for comprehensive science mapping analysis, Journal of Informetrics, 11(4), pp 959-975, Elsevier.


http:\\www.bibliometrix.org


To start with the shiny web-interface, please digit:
  biblioshiny()
> DS <- readFiles (file = "C:/Users/_/Documents/bibliometrix/sco1.bib", "C:/Users/_/Documents/bibliometrix/sco3.bib", "C:/Users/_/Documents/bibliometrix/sco4.bib", "C:/Users/_/Documents/bibliometrix/sco5.bib", "C:/Users/_/Documents/bibliometrix/sco6.bib", "C:/Users/_/Documents/bibliometrix/sco7.bib", "C:/Users/_/Documents/bibliometrix/sco8.bib", "C:/Users/_/Documents/bibliometrix/sco9.bib", "C:/Users/_/Documents/bibliometrix/sco10.bib")
> DW <- readFiles (file = "C:/Users/_/Documents/bibliometrix/wos1.bib", "C:/Users/_/Documents/bibliometrix/wos3.bib", "C:/Users/_/Documents/bibliometrix/wos4.bib", "C:/Users/_/Documents/bibliometrix/wos5.bib", "C:/Users/_/Documents/bibliometrix/wos7.bib", "C:/Users/_/Documents/bibliometrix/wos8.bib", "C:/Users/_/Documents/bibliometrix/wos9.bib", "C:/Users/_/Documents/bibliometrix/wos10.bib")
> M1 <- convert2df(DS, dbsource = "scopus", format = "bibtex")

Converting your scopus collection into a bibliographic dataframe

Articles extracted   100 
Articles extracted   200 
Articles extracted   280 
Done!


Generating affiliation field tag AU_UN from C1:  Done!

> M2 <- convert2df(DW, dbsource = "isi", format = "bibtex")

Converting your isi collection into a bibliographic dataframe

Articles extracted   100 
Articles extracted   200 
Articles extracted   211 
Done!

> M <- mergeDbSources(M1, M2, remove.duplicated = TRUE)

 395 duplicated documents have been removed
> dim(M)
[1] 96 19
> results <- biblioAnalysis(M, sep = ";")
Error in if (sum(ind > -1) > 0) { : 
  valor ausente onde TRUE/FALSE necessÃ¡rio
> 
`



### please add as.character string conversion at the strsplit() function

If as.character() string conversion is ignored at the strsplit function, R will produce an error, called "non-character argument" at some special environment, such as R scripts on the KNIME platform. Till now, I don't know why to cause the problem, but I think if you add all as.character() string conversion at the strsplit function, may solve this problem.
First of all, thanks for the very usefull bibliometrix package

Recently I have had troubles with the pubmed connection server using the pubmed2df function
When I try to download around more than 15 records the next error appear 
"HTTP status was 429 Too Many Requests", months before, I used the function to download around1000 records successfully.


Do you have any idea about the problem and how to solve it?

Thanks in advance

Dago
Thanks for de the great job!

My question: is possible unite two bib files (for example wos.bib and scopus.bib)?

Best regards,

Felipe Smolski