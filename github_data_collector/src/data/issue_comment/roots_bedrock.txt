Bumps [roots/wordpress](https://github.com/WordPress/WordPress) from 5.3 to 5.3.2.
<details>
<summary>Commits</summary>
<ul>
<li><a href="https://github.com/WordPress/WordPress/commit/cad04902d6a162ba8320f82a6c65c7eb58cf9759"><code>cad0490</code></a> Tag 5.3.2</li>
<li><a href="https://github.com/WordPress/WordPress/commit/6abeb1579136a1246dac33826ae487ac32db2b3a"><code>6abeb15</code></a> WordPress 5.3.2</li>
<li><a href="https://github.com/WordPress/WordPress/commit/9525d1c9f75248a52f5eb8495725989bbb744d63"><code>9525d1c</code></a> Help/About: Update the About page for 5.3.2.</li>
<li><a href="https://github.com/WordPress/WordPress/commit/6f6975efdeaca8ce77772fe441dec55b133c9192"><code>6f6975e</code></a> Post WordPress 5.3.2 RC1 version bump</li>
<li><a href="https://github.com/WordPress/WordPress/commit/3aee1ab0198e5738a319c4aae9e35087e340da24"><code>3aee1ab</code></a> WordPress 5.3.2 RC1</li>
<li><a href="https://github.com/WordPress/WordPress/commit/f1bcfd66d2450b0ca9a1a0a1e475ca02946926f3"><code>f1bcfd6</code></a> Tests: Use delta comparison in test_should_fall_back_to_last_post_modified() ...</li>
<li><a href="https://github.com/WordPress/WordPress/commit/99c691c8e201aba6325fdd14376b1f7297727325"><code>99c691c</code></a> Upload: Fix the final file name collision test in <code>wp_unique_filename()</code> when...</li>
<li><a href="https://github.com/WordPress/WordPress/commit/fd030a496f03dc8385387240735242c8eac95073"><code>fd030a4</code></a> Upload:</li>
<li><a href="https://github.com/WordPress/WordPress/commit/7b21983b0157d93a7b6bcdca32980619e0c5a5b3"><code>7b21983</code></a> Administration: Fix the colors in all color schemes for the <code>.active</code> class f...</li>
<li><a href="https://github.com/WordPress/WordPress/commit/cd10cf0c79546b2a8614f992df760e545a8ae8d7"><code>cd10cf0</code></a> Date/Time: Ensure that <code>get_feed_build_date()</code> correctly handles a modified p...</li>
<li>Additional commits viewable in <a href="https://github.com/WordPress/WordPress/compare/5.3...5.3.2">compare view</a></li>
</ul>
</details>
<br />


[![Dependabot compatibility score](https://api.dependabot.com/badges/compatibility_score?dependency-name=roots/wordpress&package-manager=composer&previous-version=5.3&new-version=5.3.2)](https://dependabot.com/compatibility-score.html?dependency-name=roots/wordpress&package-manager=composer&previous-version=5.3&new-version=5.3.2)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language
- `@dependabot badge me` will comment on this PR with code to add a "Dependabot enabled" badge to your readme

Additionally, you can set the following in your Dependabot [dashboard](https://app.dependabot.com):
- Update frequency (including time of day and day of week)
- Pull request limits (per update run and/or open at any time)
- Automerge options (never/patch/minor, and dev/runtime dependencies)
- Out-of-range updates (receive only lockfile updates, if desired)
- Security updates (receive only security updates, if desired)



</details>
 - Installing roots/wordpress (5.2.3): Cloning 5.2.3 from cache
    5.2.3 is gone (history was rewritten?)


  [RuntimeException]
  Failed to execute git checkout "5.2.3" -- && git reset --hard "5.2.3" --

  fatal: invalid reference: 5.2.3

Bumps [vlucas/phpdotenv](https://github.com/vlucas/phpdotenv) from 3.6.0 to 4.1.0.
<details>
<summary>Release notes</summary>

*Sourced from [vlucas/phpdotenv's releases](https://github.com/vlucas/phpdotenv/releases).*

> ## V4.1 (14/12/2019)
> We announce the immediate availability V4.1.0.
> 
> ### New Features
> 
> * More flexible file finding using stores ([#394](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/394), [#395](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/395), [#397](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/397))
> * Optional variable name whitelist within the loader ([#398](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/398))
> 
> ### Changes
> 
> * Improved phpdoc (43586fefce5898513d2aabab784269f431c346d7, [#399](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/399), c9af33768b9e2c1307579ae15dd1f24377b799b7)
> 
> ## V4.0.1 (08/12/2019)
> We announce the immediate availability V4.0.1.
> 
> ### Bug Fixes
> 
> * Fixed phpdoc errors ([#389](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/389), [#392](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/392))
> 
> ## V4.0 (30/11/2019)
> We announce the immediate availability V4.0.0.
> 
> We've made some further improvements to this library, since v3, maintaining the same API where possible.
> 
> ### New Features
> 
> * Match single quote semantics with bash ([#380](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/380))
> * Support escaping dollars in unquoted and double quoted strings ([#380](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/380))
> * Right to left processing of environment variable interpolation ([#380](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/380))
> * More flexible design with support for separate readers and writers ([#387](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/387))
> 
> ### Upgrading Notes
> 
> Please see the [upgrading guide](https://github.com/vlucas/phpdotenv/blob/v4.0.1/UPGRADING.md#v3-to-v4).
</details>
<details>
<summary>Commits</summary>

- [`0176075`](https://github.com/vlucas/phpdotenv/commit/0176075a1b7ee9cf86f70143ec79edf7072c975a) Analyze the tests too
- [`7ab0ff4`](https://github.com/vlucas/phpdotenv/commit/7ab0ff447ee78ebdfe77395ea8059691fa361724) Added missing typehint
- [`508fd44`](https://github.com/vlucas/phpdotenv/commit/508fd44c19c16193ea365934cd1a954f484812bc) Implement variable name whitelist ([#398](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/398))
- [`c9af337`](https://github.com/vlucas/phpdotenv/commit/c9af33768b9e2c1307579ae15dd1f24377b799b7) PHPStan tweaks
- [`6cd4f01`](https://github.com/vlucas/phpdotenv/commit/6cd4f015a8d0ebb4501dad9ffa4245e6fed47118) Upgraded phpoption
- [`bfec35e`](https://github.com/vlucas/phpdotenv/commit/bfec35e38bf448a79753c88323332bd8f2713fc2) Update .gitignore
- [`2394634`](https://github.com/vlucas/phpdotenv/commit/23946340cffe11bb2f5abfd99ffff5139f86be6c) [4.1] PHPStan Analysis ([#399](https://github-redirect.dependabot.com/vlucas/phpdotenv/issues/399))
- [`a6142d2`](https://github.com/vlucas/phpdotenv/commit/a6142d226aa3609a5573a343a62d377e03d5de97) Fixed legacy constructor
- [`2508028`](https://github.com/vlucas/phpdotenv/commit/25080284042e8c166c415673fa56f4091c6f5233) More phpdoc fixes
- [`f1d0fb7`](https://github.com/vlucas/phpdotenv/commit/f1d0fb74893aa2dcffb4787e8467c62abc398047) Added missing use
- Additional commits viewable in [compare view](https://github.com/vlucas/phpdotenv/compare/v3.6.0...v4.1.0)
</details>
<br />

[![Dependabot compatibility score](https://api.dependabot.com/badges/compatibility_score?dependency-name=vlucas/phpdotenv&package-manager=composer&previous-version=3.6.0&new-version=4.1.0)](https://dependabot.com/compatibility-score.html?dependency-name=vlucas/phpdotenv&package-manager=composer&previous-version=3.6.0&new-version=4.1.0)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language
- `@dependabot badge me` will comment on this PR with code to add a "Dependabot enabled" badge to your readme

Additionally, you can set the following in your Dependabot [dashboard](https://app.dependabot.com):
- Update frequency (including time of day and day of week)
- Pull request limits (per update run and/or open at any time)
- Automerge options (never/patch/minor, and dev/runtime dependencies)
- Out-of-range updates (receive only lockfile updates, if desired)
- Security updates (receive only security updates, if desired)



</details>
Ref #484

`vlucas/phpdotenv` > 4.0.0 has a breaking change as the initialization method has been split up and the old method has been removed.

The new methods require you to specify if the env definitions are immutable or mutable. 

This PR addresses this incompatibility by implementing the new `Dotenv::createImmutable` method. I don't think Bedrock is doing any overloading, so this is probably the better practice.
Bumps [squizlabs/php_codesniffer](https://github.com/squizlabs/PHP_CodeSniffer) from 3.4.2 to 3.5.3.
<details>
<summary>Release notes</summary>

*Sourced from [squizlabs/php_codesniffer's releases](https://github.com/squizlabs/PHP_CodeSniffer/releases).*

> ## 3.5.3
> * The PHP 7.4 `T_FN` token has been made available for older versions
>     * `T_FN` represents the `fn` string used for arrow functions
>     * The double arrow becomes the scope opener, and uses a new `T_FN_ARROW` token type
>     * The token after the statement (normally a semicolon) becomes the scope closer
>     * The token is also associated with the opening and closing parenthesis of the statement
>     * Any functions named `fn` will have a `T_FN token` for the function name, but have no scope information
>     * Thanks to MichaÅ‚ Bundyra for the help with this change
> * PHP 7.4 numeric separators are now tokenized in the same way when using older PHP versions
>     * Previously, a number like `1_000` would tokenize as `T_LNUMBER (1), T_STRING (_000)`
>     * Now, the number tokenizes as `T_LNUMBER (1_000)`
>     * Sniff developers should consider how numbers with underscores impact their custom sniffs
> * The PHPCS file cache now takes file permissions into account
>     * The cache is now invalidated for a file when its permissions are changed
> * `File::getMethodParameters()` now supports arrow functions
> * `File::getMethodProperties()` now supports arrow functions
> * Added `Fixer::changeCodeBlockIndent()` to change the indent of a code block while auto-fixing
>     * Can be used to either increase or decrease the indent
>     * Useful when moving the start position of something like a closure, where you want the content to also move
> * Added `Generic.Files.ExecutableFile` sniff
>     * Ensures that files are not executable
>     * Thanks to Matthew Peveler for the contribution
> * `Generic.CodeAnalysis.EmptyPhpStatement` now reports unnecessary semicolons after control structure closing braces
>     * Thanks to Vincent Langlet for the patch
> * `Generic.PHP.LowerCaseKeyword` now enforces that the `fn` keyword is lowercase
>     * Thanks to MichaÅ‚ Bundyra for the patch
> * `Generic.WhiteSpace.ScopeIndent` now supports static arrow functions
> * `PEAR.Functions.FunctionCallSignature` now adjusts the indent of function argument contents during auto-fixing
>     * Previously, only the first line of an argument was changed, leading to inconsistent indents
>     * This change also applies to `PSR2.Methods.FunctionCallSignature`
> * `PSR2.ControlStructures.ControlStructureSpacing` now checks whitespace before the closing parenthesis of multi-line control structures
>     * Previously, it incorrectly applied the whitespace check for single-line definitions only
> * `PSR12.Functions.ReturnTypeDeclaration` now checks the return type of arrow functions
>     * Thanks to MichaÅ‚ Bundyra for the patch
> * `PSR12.Traits.UseDeclaration` now ensures all trait import statements are grouped together
>     * Previously, the trait import section of the class ended when the first non-import statement was found
>     * Checking now continues throughout the class to ensure all statements are grouped together
>     * This also ensures that empty lines are not requested after an import statement that isn't the last one
> * `Squiz.Functions.LowercaseFunctionKeywords` now enforces that the `fn` keyword is lowercase
>     * Thanks to MichaÅ‚ Bundyra for the patch
> * Fixed bug [#2586](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2586) : Generic.WhiteSpace.ScopeIndent false positives when indenting open tags at a non tab-stop
> * Fixed bug [#2638](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2638) : Squiz.CSS.DuplicateClassDefinitionSniff sees comments as part of the class name
>     * Thanks to Raphael Horber for the patch
> * Fixed bug [#2640](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2640) : Squiz.WhiteSpace.OperatorSpacing false positives for some negation operators
>     * Thanks to Jakub ChÃ¡bek and Juliette Reinders Folmer for the patch
> * Fixed bug [#2674](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2674) : Squiz.Functions.FunctionDeclarationArgumentSpacing prints wrong argument name in error message
> * Fixed bug [#2676](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2676) : PSR12.Files.FileHeader locks up when file ends with multiple inline comments
> * Fixed bug [#2678](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2678) : PSR12.Classes.AnonClassDeclaration incorrectly enforcing that closing brace be on a line by itself
> * Fixed bug [#2685](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2685) : File::getMethodParameters() setting typeHintEndToken for vars with no type hint
>     * Thanks to Juliette Reinders Folmer for the patch
></tr></table> ... (truncated)
</details>
<details>
<summary>Commits</summary>

- [`557a1fc`](https://github.com/squizlabs/PHP_CodeSniffer/commit/557a1fc7ac702c66b0bbfe16ab3d55839ef724cb) Prepare for 3.5.3 release
- [`68048f3`](https://github.com/squizlabs/PHP_CodeSniffer/commit/68048f3df9defae0d3995237dd5cdd1dc24dc6dc) Make it easier to detect we are running tests under a PEAR install so the exe...
- [`b3c7925`](https://github.com/squizlabs/PHP_CodeSniffer/commit/b3c7925e18b0367c4a751aaa43f6339d55fc3fb6) Travis: don't allow PHP 7.4 build to fail
- [`0676055`](https://github.com/squizlabs/PHP_CodeSniffer/commit/06760553d4b976cf0bd3c2adcb748402b6394cab) Merge branch 'feature/fn-closure-function-declaration-arg-spacing' of https:/...
- [`62ae7e7`](https://github.com/squizlabs/PHP_CodeSniffer/commit/62ae7e7e975720f3bba40a058d1670b92bd2707d) Adds support for array closures in Squiz.Functions.FunctionDeclarationArgumen...
- [`d6025fa`](https://github.com/squizlabs/PHP_CodeSniffer/commit/d6025fa59c879170b4087b52d256e6d7ce0880b3) Adds support for array closures in Generic.CodeAnalysis.UnusedFunctionParameter
- [`80ebd4a`](https://github.com/squizlabs/PHP_CodeSniffer/commit/80ebd4a1ab30971d40b71cf52685ae595b568482) CS fix: align array arrows
- [`e95c077`](https://github.com/squizlabs/PHP_CodeSniffer/commit/e95c0778b6cd88afa2cf09b7a574ab04a553a286) Adds support for PHP 7.4 arrow functions in PEAR.Functions.ValidDefaultValue ...
- [`68e0b06`](https://github.com/squizlabs/PHP_CodeSniffer/commit/68e0b062d012b93c7381096a6e14b6848cccfe27) Merge branch 'qa/optimize-imports' of https://github.com/michalbundyra/PHP_Co...
- [`04ab5a0`](https://github.com/squizlabs/PHP_CodeSniffer/commit/04ab5a0ea92dbd979477859a060dde539043d8b6) Fixed detection of scope closers when arrow functions used in ternary (ref [#2](https://github-redirect.dependabot.com/squizlabs/PHP_CodeSniffer/issues/2)...
- Additional commits viewable in [compare view](https://github.com/squizlabs/PHP_CodeSniffer/compare/3.4.2...3.5.3)
</details>
<br />

[![Dependabot compatibility score](https://api.dependabot.com/badges/compatibility_score?dependency-name=squizlabs/php_codesniffer&package-manager=composer&previous-version=3.4.2&new-version=3.5.3)](https://dependabot.com/compatibility-score.html?dependency-name=squizlabs/php_codesniffer&package-manager=composer&previous-version=3.4.2&new-version=3.5.3)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language
- `@dependabot badge me` will comment on this PR with code to add a "Dependabot enabled" badge to your readme

Additionally, you can set the following in your Dependabot [dashboard](https://app.dependabot.com):
- Update frequency (including time of day and day of week)
- Pull request limits (per update run and/or open at any time)
- Automerge options (never/patch/minor, and dev/runtime dependencies)
- Out-of-range updates (receive only lockfile updates, if desired)
- Security updates (receive only security updates, if desired)



</details>
<!--

Do you want to ask a question? Are you looking for support? Roots Discourse is the best place for getting support: https://discourse.roots.io/

-->

* [X] I've read the [guidelines for Contributing to Roots Projects](https://github.com/roots/.github/blob/master/CONTRIBUTING.md)
* [X] This request isn't a duplicate of an existing issue
* [X] I've read the [docs](https://roots.io/documentation/) and followed them (if applicable)
* [X] This is not a personal support request that should be posted on the [Roots Discourse](https://discourse.roots.io/) community

## Description

When working on a site, I noticed that if I was to `error_log()` the `$_SERVER` variable that the following additional items would be available (name/user/password removed for bug report):
```
[DB_NAME] => {db_name}
[DB_USER] => {user}
[DB_PASSWORD] => {userspwd}
[WP_ENV] => production
[WP_HOME] => https://domain.test
[WP_SITEURL] => https://wp-boilerplate.test/wp
[AUTH_KEY] => generateme
[SECURE_AUTH_KEY] => generateme
[LOGGED_IN_KEY] => generateme
[NONCE_KEY] => generateme
[AUTH_SALT] => generateme
[SECURE_AUTH_SALT] => generateme
[LOGGED_IN_SALT] => generateme
[NONCE_SALT] => generateme
```

## Steps to reproduce

1. Create a local install, use any environment
2. simply `var_dump()` or `error_log()` the `$_SERVER` var
3. See results

**Expected behavior:** These sensitive data shouldn't be available via that variable

**Actual behavior:** These sensitive data shouldn't be able to output

**Reproduces how often:** 100%

## Versions

Bedrock Install: 1.12.8: 2019-09-05
macOS: 10.14.6
laravel/valet 2.3.3

## Additional information

Basic Sage 9 with Bedrocks install on local.
- **Opinionated change**: Clean up existing docblocks as well as make them more uniform across the entire package.
<!--

Do you want to ask a question? Are you looking for support? Roots Discourse is the best place for getting support: https://discourse.roots.io/

-->

* [x] I've read the [guidelines for Contributing to Roots Projects](https://github.com/roots/.github/blob/master/CONTRIBUTING.md)
* [x] This request isn't a duplicate of an existing issue
* [x] I've read the [docs](https://roots.io/documentation/) and followed them (if applicable)
* [x] This is not a personal support request that should be posted on the [Roots Discourse](https://discourse.roots.io/) community

## Description

New post fails after changing permalink

## Steps to reproduce

1 docker-compose.yml

```
version: "2"
services:
  apache-bedrock5:
    build:
      context: ./
      dockerfile: Dockerfile
    volumes:
      - ./bedrock:/var/www/html/bedrock:rw
      - ./etc:/etc/apache2
    environment:
      VIRTUAL_HOST: example.com
      WORDPRESS_DB_PASSWORD: root
      CERT_NAME: default
    depends_on:
      - bedrockmysql
    restart: always
    tty: true
    logging:
      options:
        max-size: 5m
        max-file: "10"

  bedrockmysql:
    image: mysql:5.7
    volumes:
            - ./mysql_init:/docker-entrypoint-initdb.d
    environment:
      MYSQL_ROOT_PASSWORD: root
    restart: always
    logging:
      options:
        max-size: 5m
        max-file: "10"

networks:
  default:
    external:
      name: shared
```

2 Dockerfile

```
FROM php:7.3.7-apache

RUN php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');" && \
    php -r "if (hash_file('sha384', 'composer-setup.php') === '48e3236262b34d30969dca3c37281b3b4bbe3221bda826ac6a9a62d6444cdb0dcd0615698a5cbe587c3f0fe57a54d8f5') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;" && \
    php composer-setup.php && \
    php -r "unlink('composer-setup.php');" && \
    mv composer.phar /usr/local/bin/composer && \
    apt update && \
    docker-php-ext-install pdo_mysql mysqli mbstring && \
    apt install zip unzip && \
    apt install -y procps && \
    composer create-project roots/bedrock && \
    chown www-data:www-data -R /var/www/html/bedrock

EXPOSE 80

```
â€¨Â 
3 .env

```
#DB_NAME=bedrockmysql
#DB_USER=root
#DB_PASSWORD=root

# Optionally, you can use a data source name (DSN)
# When using a DSN, you can remove the DB_NAME, DB_USER, DB_PASSWORD, and DB_HOST variables
# DATABASE_URL=mysql://database_user:database_password@database_host:database_port/database_name
DATABASE_URL=mysql://root:root@172.20.0.3:3306/bedrockmysql

# Optional variables
#DB_HOST=bedrockmysql:3306
#DB_PREFIX=wp_

#WP_ENV=newsun
#I modified
WP_HOME=https://example.com
WP_SITEURL=${WP_HOME}/wp

# Generate your keys here: https://roots.io/salts.html
AUTH_KEY='****************************************************************'
SECURE_AUTH_KEY='****************************************************************'
LOGGED_IN_KEY='****************************************************************'
NONCE_KEY='****************************************************************'
AUTH_SALT='****************************************************************'
SECURE_AUTH_SALT='****************************************************************'
LOGGED_IN_SALT='****************************************************************'
NONCE_SALT='****************************************************************'â€¨Â 

```

4 docker-compose up -d --build
Â 
5 Container launch

â€¨â€¨6 Install WordPress 
Access to wp/wp-admin/post.phpâ€¨Â 

7 Post published
Access to wp/wp-admin/post.php
<img width="1332" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-07-27 14 49 05" src="https://user-images.githubusercontent.com/22230993/61991086-5504e080-b086-11e9-8c99-27cf14fdcb9b.png">
Â 
8 Changing permalink to Post nameâ€¨
Access to wp/wp-admin/options-permalink.phpâ€¨Â 
<img width="1600" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-07-27 14 10 42" src="https://user-images.githubusercontent.com/22230993/61991103-6cdc6480-b086-11e9-9dae-24905a1756ed.png">

9 Post published again


10 Publishing failed
<img width="1135" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-07-27 14 04 43" src="https://user-images.githubusercontent.com/22230993/61991106-749c0900-b086-11e9-8f87-dd070054df8c.png">

**Expected behavior:** I want to use 'post name' for posting new noteâ€¨â€¨

**Actual behavior:** Publishing failed

**Reproduces how often:** [100%]

## Versions

1.12.7

## What I want to ask you

I have not identified the cause.â€¨if you need more information, feel free to ask me.
We've [struggled](https://github.com/roots/bedrock/issues/154) with a good way of using WP caching plugins in the past with Bedrock due to limitations with WP itself and how the plugins worked.

These plugins rely on "drop-ins" which are counter to Bedrock's goals because they conflict with proper version control.

The good news is that as of WordPress 5.1, [object caches](https://core.trac.wordpress.org/ticket/22661) can be properly conditionally loaded. Before these plugins instructed people to manually copy `object-cache.php` into the WP content dir (`/app` in Bedrock) or they'd try and use the WP filesystem API to do it themselves. Or you needed [really ugly hacks](https://webdevstudios.com/2015/11/03/loading-the-optimal-wordpress-object-cache-implementation-in-your-production-staging-and-local-development-environments/).

## Solution

With this fixed in 5.1, Bedrock could include a standard `app/object-cache.php` file which would act as a *loader* only. Depending on some configuration value(s), it would require a file in a plugin. If not, the default WP object cache behaviour would happen as usual because a`wp_cache_init` function wasn't defined.

Ignoring the hacks that were previously necessary, even the past solutions had hardcoded assumptions about class names or globals. Example: https://gist.github.com/bjornjohansen/eefbe3bfa4f5f0270a3e#file-object-cache-php-L11-L28

Ideally we just rely on Bedrock's configuration model to handle this properly. I'm not exactly sure the best way to do this yet since we'd need to require an actual filepath within a plugin. Most of these plugins have the standard `<plugin_name>/object-cache.php` but we may not be able to rely on that.

The simplest solution is:

```php
Config::define('OBJECT_CACHE_PLUGIN_FILEPATH', 'plugin-name/src/object-cache.php');
```

If `OBJECT_CACHE_PLUGIN_FILEPATH` is defined, then the loaded requires it. If not, nothing happens as usual.

### Composer metadata
It would be nice if object cache plugins could set this via metadata in their Composer package and then Bedrock could use it. But I'm not sure how realistic it is to get these developers to add that (or how it would actually work yet).

Feedback on this is welcome ðŸ˜„ 

cc @austinpray @QWp6t 
* [x] I've read the [guidelines for Contributing to Roots Projects](https://github.com/roots/.github/blob/master/CONTRIBUTING.md)
* [x] This request isn't a duplicate of an existing request
* [x] This is not a personal support request that should be posted on the [Roots Discourse](https://discourse.roots.io/) community

## Summary

I suggest bedrock `composer.json` depends upon `wikimedia/composer-merge-plugin` to provide an easier and clean extensibility method.

## Motivation

_bedrock_ is used as a boilerplate from which one creates WordPress plugins/themes set.
The main (if not sole) modification ever done is probably inside `composer.json`.
But changes from bedrock (mostly WP releases) are subject to small `composer.json` merges in the `requires` section. While that's the point of a boilerplate, that's a small (avoidable) annoyance.
`wikimedia/composer-merge-plugin` could limit, if not avoid, that.

## Additional context

`wikimedia/composer-merge-plugin` provides a way for `composer` to include external `composer` section which are merged inside the main one.

Example of suggested modifications:
```diff
--- a/composer.json
+++ b/composer.json
@@ -39,7 +39,8 @@
     "oscarotero/env": "^1.1.0",
     "roots/wordpress": "5.2",
     "roots/wp-config": "1.0.0",
-    "roots/wp-password-bcrypt": "1.0.0"
+    "roots/wp-password-bcrypt": "1.0.0",
+    "wikimedia/composer-merge-plugin": "dev-master"
   },
   "require-dev": {
     "squizlabs/php_codesniffer": "^3.0.2",
```

And adding a default `extra` section:
```js
    "merge-plugin": {
      "replace": true,
      "merge-extra": true,
      "include": [
        "bedrock-ext-*.json"
      ],
      "recurse": false
    }
```

That way, one would just build it's bedrock _flavor_ by add its composer files named `bedrock-ext-*.json`. No conflict/merge when upstream is updated.
