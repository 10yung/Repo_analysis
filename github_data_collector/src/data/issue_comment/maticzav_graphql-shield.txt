I'm using graphql-shield with Apollo Federation 

## To Reproduce
```js
const permissions = shield({
  Company: and(isAuthenticated, or(and(isEmployee, userExists), isAdmin)),
  Query: {
    '*': deny, // This will make sure you will add a handler to the rule
    company: and(isAuthenticated, or(and(isEmployee, userExists), isAdmin)),
    clinic: and(isAuthenticated, or(and(isEmployee, userExists), isAdmin)),
    me: and(isAuthenticated, isEmployee),
  },
  Mutation: {
    '*': deny, // This will make sure you will add handler to the rule
    createClinic: and(isAuthenticated, or(and(isEmployee, userExists), isAdmin)),
  }
});
```


In order to make it work I use these permissions:

```ts
const permissions = shield({
  Company: and(isAuthenticated, or(and(isEmployee, userExists), isAdmin)),
  Query: {
    '*': deny, // This will make sure you will add handler to the rule
    _service: allow,
    _entities: allow,
    companies: and(isAuthenticated, isAdmin),
    clinic: and(isAuthenticated, or(and(isEmployee, userExists), isAdmin)),
    me: and(isAuthenticated, isEmployee),
  },
  Mutation: {
    '*': deny, // This will make sure you will add handler to the rule
    createClinic: and(isAuthenticated, or(and(isEmployee, userExists), isAdmin)),
  }
});
```

This is the error I see

When I deploy this and graphql-gateway tries to fetch the data for the service it fails with error:
```js
{
    message: 'Not Authorised!',
    locations: [ [Object] ],
    path: [ '_service' ],
    extensions: { code: 'INTERNAL_SERVER_ERROR', exception: [Object] }
  }
```

## Expected behavior

`'*': deny` should not affect default federation fields


Bumps [handlebars](https://github.com/wycats/handlebars.js) from 4.1.2 to 4.7.0.
<details>
<summary>Changelog</summary>

*Sourced from [handlebars's changelog](https://github.com/wycats/handlebars.js/blob/v4.7.0/release-notes.md).*

> ## v4.7.0 - January 10th, 2020
> 
> Features:
> 
> - feat: default options for controlling proto access - 7af1c12, [#1635](https://github-redirect.dependabot.com/wycats/handlebars.js/issues/1635)
>   - This makes it possible to disable the prototype access restrictions added in 4.6.0
>   - an error is logged in the console, if access to prototype properties is attempted and denied
>     and no explicit configuration has taken place.
> 
> Compatibility notes:
> 
> - no compatibilities are expected
> 
> [Commits](https://github.com/wycats/handlebars.js/compare/v4.6.0...v4.7.0)
> 
> ## v4.6.0 - January 8th, 2020
> 
> Features:
> 
> - feat: access control to prototype properties via whitelist ([#1633](https://github-redirect.dependabot.com/wycats/handlebars.js/issues/1633))- d03b6ec
> 
> Bugfixes:
> 
> - fix(runtime.js): partials compile not caching ([#1600](https://github-redirect.dependabot.com/wycats/handlebars.js/issues/1600)) - 23d58e7
> 
> Chores, docs:
> 
> - various refactorings and improvements to tests - d7f0dcf, 187d611, d337f40
> - modernize the build-setup
>   - use prettier to format and eslint to verify - c40d9f3, 8901c28, e97685e, 1f61f21
>   - use nyc instead of istanbul to collect coverage - 164b7ff, 1ebce2b
>   - update build code to use modern javascript and make it cleaner - 14b621c, 1ec1737, 3a5b65e, dde108e, 04b1984, 587e7a3
>   - restructur build commands - e913dc5,
> - eslint rule changes - ac4655e, dc54952
> - Update (C) year in the LICENSE file - d1fb07b
> - chore: try to fix saucelabs credentials ([#1627](https://github-redirect.dependabot.com/wycats/handlebars.js/issues/1627)) -
> - Update readme.md with updated links ([#1620](https://github-redirect.dependabot.com/wycats/handlebars.js/issues/1620)) - edcc84f
> 
> BREAKING CHANGES:
> 
> - access to prototype properties is forbidden completely by default,
>   specific properties or methods can be allow via runtime-options.
>   See [#1633](https://github-redirect.dependabot.com/wycats/handlebars.js/issues/1633) for details.
>   If you are using Handlebars as documented, you should not be accessing prototype
>   properties from your template anyway, so the changes should not be a problem
>   for you. Only the use of undocumented features can break your build.
> 
>   That is why we only bump the minor version despite mentioning breaking changes
> 
> [Commits](https://github.com/wycats/handlebars.js/compare/v4.5.3...v4.6.0)
></tr></table> ... (truncated)
</details>
<details>
<summary>Commits</summary>

- [`0d5c807`](https://github.com/wycats/handlebars.js/commit/0d5c807017f8ba6c6d947f9d6852033c8faa2e49) v4.7.0
- [`1f0834b`](https://github.com/wycats/handlebars.js/commit/1f0834b1a2937150923f9de849b9612bd1969d11) Update release notes
- [`575d877`](https://github.com/wycats/handlebars.js/commit/575d8772e2ccf05da235c596dd3405ae74194e1b) fix: use "logger" instead of console.error
- [`7af1c12`](https://github.com/wycats/handlebars.js/commit/7af1c12db6222ab4b689bb60820628209d295049) feat: default options for controlling proto access
- [`91a1b5d`](https://github.com/wycats/handlebars.js/commit/91a1b5d2f456cb733cbd88149fc9270973db79d7) v4.6.0
- [`770d746`](https://github.com/wycats/handlebars.js/commit/770d746e600eb1939501ab91d4bc81ed6b4cde94) Update release notes
- [`d7f0dcf`](https://github.com/wycats/handlebars.js/commit/d7f0dcf2bb91a1d27961941995d75c9800efc7ba) refactor: fix typo in private test method
- [`187d611`](https://github.com/wycats/handlebars.js/commit/187d611e8c2a7dc849f62f283ac70714fa637e84) test: add path to nodeJs when running test:bin
- [`d337f40`](https://github.com/wycats/handlebars.js/commit/d337f40d0efd59e163f871ed7a73e900322473a6) test: show diff when test:bin fails
- [`d03b6ec`](https://github.com/wycats/handlebars.js/commit/d03b6ecfc44e350fd08df752a9551d824287d7f5) feat: access control to prototype properties via whitelist
- Additional commits viewable in [compare view](https://github.com/wycats/handlebars.js/compare/v4.1.2...v4.7.0)
</details>
<br />

[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=handlebars&package-manager=npm_and_yarn&previous-version=4.1.2&new-version=4.7.0)](https://help.github.com/articles/configuring-automated-security-fixes)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/maticzav/graphql-shield/network/alerts).

</details>
Bumps [npm](https://github.com/npm/cli) from 6.9.0 to 6.13.6.
<details>
<summary>Release notes</summary>

*Sourced from [npm's releases](https://github.com/npm/cli/releases).*

> ## v6.13.6
> ## 6.13.6 (2020-01-09)
> 
> ### DEPENDENCIES
> 
> * [`6dba897a1`](https://github.com/npm/cli/commit/6dba897a1e2d56388fb6df0c814b0bb85af366b4) `pacote@9.5.12`:
>     * [`d2f4176`](https://github.com/npm/pacote/commit/d2f4176b6af393d7e29de27e9b638dbcbab9a0c7) fix(git): Do not drop uid/gid when executing in root-owned directory ([@&#8203;isaacs](https://github.com/isaacs))
> 
> ## v6.13.5
> ## 6.13.5 (2020-01-09)
> 
> ### BUG FIXES
> 
> * [`fd0a802ec`](https://github.com/npm/cli/commit/fd0a802ec468ec7b98d6c15934c355fef0e7ff60) [#550](https://github-redirect.dependabot.com/npm/cli/pull/550) Fix cache location for `npm ci` ([@&#8203;zhenyavinogradov](https://github.com/zhenyavinogradov))
> * [`4b30f3cca`](https://github.com/npm/cli/commit/4b30f3ccaebf50d6ab3bad130ff94827c017cc16) [#648](https://github-redirect.dependabot.com/npm/cli/pull/648) fix(version): using 'allow-same-version', git commit --allow-empty and git tag -f ([@&#8203;rhengles](https://github.com/rhengles))
> 
> ### TESTING
> 
> * [`e16f68d30`](https://github.com/npm/cli/commit/e16f68d30d59ce1ddde9fe62f7681b2c07fce84d) test(ci): add failing cache config test ([@&#8203;ruyadorno](https://github.com/ruyadorno))
> * [`3f009fbf2`](https://github.com/npm/cli/commit/3f009fbf2c42f68c5127efecc6e22db105a74fe0) [#659](https://github-redirect.dependabot.com/npm/cli/pull/659) test: fix bin-overwriting test on Windows ([@&#8203;isaacs](https://github.com/isaacs))
> * [`43ae0791f`](https://github.com/npm/cli/commit/43ae0791f74f68e02850201a64a6af693657b241) [#601](https://github-redirect.dependabot.com/npm/cli/pull/601) ci: Allow builds to run even if one fails ([@&#8203;XhmikosR](https://github.com/XhmikosR))
> * [`4a669bee4`](https://github.com/npm/cli/commit/4a669bee4ac54c70adc6979d45cd0605b6dc33fd) [#603](https://github-redirect.dependabot.com/npm/cli/pull/603) Remove the unused appveyor.yml ([@&#8203;XhmikosR](https://github.com/XhmikosR))
> * [`9295046ac`](https://github.com/npm/cli/commit/9295046ac92bbe82f4d84e1ec90cc81d3b80bfc7) [#600](https://github-redirect.dependabot.com/npm/cli/pull/600) ci: switch to `actions/checkout@v2` ([@&#8203;XhmikosR](https://github.com/XhmikosR))
> 
> ### DOCUMENTATION
> 
> * [`f2d770ac7`](https://github.com/npm/cli/commit/f2d770ac768ea84867772b90a3c9acbdd0c1cb6a) [#569](https://github-redirect.dependabot.com/npm/cli/pull/569) fix netlify publish path config ([@&#8203;claudiahdz](https://github.com/claudiahdz))
> * [`462cf0983`](https://github.com/npm/cli/commit/462cf0983dbc18a3d93f77212ca69f878060b2ec) [#627](https://github-redirect.dependabot.com/npm/cli/pull/627) update gatsby dependencies ([@&#8203;felixonmars](https://github.com/felixonmars))
> * [`6fb5dbb72`](https://github.com/npm/cli/commit/6fb5dbb7213c4c050c9a47a7d5131447b8b7dcc8) [#532](https://github-redirect.dependabot.com/npm/cli/pull/532) docs: clarify usage of global prefix ([@&#8203;jgehrcke](https://github.com/jgehrcke))
> 
> 
> ## v6.13.4
> ## 6.13.4 (2019-12-11)
> 
> ## BUGFIXES
> 
> * [`320ac9aee`](https://github.com/npm/cli/commit/320ac9aeeafd11bb693c53b31148b8d10c4165e8) [npm/bin-links#12](https://github-redirect.dependabot.com/npm/bin-links/pull/12) [npm/gentle-fs#7](https://github-redirect.dependabot.com/npm/gentle-fs/pull/7) Do not remove global bin/man links inappropriately ([@&#8203;isaacs](https://github.com/isaacs))
> 
> ## DEPENDENCIES
> 
> * [`52fd21061`](https://github.com/npm/cli/commit/52fd21061ff8b1a73429294620ffe5ebaaa60d3e) `gentle-fs@2.3.0` ([@&#8203;isaacs](https://github.com/isaacs))
> * [`d06f5c0b0`](https://github.com/npm/cli/commit/d06f5c0b0611c43b6e70ded92af24fa5d83a0f48) `bin-links@1.1.6` ([@&#8203;isaacs](https://github.com/isaacs))
> 
> ## v6.13.3
> ## 6.13.3 (2019-12-09)
> 
> ### DEPENDENCIES
> 
> * [`19ce061a2`](https://github.com/npm/cli/commit/19ce061a2ee165d8de862c8f0f733c222846b9e1) `bin-links@1.1.5` Properly normalize, sanitize, and verify `bin` entries in `package.json`.
> * [`59c836aae`](https://github.com/npm/cli/commit/59c836aae8d0104a767e80c540b963c91774012a) `npm-packlist@1.4.7`
></tr></table> ... (truncated)
</details>
<details>
<summary>Changelog</summary>

*Sourced from [npm's changelog](https://github.com/npm/cli/blob/latest/CHANGELOG.md).*

> ## 6.13.6 (2020-01-09)
> 
> ### DEPENDENCIES
> 
> * [`6dba897a1`](https://github.com/npm/cli/commit/6dba897a1e2d56388fb6df0c814b0bb85af366b4)
>   `pacote@9.5.12`:
>     * [`d2f4176`](https://github.com/npm/pacote/commit/d2f4176b6af393d7e29de27e9b638dbcbab9a0c7)
>       fix(git): Do not drop uid/gid when executing in root-owned directory
>       ([@&#8203;isaacs](https://github.com/isaacs))
> 
> ## 6.13.5 (2020-01-09)
> 
> ### BUG FIXES
> 
> * [`fd0a802ec`](https://github.com/npm/cli/commit/fd0a802ec468ec7b98d6c15934c355fef0e7ff60) [#550](https://github-redirect.dependabot.com/npm/cli/pull/550) Fix cache location for `npm ci` ([@&#8203;zhenyavinogradov](https://github.com/zhenyavinogradov))
> * [`4b30f3cca`](https://github.com/npm/cli/commit/4b30f3ccaebf50d6ab3bad130ff94827c017cc16) [#648](https://github-redirect.dependabot.com/npm/cli/pull/648) fix(version): using 'allow-same-version', git commit --allow-empty and git tag -f ([@&#8203;rhengles](https://github.com/rhengles))
> 
> ### TESTING
> 
> * [`e16f68d30`](https://github.com/npm/cli/commit/e16f68d30d59ce1ddde9fe62f7681b2c07fce84d) test(ci): add failing cache config test ([@&#8203;ruyadorno](https://github.com/ruyadorno))
> * [`3f009fbf2`](https://github.com/npm/cli/commit/3f009fbf2c42f68c5127efecc6e22db105a74fe0) [#659](https://github-redirect.dependabot.com/npm/cli/pull/659) test: fix bin-overwriting test on Windows ([@&#8203;isaacs](https://github.com/isaacs))
> * [`43ae0791f`](https://github.com/npm/cli/commit/43ae0791f74f68e02850201a64a6af693657b241) [#601](https://github-redirect.dependabot.com/npm/cli/pull/601) ci: Allow builds to run even if one fails ([@&#8203;XhmikosR](https://github.com/XhmikosR))
> * [`4a669bee4`](https://github.com/npm/cli/commit/4a669bee4ac54c70adc6979d45cd0605b6dc33fd) [#603](https://github-redirect.dependabot.com/npm/cli/pull/603) Remove the unused appveyor.yml ([@&#8203;XhmikosR](https://github.com/XhmikosR))
> * [`9295046ac`](https://github.com/npm/cli/commit/9295046ac92bbe82f4d84e1ec90cc81d3b80bfc7) [#600](https://github-redirect.dependabot.com/npm/cli/pull/600) ci: switch to `actions/checkout@v2` ([@&#8203;XhmikosR](https://github.com/XhmikosR))
> 
> ### DOCUMENTATION
> 
> * [`f2d770ac7`](https://github.com/npm/cli/commit/f2d770ac768ea84867772b90a3c9acbdd0c1cb6a) [#569](https://github-redirect.dependabot.com/npm/cli/pull/569) fix netlify publish path config ([@&#8203;claudiahdz](https://github.com/claudiahdz))
> * [`462cf0983`](https://github.com/npm/cli/commit/462cf0983dbc18a3d93f77212ca69f878060b2ec) [#627](https://github-redirect.dependabot.com/npm/cli/pull/627) update gatsby dependencies ([@&#8203;felixonmars](https://github.com/felixonmars))
> * [`6fb5dbb72`](https://github.com/npm/cli/commit/6fb5dbb7213c4c050c9a47a7d5131447b8b7dcc8)
>   [#532](https://github-redirect.dependabot.com/npm/cli/pull/532) docs: clarify usage of global prefix ([@&#8203;jgehrcke](https://github.com/jgehrcke))
> 
> ## 6.13.4 (2019-12-11)
> 
> ## BUGFIXES
> 
> * [`320ac9aee`](https://github.com/npm/cli/commit/320ac9aeeafd11bb693c53b31148b8d10c4165e8)
>   [npm/bin-links#12](https://github-redirect.dependabot.com/npm/bin-links/pull/12)
>   [npm/gentle-fs#7](https://github-redirect.dependabot.com/npm/gentle-fs/pull/7)
>   Do not remove global bin/man links inappropriately
>   ([@&#8203;isaacs](https://github.com/isaacs))
> 
> ## DEPENDENCIES
> 
> * [`52fd21061`](https://github.com/npm/cli/commit/52fd21061ff8b1a73429294620ffe5ebaaa60d3e)
>   `gentle-fs@2.3.0`
>   ([@&#8203;isaacs](https://github.com/isaacs))
> * [`d06f5c0b0`](https://github.com/npm/cli/commit/d06f5c0b0611c43b6e70ded92af24fa5d83a0f48)
>   `bin-links@1.1.6`
>   ([@&#8203;isaacs](https://github.com/isaacs))
></tr></table> ... (truncated)
</details>
<details>
<summary>Commits</summary>

- [`ac3739f`](https://github.com/npm/cli/commit/ac3739fe86077c2034a3d42e3107c2abcb23458f) 6.13.6
- [`c56c847`](https://github.com/npm/cli/commit/c56c847cf1cbb50c7b70553db54017460cd5e931) docs: changelog for 6.13.6
- [`6dba897`](https://github.com/npm/cli/commit/6dba897a1e2d56388fb6df0c814b0bb85af366b4) pacote@9.5.12
- [`787bb66`](https://github.com/npm/cli/commit/787bb66a6f2870bb6b930c9f075520c4b544c836) 6.13.5
- [`e099866`](https://github.com/npm/cli/commit/e099866e09ba61ce769f830924f1b4af6541b1a3) update AUTHORS
- [`4812866`](https://github.com/npm/cli/commit/4812866a2a172db15c7a67c354adc44532c76376) docs: changelog for 6.13.5
- [`6fb5dbb`](https://github.com/npm/cli/commit/6fb5dbb7213c4c050c9a47a7d5131447b8b7dcc8) npm-link: clarify usage of global prefix
- [`4b30f3c`](https://github.com/npm/cli/commit/4b30f3ccaebf50d6ab3bad130ff94827c017cc16) feat(version): using 'allow-same-version', git commit --allow-empty and git t...
- [`e0a7a2f`](https://github.com/npm/cli/commit/e0a7a2ffdd77909c198f7f91e9f4b60bc1ed77e0) chore: ci cleanup
- [`3f009fb`](https://github.com/npm/cli/commit/3f009fbf2c42f68c5127efecc6e22db105a74fe0) Fix bin-overwriting test on Windows
- Additional commits viewable in [compare view](https://github.com/npm/cli/compare/v6.9.0...v6.13.6)
</details>
<details>
<summary>Maintainer changes</summary>

This version was pushed to npm by [ruyadorno](https://www.npmjs.com/~ruyadorno), a new releaser for npm since your current version.
</details>
<br />

[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=npm&package-manager=npm_and_yarn&previous-version=6.9.0&new-version=6.13.6)](https://help.github.com/articles/configuring-automated-security-fixes)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/maticzav/graphql-shield/network/alerts).

</details>
This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [semantic-release](https://togithub.com/semantic-release/semantic-release) | devDependencies | major | [`15.14.0` -> `16.0.2`](https://renovatebot.com/diffs/npm/semantic-release/15.14.0/16.0.2) |

---

### Release Notes

<details>
<summary>semantic-release/semantic-release</summary>

### [`v16.0.2`](https://togithub.com/semantic-release/semantic-release/releases/v16.0.2)

[Compare Source](https://togithub.com/semantic-release/semantic-release/compare/v16.0.1...v16.0.2)

##### Bug Fixes

-   fetch tags on repo cached by the CI ([6b5b02e](https://togithub.com/semantic-release/semantic-release/commit/6b5b02ea755b74e1c2ea9a2dfff6576f5f15e870))

### [`v16.0.1`](https://togithub.com/semantic-release/semantic-release/releases/v16.0.1)

[Compare Source](https://togithub.com/semantic-release/semantic-release/compare/v16.0.0...v16.0.1)

##### Bug Fixes

-   **package:** update env-ci to version 5.0.0 ([3739ab5](https://togithub.com/semantic-release/semantic-release/commit/3739ab5f34454321aad2bf36f3a5ec03da004d33))

### [`v16.0.0`](https://togithub.com/semantic-release/semantic-release/releases/v16.0.0)

[Compare Source](https://togithub.com/semantic-release/semantic-release/compare/v15.14.0...v16.0.0)

##### BREAKING CHANGES

-   ⚠️ For `v16.0.0@&#8203;beta` users only:

    In v16, a JSON object stored in a [Git note](https://git-scm.com/docs/git-notes) is used to keep track of the channels on which a version has been released, the `@{channel}` suffix is no longer necessary. 

    The tags formatted as v{version}@&#8203;{channel} will now be ignored. If you have releases using this format you will have to upgrade them:

    -   Find all the versions that have been released on a branch other than the default one by searching for all tags formatted as `v{version}@&#8203;{channel}`
    -   For each of those version:
        -   Create a tag without the {[@&#8203;channel](https://togithub.com/channel)} if none doesn't already exists
        -   Add a Git note to the tag without the {[@&#8203;channel](https://togithub.com/channel)} containing the channels on which the version was released formatted as `{"channels":["channel1","channel2"]}` and using `null` for the default channel (for example.`{"channels":[null,"channel1","channel2"]}`)
        -   Push the tags and notes
        -   Update the GitHub releases that refer to a tag formatted as v{version}@&#8203;{channel} to use the tag without it
        -   Delete the tags formatted as v{version}@&#8203;{channel}

-   Require Node.js >= 10.13
-   Git CLI version 2.7.1 or higher is now required: The `--merge` option of the `git tag` command has been added in Git version 2.7.1 and is now used by semantic-release
-   Regexp are not supported anymore for property matching in the `releaseRules` option.

    Regex are replaced by [globs](https://togithub.com/micromatch/micromatch#matching-features). For example `/core-.*/` should be changed to `'core-*'`.

-   The `branch` option has been removed in favor of `branches`

-   The new `branches` option expect either an Array or a single branch definition. To migrate your configuration:
    -   If you want to publish package from multiple branches, please see the configuration documentation
    -   If you use the default configuration and want to publish only from `master`: nothing to change
    -   If you use the `branch` configuration and want to publish only from one branch: replace `branch` with `branches` (`"branch": "my-release-branch"` => `"branches": "my-release-branch"`)

##### Features

-   allow `addChannel` plugins to return `false` in order to signify no release was done ([e1c7269](https://togithub.com/semantic-release/semantic-release/commit/e1c7269cb3af0d84c28fd3c4a5ce61ae4b625924))
-   allow `publish` plugins to return `false` in order to signify no release was done ([47484f5](https://togithub.com/semantic-release/semantic-release/commit/47484f5eb2fa330cbbbb03bffadba524ad642081))
-   allow to release any version on a branch if up to date with next branch ([916c268](https://togithub.com/semantic-release/semantic-release/commit/916c2685c57f3490fb1e50afbf72ea8dce11e188))
-   support multiple branches and distribution channels ([7b40524](https://togithub.com/semantic-release/semantic-release/commit/7b4052470b23261c9e679a17bff034da311fd894))
-   use Git notes to store the channels on which a version has been released ([b2c1b2c](https://togithub.com/semantic-release/semantic-release/commit/b2c1b2c670f8f2dd4da71721ffb329c26e8d2cd7))
-   **package:** update [@&#8203;semantic-release/commit-analyzer](https://togithub.com/semantic-release/commit-analyzer) to version 7.0.0 ([e63e753](https://togithub.com/semantic-release/semantic-release/commit/e63e753cf09b2c3b51db00097bceade0893d3eaf))

##### Performance Improvements

-   use `git tag --merge <branch>` to filter tags present in a branch history ([cffe9a8](https://togithub.com/semantic-release/semantic-release/commit/cffe9a8d338f1d4be899fef4495504eda8a4031e))

##### Bug Fixes

-   add `channel` to publish success log ([5744c5e](https://togithub.com/semantic-release/semantic-release/commit/5744c5ecd2025d2bda7983f6e225ade1dff0f00c))
-   add a flag indicate which branch is the main one ([2caafba](https://togithub.com/semantic-release/semantic-release/commit/2caafbaa2be54330b5b3e6dd71dda0270b566663))
-   Add helpful detail to `ERELEASEBRANCHES` error message ([#&#8203;1188](https://togithub.com/semantic-release/semantic-release/issues/1188)) ([37bcc9e](https://togithub.com/semantic-release/semantic-release/commit/37bcc9e51536bccdfe47c6cbf911234a65b32787))
-   allow multiple branches with same channel ([63f51ae](https://togithub.com/semantic-release/semantic-release/commit/63f51ae6ddfa824fa217ca196c4dd44915b80f2b))
-   allow to set `ci` option via API and config file ([2faff26](https://togithub.com/semantic-release/semantic-release/commit/2faff2637f49e3caf6e08c5b0de5e53f99e29ac7))
-   call `getTagHead` only when necessary ([de77a79](https://togithub.com/semantic-release/semantic-release/commit/de77a799a82cfe30aedc21dded61e39db2784a48))
-   call `success` plugin only once for releases added to a channel ([9a023b4](https://togithub.com/semantic-release/semantic-release/commit/9a023b40883d5eb825a36c540c57f71713a670c0))
-   correct log when adding channel to tag ([61665be](https://togithub.com/semantic-release/semantic-release/commit/61665be9ec7487c303509f19097f588d993ec155))
-   correctly determine next pre-release version ([0457a07](https://togithub.com/semantic-release/semantic-release/commit/0457a074e7694ec95e4e8a24a27f15658a339489))
-   correctly determine release to add to a channel ([aec96c7](https://togithub.com/semantic-release/semantic-release/commit/aec96c791f7413dace1bfdca08f7a5cd58cb0f5e))
-   correctly handle skipped releases ([89663d3](https://togithub.com/semantic-release/semantic-release/commit/89663d3fcfed34923289b12d4b2b5c509f4db321))
-   display erroring git commands properly ([1edae67](https://togithub.com/semantic-release/semantic-release/commit/1edae67326ecbb99d8b4be7e17a8ce4e14f439df))
-   do not call `addChannel`for 2 merged branches configured with the same channel ([4aad9cd](https://togithub.com/semantic-release/semantic-release/commit/4aad9cd49031a849216e71a1ce358ad0668e4d54))
-   do not create tags in dry-run mode for released to add to a channel ([97748c5](https://togithub.com/semantic-release/semantic-release/commit/97748c5e257b158b61e7eab1ae737180d0238301))
-   fetch all release branches on CI ([b729183](https://togithub.com/semantic-release/semantic-release/commit/b729183b4af2818c713634746628f68d06e3a8bc))
-   fix branch type regexp to handle version with multiple digits ([52ca0b3](https://togithub.com/semantic-release/semantic-release/commit/52ca0b391ccd7e31df0f2d7a125efd38e1b71b79))
-   fix maintenance branch regex ([a022996](https://togithub.com/semantic-release/semantic-release/commit/a0229962ceac2c9eb05499373c153c7b3dced382))
-   fix range regexp to handle version with multiple digits ([9a04e64](https://togithub.com/semantic-release/semantic-release/commit/9a04e64fab3ac8d7c6ea203ff29acb6d73e25246))
-   handle branch properties set to `false` ([751a5f1](https://togithub.com/semantic-release/semantic-release/commit/751a5f1349c6bf415f6eaae4631118f163e45b77))
-   harmonize parameters passed to `getError` ([f96c660](https://togithub.com/semantic-release/semantic-release/commit/f96c660c1b22fec29d87965838ef1493b87de114))
-   ignore lasst release only if pre-release on the same channel as current branch ([990e85f](https://togithub.com/semantic-release/semantic-release/commit/990e85f069d35d87b78292119f37e27b6031b56c))
-   increase next version on prerelease branch based on highest commit type ([9ecc7a3](https://togithub.com/semantic-release/semantic-release/commit/9ecc7a369cc75e7745f8748593df856b85bdb0ea))
-   look also for previous prerelease versions to determine the next one ([9772563](https://togithub.com/semantic-release/semantic-release/commit/9772563a22c4fd313eb8bbcdde948503ad1d3703))
-   modify fetch function to handle CircleCI specifics ([cbef9d1](https://togithub.com/semantic-release/semantic-release/commit/cbef9d18da0f5dcaf22e6c7d8737442f954a9481))
-   on maintenance branch add to channel only version >= to start range ([c22ae17](https://togithub.com/semantic-release/semantic-release/commit/c22ae17a9b10534ef87b66ae08a5c0c6d95e1269))
-   remove confusing logs when searching for releases to add to a channel ([162b4b9](https://togithub.com/semantic-release/semantic-release/commit/162b4b9e3bea940c63014d045e80b8fc21227ac1))
-   remove hack to workaround GitHub Rebase & Merge ([844e0b0](https://togithub.com/semantic-release/semantic-release/commit/844e0b07e04754c8185d9d88523c8afc236de02a))
-   remove unnecessary `await` ([9a1af4d](https://togithub.com/semantic-release/semantic-release/commit/9a1af4de44c4548137bf438df8f4ca10a07af63e))
-   simplify `get-tags` algorithm ([00420a8](https://togithub.com/semantic-release/semantic-release/commit/00420a83c0283e7b02a5385d78d0ec984120a852))
-   throws error if the commit associated with a tag cannot be found ([1317348](https://togithub.com/semantic-release/semantic-release/commit/131734873e904176044767ad929b5f53579556f6))
-   update plugin versions ([0785a84](https://togithub.com/semantic-release/semantic-release/commit/0785a844fa8ac1320383452ce531898be3b01f92))
-   update plugins dependencies ([9890584](https://togithub.com/semantic-release/semantic-release/commit/989058400785e0a1eefd70158f677de3be5a578d))
-   verify is branch is up to date by comparing remote and local HEAD ([a8747c4](https://togithub.com/semantic-release/semantic-release/commit/a8747c4f86a1947250aa86ab1869fb4bde10bb71))
-   remove unnecessary `branch` parameter from `push` function ([968b996](https://togithub.com/semantic-release/semantic-release/commit/968b9968a1a4dba8c638be071d0af59205257279))
-   revert to the correct refspec in fetch function ([9948a74](https://togithub.com/semantic-release/semantic-release/commit/9948a74347704b9a0bdd601ffc0ab08aaa4ae97a))
-   update plugins dependencies ([73f0c77](https://togithub.com/semantic-release/semantic-release/commit/73f0c775daf1167a0577425bb06149b4c7e3819f))
-   **repositoryUrl:** on beta repositoryUrl needs auth for pre-release flows ([#&#8203;1186](https://togithub.com/semantic-release/semantic-release/issues/1186)) ([3610422](https://togithub.com/semantic-release/semantic-release/commit/36104229593c167e9086bc5fd8a533117ee3b579))

</details>

---

### Renovate configuration

:date: **Schedule**: At any time (no schedule defined).

:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

:recycle: **Rebasing**: Whenever PR becomes conflicted, or if you modify the PR title to begin with "`rebase!`".

:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#maticzav/graphql-shield).
This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [husky](https://togithub.com/typicode/husky) | devDependencies | major | [`3.1.0` -> `4.0.10`](https://renovatebot.com/diffs/npm/husky/3.1.0/4.0.10) |

---

### Release Notes

<details>
<summary>typicode/husky</summary>

### [`v4.0.10`](https://togithub.com/typicode/husky/compare/v4.0.9...v4.0.10)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.9...v4.0.10)

### [`v4.0.9`](https://togithub.com/typicode/husky/releases/v4.0.9)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.8...v4.0.9)

-   Fix: read stdin from hook script ([#&#8203;645](https://togithub.com/typicode/husky/issues/645))

### [`v4.0.8`](https://togithub.com/typicode/husky/compare/v4.0.7...v4.0.8)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.7...v4.0.8)

### [`v4.0.7`](https://togithub.com/typicode/husky/releases/v4.0.7)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.6...v4.0.7)

-   Fix: Yarn when running inside `winpty` ([#&#8203;634](https://togithub.com/typicode/husky/issues/634))

### [`v4.0.6`](https://togithub.com/typicode/husky/releases/v4.0.6)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.5...v4.0.6)

-   Revert change in v4.0.5

### [`v4.0.5`](https://togithub.com/typicode/husky/releases/v4.0.5)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.4...v4.0.5)

-   Fix: use process.exit if install fails [#&#8203;633](https://togithub.com/typicode/husky/issues/633)

### [`v4.0.4`](https://togithub.com/typicode/husky/releases/v4.0.4)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.3...v4.0.4)

-   Fix: npm ignore `.eslintrc.js` ([#&#8203;627](https://togithub.com/typicode/husky/issues/627))

### [`v4.0.3`](https://togithub.com/typicode/husky/releases/v4.0.3)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.2...v4.0.3)

-   Fix: error message if trying to install in a non-git repo ([#&#8203;627](https://togithub.com/typicode/husky/issues/627))

### [`v4.0.2`](https://togithub.com/typicode/husky/releases/v4.0.2)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.1...v4.0.2)

-   Fix: show error message when hook fails

### [`v4.0.1`](https://togithub.com/typicode/husky/releases/v4.0.1)

[Compare Source](https://togithub.com/typicode/husky/compare/v4.0.0...v4.0.1)

-   Fix: make Yarn silent. When Husky was installed with Yarn 1.21.1, hooks output was too verbose ([#&#8203;626](https://togithub.com/typicode/husky/issues/626)).

### [`v4.0.0`](https://togithub.com/typicode/husky/releases/v4.0.0)

[Compare Source](https://togithub.com/typicode/husky/compare/v3.1.0...v4.0.0)

-   Support `Yarn v2` new Plug'n'Play feature (thanks to [@&#8203;arcanis](https://togithub.com/arcanis))
-   Improve path handling on Windows (in particular with `Cygwin` and `Cmdr`)
-   Remove `dependencies` and simplify code
-   **Breaking** requires `Node 10+`

**Thanks to all contributors and everyone who is supporting Husky on [Open Collective](https://opencollective.com/husky), [GitHub sponsors](https://togithub.com/sponsors/typicode) and [Patreon](https://www.patreon.com/typicode)!**

</details>

---

### Renovate configuration

:date: **Schedule**: At any time (no schedule defined).

:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

:recycle: **Rebasing**: Whenever PR becomes conflicted, or if you modify the PR title to begin with "`rebase!`".

:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#maticzav/graphql-shield).
Is there a way with GraphQL Shield to apply more advanced caching strategies to rules? Let's say I have a user who upgrades their account to give themselves increased permissions. At this point I'd want to evict the related items in the cache so that they were recalculated. Of course I'd want to do this across all hosts if my API was running across multiple servers. Do you have a recommended approach for such a scenario?
Hi.
I'm using prisma2 and nexus.

I wanted to prevent the field `role` from `User` to be written or read by non-admin users.
Then I set `role` from `User` Object Type to be allowed only for Admins.

```
export const permissions = shield(
  {
    Mutation: {
      createUser: isAuth,
      ...
    },
    User: {
      role: isAdmin,
    }
  }
)
```
Non-admins can't get `role` field, it works :smiley: 
The problem here is that Object Type `User` is being used only by responses. 
Nexus generates a lot of Input Types for User (`UserWhereInput`, `UserOrderByInput`, `UserUpdateManyMutationInput`, `UserUpdateInput`, `UserCreateInput`) and every Mutation or Query uses a different one as argument.

I tried like below, but it doesn't  work :cry: 

```
User: {
  role: isAdmin,
},
UserWhereInput: {
  role: isAdmin,
},
UserOrderByInput: {
  role: isAdmin,
},
UserUpdateManyMutationInput: {
  role: isAdmin,
},
UserUpdateInput: {
  role: isAdmin,
},
UserCreateInput: {
  role: isAdmin,
}
```
Do you guys know how to achieve this?
# Bug report

## Describe the bug

Given a schema

```gql
type User {
  name: String!
  token: String!
}

type Thread {
  members: [User]!
}
```

And permissions

```ts
User: {
  token: someRule
}
```

When running a query such that it violates the rule

```gql
... on Thread {
  members {
    name
    token
  }
}
```

Instead of permission error, I get an error

```
Cannot return null for non-nullable field User.name.
```

This seems to have something to do with a specific combination of having a list and nullability settings because here are a few examples of what can be changed either in schema or in a query so that I don't get this issue (meaning I get the correct permission error):

- if I request the same fields on a `User` that is not part of a list
  ```gql
  ... on User{
    name
    token
  }
  ```
- if I don't request the `name`
  ```gql
  ... on Thread {
    members {
      token
    }
  }
  ```
- if I make `name` nullable
  ```gql
  type User {
    name: String
    token: String!
  }
  ```
- if I make `User` non-nullable in `members`
  ```gql
  type Thread {
    members: [User!]!
  }
  ```

## Notes

Reproducible on the latest version of `graphql-shield`

# Feature request

## Is your feature request related to a problem? Please describe

Currently you can supply a `fallbackError` which is great but we can't really localize any of the error messages in my case because the language is attached to the context. I think it would make sense to allow a function inside the `fallbackError`.

## Describe the solution you'd like

```
{
	// ... other settings
	fallbackError: (args, ctx, info) => {
		// Perform localization or do custom logic
	}
}
```
# Bug report

## Describe the bug

When running the example `with-graphql-nexus` there are a few problems:
1. The `datamodel.prisma` seems to be out of date
    - `@id` modifier should be on the User's id tag
    - `@createdAt` and `@updatedAt` should be added as well
2. The `docker-compose.yml` has to have the version updated with the current prisma cli as well
3. When we run `prisma deploy` it doesn't generate the `./src/generated/nexus-prisma` directory. Which gives an error for the module not being found when running `yarn start`

## To Reproduce

Steps to reproduce the behavior, please provide code snippets or a repository:
1. The deployment steps in the README of `with-graphql-nexus` along with the fixes 1 and 2 above.
2. On the step with `yarn start` I get the error below, which I found is because the `./src/generated/nexus-prisma` directory isn't generated with `prisma deploy`
```ts
Error: Cannot find module '../generated/nexus-prisma'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/Users/alnim/Downloads/graphql-shield/examples/with-graphql-nexus/src/schema/index.js:4:23)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
```

## Expected behavior

`yarn start` should start the node server, with no errors. `prisma deploy` should generate the `nexus-prisma` directory.