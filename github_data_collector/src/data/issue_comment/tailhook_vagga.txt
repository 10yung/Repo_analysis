i have been facing busybox issue every time when i downloaded from the external source. latesti downloaded [busybox pro](https://apkadda.com/busybox-pro-apk/) from their and also working fine but after sometime facing issue.

thsi issue from app fault or developer side ?
Bumps [rack](https://github.com/rack/rack) from 2.0.1 to 2.0.8.
<details>
<summary>Changelog</summary>

*Sourced from [rack's changelog](https://github.com/rack/rack/blob/master/CHANGELOG.md).*

> # Changelog
> 
> All notable changes to this project will be documented in this file. For info on how to format all future additions to this file please reference [Keep A Changelog](https://keepachangelog.com/en/1.0.0/).
> 
> ## Unreleased
> 
> _Note: There are many unreleased changes in Rack (`master` is around 300 commits ahead of `2-0-stable`), and below is not an exhaustive list. If you would like to help out and document some of the unreleased changes, PRs are welcome._ 
> 
> ### Added
> 
> ### Changed
> 
> - Use `Time#httpdate` format for Expires, as proposed by RFC 7231. ([@&#8203;nanaya](https://github.com/nanaya))
> - Make `Utils.status_code` raise an error when the status symbol is invalid instead of `500`.
> - Rename `Request::SCHEME_WHITELIST` to `Request::ALLOWED_SCHEMES`.
> - Make `Multipart::Parser.get_filename` accept files with `+` in their name.
> - Add Falcon to the default handler fallbacks. ([@&#8203;ioquatix](https://github.com/ioquatix))
> - Update codebase to avoid string mutations in preparation for `frozen_string_literals`. ([@&#8203;pat](https://github.com/pat))
> - Change `MockRequest#env_for` to rely on the input optionally responding to `#size` instead of `#length`. ([@&#8203;janko](https://github.com/janko))
> - Rename `Rack::File` -> `Rack::Files` and add deprecation notice. ([@&#8203;postmodern](https://github.com/postmodern)).
> 
> ### Removed
> 
> ### Documentation
> 
> - Update broken example in `Session::Abstract::ID` documentation. ([tonytonyjan](https://github.com/tonytonyjan))
> - Add Padrino to the list of frameworks implmenting Rack. ([@&#8203;wikimatze](https://github.com/wikimatze))
> - Remove Mongrel from the suggested server options in the help output. ([@&#8203;tricknotes](https://github.com/tricknotes))
> - Replace `HISTORY.md` and `NEWS.md` with `CHANGELOG.md`. ([@&#8203;twitnithegirl](https://github.com/twitnithegirl))
> - Backfill `CHANGELOG.md` from 2.0.1 to 2.0.7 releases. ([@&#8203;drenmi](https://github.com/Drenmi))
> 
> ## [2.0.7] - 2019-04-02
> 
> ### Fixed
> 
> - Remove calls to `#eof?` on Rack input in `Multipart::Parser`, as this breaks the specification. ([@&#8203;matthewd](https://github.com/matthewd))
> - Preserve forwarded IP addresses for trusted proxy chains. ([@&#8203;SamSaffron](https://github.com/SamSaffron))
> 
> ## [2.0.6] - 2018-11-05
> 
> ### Fixed
> 
> - [[CVE-2018-16470](https://nvd.nist.gov/vuln/detail/CVE-2018-16470)] Reduce buffer size of `Multipart::Parser` to avoid pathological parsing. ([@&#8203;tenderlove](https://github.com/tenderlove))
> - Fix a call to a non-existing method `#accepts_html` in the `ShowExceptions` middleware. ([@&#8203;tomelm](https://github.com/tomelm))
> - [[CVE-2018-16471](https://nvd.nist.gov/vuln/detail/CVE-2018-16471)] Whitelist HTTP and HTTPS schemes in `Request#scheme` to prevent a possible XSS attack. ([@&#8203;PatrickTulskie](https://github.com/PatrickTulskie))
> 
> ## [2.0.5] - 2018-04-23
> 
> ### Fixed
> 
></tr></table> ... (truncated)
</details>
<details>
<summary>Commits</summary>

- [`e7ee459`](https://github.com/rack/rack/commit/e7ee459546d217f32afc83e0b168c5eb9f95d784) Bumping version
- [`f1a79b2`](https://github.com/rack/rack/commit/f1a79b208c4ea877420beee62646e0b146402bd0) Introduce a new base class to avoid breaking when upgrading
- [`5b1cab6`](https://github.com/rack/rack/commit/5b1cab667270d7ad1a4d2088adf5ff4eb9845496) Add a version prefix to the private id to make easier to migrate old values
- [`1e96e0f`](https://github.com/rack/rack/commit/1e96e0f197777458216bb3dfdbcce57a0bbba0c5) Fallback to the public id when reading the session in the pool adapter
- [`3ba123d`](https://github.com/rack/rack/commit/3ba123d278f1085ba78fc000df954e507af2d622) Also drop the session with the public id when destroying sessions
- [`6a04bbf`](https://github.com/rack/rack/commit/6a04bbf6b742c305d3a56f9bd6242e6c943cc2ad) Fallback to the legacy id when the new id is not found
- [`dc45a06`](https://github.com/rack/rack/commit/dc45a06b339c707c1f658c123ec7216151878f7a) Add the private id
- [`73a5f79`](https://github.com/rack/rack/commit/73a5f79f6854eed81ecc3e5fb9f8154e967ccc49) revert conditionals to master
- [`4e32262`](https://github.com/rack/rack/commit/4e322629e0c6698c75a3fb541a42571f8543c34c) remove NullSession
- [`1c7e3b2`](https://github.com/rack/rack/commit/1c7e3b259f0741c869dcfbabeb3e0670c4d3f848) remove || raise and get closer to master
- Additional commits viewable in [compare view](https://github.com/rack/rack/compare/2.0.1...2.0.8)
</details>
<br />

[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=rack&package-manager=bundler&previous-version=2.0.1&new-version=2.0.8)](https://help.github.com/articles/configuring-automated-security-fixes)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/tailhook/vagga/network/alerts).

</details>
Bumps [puma](https://github.com/puma/puma) from 3.6.2 to 3.12.2.
<details>
<summary>Release notes</summary>

*Sourced from [puma's releases](https://github.com/puma/puma/releases).*

> v3.12.1
> 
> ## v3.11.4
> No release notes provided.
> 
> ## 3.11.0 - Love Song
> ![download](https://user-images.githubusercontent.com/845662/33029347-9523b5a0-cdd5-11e7-9265-07410aefee52.png)
> 
> * 2 features:
>   * HTTP 103 Early Hints ([#1403](https://github-redirect.dependabot.com/puma/puma/issues/1403))
>   * 421/451 status codes now have correct status messages attached ([#1435](https://github-redirect.dependabot.com/puma/puma/issues/1435))
> 
> * 9 bugfixes:
>   * Environment config files (/config/puma/<ENV>.rb) load correctly ([#1340](https://github-redirect.dependabot.com/puma/puma/issues/1340))
>   * Specify windows dependencies correctly ([#1434](https://github-redirect.dependabot.com/puma/puma/issues/1434), [#1436](https://github-redirect.dependabot.com/puma/puma/issues/1436))
>   * puma/events required in test helper ([#1418](https://github-redirect.dependabot.com/puma/puma/issues/1418))
>   * Correct control CLI's option help text ([#1416](https://github-redirect.dependabot.com/puma/puma/issues/1416))
>   * Remove a warning for unused variable in mini_ssl ([#1409](https://github-redirect.dependabot.com/puma/puma/issues/1409))
>   * Correct pumactl docs argument ordering ([#1427](https://github-redirect.dependabot.com/puma/puma/issues/1427))
>   * Fix an uninitialized variable warning in server.rb ([#1430](https://github-redirect.dependabot.com/puma/puma/issues/1430))
>   * Fix docs typo/error in Launcher init ([#1429](https://github-redirect.dependabot.com/puma/puma/issues/1429))
>   * Deal with leading spaces in RUBYOPT ([#1455](https://github-redirect.dependabot.com/puma/puma/issues/1455))
> 
> * 2 other:
>   * Add docs about internals ([#1425](https://github-redirect.dependabot.com/puma/puma/issues/1425), [#1452](https://github-redirect.dependabot.com/puma/puma/issues/1452))
>   * Tons of test fixes from [@&#8203;MSP-Greg](https://github.com/MSP-Greg) ([#1439](https://github-redirect.dependabot.com/puma/puma/issues/1439), [#1442](https://github-redirect.dependabot.com/puma/puma/issues/1442), [#1464](https://github-redirect.dependabot.com/puma/puma/issues/1464))
> 
> ## 3.10.0 - Russell's Teapot
> ![teapot](https://user-images.githubusercontent.com/845662/29429700-d6c9e8e8-834e-11e7-8bc4-192b6e893838.jpg)
> 
> * 3 features:
>   * The status server has a new /gc and /gc-status command. ([#1384](https://github-redirect.dependabot.com/puma/puma/issues/1384))
>   * The persistent and first data timeouts are now configurable ([#1111](https://github-redirect.dependabot.com/puma/puma/issues/1111))
>   * Implemented RFC 2324 ([#1392](https://github-redirect.dependabot.com/puma/puma/issues/1392))
> 
> * 12 bugfixes:
>   * Not really a Puma bug, but [@&#8203;NickolasVashchenko](https://github.com/NickolasVashchenko) created a gem to workaround a Ruby bug that some users of Puma may be experiencing. See README for more. ([#1347](https://github-redirect.dependabot.com/puma/puma/issues/1347))
>   * Fix hangups with SSL and persistent connections. ([#1334](https://github-redirect.dependabot.com/puma/puma/issues/1334))
>   * Fix Rails double-binding to a port ([#1383](https://github-redirect.dependabot.com/puma/puma/issues/1383))
>   * Fix incorrect thread names ([#1368](https://github-redirect.dependabot.com/puma/puma/issues/1368))
>   * Fix issues with /etc/hosts and JRuby where localhost addresses were not correct. ([#1318](https://github-redirect.dependabot.com/puma/puma/issues/1318))
>   * Fix compatibility with RUBYOPT="--enable-frozen-string-literal" ([#1376](https://github-redirect.dependabot.com/puma/puma/issues/1376))
>   * Fixed some compiler warnings ([#1388](https://github-redirect.dependabot.com/puma/puma/issues/1388))
>   * We actually run the integration tests in CI now ([#1390](https://github-redirect.dependabot.com/puma/puma/issues/1390))
>   * No longer shipping unnecessary directories in the gemfile ([#1391](https://github-redirect.dependabot.com/puma/puma/issues/1391))
>   * If RUBYOPT is nil, we no longer blow up on restart. ([#1385](https://github-redirect.dependabot.com/puma/puma/issues/1385))
>   * Correct response to SIGINT ([#1377](https://github-redirect.dependabot.com/puma/puma/issues/1377))
>   * Proper exit code returned when we receive a TERM signal ([#1337](https://github-redirect.dependabot.com/puma/puma/issues/1337))
> 
> * 3 refactors:
></tr></table> ... (truncated)
</details>
<details>
<summary>Changelog</summary>

*Sourced from [puma's changelog](https://github.com/puma/puma/blob/master/History.md).*

> ## 4.3.1 and 3.12.2 / 2019-12-05
> 
> * Security
>   * Fix: a poorly-behaved client could use keepalive requests to monopolize Puma's reactor and create a denial of service attack. CVE-2019-16770.
> 
> ## 4.3.0 / 2019-11-07
> 
> * Features
>   * Strip whitespace at end of HTTP headers ([#2010](https://github-redirect.dependabot.com/puma/puma/issues/2010))
>   * Optimize HTTP parser for JRuby ([#2012](https://github-redirect.dependabot.com/puma/puma/issues/2012))
>   * Add SSL support for the control app and cli ([#2046](https://github-redirect.dependabot.com/puma/puma/issues/2046), [#2052](https://github-redirect.dependabot.com/puma/puma/issues/2052))
> 
> * Bugfixes
>   * Fix Errno::EINVAL when SSL is enabled and browser rejects cert ([#1564](https://github-redirect.dependabot.com/puma/puma/issues/1564))
>   * Fix pumactl defaulting puma to development if an environment was not specified ([#2035](https://github-redirect.dependabot.com/puma/puma/issues/2035))
>   * Fix closing file stream when reading pid from pidfile ([#2048](https://github-redirect.dependabot.com/puma/puma/issues/2048))
>   * Fix a typo in configuration option `--extra_runtime_dependencies` ([#2050](https://github-redirect.dependabot.com/puma/puma/issues/2050))
> 
> ## 4.2.1 / 2019-10-07
> 
> * 3 bugfixes
>   * Fix socket activation of systemd (pre-existing) unix binder files ([#1842](https://github-redirect.dependabot.com/puma/puma/issues/1842), [#1988](https://github-redirect.dependabot.com/puma/puma/issues/1988))
>   * Deal with multiple calls to bind correctly ([#1986](https://github-redirect.dependabot.com/puma/puma/issues/1986), [#1994](https://github-redirect.dependabot.com/puma/puma/issues/1994), [#2006](https://github-redirect.dependabot.com/puma/puma/issues/2006))
>   * Accepts symbols for `verify_mode` ([#1222](https://github-redirect.dependabot.com/puma/puma/issues/1222))
> 
> ## 4.2.0 / 2019-09-23
> 
> * 6 features
>   * Pumactl has a new -e environment option and reads `config/puma/<environment>.rb` config files ([#1885](https://github-redirect.dependabot.com/puma/puma/issues/1885))
>   * Semicolons are now allowed in URL paths (MRI only), useful for Angular or Redmine ([#1934](https://github-redirect.dependabot.com/puma/puma/issues/1934))
>   * Allow extra dependencies to be defined when using prune_bundler ([#1105](https://github-redirect.dependabot.com/puma/puma/issues/1105))
>   * Puma now reports the correct port when binding to port 0, also reports other listeners when binding to localhost ([#1786](https://github-redirect.dependabot.com/puma/puma/issues/1786))
>   * Sending SIGINFO to any Puma worker now prints currently active threads and their backtraces ([#1320](https://github-redirect.dependabot.com/puma/puma/issues/1320))
>   * Puma threads all now have their name set on Ruby 2.3+ ([#1968](https://github-redirect.dependabot.com/puma/puma/issues/1968))
> * 4 bugfixes
>   * Fix some misbehavior with phased restart and externally SIGTERMed workers ([#1908](https://github-redirect.dependabot.com/puma/puma/issues/1908), [#1952](https://github-redirect.dependabot.com/puma/puma/issues/1952))
>   * Fix socket closing on error ([#1941](https://github-redirect.dependabot.com/puma/puma/issues/1941))
>   * Removed unnecessary SIGINT trap for JRuby that caused some race conditions ([#1961](https://github-redirect.dependabot.com/puma/puma/issues/1961))
>   * Fix socket files being left around after process stopped ([#1970](https://github-redirect.dependabot.com/puma/puma/issues/1970))
> * Absolutely thousands of lines of test improvements and fixes thanks to [@&#8203;MSP-Greg](https://github.com/MSP-Greg)
> 
> ## 4.1.1 / 2019-09-05
> 
> * 3 bugfixes
>   * Revert our attempt to not dup STDOUT/STDERR ([#1946](https://github-redirect.dependabot.com/puma/puma/issues/1946))
>   * Fix socket close on error ([#1941](https://github-redirect.dependabot.com/puma/puma/issues/1941))
>   * Fix workers not shutting down correctly ([#1908](https://github-redirect.dependabot.com/puma/puma/issues/1908))
> 
> ## 4.1.0 / 2019-08-08
> 
></tr></table> ... (truncated)
</details>
<details>
<summary>Commits</summary>

- [`bb29fc7`](https://github.com/puma/puma/commit/bb29fc7fe8f822d0f72706a1ae86e49af3476777) 3.12.2
- [`058df12`](https://github.com/puma/puma/commit/058df12b78e7d1ec661c3b8777f26a736c26675b) 4.3.1 and 4.2.1 release notes
- [`06053e6`](https://github.com/puma/puma/commit/06053e60908074bb38293d4449ea261cb009b53e) Merge pull request from GHSA-7xx3-m584-x994
- [`461c9e9`](https://github.com/puma/puma/commit/461c9e99783e5f69e632acedae83be55017d5fe4) Docs files
- [`7e2c88d`](https://github.com/puma/puma/commit/7e2c88d4131a1a70f551287e49b8f527d29d0469) v3.12.1
- [`36964ec`](https://github.com/puma/puma/commit/36964ec42982d7b3205760bc2bf9ccf3fec8af69) Merge pull request [#1700](https://github-redirect.dependabot.com/puma/puma/issues/1700) from schneems/schneems/fix-puma-rack-handler-config
- [`c24c0c8`](https://github.com/puma/puma/commit/c24c0c883496f581d9092bbe7f7431129eeb7190) Rack handler should use provided default host
- [`e5d566e`](https://github.com/puma/puma/commit/e5d566ed81f3663d70f0318f8bf3d858734cb74b) Merge pull request [#1682](https://github-redirect.dependabot.com/puma/puma/issues/1682) from MSP-Greg/update-travis-ruby
- [`cecc44a`](https://github.com/puma/puma/commit/cecc44aa0ae326e46031b48023253d08df706455) Merge pull request [#1701](https://github-redirect.dependabot.com/puma/puma/issues/1701) from schneems/schneems/m
- [`ce57cfb`](https://github.com/puma/puma/commit/ce57cfb8c3c8259cda13c322de32dd4ff07ec03a) Allow running individual tests via the `m` gem. 
- Additional commits viewable in [compare view](https://github.com/puma/puma/compare/v3.6.2...v3.12.2)
</details>
<br />

[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=puma&package-manager=bundler&previous-version=3.6.2&new-version=3.12.2)](https://help.github.com/articles/configuring-automated-security-fixes)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/tailhook/vagga/network/alerts).

</details>
Bumps [symfony/http-foundation](https://github.com/symfony/http-foundation) from 3.2.5 to 3.4.36.
<details>
<summary>Changelog</summary>

*Sourced from [symfony/http-foundation's changelog](https://github.com/symfony/http-foundation/blob/master/CHANGELOG.md).*

> CHANGELOG
> =========
> 
> 5.1.0
> -----
> 
>  * Deprecate `Response::create()`, `JsonResponse::create()`,
>    `RedirectResponse::create()`, and `StreamedResponse::create()` methods (use
>    `__construct()` instead)
> 
> 5.0.0
> -----
> 
>  * made `Cookie` auto-secure and lax by default
>  * removed classes in the `MimeType` namespace, use the Symfony Mime component instead
>  * removed method `UploadedFile::getClientSize()` and the related constructor argument
>  * made `Request::getSession()` throw if the session has not been set before
>  * removed `Response::HTTP_RESERVED_FOR_WEBDAV_ADVANCED_COLLECTIONS_EXPIRED_PROPOSAL`
>  * passing a null url when instantiating a `RedirectResponse` is not allowed
> 
> 4.4.0
> -----
> 
>  * passing arguments to `Request::isMethodSafe()` is deprecated.
>  * `ApacheRequest` is deprecated, use the `Request` class instead.
>  * passing a third argument to `HeaderBag::get()` is deprecated, use method `all()` instead
>  * [BC BREAK] `PdoSessionHandler` with MySQL changed the type of the lifetime column,
>    make sure to run `ALTER TABLE sessions MODIFY sess_lifetime INTEGER UNSIGNED NOT NULL` to
>    update your database.
>  * `PdoSessionHandler` now precalculates the expiry timestamp in the lifetime column,
>     make sure to run `CREATE INDEX EXPIRY ON sessions (sess_lifetime)` to update your database
>     to speed up garbage collection of expired sessions.
>  * added `SessionHandlerFactory` to create session handlers with a DSN
>  * added `IpUtils::anonymize()` to help with GDPR compliance.
> 
> 4.3.0
> -----
> 
>  * added PHPUnit constraints: `RequestAttributeValueSame`, `ResponseCookieValueSame`, `ResponseHasCookie`,
>    `ResponseHasHeader`, `ResponseHeaderSame`, `ResponseIsRedirected`, `ResponseIsSuccessful`, and `ResponseStatusCodeSame`
>  * deprecated `MimeTypeGuesserInterface` and `ExtensionGuesserInterface` in favor of `Symfony\Component\Mime\MimeTypesInterface`.
>  * deprecated `MimeType` and `MimeTypeExtensionGuesser` in favor of `Symfony\Component\Mime\MimeTypes`.
>  * deprecated `FileBinaryMimeTypeGuesser` in favor of `Symfony\Component\Mime\FileBinaryMimeTypeGuesser`.
>  * deprecated `FileinfoMimeTypeGuesser` in favor of `Symfony\Component\Mime\FileinfoMimeTypeGuesser`.
>  * added `UrlHelper` that allows to get an absolute URL and a relative path for a given path
> 
> 4.2.0
> -----
> 
>  * the default value of the "$secure" and "$samesite" arguments of Cookie's constructor
></tr></table> ... (truncated)
</details>
<details>
<summary>Commits</summary>

- [`d2d0cfe`](https://github.com/symfony/http-foundation/commit/d2d0cfe8e319d9df44c4cca570710fcf221d4593) [HttpFoundation] Fixed typo
- [`f7efd0b`](https://github.com/symfony/http-foundation/commit/f7efd0b387b7bdbfe0fd1e38fe6b7d4a812b4e39) Simpler example for Apache basic auth workaround
- [`ef5fed4`](https://github.com/symfony/http-foundation/commit/ef5fed4469fb079c0b188ab0401cd1b28752865b) [HttpFoundation] Allow redirecting to URLs that contain a semicolon
- [`c9425ba`](https://github.com/symfony/http-foundation/commit/c9425bae96ae95449d59f8286529cf144bb228ab) Fix MySQL column type definition.
- [`9e4b3ac`](https://github.com/symfony/http-foundation/commit/9e4b3ac8fa3348b4811674d23de32d201de225ce) [HttpFoundation] fix guessing mime-types of files with leading dash
- [`a5d46a3`](https://github.com/symfony/http-foundation/commit/a5d46a33e8649ba802cebe520d188b04385572a2) Fix MockFileSessionStorageTest::sessionDir being used after it's unset
- [`7b4626a`](https://github.com/symfony/http-foundation/commit/7b4626ab40d8562707e6d1c9a6fab977a86c2037) Remove unused local variables in tests
- [`4db558c`](https://github.com/symfony/http-foundation/commit/4db558c7c6777aac02293efbfe7c7c5d4c1385c3) Add plus character `+` to legal mime subtype
- [`233f40c`](https://github.com/symfony/http-foundation/commit/233f40cbebd595ffd91ddf291355f8a930a13777) [HttpFoundation] Check if data passed to SessionBagProxy::initialize is an array
- [`35ffbbf`](https://github.com/symfony/http-foundation/commit/35ffbbfa73e46e28a9433692cd6c404de70e6c4c) [HttpFoundation] allow additinal characters in not raw cookies
- Additional commits viewable in [compare view](https://github.com/symfony/http-foundation/compare/v3.2.5...v3.4.36)
</details>
<br />

[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=symfony/http-foundation&package-manager=composer&previous-version=3.2.5&new-version=3.4.36)](https://help.github.com/articles/configuring-automated-security-fixes)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/tailhook/vagga/network/alerts).

</details>
Bumps [loofah](https://github.com/flavorjones/loofah) from 2.0.3 to 2.3.1.
<details>
<summary>Release notes</summary>

*Sourced from [loofah's releases](https://github.com/flavorjones/loofah/releases).*

> ## 2.3.1 / 2019-10-22
> 
> ### Security
> 
> Address CVE-2019-15587: Unsanitized JavaScript may occur in sanitized output when a crafted SVG element is republished.
> 
> This CVE's public notice is at [flavorjones/loofah#171](https://github-redirect.dependabot.com/flavorjones/loofah/issues/171)
> 
> ## 2.3.0 / 2019-09-28
> 
> ### Features
> 
> * Expand set of allowed protocols to include `tel:` and `line:`. [#104, [#147](https://github-redirect.dependabot.com/flavorjones/loofah/issues/147)]
> * Expand set of allowed CSS functions. [related to [#122](https://github-redirect.dependabot.com/flavorjones/loofah/issues/122)]
> * Allow greater precision in shorthand CSS values. [#149](https://github-redirect.dependabot.com/flavorjones/loofah/issues/149) (Thanks, [@&#8203;danfstucky](https://github.com/danfstucky)!)
> * Allow CSS property `list-style` [#162](https://github-redirect.dependabot.com/flavorjones/loofah/issues/162) (Thanks, [@&#8203;jaredbeck](https://github.com/jaredbeck)!)
> * Allow CSS keywords `thick` and `thin` [#168](https://github-redirect.dependabot.com/flavorjones/loofah/issues/168) (Thanks, [@&#8203;georgeclaghorn](https://github.com/georgeclaghorn)!)
> * Allow HTML property `contenteditable` [#167](https://github-redirect.dependabot.com/flavorjones/loofah/issues/167) (Thanks, [@&#8203;andreynering](https://github.com/andreynering)!)
> 
> 
> ### Bug fixes
> 
> * CSS hex values are no longer limited to lowercase hex. Previously uppercase hex were scrubbed. [#165](https://github-redirect.dependabot.com/flavorjones/loofah/issues/165) (Thanks, [@&#8203;asok](https://github.com/asok)!)
> 
> 
> ### Deprecations / Name Changes
> 
> The following method and constants are hereby deprecated, and will be completely removed in a future release:
> 
> * Deprecate `Loofah::Helpers::ActionView.white_list_sanitizer`, please use `Loofah::Helpers::ActionView.safe_list_sanitizer` instead.
> * Deprecate `Loofah::Helpers::ActionView::WhiteListSanitizer`, please use `Loofah::Helpers::ActionView::SafeListSanitizer` instead.
> * Deprecate `Loofah::HTML5::WhiteList`, please use `Loofah::HTML5::SafeList` instead.
> 
> Thanks to [@&#8203;JuanitoFatas](https://github.com/JuanitoFatas) for submitting these changes in [#164](https://github-redirect.dependabot.com/flavorjones/loofah/issues/164) and for making the language used in Loofah more inclusive.
> 
> 
> 
> ## v2.2.3
> Notably, this release addresses [CVE-2018-16468](https://github-redirect.dependabot.com/flavorjones/loofah/issues/154).
> 
> ## v2.2.2
> ## 2.2.2 / 2018-03-22
> 
> Make public `Loofah::HTML5::Scrub.force_correct_attribute_escaping!`,
> which was previously a private method. This is so that downstream gems
> (like rails-html-sanitizer) can use this logic directly for their own
> attribute scrubbers should they need to address CVE-2018-8048.
> 
> ## v2.2.1
> Notably, this release mitigates [CVE-2018-8048](https://github-redirect.dependabot.com/flavorjones/loofah/issues/144).
></tr></table> ... (truncated)
</details>
<details>
<summary>Changelog</summary>

*Sourced from [loofah's changelog](https://github.com/flavorjones/loofah/blob/master/CHANGELOG.md).*

> ## 2.3.1 / 2019-10-22
> 
> ### Security
> 
> Address CVE-2019-15587: Unsanitized JavaScript may occur in sanitized output when a crafted SVG element is republished.
> 
> This CVE's public notice is at [flavorjones/loofah#171](https://github-redirect.dependabot.com/flavorjones/loofah/issues/171)
> 
> 
> ## 2.3.0 / 2019-09-28
> 
> ### Features
> 
> * Expand set of allowed protocols to include `tel:` and `line:`. [#104, [#147](https://github-redirect.dependabot.com/flavorjones/loofah/issues/147)]
> * Expand set of allowed CSS functions. [related to [#122](https://github-redirect.dependabot.com/flavorjones/loofah/issues/122)]
> * Allow greater precision in shorthand CSS values. [#149](https://github-redirect.dependabot.com/flavorjones/loofah/issues/149) (Thanks, [@&#8203;danfstucky](https://github.com/danfstucky)!)
> * Allow CSS property `list-style` [#162](https://github-redirect.dependabot.com/flavorjones/loofah/issues/162) (Thanks, [@&#8203;jaredbeck](https://github.com/jaredbeck)!)
> * Allow CSS keywords `thick` and `thin` [#168](https://github-redirect.dependabot.com/flavorjones/loofah/issues/168) (Thanks, [@&#8203;georgeclaghorn](https://github.com/georgeclaghorn)!)
> * Allow HTML property `contenteditable` [#167](https://github-redirect.dependabot.com/flavorjones/loofah/issues/167) (Thanks, [@&#8203;andreynering](https://github.com/andreynering)!)
> 
> 
> ### Bug fixes
> 
> * CSS hex values are no longer limited to lowercase hex. Previously uppercase hex were scrubbed. [#165](https://github-redirect.dependabot.com/flavorjones/loofah/issues/165) (Thanks, [@&#8203;asok](https://github.com/asok)!)
> 
> 
> ### Deprecations / Name Changes
> 
> The following method and constants are hereby deprecated, and will be completely removed in a future release:
> 
> * Deprecate `Loofah::Helpers::ActionView.white_list_sanitizer`, please use `Loofah::Helpers::ActionView.safe_list_sanitizer` instead.
> * Deprecate `Loofah::Helpers::ActionView::WhiteListSanitizer`, please use `Loofah::Helpers::ActionView::SafeListSanitizer` instead.
> * Deprecate `Loofah::HTML5::WhiteList`, please use `Loofah::HTML5::SafeList` instead.
> 
> Thanks to [@&#8203;JuanitoFatas](https://github.com/JuanitoFatas) for submitting these changes in [#164](https://github-redirect.dependabot.com/flavorjones/loofah/issues/164) and for making the language used in Loofah more inclusive.
> 
> 
> ## 2.2.3 / 2018-10-30
> 
> ### Security
> 
> Address CVE-2018-16468: Unsanitized JavaScript may occur in sanitized output when a crafted SVG element is republished.
> 
> This CVE's public notice is at [flavorjones/loofah#154](https://github-redirect.dependabot.com/flavorjones/loofah/issues/154)
> 
> 
> ## Meta / 2018-10-27
> 
> The mailing list is now on Google Groups [#146](https://github-redirect.dependabot.com/flavorjones/loofah/issues/146):
> 
></tr></table> ... (truncated)
</details>
<details>
<summary>Commits</summary>

- [`83df303`](https://github.com/flavorjones/loofah/commit/83df303aa14d58f76349b59e6917ae61ce011a83) version bump to v2.3.1
- [`e323a77`](https://github.com/flavorjones/loofah/commit/e323a776dd2755a837a67895eaa3cdae44495254) Merge pull request [#172](https://github-redirect.dependabot.com/flavorjones/loofah/issues/172) from flavorjones/171-xss-vulnerability
- [`1d81f91`](https://github.com/flavorjones/loofah/commit/1d81f919bd29458a3b80966f9b6870b74b839dc9) update CHANGELOG
- [`0c6617a`](https://github.com/flavorjones/loofah/commit/0c6617af440879ce97440f6eb6c58636456dc8ec) mitigate XSS vulnerability in SVG animate attributes
- [`a5bd819`](https://github.com/flavorjones/loofah/commit/a5bd819f3ef13d5d4595106557c26169df2ef3a0) rufo formatting
- [`1bdf276`](https://github.com/flavorjones/loofah/commit/1bdf27600cf2433eb71fa542cce210663d8abef8) formatting in README
- [`1908dc2`](https://github.com/flavorjones/loofah/commit/1908dc2defba6049bc17519c8b128d7030915204) update CHANGELOG with release date
- [`bcbd7b3`](https://github.com/flavorjones/loofah/commit/bcbd7b373176db3b4b2b249caaf196b625779c1b) update dev gemspec
- [`f6d4c2d`](https://github.com/flavorjones/loofah/commit/f6d4c2d1b094e33848ed454f4a69f3c12cd44084) version bump to v2.3.0
- [`08fee8c`](https://github.com/flavorjones/loofah/commit/08fee8c85fb9e1c5a910491c1f5a8f8926a0600d) update dev deps
- Additional commits viewable in [compare view](https://github.com/flavorjones/loofah/compare/v2.0.3...v2.3.1)
</details>
<br />

[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=loofah&package-manager=bundler&previous-version=2.0.3&new-version=2.3.1)](https://help.github.com/articles/configuring-automated-security-fixes)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language
- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language
- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language
- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/tailhook/vagga/network/alerts).

</details>
Replacing env!("VAGGA_VERSION") to env!("CARGO_PKG_VERSION") make possibility use vagga as library
Hi,
I need help with an issue I'm encountering consistently on my project.
I couldn't minimize it yet - maybe you can tell what's wrong already.
This issue occurs when directly building final container `pavetta-sdk-custom`, but if we first build `pavetta-redist`, it goes away.
There's also a warning I don't know how to handle:
```
 WARN 2019-08-19T12:26:09Z: vagga::builder::commands::subcontainer: Can't write image usage info: No such file or directory (os error 2)
```

```
➜  seidhe git:(master) ✗ vagga pavetta run Iss/libraries/sysid
<ubuntu setup logs>
Setting up g++ (4:7.4.0-1ubuntu2.3) ...
update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/c++.1.gz because associated file /usr/share/man/man1/g++.1.gz (of link group c++) doesn't exist
Setting up build-essential (12.4ubuntu1) ...
Processing triggers for libc-bin (2.27-3ubuntu1) ...
 WARN 2019-08-19T12:26:09Z: vagga::builder::commands::subcontainer: Can't write image usage info: No such file or directory (os error 2)
ERROR 2019-08-19T12:26:09Z: vagga::builder: Error building container "pavetta-sdk-custom": step SubConfig { source: Directory, path: "vagga.yaml", container: "pavetta-sdk-common", cache: None } failed: sub-step Build { container: "pavetta-redist", source: "/usr/local/bin", path: Some("/usr/local/bin"), temporary_mount: None, content_hash: false, rules: ["/pavetta"] } failed: can't read "/vagga/base/.roots/pavetta-redist.a9d21258/root/usr/local/bin": No such file or directory (os error 2)
ERROR 2019-08-19T12:26:09Z: vagga::wrapper: Error executing _build: Builder exited with code 1
Command <Command "/proc/self/exe" "__wrapper__" "_build" "pavetta-sdk-custom"; environ[7]; uid_map=[UidMap { inside_uid: 0, outside_uid: 1000, count: 1 }, UidMap { inside_uid: 1, outside_uid: 100000, count: 65535 }]; gid_map=[GidMap { inside_gid: 0, outside_gid: 1000, count: 1 }, GidMap { inside_gid: 1, outside_gid: 100000, count: 65535 }]> exited with code 124
```

Relevant configs are:
```yaml
containers:
  pavetta-sdk-common:
    setup:
      - !Ubuntu bionic
      - !UbuntuUniverse
      - !Install [build-essential]
      - !Build
        container: pavetta-redist
        source: /usr/local/bin
        path: /usr/local/bin
        rules:
        - /pavetta
      - !Build
        container: ciri-redist
        source: /usr/local/bin
        path: /usr/local/bin
        rules:
        - /ciri
      - !Build
        container: ciri-lua
        source: /opt/lua
        path: /opt/lua
      - !Install [liblua5.2-0]
      - !Text
        /usr/local/bin/Config.toml: |
          test_suites = [
              "/work/ciri/test_suites/",
          ]

          [ciri]

          path = "/usr/local/bin/ciri"
          config_path = "/usr/local/bin/ciri-Config.toml"
      - !Text
        /usr/local/bin/ciri-Config.toml: |
          lock_file_path = "/tmp/lock"
          lua_prefix_path = "/opt/lua/"
      - !SubConfig
        container: sdk-deps

  pavetta-sdk-custom:
    environ:
      HOME: /work/.vagga-ws
    setup:
      - !SubConfig
        container: pavetta-sdk-common
      - !SubConfig
        container: sdk-deps
      - !Build
        container: sdk-custom
        source: /opt
        path: /opt

  sdk-deps:
    setup:
      - !Install
        - dosfstools
        - doxygen
        - jq
        - libasound2
        - libcurl3-gnutls
        - libglib2.0-0
        - libpixman-1-0
        - libpulse0
        - libsdl2-2.0-0
        - libx11-6
        - libxml2
        - make
        - mtd-utils
        - parted
        - python
        - python3
        - virtualenv

  pavetta-redist:
    environ:
      HOME: /tmp
    setup:
      - !Container rust-build
      - !Depends 
        path: pavetta
        rules:
        - /src
        - /Cargo.toml
      - !Sh |
         cd pavetta
         cargo build --target-dir /work/.vagga-ws/target/pavetta
      - !Sh "cp /work/.vagga-ws/target/pavetta/debug/pavetta /usr/local/bin"

  rust:
    environ:
      HOME: /work/.vagga-ws
    setup:
      - !Ubuntu bionic
      - !UbuntuUniverse
      - !TarInstall
        url: https://static.rust-lang.org/dist/rust-1.35.0-x86_64-unknown-linux-gnu.tar.gz
        script: ./install.sh --prefix=/usr
      - !TarInstall
        url: https://static.rust-lang.org/dist/rust-1.35.0-x86_64-unknown-linux-musl.tar.gz
        script: ./install.sh --prefix=/usr --components=rust-std-x86_64-unknown-linux-musl

  rust-build:
    environ:
      HOME: /work/.vagga-ws
    setup:
      - !Ubuntu bionic
      - !UbuntuUniverse
      - !Build
        container: rust
        source: /usr
        path: /usr
      - !Install [build-essential, curl, ca-certificates]
      - !CacheDirs
        /tmp/.cargo: cargo

  ciri-redist:
    environ:
      HOME: /tmp
    setup:
      - !Container ciri-build
      - !CacheDirs
        /tmp/.cargo: cargo
      - !Depends 
        path: ciri
        rules:
        - /src
        - /Cargo.toml
      - !Sh |
         cd ciri
         cargo build --target-dir /work/.vagga-ws/target/ciri
      - !Sh "cp /work/.vagga-ws/target/ciri/debug/ciri /usr/local/bin/ciri"

  ciri-build:
    environ:
      HOME: /work/.vagga-ws
    setup:
      - !Container rust-build
      - !Install [liblua5.2-dev, liblua5.2-0, pkg-config]

  ciri-lua:
    setup:
      - !Ubuntu bionic
      - !UbuntuUniverse
      - !Install
        # Lua and Lua rocks build dependencies
        - build-essential
        - ca-certificates
        - curl
        - libreadline-dev
        - unzip
        # Lua native rocks extensions
        - liblua5.2-dev
        # Luarocks installation
        - python-pip
        # Luarocks GitHub installation support
        - git
        # luasec native dependency
        - libssl-dev
      - !Sh "pip install hererocks"
      - !EnsureDir /opt
      - !Cmd
        - /bin/bash
        - -exc
        - |
          hererocks -l5.2 -rlatest /opt/lua
      - !CacheDirs
        /tmp/.cache/luarocks: luarocks-cache
      - !Depends
        path: ciri
        rules:
        - /rocks.sh
      - !Cmd
        - /bin/bash
        - -exc
        - |
          . /opt/lua/bin/activate
          /work/ciri/rocks.sh

  sdk-custom:
    setup:
      - !Container base
      - !Sh |
         echo "In case next step fails, look at .vagga/sdk-parser/sdk.yaml"
      - !SubConfig
        source: !Container sdk-spec-parser
        path: sdk.yaml
        container: sdk

  sdk-spec-parser-base:
    setup:
    - !Container empty
    - !Depends prepare-sdk-yaml.py
    - !PipConfig 
      dependencies: true
    - !Py3Install [PyYAML, pystache]

  sdk-spec-parser:
    setup:
    - !Container sdk-spec-parser-base
    - !Depends .vagga-ws/sdk-spec.yaml
    - !Sh |
       /work/prepare-sdk-yaml.py /work/.vagga-ws/sdk-spec.yaml /sdk.yaml

  empty:
    setup:
      - !Alpine v3.10
```

prepare-sdk-yaml.py:

```python
#!/usr/bin/env python3

import sys
import yaml
import pystache

template_head = """
containers:
  sdk:
    setup:
"""

template_steps_base = """
      - !RunAs
        script: |
          if [ -f "/work/.vagga-ws/{{id}}/{{base_name}}-{{id}}_{{version}}_amd64.deb" ]; then
            mkdir /tmp/{{id}}
            cp /work/.vagga-ws/{{id}}/{{base_name}}-{{id}}_{{version}}_amd64.deb /tmp/{{id}}
          else
            jfrog rt download sdk/{{id}}/*_{{version}}_* | tee /work/.vagga-ws/jfrog-result | jq -e ".totals.success == 1 and .totals.failure == 0" || cat /work/.vagga-ws/jfrog-result
          fi
        work-dir: /tmp
      - !Sh |
          echo debconf {{base_name_lower}}-{{id_lower}}/eula select true | debconf-set-selections
          echo debconf {{base_name_lower}}-{{id_lower}}/eula seen true | debconf-set-selections
          dpkg -i /tmp/{{id}}/{{base_name}}-{{id}}_{{version}}_amd64.deb
"""

def main():
    spec_file_path = sys.argv[1]
    out_file_path = sys.argv[2]

    with open(spec_file_path, 'r') as spec_file:
        try:
            with open(out_file_path, 'w') as out_file:
                spec = yaml.safe_load(spec_file)

                result = pystache.render(template_head, spec)
                out_file.write(result)

                for s in spec.values():
                    s['id_lower'] = s['id'].lower()
                    if not 'base_name' in s:
                        s['base_name'] = "KasperskyOS"

                    s['base_name_lower'] = s['base_name'].lower()
                    
                    template_steps = pystache.render(template_steps_base, s)
                    result = pystache.render(template_steps, s)
                    out_file.write(result)

        except yaml.YAMLError as exc:
            print(exc)


if __name__ == "__main__":
    main()
```

sdk-spec.template.yaml:
```yaml
# Copy this file to .vagga-ws/sdk-spec.yaml and change as you like
# Then use container 'sdk-custom'. It will have specified SDK installed

komset:
  id: Komset-001
  version: 0.11
myoffice:
  id: MyOffice-001
  version: 0.39
  # Initial part of deb package name
  # By default, it's KasperskyOS
  base_name: KasperskyOS-SDK
```
Code like

```text
          curl -fL https://getcli.jfrog.io | sh
          jfrog rt download sdk/StarterKit-001/*
```

Doesn't fail on first line when `curl` is missing:

```text
  ciri-dev-5 git:(vagga) ✗ vagga _build jfrog
+ curl -fL https://getcli.jfrog.io
/bin/sh: 1: curl: not found
+ sh
+ jfrog rt download sdk/StarterKit-001/*
/bin/sh: 2: jfrog: not found
ERROR 2019-06-28T15:44:36Z: vagga::builder: Error building container "jfrog": step Sh("curl -fL https://getcli.jfrog.io | sh\njfrog rt download sdk/StarterKit-001/*\n") failed: Error running <Command "/bin/sh" "-exc" "curl -fL https://getcli.jfrog.io | sh\njfrog rt download sdk/StarterKit-001/*\n"; environ[8]; chroot="/vagga/root"; work-dir="/work">: exited with code 127
ERROR 2019-06-28T15:44:36Z: vagga::wrapper: Error executing _build: Builder exited with code 1
Command <Command "/proc/self/exe" "__wrapper__" "_build" "jfrog"; environ[6]; uid_map=[UidMap { inside_uid: 0, outside_uid: 1000, count: 1 }, UidMap { inside_uid: 1, outside_uid: 100000, count: 65535 }]; gid_map=[GidMap { inside_gid: 0, outside_gid: 1000, count: 1 }, GidMap { inside_gid: 1, outside_gid: 100000, count: 65535 }]> exited with code 124
```
```text
➜  vagga-flask vagga py3
(1/1) Installing alpine-keys (2.1-r1)
OK: 0 MiB in 1 packages
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
(1/6) Installing musl (1.1.15-r8)
(2/6) Installing busybox (1.25.1-r2)
Executing busybox-1.25.1-r2.post-install
(3/6) Installing libressl2.4-libcrypto (2.4.4-r0)
(4/6) Installing ca-certificates (20161130-r1)
(5/6) Installing libressl2.4-libssl (2.4.4-r0)
(6/6) Installing wget (1.18-r4)
Executing busybox-1.25.1-r2.trigger
Executing ca-certificates-20161130-r1.trigger
OK: 4 MiB in 7 packages
ERROR: could not open HSTS store. HSTS will be disabled.
--2019-06-14 15:19:54--  https://partner-images.canonical.com/core/xenial/current/ubuntu-xenial-core-cloudimg-amd64-root.tar.gz
Resolving localhost... 127.0.0.1
Connecting to localhost|127.0.0.1|:3128... connected.
Proxy request sent, awaiting response... 200 OK
Length: 43064991 (41M) [application/x-gzip]
Saving to: '/vagga/cache/downloads/b6e8b34d-ubuntu-xenial-core-cloudimg-amd64-root.tar.gz.part'

/vagga/cache/downloads/b6e8b34d-ubuntu-xenial-core-c 100%[=====================================================================================================================>]  41.07M  1.30MB/s    in 32s     

2019-06-14 15:20:27 (1.28 MB/s) - '/vagga/cache/downloads/b6e8b34d-ubuntu-xenial-core-cloudimg-amd64-root.tar.gz.part' saved [43064991/43064991]

ERROR 2019-06-14T15:20:27Z: vagga::builder: Error building container "flask": step Ubuntu("xenial") failed: Error writing "/vagga/root/run/shm": File exists (os error 17)
ERROR 2019-06-14T15:20:27Z: vagga::wrapper: Error executing _build: Builder exited with code 1
Command <Command "/proc/self/exe" "__wrapper__" "_build" "flask"; environ[7]; uid_map=[UidMap { inside_uid: 0, outside_uid: 1000, count: 1 }, UidMap { inside_uid: 1, outside_uid: 100000, count: 65535 }]; gid_map=[GidMap { inside_gid: 0, outside_gid: 1000, count: 1 }, GidMap { inside_gid: 1, outside_gid: 100000, count: 65535 }]> exited with code 124
➜  vagga-flask RUST_LOG=debug vagga py3
 INFO 2019-06-14T15:20:35Z: vagga::config::config: Found configuration file: Some("/home/mkpankov/projects/vagga-flask/vagga.yaml")
 INFO 2019-06-14T15:20:35Z: vagga::process_util: Running "id" "-u" "-n"
 INFO 2019-06-14T15:20:35Z: vagga::process_util: Running "exe" "__wrapper__" "_build" "flask"
DEBUG 2019-06-14T15:20:35Z: vagga::container::mount: Procfs mount "/home/mkpankov/projects/vagga-flask/.vagga/.mnt/proc"
DEBUG 2019-06-14T15:20:35Z: vagga::container::mount: Pseusofs mount "/home/mkpankov/projects/vagga-flask/.vagga/.mnt/dev/pts" devpts newinstance
 INFO 2019-06-14T15:20:35Z: vagga::process_util: Running "vagga" "__version__" "flask" "--settings" "{\"version_check\":true,\"proxy_env_vars\":true,\"ubuntu_mirror\":null,\"ubuntu_skip_locking\":false,\"alpine_mirror\":null,\"uid_map\":null,\"push_image_script\":null,\"build_lock_wait\":false,\"versioned_build_dir\":false,\"auto_apply_sysctl\":false,\"environ\":{},\"index_all_images\":false,\"hard_link_identical_files\":false,\"hard_link_between_projects\":false,\"run_symlinks_as_commands\":true,\"disable_auto_clean\":false,\"storage_subdir_from_env_var\":null}"
DEBUG 2019-06-14T15:20:35Z: vagga::version::version: Versioning items: 3
DEBUG 2019-06-14T15:20:35Z: vagga::version::version: Versioning setup: Step(Ubuntu("xenial"))
DEBUG 2019-06-14T15:20:35Z: vagga::version::version: Versioning setup: Step(UbuntuUniverse)
DEBUG 2019-06-14T15:20:35Z: vagga::version::version: Versioning setup: Step(Install(["python3-flask"]))
DEBUG 2019-06-14T15:20:35Z: vagga::version: Got hash "68b49a732eee5b9d3dce91ed2bc05b08fb768a710240b9e60b01d344e5017bb1434cdb2295cb608ccd3188f6518b904c8ac866b56c296f72de9efa3812a3f2cb"
DEBUG 2019-06-14T15:20:35Z: vagga::wrapper::build: Container path: "/vagga/base/.roots/flask.68b49a73" (force: false) false
DEBUG 2019-06-14T15:20:35Z: vagga::wrapper::build: Container version: Some("68b49a732eee5b9d3dce91ed2bc05b08fb768a710240b9e60b01d344e5017bb1434cdb2295cb608ccd3188f6518b904c8ac866b56c296f72de9efa3812a3f2cb")
DEBUG 2019-06-14T15:20:35Z: vagga::wrapper::build: Container path: "/vagga/base/.roots/flask.68b49a73" (force: false) false
DEBUG 2019-06-14T15:20:35Z: vagga::container::mount: Pseusofs mount "/vagga/root/dev/pts" devpts newinstance
DEBUG 2019-06-14T15:20:35Z: vagga::container::mount: Procfs mount "/vagga/root/proc"
DEBUG 2019-06-14T15:20:35Z: vagga::container::mount: Procfs mount "/proc"
DEBUG 2019-06-14T15:20:35Z: vagga::builder::guard: Building step: Step(Ubuntu("xenial"))
 INFO 2019-06-14T15:20:35Z: vagga::builder::commands::tarcmd: Unpacking "/vagga/cache/downloads/b6e8b34d-ubuntu-xenial-core-cloudimg-amd64-root.tar.gz" -> "/vagga/root"
ERROR 2019-06-14T15:20:36Z: vagga::builder: Error building container "flask": step Ubuntu("xenial") failed: Error writing "/vagga/root/run/shm": File exists (os error 17)
ERROR 2019-06-14T15:20:36Z: vagga::wrapper: Error executing _build: Builder exited with code 1
Command <Command "/proc/self/exe" "__wrapper__" "_build" "flask"; environ[7]; uid_map=[UidMap { inside_uid: 0, outside_uid: 1000, count: 1 }, UidMap { inside_uid: 1, outside_uid: 100000, count: 65535 }]; gid_map=[GidMap { inside_gid: 0, outside_gid: 1000, count: 1 }, GidMap { inside_gid: 1, outside_gid: 100000, count: 65535 }]> exited with code 124
➜  vagga-flask cat vagga.yaml 
containers:
  flask:
    setup:
    - !Ubuntu xenial
    - !UbuntuUniverse
    - !Install [python3-flask]
commands:
  py3: !Command
    container: flask
    run: python3
```
I hope I’m not intruding or anything. I literally just discovered your project and it’s everything I’ve always wanted from Docker! :)

Anyway if you’re ever looking for some inspiration for shell scripting, theres this project I’ve written a while back (and still use such personally every day, especially for quickly running hardcoded commands from the horribly verbose AWS CLI) that implements an indentation sensitive shell parser: https://github.com/colbyn/commands
Anyway just thought it may interest you (also I’ve been thinking about rewriting such in rust).

It doesn’t try to replace shell scripting in any way, rather the intention was to simply make writing such less verbose, and feel more modern (i.e. it supports multiline strings; which has been very convenient for CLI based SQL workflows). It’s crazy that in Docker I have to write scripts like this:
```
RUN cd ./frontend/cms \
  && npm install \
  && bower install --allow-root \
  && mkdir -p ./dist/release/build \
  && pulp browserify --optimise --to ./dist/release/build/app.bundle.js \
  && browserify -p tinyify ./dist/release/build/app.bundle.js --outfile ./dist/release/build/app.bundle.js \
  && uglifycss ./assets/css/*.css > ./dist/release/build/app.bundle.css \
  && html-minifier ./assets/index.html \
    --collapse-whitespace \
    --remove-comments \
    --remove-optional-tags \
    --remove-redundant-attributes \
    --remove-script-type-attributes \
    --remove-tag-whitespace \
  && cp -r ./dist ../../release/build
```

Since I think an indentation sensitive shell parser feels more natural (also with some higher order convenience utils, i.e. the `from` thing (not sure what to call it)):
```
from ./frontend/cms do
  npm install
  bower install
    --allow-root
  mkdir -p ./dist/release/build
  pulp browserify
    --optimise
    --to ./dist/release/build/app.bundle.js
  browserify
    -p tinyify ./dist/release/build/app.bundle.js
    --outfile ./dist/release/build/app.bundle.js
  uglifycss ./assets/css/*.css > ./dist/release/build/app.bundle.css
  html-minifier ./assets/index.html
    --collapse-whitespace
    --remove-comments
    --remove-optional-tags
    --remove-redundant-attributes
    --remove-script-type-attributes
    --remove-tag-whitespace
  cp -r ./dist ../../release/build
```

Here is [an example](https://github.com/colbyn/subscript/blob/master/Commands) from a UI lib I'm currently working on (internal helper cmd):
```
from ./ss-web-utils do
    try cargo publish
from ./ss-css-types do
    try cargo publish
from ./ss-cssom-tree do
    try cargo publish
from ./ss-trees do
    try cargo publish
from ./ss-view-tree do
    try cargo publish
from ./ss-dom-tree do
    try cargo publish
from ./subscript do
    try cargo publish
```
Or using ffmpeg (most of my real stuff usually spans hundreds of lines, which would quickly get very messy using traditional bash syntax):
```
mkdir -p output/batch
ffmpeg -hide_banner -y
    -i ./input/test-two.mp4
    -an
    -c:v libx264
    -profile:v high
    -level 3.1
    -preset veryslow
    -flags +loop
    -pix_fmt yuv420p
    -qp 1 output/batch/out1.mp4
    -qp 50 output/batch/out2.mp4
    -qp 60 output/batch/out3.mp4
```