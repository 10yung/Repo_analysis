```
/usr/local/include/boost/regex/v4/perl_matcher_common.hpp:307: undefined reference to `boost::re_detail_107100::verify_options(unsigned int, boost::regex_constants::_match_flags)'
./.libs/libredex.a(RedexResources.o): In function `boost::re_detail_107100::perl_matcher<__gnu_cxx::__normal_iterator<char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<boost::sub_match<__gnu_cxx::__normal_iterator<char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >, boost::regex_traits<char, boost::cpp_regex_traits<char> > >::find_imp()':
/usr/local/include/boost/regex/v4/perl_matcher_non_recursive.hpp:118: undefined reference to `boost::re_detail_107100::put_mem_block(void*)'
/usr/local/include/boost/regex/v4/perl_matcher_non_recursive.hpp:118: undefined reference to `boost::re_detail_107100::put_mem_block(void*)'
./.libs/libredex.a(RedexResources.o): In function `boost::re_detail_107100::perl_matcher<__gnu_cxx::__normal_iterator<char*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<boost::sub_match<__gnu_cxx::__normal_iterator<char*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >, boost::regex_traits<char, boost::cpp_regex_traits<char> > >::find_imp()':
/usr/local/include/boost/regex/v4/perl_matcher_non_recursive.hpp:110: undefined reference to `boost::re_detail_107100::get_mem_block()'
./.libs/libredex.a(RedexResources.o): In function `boost::re_detail_107100::perl_matcher<__gnu_cxx::__normal_iterator<char*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<boost::sub_match<__gnu_cxx::__normal_iterator<char*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >, boost::regex_traits<char, boost::cpp_regex_traits<char> > >::find_imp()':
/usr/local/include/boost/regex/v4/perl_matcher_common.hpp:307: undefined reference to `boost::re_detail_107100::verify_options(unsigned int, boost::regex_constants::_match_flags)'
./.libs/libredex.a(RedexResources.o): In function `boost::re_detail_107100::perl_matcher<__gnu_cxx::__normal_iterator<char*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<boost::sub_match<__gnu_cxx::__normal_iterator<char*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >, boost::regex_traits<char, boost::cpp_regex_traits<char> > >::find_imp()':
/usr/local/include/boost/regex/v4/perl_matcher_non_recursive.hpp:118: undefined reference to `boost::re_detail_107100::put_mem_block(void*)'
/usr/local/include/boost/regex/v4/perl_matcher_non_recursive.hpp:118: undefined reference to `boost::re_detail_107100::put_mem_block(void*)'
collect2: error: ld returned 1 exit status
Makefile:2376: recipe for target 'redex-all' failed
make[1]: *** [redex-all] Error 1
make[1]: 离开目录“/home/zlrab/software/redex2/redex”
Makefile:2851: recipe for target 'all-recursive' failed
make: *** [all-recursive] Error 1
```
This is my gcc version:
```
gcc (Ubuntu 5.5.0-12ubuntu1) 5.5.0 20171010
Copyright (C) 2015 Free Software Foundation, Inc.
```
Hi,
I'm using the latest redex (December 23, 2019).

When running the following command the redex completes successfully:
redex -c default.config -o out.apk in.apk -P proguard.cfg --sign -s key.keystore -a XXX -p XXX

But when i add the mapping.txt the redex crashes (see blow command and result):
redex -c default.config -o out.apk in.apk -m mapping.txt -P proguard.cfg --sign -s key.keystore -a XXX -p XXX

libc++abi.dylib: terminating with uncaught exception of type boost::exception_detail::error_info_injector<RedexException>: libredex/ProguardMap.cpp:354: DexString *pg_impl::file_name_from_method_string(const DexString *): assertion `start != std::string::npos && end != std::string::npos' failed.

0   redex-all                           0x00000001099bfc32 _Z23crash_backtrace_handleri + 50
1   libsystem_platform.dylib            0x00007fff6dae342d _sigtramp + 29
2   ???                                 0x0000000000000400 0x0 + 1024
3   libsystem_c.dylib                   0x00007fff6d9b8a1c abort + 120
4   libc++abi.dylib                     0x00007fff6aa56be8 __cxa_bad_cast + 0
5   libc++abi.dylib                     0x00007fff6aa56d84 _ZL28demangling_terminate_handlerv + 238
6   libobjc.A.dylib                     0x00007fff6c57e792 _ZL15_objc_terminatev + 104
7   libc++abi.dylib                     0x00007fff6aa63dc7 _ZSt11__terminatePFvvE + 8
8   libc++abi.dylib                     0x00007fff6aa63b6c __cxa_get_exception_ptr + 0
9   libc++abi.dylib                     0x00007fff6aa5545d __cxa_get_globals + 0
10  redex-all                           0x00000001099c020c _Z11assert_failPKcS0_jS0_10RedexErrorS0_z + 892
11  redex-all                           0x0000000109abc33b _ZN7pg_impl28file_name_from_method_stringEPK9DexString + 811
12  redex-all                           0x0000000109abc41d _ZN7pg_impl28apply_deobfuscated_positionsEP6IRCodeRK11ProguardMap + 141
13  redex-all                           0x0000000109abf193 _ZNSt3__110__function6__funcIZ24apply_deobfuscated_namesRKNS_6vectorINS2_IP8DexClassNS_9allocatorIS4_EEEENS5_IS7_EEEERK11ProguardMapE3$_1NS5_ISF_EEFvS4_EEclEOS4_ + 771
14  redex-all                           0x00000001094d3a72 _ZNSt3__110__function6__funcIZ17workqueue_foreachIP8DexStoreE9WorkQueueIT_ERKNS_8functionIFvS6_EEEjEUlP11WorkerStateIS4_ES4_E_NS_9allocatorISG_EEFvSF_S4_EEclEOSF_OS4_ + 34
15  redex-all                           0x00000001094d645d _ZZN9WorkQueueIP8DexClassE7run_allEvENKUlP11WorkerStateIS1_EmE_clES5_m + 141
16  libboost_thread-mt.dylib            0x000000010ae13ae8 _ZN5boost12_GLOBAL__N_112thread_proxyEPv + 136
17  libsystem_pthread.dylib             0x00007fff6daeee65 _pthread_start + 148
18  libsystem_pthread.dylib             0x00007fff6daea83b thread_start + 15
Traceback (most recent call last):
  File "/tmp/redex.T873nV/redex.py", line 1146, in <module>
    run_redex(args)
  File "/tmp/redex.T873nV/redex.py", line 1124, in run_redex
    run_redex_binary(state)
  File "/tmp/redex.T873nV/redex.py", line 448, in run_redex_binary
    if run():
  File "/tmp/redex.T873nV/redex.py", line 433, in run
    ).format(returncode, gdb_script_name, lldb_script_name)
RuntimeError: redex-all crashed with exit code -6! You can re-run it under gdb by running /tmp/redex.T873nV/redex-gdb-c6ipb0my.sh or under lldb by running /tmp/redex.T873nV/redex-lldb-w254lpt0.sh

Kindly let me know if this is a known bug or if there's a workaround i can use?

Thanks,

hi, 

there is something wrong when i was running the redex even when I remove all the pass from the default.config. It seems that the androidx and support make the things not work.


run result : 

$ redexpy -c default.config -o tmp/output.apk ./app-release.apk
Using config default.config
Using binary (default)
Extracting apk...
Detected dex mode Api21DexMode
Unpacking dex files
Detecting Application Modules
Unpacking APK finished in 2.93 seconds
Running redex-all on 4 dex files
Running redex binary at /Users/liang/workspace/github/redex/redex-all
Trace settings:
TRACEFILE=
SHOW_TIMESTAMPS=
SHOW_TRACEMODULE=
TRACE_METHOD_FILTER=
dup_class_whitelist: {
  Lcom/facebook/soloader/MergedSoMapping;
  Ljunit/framework/TestSuite;
  L$r8$java8methods$utility
}
Loading classes from dex from /var/folders/xz/11g5qhv537j2z3khy3sy45580000gn/T/tmps69jqsb9.redex_dexen/dex0/classes.dex
Loading classes from dex from /var/folders/xz/11g5qhv537j2z3khy3sy45580000gn/T/tmps69jqsb9.redex_dexen/dex1/classes2.dex
Loading classes from dex from /var/folders/xz/11g5qhv537j2z3khy3sy45580000gn/T/tmps69jqsb9.redex_dexen/dex2/classes3.dex
Loading classes from dex from /var/folders/xz/11g5qhv537j2z3khy3sy45580000gn/T/tmps69jqsb9.redex_dexen/dex3/classes4.dex
        Load classes from dexes completed in 1.9 seconds
        Deobfuscating dex elements completed in 0.1 seconds
            Process keep for whyareyoukeeping completed in 0.0 seconds
            Process keep for classes and members completed in 0.0 seconds
            Process keep for assumenosideeffects completed in 0.0 seconds
        Processing proguard rules completed in 0.0 seconds
        No Optimizations Rules completed in 1.3 seconds
WARNING: keep annotation Lcom/google/common/annotations/VisibleForTesting; not found
        Initializing reachable classes completed in 1.3 seconds
    Redex_frontend completed in 4.7 seconds
        API Level Checker completed in 0.0 seconds
        Hasher completed in 0.3 seconds
Running IRTypeChecker...
ABORT! Inconsistency found in Dex code for Landroidx/media/AudioAttributesImplBaseParcelizer;.read:(Landroidx/versionedparcelable/VersionedParcel;)Landroid/support/v4/media/AudioAttributesImplBase;.
 Type error in method Landroidx/media/AudioAttributesImplBaseParcelizer;.read:(Landroidx/versionedparcelable/VersionedParcel;)Landroid/support/v4/media/AudioAttributesImplBase; at instruction 'INVOKE_DIRECT v0, Landroid/support/v4/media/AudioAttributesImplBase;.<init>:()V' @ 0x7ff34db62a40 for
illegal access to package-private Landroid/support/v4/media/AudioAttributesImplBase;.<init>:()V
 from Landroidx/media/AudioAttributesImplBaseParcelizer;.read:(Landroidx/versionedparcelable/VersionedParcel;)Landroid/support/v4/media/AudioAttributesImplBase;
Code:
[0x7ff34db628c0] OPCODE: IOPCODE_LOAD_PARAM_OBJECT v3
[0x7ff34db63940] POSITION: SourceFile:11
[0x7ff34db628e0] OPCODE: NEW_INSTANCE Landroid/support/v4/media/AudioAttributesImplBase;
[0x7ff34d0c6cb0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v0
[0x7ff34db62a40] OPCODE: INVOKE_DIRECT v0, Landroid/support/v4/media/AudioAttributesImplBase;.<init>:()V
[0x7ff34db63960] POSITION: SourceFile:12
[0x7ff34db62a60] OPCODE: IGET v0, Landroid/support/v4/media/AudioAttributesImplBase;.mUsage:I
[0x7ff34db62b80] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO v1
[0x7ff34db62b60] OPCODE: CONST v2, 1
[0x7ff35c76c910] OPCODE: INVOKE_VIRTUAL v3, v1, v2, Landroidx/versionedparcelable/VersionedParcel;.b:(II)I
[0x7ff35c76bb80] OPCODE: MOVE_RESULT v1
[0x7ff35c7786b0] OPCODE: IPUT v1, v0, Landroid/support/v4/media/AudioAttributesImplBase;.mUsage:I
[0x7ff34db63980] POSITION: SourceFile:13
[0x7ff35c778910] OPCODE: IGET v0, Landroid/support/v4/media/AudioAttributesImplBase;.mContentType:I
[0x7ff34db62ec0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO v1
[0x7ff35c777870] OPCODE: CONST v2, 2
[0x7ff35c76bb30] OPCODE: INVOKE_VIRTUAL v3, v1, v2, Landroidx/versionedparcelable/VersionedParcel;.b:(II)I
[0x7ff35c778550] OPCODE: MOVE_RESULT v1
[0x7ff35c777820] OPCODE: IPUT v1, v0, Landroid/support/v4/media/AudioAttributesImplBase;.mContentType:I
[0x7ff34db639a0] POSITION: SourceFile:14
[0x7ff35c7789d0] OPCODE: IGET v0, Landroid/support/v4/media/AudioAttributesImplBase;.mFlags:I
[0x7ff34db636a0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO v1
[0x7ff34d0c7b40] OPCODE: CONST v2, 3
[0x7ff34d0c7b60] OPCODE: INVOKE_VIRTUAL v3, v1, v2, Landroidx/versionedparcelable/VersionedParcel;.b:(II)I
[0x7ff34d0c7a20] OPCODE: MOVE_RESULT v1
[0x7ff34d0c7a40] OPCODE: IPUT v1, v0, Landroid/support/v4/media/AudioAttributesImplBase;.mFlags:I
[0x7ff34db639c0] POSITION: SourceFile:15
[0x7ff34d0c7900] OPCODE: IGET v0, Landroid/support/v4/media/AudioAttributesImplBase;.mLegacyStream:I
[0x7ff34db63800] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO v1
[0x7ff34d0c7920] OPCODE: CONST v2, 4
[0x7ff34d0c7130] OPCODE: INVOKE_VIRTUAL v3, v1, v2, Landroidx/versionedparcelable/VersionedParcel;.b:(II)I
[0x7ff34d0c7150] OPCODE: MOVE_RESULT v3
[0x7ff34d0c7070] OPCODE: IPUT v3, v0, Landroid/support/v4/media/AudioAttributesImplBase;.mLegacyStream:I
[0x7ff34d0c7090] OPCODE: RETURN_OBJECT v0

Traceback (most recent call last):
  File "/Users/liang/workspace/github/redex/redex.py", line 1143, in <module>
    run_redex(args)
  File "/Users/liang/workspace/github/redex/redex.py", line 1121, in run_redex
    run_redex_binary(state)
  File "/Users/liang/workspace/github/redex/redex.py", line 445, in run_redex_binary
    if run():
  File "/Users/liang/workspace/github/redex/redex.py", line 430, in run
    ).format(returncode, gdb_script_name, lldb_script_name)
RuntimeError: redex-all crashed with exit code 1! You can re-run it under gdb by running /var/folders/xz/11g5qhv537j2z3khy3sy45580000gn/T/redex-gdb-eu7rqzy6.sh or under lldb by running /var/folders/xz/11g5qhv537j2z3khy3sy45580000gn/T/redex-lldb-tzx306cj.sh


here is my default.config
{
  "redex" : {
    "passes" : [
      # "ReBindRefsPass",
      # "BridgePass",
      # "ResultPropagationPass", # Run after BridgePass to avoid pattern matching conflicts
      # "FinalInlinePassV2",
      # "DelSuperPass",
      # "CommonSubexpressionEliminationPass", # Run once just before MethodInlinePass
      # "MethodInlinePass",
      # "PeepholePass",
      # "ConstantPropagationPass",
      # "LocalDcePass",
      # "RemoveUnreachablePass",
      # "RemoveGotosPass",
      # "DedupBlocksPass",
      # "UpCodeMotionPass",
      # "SingleImplPass",
      # "ReorderInterfacesPass",
      # "RemoveEmptyClassesPass",
      # "ShortenSrcStringsPass",
      # "CommonSubexpressionEliminationPass", # Run a second time after all method inlining is done
      # "RegAllocPass",
      # "CopyPropagationPass",
      # "LocalDcePass",
      # "ReduceGotosPass" # This pass should come at the very end, after all other code transformations that might add gotos
    ]
  },
  "FinalInlinePass" : {
    "propagate_static_finals": true,
    "replace_encodable_clinits": true
  },
  "MethodInlinePass": {
    "throws": true,
    "multiple_callers": true,
    "black_list": []
  },
  "ConstantPropagationPassV3" : {
    "blacklist": [],
    "replace_moves_with_consts": true,
    "fold_arithmetic": true
  },
  "RegAllocPass" : {
    "live_range_splitting": false
  },
  "CopyPropagationPass" : {
    "eliminate_const_literals": false,
    "full_method_analysis": true
  },
  "PeepholePass" : {
    "disabled_peepholes": [
      "Replace_PutGet",
      "Replace_PutGetWide",
      "Replace_PutGetObject",
      "Replace_PutGetShort",
      "Replace_PutGetChar",
      "Replace_PutGetByte",
      "Replace_PutGetBoolean"
    ]
  },
  "keep_packages": [
    "Lcom/fasterxml/jackson/",
    "Lcom/google/dexmaker/mockito/",
    "Landroidx/"
  ],
  "keep_annotations": [
    "Lcom/google/common/annotations/VisibleForTesting;"
  ],
  "debug_info_kind": "no_custom_symbolication",
  "method_move_map" : "redex-moved-methods-map.txt",
  "string_sort_mode" : "class_order",
  "bytecode_sort_mode" : "class_order",
  "ir_type_checker": {
    "run_after_each_pass" : true,
    "verify_moves" : false
  }
}

Getting the following error while trying to execute a simple redex transformation.
My APK file is:- version_20_2048.apk

I run the command: redex -c 1000.config version_20_2048.apk -o 1000.apk

## The 1000.config file looks like this:-
```
{
  "redex" : {
    "passes" : [
"ReBindRefsPass",
"SynthPass",
"DelSuperPass",
"PeepholePass",
"ConstantPropagationPass",
"LocalDcePass",
"DedupBlocksPass",
"SingleImplPass",
"ReorderInterfacesPass",
"RemoveEmptyClassesPass",
"ShortenSrcStringsPass",
"LocalDcePass"
    ]
  },
  "FinalInlinePass" : {
    "propagate_static_finals": true,
    "replace_encodable_clinits": true
  },
  "SimpleInlinePass": {
    "throws": true,
    "multiple_callers": true,
    "black_list": []
  },
  "ConstantPropagationPassV3" : {
    "blacklist": [],
    "replace_moves_with_consts": true,
    "fold_arithmetic": true
  },
  "RegAllocPass" : {
    "live_range_splitting": "0"
  },
  "CopyPropagationPass" : {
    "eliminate_const_literals": false,
    "full_method_analysis": true
  },
  "PeepholePass" : {
    "disabled_peepholes": [
      "Replace_PutGet",
      "Replace_PutGetWide",
      "Replace_PutGetObject",
      "Replace_PutGetShort",
      "Replace_PutGetChar",
      "Replace_PutGetByte",
      "Replace_PutGetBoolean"
    ]
  },
  "keep_packages": [
    "Lcom/fasterxml/jackson/",
    "Lcom/google/dexmaker/mockito/"
  ],
  "keep_annotations": [
    "Lcom/google/common/annotations/VisibleForTesting;"
  ],
  "proguard_map_output": "redex_pg_mapping.txt",
  "stats_output": "stats.txt",
  "bytecode_offset_map": "bytecode_offset_map.txt",
  "line_number_map_v2": "redex-line-number-map-v2",
  "method_move_map" : "redex-moved-methods-map.txt",
  "string_sort_mode" : "class_order",
  "bytecode_sort_mode" : "class_order",
  "ir_type_checker": {
    "run_after_each_pass" : false,
    "polymorphic_constants" : false,
    "verify_moves" : false
  }
}
```


## The stack-trace returned by redex:-

```
WARNING: keep annotation Lcom/google/common/annotations/VisibleForTesting; not found
WARNING: Unable to find RequiresApi annotation. It's either unused (okay) or been deleted (not okay)
WARNING: Unable to find TargetApi annotation. It's either unused (okay) or been deleted (not okay)
WARNING: No inliner config
Inconsistency found in Dex code for Landroid/support/v4/app/Fragment;.findFragmentByWho:(Ljava/lang/String;)Landroid/support/v4/app/Fragment;: Encountered overwrite of `this` register by MOVE_RESULT_OBJECT v1
Code: [0x7fab34c0fd00] OPCODE: IOPCODE_LOAD_PARAM_OBJECT v1
[0x7fab34c0fd20] OPCODE: IOPCODE_LOAD_PARAM_OBJECT v2
[0x7fab34c0fb80] DEBUG: DBG_SET_PROLOGUE_END
[0x7fab34c0fba0] POSITION: Fragment.java:1450
[0x7fab34c0fc40] OPCODE: IGET_OBJECT v1, Landroid/support/v4/app/Fragment;.mWho:Ljava/lang/String;
[0x7fab34c0e8e0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v0
[0x7fab34c0fc60] OPCODE: INVOKE_VIRTUAL v2, v0, Ljava/lang/String;.equals:(Ljava/lang/Object;)Z
[0x7fab34c0f3a0] OPCODE: MOVE_RESULT v0
[0x7fab34c0f3c0] OPCODE: IF_EQZ v0
[0x7fab356381d0] TARGET: SIMPLE 0x7fab35638220
[0x7fab35639ad0] TARGET: SIMPLE 0x7fab34c0c940
[0x7fab34c0dd20] POSITION: Fragment.java:1456
[0x7fab34c0dd40] DEBUG: DBG_END_LOCAL v1
[0x7fab34afb500] OPCODE: RETURN_OBJECT v1
[0x7fab35631820] TARGET: SIMPLE 0x7fab34c0f3c0
[0x7fab34c0fac0] POSITION: Fragment.java:1453
[0x7fab34c0fae0] DEBUG: DBG_RESTART_LOCAL v1
[0x7fab34afb520] OPCODE: IGET_OBJECT v1, Landroid/support/v4/app/Fragment;.mChildFragmentManager:Landroid/support/v4/app/FragmentManagerImpl;
[0x7fab34c0e080] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v0
[0x7fab34c0f100] OPCODE: IF_EQZ v0
[0x7fab34c0cd70] POSITION: Fragment.java:1454
[0x7fab34c0f120] OPCODE: IGET_OBJECT v1, Landroid/support/v4/app/Fragment;.mChildFragmentManager:Landroid/support/v4/app/FragmentManagerImpl;
[0x7fab34c0e0a0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v0
[0x7fab34c0ee00] OPCODE: INVOKE_VIRTUAL v0, v2, Landroid/support/v4/app/FragmentManagerImpl;.findFragmentByWho:(Ljava/lang/String;)Landroid/support/v4/app/Fragment;
[0x7fab34c0ee20] OPCODE: MOVE_RESULT_OBJECT v1
[0x7fab34c0c940] OPCODE: GOTO 
[0x7fab35662460] TARGET: SIMPLE 0x7fab34c0f100
[0x7fab34c0cd90] POSITION: Fragment.java:1456
[0x7fab34c0ec40] OPCODE: CONST v1, 0
[0x7fab35638220] OPCODE: GOTO 

Inconsistency found in Dex code for Landroid/support/v4/app/ShareCompat$IntentBuilder;.addStream:(Landroid/net/Uri;)Landroid/support/v4/app/ShareCompat$IntentBuilder;: Encountered overwrite of `this` register by MOVE_RESULT_OBJECT v3
Code: [0x7fab34c582d0] OPCODE: IOPCODE_LOAD_PARAM_OBJECT v3
[0x7fab34c582f0] OPCODE: IOPCODE_LOAD_PARAM_OBJECT v4
[0x7fab34c59d20] DEBUG: DBG_SET_PROLOGUE_END
[0x7fab34c59d40] POSITION: ShareCompat.java:486
[0x7fab34c58730] OPCODE: IGET_OBJECT v3, Landroid/support/v4/app/ShareCompat$IntentBuilder;.mIntent:Landroid/content/Intent;
[0x7fab34c59570] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v1
[0x7fab34c58750] OPCODE: CONST_STRING "android.intent.extra.STREAM"
[0x7fab34c595f0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v2
[0x7fab34c58850] OPCODE: INVOKE_VIRTUAL v1, v2, Landroid/content/Intent;.getParcelableExtra:(Ljava/lang/String;)Landroid/os/Parcelable;
[0x7fab34c588b0] OPCODE: MOVE_RESULT_OBJECT v0
[0x7fab34c58cb0] OPCODE: CHECK_CAST v0, Landroid/net/Uri;
[0x7fab34c596e0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v0
[0x7fab34c59d60] POSITION: ShareCompat.java:487
[0x7fab34c59d80] DEBUG: DBG_START_LOCAL v0 currentStream:Landroid/net/Uri;
[0x7fab34c58d10] OPCODE: IF_NEZ v0
[0x7fab34c59da0] POSITION: ShareCompat.java:488
[0x7fab34c58d70] OPCODE: INVOKE_VIRTUAL v3, v4, Landroid/support/v4/app/ShareCompat$IntentBuilder;.setStream:(Landroid/net/Uri;)Landroid/support/v4/app/ShareCompat$IntentBuilder;
[0x7fab34c58dd0] OPCODE: MOVE_RESULT_OBJECT v3
[0x7fab32431bf0] TARGET: SIMPLE 0x7fab351e14c0
[0x7fab34c59dc0] POSITION: ShareCompat.java:498
[0x7fab34c59de0] DEBUG: DBG_END_LOCAL v3
[0x7fab34c58e30] OPCODE: RETURN_OBJECT v3
[0x7fab35195780] TARGET: SIMPLE 0x7fab34c58d10
[0x7fab34c59e00] POSITION: ShareCompat.java:490
[0x7fab34c59e20] DEBUG: DBG_RESTART_LOCAL v3
[0x7fab34c58e90] OPCODE: IGET_OBJECT v3, Landroid/support/v4/app/ShareCompat$IntentBuilder;.mStreams:Ljava/util/ArrayList;
[0x7fab34c59860] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v1
[0x7fab34c58ef0] OPCODE: IF_NEZ v1
[0x7fab34c59e40] POSITION: ShareCompat.java:491
[0x7fab34c58f50] OPCODE: NEW_INSTANCE Ljava/util/ArrayList;
[0x7fab34c59920] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v1
[0x7fab34c58fb0] OPCODE: INVOKE_DIRECT v1, Ljava/util/ArrayList;.<init>:()V
[0x7fab34c59010] OPCODE: IPUT_OBJECT v1, v3, Landroid/support/v4/app/ShareCompat$IntentBuilder;.mStreams:Ljava/util/ArrayList;
[0x7fab3556c660] TARGET: SIMPLE 0x7fab34c58ef0
[0x7fab34c59e60] POSITION: ShareCompat.java:493
[0x7fab34c59070] OPCODE: IF_EQZ v0
[0x7fab34c59e80] POSITION: ShareCompat.java:494
[0x7fab34c590d0] OPCODE: IGET_OBJECT v3, Landroid/support/v4/app/ShareCompat$IntentBuilder;.mIntent:Landroid/content/Intent;
[0x7fab34c59a70] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v1
[0x7fab34c59130] OPCODE: CONST_STRING "android.intent.extra.STREAM"
[0x7fab34c59af0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v2
[0x7fab34c59190] OPCODE: INVOKE_VIRTUAL v1, v2, Landroid/content/Intent;.removeExtra:(Ljava/lang/String;)V
[0x7fab34c59ea0] POSITION: ShareCompat.java:495
[0x7fab34c591f0] OPCODE: IGET_OBJECT v3, Landroid/support/v4/app/ShareCompat$IntentBuilder;.mStreams:Ljava/util/ArrayList;
[0x7fab34c59bc0] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v1
[0x7fab34c59250] OPCODE: INVOKE_VIRTUAL v1, v0, Ljava/util/ArrayList;.add:(Ljava/lang/Object;)Z
[0x7fab353563c0] TARGET: SIMPLE 0x7fab34c59070
[0x7fab34c59ec0] POSITION: ShareCompat.java:497
[0x7fab34c592b0] OPCODE: IGET_OBJECT v3, Landroid/support/v4/app/ShareCompat$IntentBuilder;.mStreams:Ljava/util/ArrayList;
[0x7fab34c59c90] OPCODE: IOPCODE_MOVE_RESULT_PSEUDO_OBJECT v1
[0x7fab34c59310] OPCODE: INVOKE_VIRTUAL v1, v4, Ljava/util/ArrayList;.add:(Ljava/lang/Object;)Z
[0x7fab351e14c0] OPCODE: GOTO 

libc++abi.dylib: terminating with uncaught exception of type boost::exception_detail::error_info_injector<RedexException>: libredex/PassManager.cpp:333: void PassManager::run_passes(DexStoresVector &, ConfigFiles &, bool): assertion `ignore_final_verifier_result' failed.

0   redex-all                           0x00000001067e39d2 _Z23crash_backtrace_handleri + 50
1   libsystem_platform.dylib            0x00007fff5cac4b5d _sigtramp + 29
2   libc++abi.dylib                     0x00007fff59b67998 GCC_except_table51 + 216
3   libsystem_c.dylib                   0x00007fff5c97e6a6 abort + 127
4   libc++abi.dylib                     0x00007fff59b5a641 __cxa_bad_cast + 0
5   libc++abi.dylib                     0x00007fff59b5a7c7 _ZL25default_terminate_handlerv + 243
6   libobjc.A.dylib                     0x00007fff5b10deeb _ZL15_objc_terminatev + 105
7   libc++abi.dylib                     0x00007fff59b6619e _ZSt11__terminatePFvvE + 8
8   libc++abi.dylib                     0x00007fff59b65f86 __cxa_get_exception_ptr + 0
9   libc++abi.dylib                     0x00007fff59b58f99 __cxa_get_globals + 0
10  redex-all                           0x00000001067e3faf _Z11assert_failPKcS0_jS0_10RedexErrorS0_z + 895
11  redex-all                           0x00000001068c4a96 _ZN11PassManager10run_passesERNSt3__16vectorI8DexStoreNS0_9allocatorIS2_EEEER11ConfigFilesb + 6822
12  redex-all                           0x0000000106795f52 main + 8274
13  libdyld.dylib                       0x00007fff5c8d93d5 start + 1
14  ???                                 0x0000000000000008 0x0 + 8
Traceback (most recent call last):
  File "/tmp/redex.WYmbmi/redex.py", line 1146, in <module>
    run_redex(args)
  File "/tmp/redex.WYmbmi/redex.py", line 1124, in run_redex
    run_redex_binary(state)
  File "/tmp/redex.WYmbmi/redex.py", line 448, in run_redex_binary
    if run():
  File "/tmp/redex.WYmbmi/redex.py", line 433, in run
    ).format(returncode, gdb_script_name, lldb_script_name)
RuntimeError: redex-all crashed with exit code -6! You can re-run it under gdb by running /tmp/redex.WYmbmi/redex-gdb-x918a_3u.sh or under lldb by running /tmp/redex.WYmbmi/redex-lldb-be5pipxj.sh
```
Simple redex call fails on (production) signed APK with the error below:

I've tried to change this limit and even completely remove assertions in DexOutput.cpp however after compiling (make); I don't know how my changes seem to be reverted all the time.  

What would be a proper way (instruction steps) to change this limit or assertions?
Thank you

`libc++abi.dylib: terminating with uncaught exception of type boost::exception_detail::error_info_injector<RedexException>: libredex/DexOutput.cpp:796: void DexOutput::generate_method_data(): assertion 'dodx->field_to_idx().size() <= kMaxFieldRefs' failed.
Trying to encode too many field refs in dex 2: 65540 (limit: 65536)
0   redex-all                           0x000000010b6313b2 _Z23crash_backtrace_handleri + 50
1   libsystem_platform.dylib            0x00007fff6cd89b5d _sigtramp + 29
2   libc++abi.dylib                     0x00007fff69e2c998 GCC_except_table51 + 216
3   libsystem_c.dylib                   0x00007fff6cc436a6 abort + 127
4   libc++abi.dylib                     0x00007fff69e1f641 __cxa_bad_cast + 0
5   libc++abi.dylib                     0x00007fff69e1f7c7 _ZL25default_terminate_handlerv + 243
6   libobjc.A.dylib                     0x00007fff6b3d2eeb _ZL15_objc_terminatev + 105
7   libc++abi.dylib                     0x00007fff69e2b19e _ZSt11__terminatePFvvE + 8
8   libc++abi.dylib                     0x00007fff69e2af86 __cxa_get_exception_ptr + 0
9   libc++abi.dylib                     0x00007fff69e1df99 __cxa_get_globals + 0
10  redex-all                           0x000000010b6319d9 _Z11assert_failPKcS0_jS0_10RedexErrorS0_z + 985
11  redex-all                           0x000000010b666ea0 _ZN9DexOutput20generate_method_dataEv + 544
12  redex-all                           0x000000010b66ea9e _ZN9DexOutput7prepareE8SortModeRKNSt3__16vectorIS0_NS1_9allocatorIS0_EEEERK11ConfigFilesRKNS1_12basic_stringIcNS1_11char_traitsIcEENS3_IcEEEE + 510
13  redex-all                           0x000000010b670a6a _Z20write_classes_to_dexRK12RedexOptionsRKNSt3__112basic_stringIcNS2_11char_traitsIcEENS2_9allocatorIcEEEEPNS2_6vectorIP8DexClassNS6_ISD_EEEEPNS2_13unordered_mapIP9DexStringN8facebook7LocatorENS2_4hashISJ_EENS2_8equal_toISJ_EENS6_INS2_4pairIKSJ_SL_EEEEEEbmmRK11ConfigFilesP14PositionMapperPNSH_IP9DexMethodyNSM_IS12_EENSO_IS12_EENS6_INSQ_IKS12_yEEEEEEPNSH_IP7DexCodeNSB_I13DebugLineItemNS6_IS1C_EEEENSM_IS1B_EENSO_IS1B_EENS6_INSQ_IKS1B_S1E_EEEEEEP12IODIMetadataSA_PK12PostLowering + 1338
14  redex-all                           0x000000010b5eb7f5 _ZN12_GLOBAL__N_113redex_backendERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEERK11ConfigFilesR11PassManagerRNS0_6vectorI8DexStoreNS4_ISF_EEEERN4Json5ValueE + 3541
15  redex-all                           0x000000010b5e29bc main + 1500
16  libdyld.dylib                       0x00007fff6cb9e3d5 start + 1
Traceback (most recent call last):
  File "/tmp/redex.gMjfZA/redex.py", line 1143, in <module>
    run_redex(args)
  File "/tmp/redex.gMjfZA/redex.py", line 1121, in run_redex
    run_redex_binary(state)
  File "/tmp/redex.gMjfZA/redex.py", line 445, in run_redex_binary
    if run():
  File "/tmp/redex.gMjfZA/redex.py", line 430, in run
    ).format(returncode, gdb_script_name, lldb_script_name)
RuntimeError: redex-all crashed with exit code -6! You can re-run it under gdb by running /tmp/redex.gMjfZA/redex-gdb-hl4dd435.sh or under lldb by running /tmp/redex.gMjfZA/redex-lldb-2x3xaadd.sh
`


WARNING: Unable to find RequiresApi annotation. It's either unused (okay) or been deleted (not okay)
WARNING: No inliner config
Failed to allocate Lgnu/crypto/hash/Haval;.transform:([BI)V
CFG:
 Block B0: entry
   preds:
   [0x7fa428a87d60] OPCODE: IOPCODE_LOAD_PARAM_OBJECT v0
   [0x7fa428a87dc0] OPCODE: IOPCODE_LOAD_PARAM_OBJECT v1
   [0x7fa428a87e20] OPCODE: IOPCODE_LOAD_PARAM v2
   [0x7fa428afe540] DEBUG: DBG_SET_PROLOGUE_END
   [0x7fa428afe570] POSITION: SourceFile:202
   [0x7fa428a87e50] OPCODE: MOVE_OBJECT v3, v0
   [0x7fa428a87e80] OPCODE: MONITOR_ENTER v3
   [0x7fa428a87eb0] OPCODE: MOVE v4, v2
   [0x7fa428a87ee0] OPCODE: ADD_INT_LIT8 v5, v4, 1
   succs: (goto B1)
   ....
  /tmp/redex.inlQaV/redex-all(+0x7beb3b)[0x564d39d75b3b]
/tmp/redex.inlQaV/redex-all(_Z23crash_backtrace_handleri+0x8)[0x564d39d75b78]
/lib/x86_64-linux-gnu/libc.so.6(+0x3ef20)[0x7fa448133f20]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0xc7)[0x7fa448133e97]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x141)[0x7fa448135801]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x8c957)[0x7fa448b28957]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x92ab6)[0x7fa448b2eab6]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x92af1)[0x7fa448b2eaf1]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(__cxa_rethrow+0x49)[0x7fa448b2ed79]
/tmp/redex.inlQaV/redex-all(_ZN8regalloc12RegAllocPass8allocateERKNS_14graph_coloring9Allocator6ConfigEP9DexMethod+0x298)[0x564d39b2e2c8]
/tmp/redex.inlQaV/redex-all(+0x5775a6)[0x564d39b2e5a6]
/tmp/redex.inlQaV/redex-all(+0x5777aa)[0x564d39b2e7aa]
/tmp/redex.inlQaV/redex-all(_ZZN9WorkQueueIP8DexClassN8regalloc14graph_coloring9Allocator5StatsEE7run_allERKS5_ENKUlP11WorkerStateIS1_S5_EmE_clESB_m+0x498)[0x564d39b2fd18]
/usr/lib/x86_64-linux-gnu/libboost_thread.so.1.65.1(+0x11bcd)[0x7fa4496a8bcd]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x76db)[0x7fa44947f6db]
/lib/x86_64-linux-gnu/libc.so.6(clone+0x3f)[0x7fa44821688f]

/tmp/redex.inlQaV/redex-all(+0x7beb3b)[0x564d39d75b3b]
  ??
    ??:0
/tmp/redex.inlQaV/redex-all(_Z23crash_backtrace_handleri+0x8)[0x564d39d75b78]
  ??
    ??:0
/lib/x86_64-linux-gnu/libc.so.6(+0x3ef20)[0x7fa448133f20]
  ??
    ??:0
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0xc7)[0x7fa448133e97]
  ??
    ??:0
/lib/x86_64-linux-gnu/libc.so.6(abort+0x141)[0x7fa448135801]
  ??
    ??:0
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x8c957)[0x7fa448b28957]
  ??
    ??:0
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x92ab6)[0x7fa448b2eab6]
  ??
    ??:0
....
/lib/x86_64-linux-gnu/libpthread.so.0(+0x76db)[0x7fa44947f6db]
  ??
    ??:0
/lib/x86_64-linux-gnu/libc.so.6(clone+0x3f)[0x7fa44821688f]
  ??
    ??:0

Traceback (most recent call last):
  File "/tmp/redex.inlQaV/redex.py", line 1096, in <module>
    run_redex(args)
  File "/tmp/redex.inlQaV/redex.py", line 1074, in run_redex
    run_redex_binary(state)
  File "/tmp/redex.inlQaV/redex.py", line 411, in run_redex_binary
    if run():
  File "/tmp/redex.inlQaV/redex.py", line 396, in run
    % script_filenames
RuntimeError: redex-all crashed with exit code -6! You can re-run it under gdb by running /tmp/redex.inlQaV/redex-gdb-ybv3bted.sh or under lldb by running /tmp/redex.inlQaV/redex-lldb-0hhp5gvc.sh

cmd: redex -c  default.config  -o ~/redex/output/out.apk  ~/redex/input/input.apk  
run proguard  


void ClassScopes::build_interface_scopes(): assertion `scopes.size() > 0' failed




libc++abi.dylib: terminating with uncaught exception of type RedexException: libredex/VirtualScope.cpp:886: void ClassScopes::build_interface_scopes(): assertion `scopes.size() > 0' failed.

0   redex-all                           0x0000000103050b42 _Z23crash_backtrace_handleri + 50
1   libsystem_platform.dylib            0x00007fff6e8feb5d _sigtramp + 29
2   libc++abi.dylib                     0x00007fff6b9a0998 GCC_except_table51 + 216
3   libsystem_c.dylib                   0x00007fff6e7b86a6 abort + 127
4   libc++abi.dylib                     0x00007fff6b993641 __cxa_bad_cast + 0
5   libc++abi.dylib                     0x00007fff6b9937c7 _ZL25default_terminate_handlerv + 243
6   libobjc.A.dylib                     0x00007fff6cf46eeb _ZL15_objc_terminatev + 105
7   libc++abi.dylib                     0x00007fff6b99f19e _ZSt11__terminatePFvvE + 8
8   libc++abi.dylib                     0x00007fff6b99ef86 __cxa_get_exception_ptr + 0
9   libc++abi.dylib                     0x00007fff6b991f99 __cxa_get_globals + 0
10  redex-all                           0x0000000103050ec3 _Z11assert_failPKcS0_jS0_10RedexErrorS0_z + 291
11  redex-all                           0x0000000103212a6d _ZN11ClassScopes22build_interface_scopesEv + 989
12  redex-all                           0x00000001032120db _ZN11ClassScopesC2ERKNSt3__16vectorIP8DexClassNS0_9allocatorIS3_EEEE + 603
13  redex-all                           0x00000001032090b9 _ZN10TypeSystemC2ERKNSt3__16vectorIP8DexClassNS0_9allocatorIS3_EEEE + 25
14  redex-all                           0x0000000102c9f794 _ZN17FinalInlinePassV28run_passERNSt3__16vectorI8DexStoreNS0_9allocatorIS2_EEEER11ConfigFilesR11PassManager + 1604
15  redex-all                           0x0000000103119efe _ZN11PassManager10run_passesERNSt3__16vectorI8DexStoreNS0_9allocatorIS2_EEEER11ConfigFiles + 6158
16  redex-all                           0x0000000102ffd05b main + 5531
17  libdyld.dylib                       0x00007fff6e7133d5 start + 1
Traceback (most recent call last):
  File "/tmp/redex.5UV5op/redex.py", line 1020, in <module>
    run_redex(args)
  File "/tmp/redex.5UV5op/redex.py", line 998, in run_redex
    run_redex_binary(state)
  File "/tmp/redex.5UV5op/redex.py", line 323, in run_redex_binary
    % script_filenames
RuntimeError: redex-all crashed with exit code -6! You can re-run it under gdb by running /tmp/redex.5UV5op/redex-gdb-t7cxy2ja.sh or under lldb by running /tmp/redex.5UV5op/redex-lldb-ddg10eqe.sh

When I run `cmake..` according to the [official document](https://fbredex.com/docs/installation#experimental-cmake-for-mac-linux-and-windows), the Terminal says that: 

```
-- The C compiler identification is AppleClang 11.0.0.11000033
-- The CXX compiler identification is AppleClang 11.0.0.11000033
-- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc
-- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++
-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Using C++14
-- ENABLE_STATIC OFF
CMake Warning at /usr/local/lib/cmake/boost_system-1.71.0/libboost_system-variant-shared.cmake:59 (message):
  Target Boost::system already has an imported location
  '/usr/local/lib/libboost_system-mt.dylib', which will be overwritten with
  '/usr/local/lib/libboost_system.dylib'
Call Stack (most recent call first):
  /usr/local/lib/cmake/boost_system-1.71.0/boost_system-config.cmake:43 (include)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:117 (find_package)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:182 (boost_find_component)
  /usr/local/Cellar/cmake/3.15.5/share/cmake/Modules/FindBoost.cmake:443 (find_package)
  cmake_modules/Commons.cmake:46 (find_package)
  CMakeLists.txt:27 (add_dependent_packages_for_redex)


CMake Warning at /usr/local/lib/cmake/boost_regex-1.71.0/libboost_regex-variant-shared.cmake:59 (message):
  Target Boost::regex already has an imported location
  '/usr/local/lib/libboost_regex-mt.dylib', which will be overwritten with
  '/usr/local/lib/libboost_regex.dylib'
Call Stack (most recent call first):
  /usr/local/lib/cmake/boost_regex-1.71.0/boost_regex-config.cmake:43 (include)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:117 (find_package)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:182 (boost_find_component)
  /usr/local/Cellar/cmake/3.15.5/share/cmake/Modules/FindBoost.cmake:443 (find_package)
  cmake_modules/Commons.cmake:46 (find_package)
  CMakeLists.txt:27 (add_dependent_packages_for_redex)


CMake Warning at /usr/local/lib/cmake/boost_filesystem-1.71.0/libboost_filesystem-variant-shared.cmake:59 (message):
  Target Boost::filesystem already has an imported location
  '/usr/local/lib/libboost_filesystem-mt.dylib', which will be overwritten
  with '/usr/local/lib/libboost_filesystem.dylib'
Call Stack (most recent call first):
  /usr/local/lib/cmake/boost_filesystem-1.71.0/boost_filesystem-config.cmake:43 (include)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:117 (find_package)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:182 (boost_find_component)
  /usr/local/Cellar/cmake/3.15.5/share/cmake/Modules/FindBoost.cmake:443 (find_package)
  cmake_modules/Commons.cmake:46 (find_package)
  CMakeLists.txt:27 (add_dependent_packages_for_redex)


CMake Warning at /usr/local/lib/cmake/boost_program_options-1.71.0/libboost_program_options-variant-shared.cmake:59 (message):
  Target Boost::program_options already has an imported location
  '/usr/local/lib/libboost_program_options-mt.dylib', which will be
  overwritten with '/usr/local/lib/libboost_program_options.dylib'
Call Stack (most recent call first):
  /usr/local/lib/cmake/boost_program_options-1.71.0/boost_program_options-config.cmake:43 (include)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:117 (find_package)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:182 (boost_find_component)
  /usr/local/Cellar/cmake/3.15.5/share/cmake/Modules/FindBoost.cmake:443 (find_package)
  cmake_modules/Commons.cmake:46 (find_package)
  CMakeLists.txt:27 (add_dependent_packages_for_redex)


CMake Warning at /usr/local/lib/cmake/boost_iostreams-1.71.0/libboost_iostreams-variant-shared.cmake:59 (message):
  Target Boost::iostreams already has an imported location
  '/usr/local/lib/libboost_iostreams-mt.dylib', which will be overwritten
  with '/usr/local/lib/libboost_iostreams.dylib'
Call Stack (most recent call first):
  /usr/local/lib/cmake/boost_iostreams-1.71.0/boost_iostreams-config.cmake:43 (include)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:117 (find_package)
  /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake:182 (boost_find_component)
  /usr/local/Cellar/cmake/3.15.5/share/cmake/Modules/FindBoost.cmake:443 (find_package)
  cmake_modules/Commons.cmake:46 (find_package)
  CMakeLists.txt:27 (add_dependent_packages_for_redex)


-- Found Boost: /usr/local/lib/cmake/Boost-1.71.0/BoostConfig.cmake (found suitable version "1.71.0", minimum required is "1.56.0") found components:  system regex filesystem program_options iostreams thread 
-- Boost_INCLUDE_DIRS: /usr/local/include
-- Boost_LIBRARIES: Boost::system
-- Boost_LIBRARIES: Boost::regex
-- Boost_LIBRARIES: Boost::filesystem
-- Boost_LIBRARIES: Boost::program_options
-- Boost_LIBRARIES: Boost::iostreams
-- Boost_LIBRARIES: Boost::thread
-- Found JsonCpp: /usr/local/include (Required is at least version "0.10.5") 
-- JSONCPP_INCLUDE_DIRS: /usr/local/include
-- REDEX_JSONCPP_LIBRARY: /usr/local/lib/libjsoncpp.dylib
-- Could not find the ZLIB library. Looked in  in /usr/local/opt/zlib.
CMake Error at cmake_modules/Commons.cmake:68 (print_dirs):
  print_dirs Function invoked with incorrect arguments for function named:
  print_dirs
Call Stack (most recent call first):
  CMakeLists.txt:27 (add_dependent_packages_for_redex)


-- redex-all will link libredex.a wholly
-- Configuring incomplete, errors occurred!
See also "/Users/william/Desktop/redex/build-cmake/CMakeFiles/CMakeOutput.log".
```

[CMakeOutput.log](https://github.com/facebook/redex/files/3807234/CMakeOutput.log)

I am new to `CMake`, and I don't know how to fix it.

libc++abi.dylib: terminating with uncaught exception of type RedexException: libredex/IROpcode.cpp:34: opcode::Ref opcode::ref(IROpcode): assertion `false' failed.
Unexpected opcode 0xd4b0
0   redex-all                           0x000000010e2bfcf2 _Z23crash_backtrace_handleri + 50
1   libsystem_platform.dylib            0x00007fff625fcf5a _sigtramp + 26
2   ???                                 0x0000000000020008 0x0 + 131080
3   libsystem_c.dylib                   0x00007fff6239a1ae abort + 127
4   libc++abi.dylib                     0x00007fff60294f8f __cxa_bad_cast + 0
5   libc++abi.dylib                     0x00007fff60295113 _ZL25default_terminate_handlerv + 241
6   libobjc.A.dylib                     0x00007fff616d6eab _ZL15_objc_terminatev + 105
7   libc++abi.dylib                     0x00007fff602b07c9 _ZSt11__terminatePFvvE + 8
8   libc++abi.dylib                     0x00007fff602b026f _ZN10__cxxabiv1L22exception_cleanup_funcE19_Unwind_Reason_CodeP17_Unwind_Exception + 0
9   redex-all                           0x000000010e2c0073 _Z11assert_failPKcS0_jS0_10RedexErrorS0_z + 291
10  redex-all                           0x000000010e357083 _ZN6opcode3refE8IROpcode + 83
11  redex-all                           0x000000010e2aabb0 _ZN3cfg16ControlFlowGraph34primary_instruction_of_move_resultERKNS_23InstructionIteratorImplILb0EEE + 176
12  redex-all                           0x000000010de78dfd _ZN8cse_impl30CommonSubexpressionElimination5patchEbP7DexTypeP11DexTypeListb + 6173
13  redex-all                           0x000000010dea4b64 _ZZN34CommonSubexpressionEliminationPass8run_passERNSt3__16vectorI8DexStoreNS0_9allocatorIS2_EEEER11ConfigFilesR11PassManagerENK3$_6clEP9DexMethod + 372
14  redex-all                           0x000000010dea3e2c _ZNSt3__110__function6__funcIZN4walk8parallel14reduce_methodsIN8cse_impl5StatsENS_6vectorIP8DexClassNS_9allocatorIS9_EEEEZN34CommonSubexpressionEliminationPass8run_passERNS7_I8DexStoreNSA_ISE_EEEER11ConfigFilesR11PassManagerE3$_6ZNSD_8run_passESH_SJ_SL_E3$_7EET_RKT0_T1_T2_RKSO_mEUlP11WorkerStateIS9_DnS6_ES9_E_NSA_ISZ_EEFS6_SY_S9_EEclEOSY_OS9_ + 268
15  redex-all                           0x000000010dea6a83 _ZN9WorkQueueIP8DexClassDnN8cse_impl5StatsEE7consumeEP11WorkerStateIS1_DnS3_ES1_ + 179
16  redex-all                           0x000000010dea67fb _ZZN9WorkQueueIP8DexClassDnN8cse_impl5StatsEE7run_allERKS3_ENKUlP11WorkerStateIS1_DnS3_EmE_clES9_m + 219
17  libboost_thread-mt.dylib            0x000000010f510758 _ZN5boost12_GLOBAL__N_112thread_proxyEPv + 136
18  libsystem_pthread.dylib             0x00007fff62606661 _pthread_body + 340
19  libsystem_pthread.dylib             0x00007fff6260650d _pthread_body + 0
20  libsystem_pthread.dylib             0x00007fff62605bf9 thread_start + 13
Traceback (most recent call last):
  File "/tmp/redex.MgAGvP/redex.py", line 233, in run_redex_binary
    subprocess.check_call(args, env=env, pass_fds=(logger.trace_fp.fileno(),))
  File "/usr/local/Cellar/python/3.7.4_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/subprocess.py", line 347, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['/tmp/redex.MgAGvP/redex-all', '--apkdir', '/tmp/redex.MgAGvP/tmpr58opb8l.redex_extracted_apk', '--outdir', '/tmp/redex.MgAGvP/tmphnlxxtoq.redex_dexen', '--config', 'interdex.config', '/tmp/redex.MgAGvP/tmphnlxxtoq.redex_dexen/dex0/classes.dex', '/tmp/redex.MgAGvP/tmphnlxxtoq.redex_dexen/dex1/classes2.dex', '/tmp/redex.MgAGvP/tmphnlxxtoq.redex_dexen/dex2/classes3.dex', '/tmp/redex.MgAGvP/tmphnlxxtoq.redex_dexen/dex3/classes4.dex', '/tmp/redex.MgAGvP/tmphnlxxtoq.redex_dexen/dex4/classes5.dex']' died with <Signals.SIGABRT: 6>.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/tmp/redex.MgAGvP/redex.py", line 934, in <module>
    run_redex(args)
  File "/tmp/redex.MgAGvP/redex.py", line 912, in run_redex
    run_redex_binary(state)
  File "/tmp/redex.MgAGvP/redex.py", line 249, in run_redex_binary
    % script_filenames
RuntimeError: redex-all crashed with exit code -6! You can re-run it under gdb by running /tmp/redex.MgAGvP/redex-gdb-l3pays_g.sh or under lldb by running /tmp/redex.MgAGvP/redex-lldb-r2kye5u9.sh
Hello @yangshun , @endiliey review this pr when you got time.

I was working on migrating docusaurus of this repo to new V2 version

Deployed at [https://thakurkarthik.github.io/redex/](https://thakurkarthik.github.io/redex/) for testing.

This pr on successful merge takes the docusaurus version to new v2 alpha for [fbredex](https://fbredex.com/)

This PR belongs to #426 and https://github.com/facebook/docusaurus/issues/1834

Here are some screenshots of the new site.

### Landing Page
![Screenshot (155)](https://user-images.githubusercontent.com/26309938/66895184-c910ae00-f00f-11e9-95ba-7dc7a0c3de37.png)
### Docs Page
![Screenshot (156)](https://user-images.githubusercontent.com/26309938/66895183-c8781780-f00f-11e9-98b7-ab99e711c02a.png)
### FAQ Page
![Screenshot (157)](https://user-images.githubusercontent.com/26309938/66895181-c8781780-f00f-11e9-8c00-fe0e9ef4c3ef.png)


