<!--
PLEASE HELP US PROCESS GITHUB ISSUES FASTER BY PROVIDING THE FOLLOWING INFORMATION.
-->

## I'm submitting a…
<!-- Please check one of the following options with "x" -->
<pre>
[x] Bug
[ ] Feature Request
[ ] Documentation Request
[ ] Other (Please describe in detail)
</pre>

## Current Behavior
<!--
Describe the current behavior,
e.g., »When pressing Alt+j (focus left), the window above the current window is focused.«
-->
When using smart_borders and screen compositing the wallpaper is shown for one frame every time another workspace is being selected.

## Expected Behavior
<!--
Describe the desired behavior you expect after mitigation of the issue,
e.g., »The window left next to the current window should be focused.«
-->
The wallpaper should not show when switching between workspaces.

## Reproduction Instructions
<!--
Please provide detailed instructions on how the bug can be reproduced.
E.g., »Open three windows in a V[A H[B C]] layout on a new workspace«
-->
Install and run a screen compositing service like compton or xcompmgr and enable smart_borders with "smart_borders on" in your i3 config.
When switching between workspaces now the wallpaper will be shown for one frame.

## Environment
<!--
Please include your exact i3 version.
Note that we only support the latest major release and the current development version. If you are using an older version of i3, please first update to the current release version and reproduce the issue there.
-->
Output of `i3 --moreversion 2>&-`:
<pre>
i3 version: 4.17.1-64-g4c464e63 (2019-10-11, branch "gaps-next")
</pre>

<!--
Please include your (complete) i3 config with which the issue occurs. You can either paste the file directly or provide a link to a service such as pastebin.

If you would like to help debugging the issue, please try to reduce the config such that it is as close to the default config as possible while still reproducing the issue. This can help us bisect the root cause.
-->
[my i3config](https://pastebin.com/PYh20zac)

<!--
Please also answer the questions below to help us process your issue faster. If you have any other information to share, please add it here as well.
-->
<pre>
- Linux Distribution & Version: Bedrock Linux 0.7.9 Poki x86_64 (Hijacked Arch)
- Are you using a compositor (e.g., xcompmgr or compton): yes, the problem perists with both of them
</pre>

<!--
PLEASE HELP US PROCESS GITHUB ISSUES FASTER BY PROVIDING THE FOLLOWING INFORMATION.
-->

## I'm submitting a…
<!-- Please check one of the following options with "x" -->
<pre>
[x] Bug
[ ] Feature Request
[ ] Documentation Request
[ ] Other (Please describe in detail)
</pre>

## Current Behavior
<!--
Describe the current behavior,
e.g., »When pressing Alt+j (focus left), the window above the current window is focused.«
-->
Borders around applications including Firefox, Nautilus, Spotify, Chrome (pretty much everything except URxvt) appear as black when set to transparent.

## Expected Behavior
<!--
Describe the desired behavior you expect after mitigation of the issue,
e.g., »The window left next to the current window should be focused.«
-->
Borders should be transparent on all applications.

I am using compton, and transparency is working for my polybar, the background of my URxvt terminals and their borders.

## Environment
<!--
Please include your exact i3 version.
Note that we only support the latest major release and the current development version. If you are using an older version of i3, please first update to the current release version and reproduce the issue there.
-->
Output of `i3 --moreversion 2>&-`:
<pre>
i3 version: 
Binary i3 version:  4.16.1-189-gb573a610 (2019-06-22, branch "gaps-next") © 2009 Michael Stapelberg and contributors
Running i3 version: 4.16.1-189-gb573a610 (2019-06-22, branch "gaps-next") (pid 1981)
Loaded i3 config: /home/harry/.config/i3/config (Last modified: Thu 15 Aug 2019 10:57:44 BST, 215 seconds ago)

The i3 binary you just called: /usr/bin/i3
The i3 binary you are running: i3
</pre>

<!--
Please include your (complete) i3 config with which the issue occurs. You can either paste the file directly or provide a link to a service such as pastebin.

If you would like to help debugging the issue, please try to reduce the config such that it is as close to the default config as possible while still reproducing the issue. This can help us bisect the root cause.
-->
<pre>
# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:System San Francisco Display 10

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.


# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec urxvt #i3-sensible-terminal
#start a browser
bindsym $mod+numbersign exec firefox

# kill focused window
bindsym $mod+Shift+q kill


# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you ca# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:System San Francisco Display 10

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.


# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec urxvt #i3-sensible-terminal
#start a browser
bindsym $mod+numbersign exec firefox

# kill focused window
bindsym $mod+Shift+q kill


# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+o split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
#bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
#set $ws1 "1:" 
#set $ws2 "2:" 
#set $ws3 "3:" 
#set $ws4 "4:" 
##set $ws5 "5:<span font='SVGFont1 12' rise='-2000'>a</span>"
#set $ws5 "5:%{T2}a%{T-}"
#set $ws6 "6:"
#set $ws7 "7:"
#set $ws8 "8:"
#set $ws9 "9:"
#set $ws10 "10:"
#set $ws11 "11:"
set $ws1 "1" 
set $ws2 "2" 
set $ws3 "3" 
set $ws4 "4" 
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
set $ws11 "11"

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+minus workspace $ws11

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10
bindsym $mod+Shift+minus move container to workspace $ws11


# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

set $bg-color 	         #ffbc42aa
set $border-color        #ffbc42aa
set $indicator-color 	 #008cff50
set $inactive-bg-color   #ffffff00
set $text-color          #f3f4f5
set $inactive-text-color #676E7D
set $urgent-bg-color     #E53935
set $ws-focused-bg 	 #000000

# window colors
#                       border              background         text                 indicator
client.focused          $border-color       $bg-color          $text-color          $indicator-color
client.unfocused        $inactive-bg-color  $inactive-bg-color $inactive-text-color $inactive-bg-color
client.focused_inactive $inactive-bg-color  $inactive-bg-color $inactive-text-color $inactive-bg-color
client.urgent 		$urgent-bg-color    $urgent-bg-color   $text-color 	    $urgent-bg-color

set $term-bg #D7003042

#ROFI MENUS:
bindsym $mod+d exec rofi -show run -config ~/.config/rofi/config_bubbly
bindsym $mod+c exec "SEL=$(ls -1 ~/.linkconfigs/ | rofi -dmenu -p 'config-selector:') && urxvt -e vim ~/.linkconfigs/$SEL"
bindsym $mod+s exec rofi -show ssh




#-lines 5 -eh 1 -width 40 -padding 10 -opacity "85" -bw 0 -bc "$term-bg" -bg "$term-bg" -fg "$text-color" -hlbg "$bg-color" -hlfg "#9575cd" -font "System San Francisco Display 18"

# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop
# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
#bar {
#	strip_workspace_numbers yes
#	status_command i3status
#	colors {
#		   background $bg-color
#	           separator #757575
##                  		      border             background         text
#		   focused_workspace  $ws-focused-bg     $ws-focused-bg	    $text-color
#	 	   inactive_workspace $inactive-bg-color $inactive-bg-color $inactive-text-color
#		   urgent_workspace   $urgent-bg-color   $urgent-bg-color   $text-color
#		}
#}
exec_always --no-startup-id $HOME/.config/polybar/launch.sh
exec compton -f -I 0.06 -O 0.6

exec_always xrdb -merge ~/.Xresources

#GAPS!!!
gaps inner 5
gaps outer 2
gaps vertical -2
smart_borders on
for_window [class=".*"] border pixel 4
#for_window [instance="__focused__"] border pixel 0
#title_align center
#for_window [class=".*"] title_format "<span>%title</span>"

#touchpad touch-ups:
exec_always "~/.config/i3/touchpad_options"

#key swaps:
exec_always ~/.config/i3/key_mappings

#media
# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo +5% #increase sound volume
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo -5% #decrease sound volume
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute alsa_output.pci-0000_00_1f.3.analog-stereo toggle # mute sound

# Screen brightness controls
bindsym XF86MonBrightnessUp exec xbacklight -inc 10 # increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight -dec 10 # decrease screen brightness

# Media player controls
bindsym XF86AudioPlay exec playerctl play-pause
#bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

#HARRY'S COMMANDS:
#desktop background
exec_always feh --bg-fill ~/Pictures/desktop-photos/eventdisplay.jpg

#lock shortcut:
bindsym $mod+shift+x exec i3lock -c 222222

#set dpi for i3 toolbars
exec_always xrdb -merge ~/.Xresources
exec_always xrandr --dpi 120

bindsym Print exec "scrot ~/.screenshot.png && xclip ~/.screenshot.png"
# && rm ~/.screenshot.pngn use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+o split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
#bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
#set $ws1 "1:" 
#set $ws2 "2:" 
#set $ws3 "3:" 
#set $ws4 "4:" 
##set $ws5 "5:<span font='SVGFont1 12' rise='-2000'>a</span>"
#set $ws5 "5:%{T2}a%{T-}"
#set $ws6 "6:"
#set $ws7 "7:"
#set $ws8 "8:"
#set $ws9 "9:"
#set $ws10 "10:"
#set $ws11 "11:"
set $ws1 "1" 
set $ws2 "2" 
set $ws3 "3" 
set $ws4 "4" 
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
set $ws11 "11"

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+minus workspace $ws11

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10
bindsym $mod+Shift+minus move container to workspace $ws11


# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

set $bg-color 	         #ffbc42aa
set $border-color        #ffbc42aa
set $indicator-color 	 #008cff50
set $inactive-bg-color   #ffffff00
set $text-color          #f3f4f5
set $inactive-text-color #676E7D
set $urgent-bg-color     #E53935
set $ws-focused-bg 	 #000000

# window colors
#                       border              background         text                 indicator
client.focused          $border-color       $bg-color          $text-color          $indicator-color
client.unfocused        $inactive-bg-color  $inactive-bg-color $inactive-text-color $inactive-bg-color
client.focused_inactive $inactive-bg-color  $inactive-bg-color $inactive-text-color $inactive-bg-color
client.urgent 		$urgent-bg-color    $urgent-bg-color   $text-color 	    $urgent-bg-color

set $term-bg #D7003042

#ROFI MENUS:
bindsym $mod+d exec rofi -show run -config ~/.config/rofi/config_bubbly
bindsym $mod+c exec "SEL=$(ls -1 ~/.linkconfigs/ | rofi -dmenu -p 'config-selector:') && urxvt -e vim ~/.linkconfigs/$SEL"
bindsym $mod+s exec rofi -show ssh




#-lines 5 -eh 1 -width 40 -padding 10 -opacity "85" -bw 0 -bc "$term-bg" -bg "$term-bg" -fg "$text-color" -hlbg "$bg-color" -hlfg "#9575cd" -font "System San Francisco Display 18"

# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop
# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
#bar {
#	strip_workspace_numbers yes
#	status_command i3status
#	colors {
#		   background $bg-color
#	           separator #757575
##                  		      border             background         text
#		   focused_workspace  $ws-focused-bg     $ws-focused-bg	    $text-color
#	 	   inactive_workspace $inactive-bg-color $inactive-bg-color $inactive-text-color
#		   urgent_workspace   $urgent-bg-color   $urgent-bg-color   $text-color
#		}
#}
exec_always --no-startup-id $HOME/.config/polybar/launch.sh
exec compton -f -I 0.06 -O 0.6

exec_always xrdb -merge ~/.Xresources

#GAPS!!!
gaps inner 5
gaps outer 2
gaps vertical -2
smart_borders on
for_window [class=".*"] border pixel 4
#for_window [instance="__focused__"] border pixel 0
#title_align center
#for_window [class=".*"] title_format "<span>%title</span>"

#touchpad touch-ups:
exec_always "~/.config/i3/touchpad_options"

#key swaps:
exec_always ~/.config/i3/key_mappings

#media
# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo +5% #increase sound volume
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo -5% #decrease sound volume
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute alsa_output.pci-0000_00_1f.3.analog-stereo toggle # mute sound

# Screen brightness controls
bindsym XF86MonBrightnessUp exec xbacklight -inc 10 # increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight -dec 10 # decrease screen brightness

# Media player controls
bindsym XF86AudioPlay exec playerctl play-pause
#bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

#HARRY'S COMMANDS:
#desktop background
exec_always feh --bg-fill ~/Pictures/desktop-photos/eventdisplay.jpg

#lock shortcut:
bindsym $mod+shift+x exec i3lock -c 222222

#set dpi for i3 toolbars
exec_always xrdb -merge ~/.Xresources
exec_always xrandr --dpi 120

bindsym Print exec "scrot ~/.screenshot.png && xclip ~/.screenshot.png"
# && rm ~/.screenshot.png
</pre>

<!--
Providing a logfile can help us trace the root cause of an issue much quicker. You can learn how to generate the logfile here:
https://i3wm.org/docs/debugging.html

Providing the logfile is optional.
-->

<!--
Please also answer the questions below to help us process your issue faster. If you have any other information to share, please add it here as well.
-->
<pre>
- Linux Distribution & Version: Fedora 30
- Are you using a compositor (e.g., xcompmgr or compton): compton
</pre>

<!--
PLEASE HELP US PROCESS GITHUB ISSUES FASTER BY PROVIDING THE FOLLOWING INFORMATION.
-->

## I'm submitting a…
<!-- Please check one of the following options with "x" -->
<pre>
[x] Bug
[ ] Feature Request
[ ] Documentation Request
[ ] Other (Please describe in detail)
</pre>

## Current Behavior
<!--
Describe the current behavior,
e.g., »When pressing Alt+j (focus left), the window above the current window is focused.«
-->

With gaps, `resize grow height 5 px` shrinks the window height.

## Expected Behavior
<!--
Describe the desired behavior you expect after mitigation of the issue,
e.g., »The window left next to the current window should be focused.«
-->

With gaps, "resize grow height 5 px" should grow the window height (by 5 pixels).

## Reproduction Instructions
<!--
Please provide detailed instructions on how the bug can be reproduced.
E.g., »Open three windows in a V[A H[B C]] layout on a new workspace«
-->

Start with a fresh new (default) .config (with *no* gaps specifier), create 2 vertically-tiled terminal windows. Enter `i3-msg resize grow height 5 px` and watch the selected window height grow by 5 pixels. All is good.

Now edit the (default) config file and just add the single line: "gaps inner 10". Either restart i3 or reload your new config. Again, create 2 vertically-tiled terminal windows. Again, enter `i3-msg resize grow height 5 px` and watch the selected window height shrink. All is not good.

## Environment
<!--
Please include your exact i3 version.
Note that we only support the latest major release and the current development version. If you are using an older version of i3, please first update to the current release version and reproduce the issue there.
-->
Output of `i3 --moreversion 2>&-`:
<pre>
Binary i3 version:  4.16.1-1-g341fcf99 (2019-01-27, branch "gaps") © 2009 Michael Stapelberg and contributors
Running i3 version: 4.16.1-1-g341fcf99 (2019-01-27, branch "gaps") (pid 16792)
Loaded i3 config: /home/nonroot/.config/i3/config (Last modified: Tue 23 Jul 2019 17:08:38 BST, 6123 seconds ago)

The i3 binary you just called: /usr/bin/i3
The i3 binary you are running: x-window/i3
</pre>

<!--
Please include your (complete) i3 config with which the issue occurs. You can either paste the file directly or provide a link to a service such as pastebin.

If you would like to help debugging the issue, please try to reduce the config such that it is as close to the default config as possible while still reproducing the issue. This can help us bisect the root cause.
-->

Understandably, you ask for the complete i3 config so here it is. This is just the default config (produced on first run) with a single added line ("gaps inner 10"):

<pre>
gaps inner 10

# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec i3-sensible-terminal

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+semicolon focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+semicolon move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
        status_command i3status
}
</pre>

<!--
Providing a logfile can help us trace the root cause of an issue much quicker. You can learn how to generate the logfile here:
https://i3wm.org/docs/debugging.html

Providing the logfile is optional.
-->
<pre>
No logfile
</pre>

<!--
Please also answer the questions below to help us process your issue faster. If you have any other information to share, please add it here as well.
-->
<pre>
- Linux Distribution & Version:
Debian Buster
- Are you using a compositor (e.g., xcompmgr or compton):
No compositor
</pre>

If I increase the numeric parameter in the  `resize grow height <n> px` call, the window shrinks by less and less until, if I increase it to 15 (i.e. `resize grow height 15 px`) then the window doesn't shrink at all - it stays the same size. So this is probably just a calculation issue - the parameter is out by a value of 15 (remember: I'm using "gaps inner 10").

Also, if this isn't easy to fix, I suggest just closing this issue *without* fixing it - I'd rather the time was spent on [pushing gaps upstream](https://github.com/i3/i3/issues/3724).

Thank you!
<!--
PLEASE HELP US PROCESS GITHUB ISSUES FASTER BY PROVIDING THE FOLLOWING INFORMATION.
-->

## I'm submitting a…
<!-- Please check one of the following options with "x" -->
<pre>
[ ] Bug
[x] Feature Request
[ ] Documentation Request
[ ] Other (Please describe in detail)
</pre>

## Current Behavior
<!--
Describe the current behavior,
e.g., »When pressing Alt+j (focus left), the window above the current window is focused.«
-->
To the best of my knowledge, there is no way to use i3-msg to get the current gaps. You can only modify them.
``` 
i3-msg gaps top current
ERROR: Your command: gaps top current
ERROR:                               
ERROR: Expected one of these tokens: 'plus', 'minus', 'set'
[{"success":false,"parse_error":true,"error":"Expected one of these tokens: 'plus', 'minus', 'set'","input":"gaps top current","errorposition":"                "}]
```
## Desired Behavior
<!--
Describe the desired behavior you expect after mitigation of the issue,
e.g., »The window left next to the current window should be focused.«
-->
I need to be able to fetch the current gaps and hold them in memory in the application I am writing. My application switches between multiple desktop environment themes. I3 gaps is one of the settings themes can specify, if they do not specify a gap size, I want to fall back on the current gap size (as defined in the i3 config file). For now I can parse the i3 config file for keywords, but it's not ideal.

## Environment
<!--
Please include your exact i3 version.
Note that we only support the latest major release and the current development version. If you are using an older version of i3, please first update to the current release version and reproduce the issue there.
-->
Output of `i3 --moreversion 2>&-`:
<pre>
i3 version: 
Binary i3 version:  4.16-56-g56ea3afe (2018-12-03, branch "gaps-next") © 2009 Michael Stapelberg and contributors
Running i3 version: 4.16-56-g56ea3afe (2018-12-03, branch "gaps-next") (pid 1310)
Loaded i3 config: /home/han/.config/i3/config (Last modified: Sat 13 Jul 2019 05:39:11 PM CDT, 20212 seconds ago)

The i3 binary you just called: /usr/bin/i3
The i3 binary you are running: i3

</pre>

<!--
Please also answer the questions below to help us process your issue faster. If you have any other information to share, please add it here as well.
-->
<pre>
- Linux Distribution & Version:
- Are you using a compositor (e.g., xcompmgr or compton): compton.
</pre>

Rounded windows using the shape extension https://github.com/Airblader/i3/issues/167

![Example](https://camo.githubusercontent.com/cdab86b039ecf420bd3cfcdbb134501b5911db11/68747470733a2f2f692e696d6775722e636f6d2f4279515a3136382e706e67)

Some issues still need to be handled:
+ Smaller borders then corner radius causes hidden border effect 
+ Handling multiple stacks and tabs properly
+ Inconsistencies between states
+ Configuration through `.config`
+ `README.md` needs to be updated
<!--
PLEASE HELP US PROCESS GITHUB ISSUES FASTER BY PROVIDING THE FOLLOWING INFORMATION.
-->

## I'm submitting a…
<!-- Please check one of the following options with "x" -->
<pre>
[ ] Bug
[x] Feature Request
[ ] Documentation Request
[ ] Other (Please describe in detail)
</pre>

## Current Behavior
<!--
Describe the current behavior,
e.g., »When pressing Alt+j (focus left), the window above the current window is focused.«
-->
Borders of the windows need to have the same width.
## Desired Behavior
<!--
Describe the desired behavior you expect after mitigation of the issue,
e.g., »The window left next to the current window should be focused.«
-->
The desire behaviour should be like this: https://imgur.com/jX7hWBL, border left, bot, right are 0, border top 3 pixels.
## Environment
<!--
Please include your exact i3 version.
Note that we only support the latest major release and the current development version. If you are using an older version of i3, please first update to the current release version and reproduce the issue there.
-->
Output of `i3 --moreversion 2>&-`:
<pre>
 ➜ i3 --moreversion 2>&-
Binary i3 version:  4.16.1-173-ge0a9e36e (2019-04-21, branch "gaps-next") © 2009 Michael Stapelberg and contributors
Running i3 version: 4.16.1-173-ge0a9e36e (2019-04-21, branch "gaps-next") (pid 1106)
Loaded i3 config: /home/petry/.config/i3/config (Last modified: Tue 23 Apr 2019 08:18:09 AM -03, 271 seconds ago)

The i3 binary you just called: /usr/bin/i3
The i3 binary you are running: i3

</pre>

<!--
Please also answer the questions below to help us process your issue faster. If you have any other information to share, please add it here as well.
-->
<pre>
- Linux 4.19.34-1-MANJARO
- compton
</pre>

I created a fork of the project to play arround with, the file that need modifications is src/con.c in line 1633.
> result = (Rect){border_width, border_width, -(2 * border_width), -(2 * border_width)};

Add a posibility to set in the i3 config file something like
<pre>
custom_border on
border_top 3
# Default for border_top, border_right, border_left, border_bottom are 0, no need to reasign here ;) 
# in case of custom_border off, keep the same behaviour that actually exists.
</pre>


<!--
PLEASE HELP US PROCESS GITHUB ISSUES FASTER BY PROVIDING THE FOLLOWING INFORMATION.
-->

## I'm submitting a…
<!-- Please check one of the following options with "x" -->
<pre>
[x] Bug
[ ] Feature Request
[ ] Documentation Request
[ ] Other (Please describe in detail)
</pre>

## Current Behavior
bindsym $mod+u gaps top current set -6
Setting a negative top (and other) gaps does not work.

## Expected Behavior
A negative gap has to be applied.
It works correctly when read from config file. Setting this in config file works
gaps top -6

## Environment
Output of `i3 --moreversion 2>&-`:
<pre>
i3 version:
Binary i3 version:  4.16-51-gbfba56b1 (2018-11-17, branch "gaps-next") © 2009 Michael Stapelberg and contributors
Running i3 version: 4.16-51-gbfba56b1 (2018-11-17, branch "gaps-next") (pid 18609)
Loaded i3 config: /home/winters/.config/i3/config-xfce4-services (Last modified: Tue 11 Dec 2018 02:04:33 EET, 325 seconds ago)

The i3 binary you just called: /usr/bin/i3
The i3 binary you are running: i3 
</pre>

<pre>
- Linux Distribution & Version: Linux Mint Tara
- Are you using a compositor (e.g., xcompmgr or compton): compton
</pre>

Output of `i3 --moreversion 2>&- || i3 --version`:
```
Binary i3 version:  4.14.1 (2017-09-24) © 2009 Michael Stapelberg and contributors
Running i3 version: 4.14.1 (2017-09-24) (pid 30561)bort…)
Loaded i3 config: /home/user/.config/i3/config (Last modified: Sun 14 Jan 2018 20:27:59 GMT, 4766 seconds ago)

The i3 binary you just called: /usr/bin/i3
The i3 binary you are running: i3
```

**What I did:**

Opened two windows in tabbed mode (mod+w), focused the parent container (mod+a), opened a new window, then set the parent container to split mode (mod+e).

**What I saw:**

https://i.imgur.com/K5NR8mu.png
A texture is visible between the windows and the wallpaper. The texture stretches across my primary monitor, and is initially only a few pixels tall (about 25). If I mouse down inside a window or change focus to another window, the height of the texture increases. If I mouse down _or_ mouse up on the wallpaper, the height of the texture will increase for both events. Every time the height increases, the contents of the texture change. The height of the texture will only increase up until it reaches the y coordinate of 680. After it reaches this height, it's contents do not change when I change focus or mouse up/down.

The height of the texture resets to it's initial height if I change the parent container to tabbed mode, and back to split mode. (ie toggle gaps).

`xprop` reports that the texture has a class name of "i3-frame", where as much more information is reported if I click below the texture.

```
[user@SamLinux ~]λ xprop                                                         :)
WM_CLASS(STRING) = "i3-frame", "i3-frame"
[user@SamLinux ~]λ xprop                                                         :)
AT_SPI_BUS(STRING) = "unix:abstract=/tmp/dbus-B65tH2BEE7,guid=f5aaa429a480512714ccd72e5a5bbc8d"
I3_SHMLOG_PATH(UTF8_STRING) = 
I3_CONFIG_PATH(UTF8_STRING) = "/home/user/.config/i3/config"
I3_PID(CARDINAL) = 30561
I3_SOCKET_PATH(UTF8_STRING) = "/run/user/1000/i3/ipc-socket.30561"
_NET_ACTIVE_WINDOW(WINDOW): window id # 0x2000003
_NET_CLIENT_LIST(WINDOW): window id # 0x140003b, 0xe00010, 0x2000003, 0x3600010, 0x3c00029, 0x1e00003
_NET_CLIENT_LIST_STACKING(WINDOW): window id # 0x140003b, 0xe00010, 0x3c00029, 0x3600010, 0x1e00003, 0x2000003
_NET_CURRENT_DESKTOP(CARDINAL) = 2
_NET_DESKTOP_VIEWPORT(CARDINAL) = 1920, 0, 1920, 0, 1920, 0, 0, 0
_NET_DESKTOP_NAMES(UTF8_STRING) = "2: ", "3: ", "4: ", "1"
_NET_NUMBER_OF_DESKTOPS(CARDINAL) = 4
_NET_SUPPORTED(ATOM) = _NET_SUPPORTED, _NET_SUPPORTING_WM_CHECK, _NET_WM_NAME, _NET_WM_VISIBLE_NAME, _NET_WM_MOVERESIZE, _NET_WM_STATE_STICKY, _NET_WM_STATE_FULLSCREEN, _NET_WM_STATE_DEMANDS_ATTENTION, _NET_WM_STATE_MODAL, _NET_WM_STATE_HIDDEN, _NET_WM_STATE, _NET_WM_WINDOW_TYPE, _NET_WM_WINDOW_TYPE_NORMAL, _NET_WM_WINDOW_TYPE_DOCK, _NET_WM_WINDOW_TYPE_DIALOG, _NET_WM_WINDOW_TYPE_UTILITY, _NET_WM_WINDOW_TYPE_TOOLBAR, _NET_WM_WINDOW_TYPE_SPLASH, _NET_WM_WINDOW_TYPE_MENU, _NET_WM_WINDOW_TYPE_DROPDOWN_MENU, _NET_WM_WINDOW_TYPE_POPUP_MENU, _NET_WM_WINDOW_TYPE_TOOLTIP, _NET_WM_WINDOW_TYPE_NOTIFICATION, _NET_WM_DESKTOP, _NET_WM_STRUT_PARTIAL, _NET_CLIENT_LIST, _NET_CLIENT_LIST_STACKING, _NET_CURRENT_DESKTOP, _NET_NUMBER_OF_DESKTOPS, _NET_DESKTOP_NAMES, _NET_DESKTOP_VIEWPORT, _NET_ACTIVE_WINDOW, _NET_CLOSE_WINDOW, _NET_MOVERESIZE_WINDOW
_NET_WM_NAME(UTF8_STRING) = "i3"
_NET_SUPPORTING_WM_CHECK(WINDOW): window id # 0x400035
RESOURCE_MANAGER(STRING) = "Xcursor.theme:\tpixelfun3\nrofi.color-active:\t#26404B, #ffffff, #26404B, #26404B, #ffffff\nrofi.color-enabled:\ttrue\nrofi.color-normal:\t#2E3A40, #ffffff, #29353B, #354D58, #ffffff\nrofi.color-urgent:\t#632627, #ffffff, #632627, #632627, #ffffff\nrofi.color-window:\t#2E3A40, #2E3A40, #13191C\nrofi.scroll-method:\t1\nrofi.ssh-command:\t{terminal} -e \"{ssh-client} {host}\"\n"
XIM_SERVERS(ATOM) = @server=ibus
ESETROOT_PMAP_ID(PIXMAP): pixmap id # 0x600001
_XROOTPMAP_ID(PIXMAP): pixmap id # 0x600001
GDK_VISUALS(INTEGER) = 820, 1238
XFree86_DDC_EDID1_RAWDATA(INTEGER) = 0, -1, -1, -1, -1, -1, -1, 0, 16, -84, 2, -16, 76, 75, 65, 50, 5, 17, 1, 3, 104, 38, 31, 120, -18, -54, -10, -93, 87, 71, -98, 35, 17, 79, 84, -91, 75, 113, 79, -127, -128, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 48, 42, 0, -104, 81, 0, 42, 64, 48, 112, 19, 0, 124, 49, 17, 0, 0, 30, 0, 0, 0, -3, 0, 56, 76, 30, 81, 14, 0, 10, 32, 32, 32, 32, 32, 32, 0, 0, 0, -1, 0, 80, 82, 48, 57, 57, 55, 49, 84, 50, 65, 75, 76, 10, 0, 0, 0, -4, 0, 68, 69, 76, 76, 32, 83, 69, 49, 57, 55, 70, 80, 10, 0, -64
_XKB_RULES_NAMES(STRING) = "evdev", "pc105", "gb,us", ",dvorak", ""
XFree86_has_VT(INTEGER) = 1
XFree86_VT(INTEGER) = 7
Xorg_Seat(STRING) = "seat0"
```

https://i.imgur.com/zMPxTvG.jpg The white in this screenshot is transparent (ie I can see my wallpaper here)
https://i.imgur.com/xOEZGRW.jpg
https://i.imgur.com/VezAsl3.jpg

I am using the open source AMDGPU driver.

[My config](https://gitlab.com/sambazley/dotfiles/raw/e4f42a008ac794cd1a905c26329c3f1b0087f5c7/filesdir/home/user/.config/i3/config) (I have disabled compton for testing)

I've tested it in a virtual machine, using near enough the same config, where is works as I would expect. https://i.imgur.com/B9hSoH5.jpg
Rounded corners are super sexy. There are patches for some floating wms (I know about Openbox, Fluxbox and FVWM). Is there any chance of implementing them in i3?

If I understand correctly, this could be controlled by client.placeholder or client.background?