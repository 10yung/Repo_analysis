1. use kubernetes job instead of docker container to build service
2. use pod.GetLogs() get build logs

 ã€BUGæè¿°ã€‘åŸºäºåº”ç”¨å¸‚åœºçš„åº”ç”¨ç‰ˆæœ¬å›æ»šåŠŸèƒ½ä¸å¯ç”¨ï¼ˆæ­¤é—®é¢˜åœ¨consoleå¤ç°ï¼‰

ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬(æ‰§è¡Œ`grctl version`è·å–): [è¯·å¡«å†™æ­¤å¤„]
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:[è¯·å¡«å†™æ­¤å¤„]
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼š[è¯·å¡«å†™æ­¤å¤„]

![image](https://user-images.githubusercontent.com/50609288/72656225-e0778280-39d4-11ea-9725-6a92c171c863.png)

![image](https://user-images.githubusercontent.com/50609288/72656281-292f3b80-39d5-11ea-9e0b-49631621bc09.png)

app-uiæ—¥å¿—
![image](https://user-images.githubusercontent.com/50609288/72656271-187ec580-39d5-11ea-9089-cb6d878323e7.png)


ã€BUGæè¿°ã€‘10.63.4.23 10.63.74.92ç½‘å…³èŠ‚ç‚¹å·²åˆ é™¤ï¼Œåœ¨æ·»åŠ tcpè®¿é—®ç­–ç•¥æ—¶ï¼ŒèŠ‚ç‚¹ä¿¡æ¯ä»å­˜åœ¨äºåˆ—è¡¨ä¸­

ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬(æ‰§è¡Œ`grctl version`è·å–): 5.1.10
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬ï¼šubuntu16.04
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼šonline

åˆ é™¤åå·²æ²¡æœ‰è¿™ä¸¤ä¸ªèŠ‚ç‚¹
![image](https://user-images.githubusercontent.com/50609288/72656153-61824a00-39d4-11ea-89a5-eefa2fcb09cd.png)
æ·»åŠ tcpè®¿é—®ç­–ç•¥æ—¶ï¼ŒèŠ‚ç‚¹ä¿¡æ¯ä»å­˜åœ¨
![image](https://user-images.githubusercontent.com/50609288/72656106-1b2ceb00-39d4-11ea-99be-ac11930f926b.png)


ã€BUGæè¿°ã€‘
èƒŒæ™¯è¯´æ˜ï¼š
1. rainbondä»5.1.9å‡çº§åˆ°5.1.10
2. rbd-gatewayç»„ä»¶ä½¿ç”¨äº† #635 ä¸­çš„devç‰ˆï¼ˆrainbond/rbd-gateway:V5.1-devï¼‰
3. rainbondæ˜¾ç¤ºçš„æ•´ä½“è¯·æ±‚é‡åœ¨50ä¸‡/å°æ—¶å·¦å³
4. å¯¼å…¥æµé‡ä¹‹å‰æ²¡æœ‰å‡ºç°è¿‡é—®é¢˜ï¼Œæ˜¨å¤©ä¸‹åˆå¼€å§‹å¯¼å…¥æµé‡å¹¶æ›´æ–°äº†devç‰ˆçš„gatewayç»„ä»¶åå¼€å§‹å‡ºç°
5. OOMä»…å‘ç”Ÿäºä½¿ç”¨äº†ä¾èµ–çš„ç»„ä»¶

å¤§æ¦‚çš„ä¾èµ–å…³ç³»æ˜¯ï¼šå‰ç«¯ç»„ä»¶ï¼ˆå¤šä¸ªï¼‰ä¾èµ–åŒä¸€ä¸ªåç«¯ç»„ä»¶ï¼Œåç«¯ç»„ä»¶æä¾›httpå½¢å¼çš„æ¥å£ä¾›å‰ç«¯ç»„ä»¶ä½¿ç”¨ï¼Œè§ä¸‹å›¾ï¼š
![image](https://user-images.githubusercontent.com/53854600/72588874-a191f000-3934-11ea-8d83-e6ff6d61db08.png)

å•ä¸ªå‰ç«¯ç»„ä»¶çš„è¯·æ±‚é‡å¹¶ä¸é«˜ï¼Œå¤§æ¦‚åœ¨2ä¸‡/å°æ—¶å·¦å³ï¼Œåç«¯ç»„ä»¶è®¿é—®é‡åœ¨45ä¸‡/å°æ—¶å·¦å³ï¼ˆåŒ…æ‹¬å†…éƒ¨ä¾èµ–ä»¥åŠå¤–éƒ¨åŸŸåç›´æ¥è¯·æ±‚ï¼‰ï¼Œåªè¦å‰ç«¯ç»„ä»¶æœ‰è®¿é—®ï¼Œå°±ä¼šé¢‘ç¹å‡ºç°OOMï¼Œå½“å‡ºç°OOMçš„æ—¶å€™ï¼Œå‰ç«¯ç»„ä»¶è®¿é—®åç«¯æ¥å£å°±ä¼šå‡ºç°502é”™è¯¯ï¼Œåç«¯ç»„ä»¶æš‚æ— å¼‚å¸¸ï¼Œå¢åŠ å‰ç«¯ç»„ä»¶çš„å†…å­˜å¹¶æ²¡æœ‰æ•ˆæœï¼Œè§ä¸‹å›¾ï¼š
![image](https://user-images.githubusercontent.com/53854600/72589123-43b1d800-3935-11ea-834c-41ba4e9e87e1.png)
![image](https://user-images.githubusercontent.com/53854600/72589141-53312100-3935-11ea-85bf-33c4355e15ca.png)
![image](https://user-images.githubusercontent.com/53854600/72590137-0c90f600-3938-11ea-8d13-c1aceb983528.png)
![image](https://user-images.githubusercontent.com/53854600/72590178-1d416c00-3938-11ea-83e6-5330634d1704.png)

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå·²ç»æ­»æ‰çš„rbd-mesh-data-panelå®¹å™¨çš„æ—¥å¿—ï¼š
```bash
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:206] initializing epoch 0 (hot restart version=10.200.16384.127.options=capacity=16384, num_slots=8209 hash=228984379728933363 size=2654312)
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:208] statically linked extensions:
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:210]   access_loggers: envoy.file_access_log,envoy.http_grpc_access_log
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:213]   filters.http: envoy.buffer,envoy.cors,envoy.ext_authz,envoy.fault,envoy.filters.http.header_to_metadata,envoy.filters.http.jwt_authn,envoy.filters.http.rbac,envoy.grpc_http1_bridge,envoy.grpc_json_transcoder,envoy.grpc_web,envoy.gzip,envoy.health_check,envoy.http_dynamo_filter,envoy.ip_tagging,envoy.lua,envoy.rate_limit,envoy.router,envoy.squash
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:216]   filters.listener: envoy.listener.original_dst,envoy.listener.proxy_protocol,envoy.listener.tls_inspector
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:219]   filters.network: envoy.client_ssl_auth,envoy.echo,envoy.ext_authz,envoy.filters.network.dubbo_proxy,envoy.filters.network.rbac,envoy.filters.network.sni_cluster,envoy.filters.network.thrift_proxy,envoy.http_connection_manager,envoy.mongo_proxy,envoy.ratelimit,envoy.redis_proxy,envoy.tcp_proxy
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:221]   stat_sinks: envoy.dog_statsd,envoy.metrics_service,envoy.stat_sinks.hystrix,envoy.statsd
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:223]   tracers: envoy.dynamic.ot,envoy.lightstep,envoy.tracers.datadog,envoy.zipkin
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:226]   transport_sockets.downstream: envoy.transport_sockets.alts,envoy.transport_sockets.capture,raw_buffer,tls
[2020-01-17 05:33:24.352][000008][info][main] [source/server/server.cc:229]   transport_sockets.upstream: envoy.transport_sockets.alts,envoy.transport_sockets.capture,raw_buffer,tls
[2020-01-17 05:33:24.354][000008][info][main] [source/server/server.cc:271] admin address: 0.0.0.0:65533
[2020-01-17 05:33:24.356][000008][info][config] [source/server/configuration_impl.cc:50] loading 0 static secret(s)
[2020-01-17 05:33:24.356][000008][info][config] [source/server/configuration_impl.cc:56] loading 2 cluster(s)
[2020-01-17 05:33:24.357][000008][info][upstream] [source/common/upstream/cluster_manager_impl.cc:132] cm init: initializing cds
[2020-01-17 05:33:24.357][000008][info][config] [source/server/configuration_impl.cc:67] loading 0 listener(s)
[2020-01-17 05:33:24.357][000008][info][config] [source/server/configuration_impl.cc:92] loading tracing configuration
[2020-01-17 05:33:24.357][000008][info][config] [source/server/configuration_impl.cc:112] loading stats sink configuration
[2020-01-17 05:33:24.357][000008][info][main] [source/server/server.cc:463] starting main dispatch loop
[2020-01-17 05:33:24.359][000008][warning][misc] [source/common/stats/thread_local_store.cc:254] Statistic 'cluster.f5bd915edc554fdb8db950a69e670aaf_grb74985_grfb8394_6379.outlier_detection.ejections_detected_consecutive_gateway_failure' is too long with 128 characters, it will be truncated to 127 characters
[2020-01-17 05:33:24.359][000008][warning][misc] [source/common/stats/thread_local_store.cc:254] Statistic 'cluster.f5bd915edc554fdb8db950a69e670aaf_grb74985_grfb8394_6379.outlier_detection.ejections_enforced_consecutive_gateway_failure' is too long with 128 characters, it will be truncated to 127 characters
[2020-01-17 05:33:24.359][000008][info][upstream] [source/common/upstream/cluster_manager_impl.cc:495] add/update cluster f5bd915edc554fdb8db950a69e670aaf_grb74985_grfb8394_6379 during init
[2020-01-17 05:33:24.359][000008][info][upstream] [source/common/upstream/cluster_manager_impl.cc:112] cm init: initializing secondary clusters
[2020-01-17 05:33:24.360][000008][info][upstream] [source/common/upstream/cluster_manager_impl.cc:136] cm init: all clusters initialized
[2020-01-17 05:33:24.360][000008][info][main] [source/server/server.cc:435] all clusters initialized. initializing init manager
[2020-01-17 05:33:24.446][000008][info][upstream] [source/server/lds_api.cc:80] lds: add/update listener 'f5bd915edc554fdb8db950a69e670aaf_grb74985_6379'
[2020-01-17 05:33:24.446][000008][info][config] [source/server/listener_manager_impl.cc:961] all dependencies initialized. starting workers
```

è¯·å¤§ä½¬ä»¬å¸®å¿™åˆ†æåˆ†ææ˜¯å“ªé‡Œçš„é—®é¢˜ï¼Œrbd-mesh-data-panelå®¹å™¨æ˜¯å¦èƒ½è‡ªè¡Œè°ƒæ•´å†…å­˜ï¼Ÿ
æˆ‘ä»¬æ˜¯çœŸçš„æŠŠRainbondç”¨äºç”Ÿäº§äº†ï¼Œç›®å‰çš„è®¿é—®é‡ä¸ç®—é«˜ï¼Œå› ä¸ºè¿˜æ²¡æœ‰æŠŠæ‰€æœ‰é¡¹ç›®è¿ç§»è¿‡æ¥ï¼Œå‹‡äºåšå°ç™½é¼ ï¼Œé—®é¢˜æ¯”è¾ƒå¤šï¼Œå¸Œæœ›å¤§ä½¬ä»¬ä¸è¦è§æ€ªã€‚
æ‹œè°¢ï¼

@barnettZQG 

ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬: [Rainbond grctl v5.1.10-release-f4c675d-2020-01-09-13]
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:[CentOS Linux release 7.6.1810 (Core)]
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼š[ç¦»çº¿éƒ¨ç½²]


 ã€BUGæè¿°ã€‘
åº”ç”¨æ­£å¸¸è¿è¡Œï¼Œä½†åœ¨æ—¥å¿—ç•Œé¢ä¸æ˜¾ç¤ºæ—¥å¿—

ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬: [5.1.9]
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:[centos7.4]
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼š[ç¦»çº¿éƒ¨ç½²]

![401579163165_ pic_hd](https://user-images.githubusercontent.com/55137659/72510556-9d0dfe80-3884-11ea-8c42-4a97fbfcbb1a.jpg)
![541579165016_ pic_hd](https://user-images.githubusercontent.com/55137659/72510624-bca52700-3884-11ea-87dc-265d6d0d33b3.jpg)
![451579163385_ pic_hd](https://user-images.githubusercontent.com/55137659/72510646-c62e8f00-3884-11ea-8f5f-385ae8b3a8a8.jpg)
![481579164068_ pic_hd](https://user-images.githubusercontent.com/55137659/72510664-cc247000-3884-11ea-9f88-6803ae5cd3e6.jpg)
![501579164224_ pic_hd](https://user-images.githubusercontent.com/55137659/72510673-d21a5100-3884-11ea-8eac-24ec36cddd63.jpg)
ã€BUGæè¿°ã€‘
![image](https://user-images.githubusercontent.com/53854600/72141073-144b1a80-33cd-11ea-8594-f4f2edec2dcc.png)

æ‰§è¡Œ`journalctl -fu rbd-gateway`åï¼Œæ—¥å¿—å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé‡å¯rbd-gatewayæœåŠ¡æ— æ•ˆï¼Œé‡å¯gatewayèŠ‚ç‚¹æœåŠ¡å™¨æ— æ•ˆï¼Œå°†æ·»åŠ çš„åŸŸååˆ é™¤åä¾ç„¶æ— æ•ˆï¼Œè®¿é—®ç»‘å®šçš„æ‰€æœ‰åŸŸåå‡è¿”å›502é”™è¯¯ã€‚

è¿›å…¥rbd-gatewayå®¹å™¨æŸ¥çœ‹default_servers.confæ–‡ä»¶ï¼Œå‘ç°æ–‡ä»¶å¤§å°ä¸€ç›´åœ¨å˜åŒ–ï¼Œå¿½å¤§å¿½å°ï¼Œé‡Œé¢çš„å†…å®¹ä¹Ÿä¸€ç›´åœ¨å˜åŒ–

è¯·é—®è¿™ä¸ªæƒ…å†µåº”è¯¥å¦‚ä½•å¤„ç†æ‰èƒ½æ¢å¤ğŸ˜­ï¼Ÿ

ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬: [Rainbond grctl v5.1.9-release-32cc2ba-2019-12-13-09]
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:[CentOS Linux release 7.6.1810 (Core)]
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼š[ç¦»çº¿éƒ¨ç½²]


ã€éœ€æ±‚æè¿°ã€‘
æˆ‘ä»¬çš„ä¸šåŠ¡ç»å¸¸éœ€è¦ç»‘å®šä¸Šç™¾ä¸ªåŸŸåï¼Œä¸€ä¸ªä¸€ä¸ªæ¥å®åœ¨å¤ªæ²¡æ•ˆç‡ï¼Œæ˜¯å¦æœ‰å¯èƒ½å¢åŠ æ‰¹é‡ç»‘å®šçš„åŠŸèƒ½ï¼Ÿ


ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬: [Rainbond grctl v5.1.9-release-32cc2ba-2019-12-13-09]
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:[CentOS Linux release 7.6.1810 (Core)]
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼š[ç¦»çº¿éƒ¨ç½²]

ã€BUGæè¿°ã€‘(ééœ€æ±‚è¯·åˆ é™¤æœ¬è¡Œ)
 
ç®¡ç†åå°æ˜¾ç¤ºå®ä¾‹deploymentè¿è¡Œå†…å­˜83.88% å®é™…æŸ¥çœ‹dockerä½¿ç”¨å†…å­˜æ‰33%ï¼Œç„¶åæˆ‘æŠŠåŒä¸ªdeploymentä¸‹çš„ä¸‰ä¸ªContainers å®é™…ä½¿ç”¨å†…å­˜å¤§å° å’Œç™¾åˆ†æ¯”ç»Ÿè®¡äº†ä¸€ä¸‹ ã€‚å†…å­˜è¾¾ä¸åˆ°1.6Gã€‚ä½†æ˜¯ä¸‰ä¸ªå†…å­˜ä½¿ç”¨ç‡ç›´æ¥ç´¯åŠ æ˜¯åˆ°83.88%
![image](https://user-images.githubusercontent.com/43443722/71957249-38212b80-3228-11ea-846f-3dcfadfe9325.png)

![image](https://user-images.githubusercontent.com/43443722/71957627-415ec800-3229-11ea-942e-54470bcccd2b.png)

![image](https://user-images.githubusercontent.com/43443722/71957392-9e0db300-3228-11ea-8303-cc570ea5d754.png)
![image](https://user-images.githubusercontent.com/43443722/71957556-052b6780-3229-11ea-8834-ddd4bf5a32c8.png)
![image](https://user-images.githubusercontent.com/43443722/71957602-25f3bd00-3229-11ea-89f5-c11840374c18.png)



ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬(æ‰§è¡Œ`grctl version`è·å–): v5.1.9-release-32cc2ba-2019-12-13-09
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:ubuntu16.04
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼šç§æœ‰åŒ–é«˜å¯ç”¨éƒ¨ç½²



ã€BUGæè¿°ã€‘(éBUGè¯·åˆ é™¤æœ¬è¡Œ)
ä»5.1.8å‡çº§åˆ°5.1.9 åå‘ç°æ§åˆ¶å°æ—¥å¿—å›æ˜¾å¾ˆæ…¢ï¼ŒåŸºæœ¬éƒ½è¦1åˆ†é’Ÿåæ‰èƒ½å›æ˜¾ã€‚ç»å¸¸è¦æ¥å›åˆ‡æ¢é¡µé¢æˆ–è€…æ˜¯é‡æ–°ç‚¹å‡»æ—¥å¿—é€‰é¡¹æ‰èƒ½å‡ºæ¥è€Œä¸”æ˜¾ç¤ºä¸å…¨ã€‚è°ƒè¯•å‘ç°æœ‰/grdata/logs/eventlogç›®å½•æ²¡æœ‰åˆ›å»ºã€‚é‡æ–°å®‰è£…5.1.9åæµ‹è¯•eventlog æ–‡ä»¶å¤¹è¿˜æ˜¯æ²¡æœ‰ã€‚

ä»¥ä¸‹å›¾ç‰‡æ˜¯5.1.8å‡çº§åˆ°5.1.9å
journalctl -fu rbd-apiå¦‚ä¸‹æŠ¥é”™

![image](https://user-images.githubusercontent.com/43443722/71948251-61cb5a00-320a-11ea-8e3e-65ce9e37c914.png)

5.1.9å…¨æ–°å®‰è£…å®Œåçš„è·¯å¾„å›¾ç‰‡
![image](https://user-images.githubusercontent.com/43443722/71948439-f7ff8000-320a-11ea-84d3-2b31ea336da4.png)
æ‰‹åŠ¨åˆ›å»ºeventlog æ–‡ä»¶å¤¹åæ—¥å¿—å›æ˜¾æ¢å¤æ­£å¸¸ã€‚

å‰ç½®å·¥ä½œ
wsurl å·²ä¿®æ”¹ä¸ºvip:6060

ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬(æ‰§è¡Œ`grctl version`è·å–):v5.1.9-release-32cc2ba-2019-12-13-09
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:ubuntu16.04
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼šç§æœ‰åŒ–é«˜å¯ç”¨éƒ¨ç½²


ã€BUGæè¿°ã€‘
![image](https://user-images.githubusercontent.com/53854600/71790673-a28d6c80-306c-11ea-84ff-56bac72585be.png)

ä¸Šå›¾æ˜¯æ„å»ºçš„æ—¶å€™ï¼Œæ–°çš„å®ä¾‹å·²ç»èµ·æ¥äº†ï¼Œæ—§çš„å®ä¾‹ä¸€ç›´æ²¡æ³•å…³é—­ï¼Œè¶…è¿‡10åˆ†é’Ÿäº†ï¼Œä¹Ÿä¸çŸ¥é“è¦çœ‹å“ªä¸ªå¹³å°ç»„ä»¶çš„æ—¥å¿—ï¼Œæœ€åå°è¯•å¼ºåˆ¶æ‰‹åŠ¨å…³é—­ï¼Œç„¶åå†å¯åŠ¨æ‰è¡Œã€‚è¿™ä¸ªé—®é¢˜5.1.7æ—¶å·²å­˜åœ¨ï¼Œç»å¸¸éœ€è¦é‡å¯è®¡ç®—èŠ‚ç‚¹æ‰è¡Œã€‚

ã€éƒ¨ç½²ç¯å¢ƒã€‘
- Rainbondç‰ˆæœ¬: [Rainbond grctl v5.1.9-release-32cc2ba-2019-12-13-09]
- æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬:[CentOS Linux release 7.6.1810 (Core)]
- ç¦»çº¿éƒ¨ç½²/ç½‘ç»œå¼€æ”¾ï¼š[ç¦»çº¿éƒ¨ç½²]