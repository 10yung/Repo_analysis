cargomake is deficient in the following areas Config variables Ideally the end user can customize compiletime constants such as the baudrate Something like but not necessarily kconfig is desired Duplication Each mainboard has a Makefiletoml which is nearly identical Ideally some of the logic here can be shared across mainboards Incremental builds Changes to some files do not trigger a rebuild A few times I have accidentally used an older build In Tock on OpenTitan we discovered that Tock was broken by as described in It appears that oreboot has the same problem its layout will need to be updated to reflect the flash header that the OpenTitan boot ROM is looking for To get oreboot working after the flash header will need to be at x this fix gets oreboot working again diff diff git asrcmainboardopentitancrblinkld bsrcmainboardopentitancrblinkld index cec cc e eef asrcmainboardopentitancrblinkld bsrcmainboardopentitancrblinkld SECTIONS x flashheader LONGboot bootblock KEEPbootblockboot Happy to open a pull request on this if desired Though do note that integrating this fix will mean that oreboot will now fail to function on any OpenTitan that predates That there is no versioning in the flash header makes it too easy for OpenTitan payloads to break an OpenTitan issue will be raised on that Signedoffby Gan Shun Lim ganshungmailcom None of this builds This represents what I think is the bare minimum set of files from coreboot we need to work with There are some things the Go tool could do better eg finding available values None Signedoffby pallaud plaudgooglecom No such file or directory error message should also print the file which could not be found If a file is too big to fit into the flash area an error message should be printed Currently the tool silently does something bizarre If two or more areas overlap print an appropriate error message Automatically calculate the offset of the area based on the sizes of the previous areas Some large binaries like a kernel and initramfs were checked into the repo early on for testing They should be removed from the history The checksum would check the integrity of the payload and print an error if it doesnt match This isnt for security