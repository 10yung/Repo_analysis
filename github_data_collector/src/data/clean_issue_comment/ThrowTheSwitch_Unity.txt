Since the regular expressions in and are too liberal paths to the output file containing hyamlyml are interpreted as files so the default output filename is used instead Example for commandline argument path containing h generatetestrunnerrb defaultyml testmockedTestMHandlerMainc CJenkinsworkspacelersetwuccfghardfaultsetbitbuildtestmockedTestMHandlerMainRunnerc Create a dummyh use this file as the source to generate mockdummyh ifndef DUMMYH define DUMMYH extern void Funcvoid endif Do test on following test file Test file include unityh include mockdummyh void tearDownvoid Func void TestDoTestvoid Func The test would crash and generate empty output Hi all I am using some malloc calls in my tests But I am not able to allocate more than bytes using malloc Like a int myPtr int malloc results in a segFault malloc does not return a NULL pointer in this case Other malloc calls which request much smaller memory are working fine Also I free all pointers after their use is over in each test case Does Unity somehow put a limit on amount of heap memory that can be allocated If yes is that configurable Thanks Shubhi This is an initial step for adding support to CMock to support files with extensions other than only h and c For example this permits easier use with C projects that use file extensions like hh hpp cc cpp cxx etc There is something anoying when testing heavily nested libraries with many c files For example an error message is path to c filesomefilec testnameFAIL Expression Evaluated To FALSE but maybe the line number is not from somefilec but from another nested function within another c file that called TESTASSERT instead Tracking the file that actually failed is somehow time consuming This option allows you to specify your own function to print additional context as part of the error message when a test has failed It can be useful if you want to output some specific information about the state of the test at the point of failure and UNITYSETDETAILS isnt flexible enough for your needs Also fix some whitespace consistency issues Use newlines not or before Heading comments when Wfloatequal option is configured float number compared with will report an error replace it with fabsab PRECISION is more safe Im defining UNITYINCLUDEPRINTFORMATTED in my test but when I try to use UnityPrintFormatted I get a linker error claiming buildtestoutctestrobotbuspowero In function testrobotbuspowercurrentscaling homebrettworkspacefirmwarelinkcontrollertestrobottestrobotbuspowerc undefined reference to UnityPrintFormatted collect error ld returned exit status ERROR Shell command failed Shell executed command gcc buildtestoutctestrobotbuspowerrunnero buildtestoutctestrobotbuspowero buildtestoutcmockrobotinternaladco buildtestoutcunityo buildtestoutcrobotbuspowero buildtestoutccmocko o buildtestoutte strobotbuspowerout And exited with status NOTICE If the linker reports missing symbols the following may be to blame Test lacks include statements corresponding to needed source files Project search paths do not contain source files corresponding to include statements in the test Test does not include needed mocks rake aborted I checked unityh and it is most definitely there I am using ceedling Im able to run my unit tests and get the correct PASSFAIL results but make is returning an error Im using GNU make My console output is shown below with the make error in bold make rm f testtimerexe gcc stdc Wall Wextra Wpointerarith Wcastalign Wwritestrings Wswitchdefault Wunreachablecode Winitself Wmissingfieldinitializers Wnounknownpragmas Wstrictprototypes Wundef Woldstyledefinition fprofilearcs ftestcoverage g O I IunitTestUnitymastersrc unitTestUnitymastersrcunityc timerc testtimerc testrunnertesttimerRunnerc o testtimerexe testtimerexe testtimerc testtimerExpireduint PASS Tests Failures Ignored OK make default Error ignored Any ideas on how I can fix this error Thanks Matt