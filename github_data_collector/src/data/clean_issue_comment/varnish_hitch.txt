Hi Issue if you try to config test with t a hitchconf with some pemfile etchitchfoopem lines in it and one of the pem files have mismatched key and certificate hitch exits with return code and does not output anything Expected An explanation to stdoutstderr before exiting pemfile etchitchfoopem is not valid or Certificate for fooexamplecom is not loadable Using Ive checked documentation and I cant find it anywhere Which order are loaded the certs In case of a colision which takes preference It would be nice to have it documented We are using some directives pemfile followed by a pemdir where a lot of letsencrypt autogenerated certificates are We had the case of adding a pemfile with a new certificate and we didnt know there was an old expired cert for the same site the new one in pemfile directive was a wildcard The old and expired certificate was taking precedence in this case The contrary should be a nice to have functionality preferring fresh certificate over expired ones but if its a difficult task merely having in the documentation the loading order of the certs should be enought Best Diego Ive noticed that if I use a regular certificate where the domain is listed in the CN and the certificate does not use any SANs I get a Error code SSLERRORBADCERTDOMAIN When using a certificate where I list the domain as a SAN it work as expected Im unsure if its a configuration issue or something Im doing wrong with my nonSAN certs Before I go crazy trying to track that down I figured I might as well ask the question Can I use nonSAN certificates with Hitch This is what my configuration looks like Im using frontend backend ciphers preferserverciphers off sslengine ocspdir varcachehitch workers backlog keepalive chroot user hitch group hitch quiet off syslog on syslogfacility daemon daemon on writeip off writeproxy off writeproxyv on proxyproxy off pemdir usrlocaletccertd pemdirglob pem alpnprotos h http loglevel Under usrlocaletccertd I have the certificates in PEM format using KEY CERT CHAIN openssl dhparam Fixes DRAFT needs documentation Executive summary TLSv uses SSLCTXsetcipherlist TLSv uses independently another cipher list set by SSLCTXsetciphersuites The cipher list is independent hence the introduced new parameter ciphersv Backed in something like stunnels sessiond probably the best option redis or memcache When setting cipher this only effects TLSv and below TLSv will regardless use the default cipher settings Openssl uses a different function call to set TLS ciphers I would think that is the underlying issue Running hitch usrlocalsbinhitch userhitch backend wiki configetchitchconf ciphers AES EECDHAES EDH etcsslhitchsitepem config file set port as frontend openssl sclient connect ciphersuites TLSAES GCMSHA servername somewherecom PostHandshake New Session Ticket arrived SSLSession Protocol TLSv Cipher TLSAES GCMSHA Hi Not sure if I am doing something wrong but I get this error on a SSLLabs check HTTP Requests Request failed My Hitch config backend frontend loglevel keepalive workers daemon on sninomatchabort on pemfile etcapache certscertnamesslcertcombinedcrt pemdir etcletsencryptlivepemfiles pemdirglob pem user hitch syslog on ciphers EECDHAESGCMEDHAESGCMAES EECDHAES EDH preferserverciphers on alpnprotos h http tlsprotos TLSv TLSv TLSv writeproxyv on On port there is a Nginx proxy to Port Apache In the browser everything is okay on SSLLabs I get the error above The documentation manpage says tlsprotos The SSLTLS protocols to be used This is an unquoted list of tokens Available tokens are SSLv TLSv TLSv TLSv and TLSv The default is TLSv and TLSv I think this should be extended to mention that you need very recent openssl as well On my Ubuntu Bionic system g ubuntu is installed and hitch quietly only responds to TLS v now Either something in the documentation or a startup notification to syslog if TLS cant be foundenabled would be very nice Adds a new configuration option pemdirsubdirglob which will recursively drag in matching subdirectories when scanning pemdir The semantics may not be great matches directory name not full path but it makes it a relatively simple change eg pemdir etchitchpemd pemdirsubdirglob confd will also scan all subdirectories under etchitchpemd named confd for pem files is generally more useful to include all subdirectories The change also allows pemdir pemdirglob pemdirsubdirglob to be used inside frontend configuration sections I am getting syntax error while using pemdir in hitch Here is my hitchconf file details hitch Parsing error in line syntax error pemdir varlibhitchconfd logfilenamevarloghitchlog syslog on syslogfacility daemon frontend host port tlsprotos TLSv TLSv TLSv ciphers deleting time being I have tested this and working fine with pemfile preferserverciphers on pemdir varlibhitchconfd backend workers daemon on user hitch group hitch alpnprotos h http writeproxyv on writeip on 