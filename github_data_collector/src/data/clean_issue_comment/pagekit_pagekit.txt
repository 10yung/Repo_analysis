Bumps symfonyhttpfoundation from to details summaryChangelogsummary Sourced from symfonyhttpfoundations changelog CHANGELOG made Cookie autosecure and lax by default removed classes in the MimeType namespace use the Symfony Mime component instead removed method UploadedFilegetClientSize and the related constructor argument made RequestgetSession throw if the session has not been set before removed ResponseHTTPRESERVEDFORWEBDAVADVANCEDCOLLECTIONSEXPIREDPROPOSAL passing a null url when instantiating a RedirectResponse is not allowed passing arguments to RequestisMethodSafe is deprecated ApacheRequest is deprecated use the Request class instead passing a third argument to HeaderBagget is deprecated use method all instead BC BREAK PdoSessionHandler with MySQL changed the type of the lifetime column make sure to run ALTER TABLE sessions MODIFY sesslifetime INTEGER UNSIGNED NOT NULL to update your database PdoSessionHandler now precalculates the expiry timestamp in the lifetime column make sure to run CREATE INDEX EXPIRY ON sessions sesslifetime to update your database to speed up garbage collection of expired sessions added SessionHandlerFactory to create session handlers with a DSN added IpUtilsanonymize to help with GDPR compliance added PHPUnit constraints RequestAttributeValueSame ResponseCookieValueSame ResponseHasCookie ResponseHasHeader ResponseHeaderSame ResponseIsRedirected ResponseIsSuccessful and ResponseStatusCodeSame deprecated MimeTypeGuesserInterface and ExtensionGuesserInterface in favor of Symfony Component Mime MimeTypesInterface deprecated MimeType and MimeTypeExtensionGuesser in favor of Symfony Component Mime MimeTypes deprecated FileBinaryMimeTypeGuesser in favor of Symfony Component Mime FileBinaryMimeTypeGuesser deprecated FileinfoMimeTypeGuesser in favor of Symfony Component Mime FileinfoMimeTypeGuesser added UrlHelper that allows to get an absolute URL and a relative path for a given path the default value of the secure and samesite arguments of Cookies constructor will respectively change from false to null and from null to lax in Symfony you should define their values explicitly or use Cookiecreate instead added matchPort in RequestMatcher trtable truncated details details summaryCommitssummary e b ac HttpFoundation fix guessing mimetypes of files with leading dash a d a Fix MockFileSessionStorageTestsessionDir being used after its unset b a Remove unused local variables in tests db c Add plus character to legal mime subtype f c HttpFoundation Check if data passed to SessionBagProxyinitialize is an array ffbbf HttpFoundation allow additinal characters in not raw cookies ec a a Call AssertEquals with proper parameters da Return null as Expire header if it was set to null b d a HttpFoundation fix return type declarations d d Fix inconsistent return points Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details WebP images can be uploaded to storage once the webp extension has been added to the system settings for an accepted file type but they cant be used when trying to insert them into a page or blog post or anywhere that the VuePagekit Finder is used They can be seen in the popup in list or grid view but selecting them or ticking their box is as far as you can get Select is not available to complete the insertion Developer solution with the following caveats Keep in mind that this will definitely break if you need to update Pagekit later on so be warned that youll need to do this all again until someone decides to fix the core files to add this This fix does NOT provide a fallback option to serve JPG or PNG files for browsers that dont accept WebP images If you want to manually edit the pagewidget source to include a fallback code block refer to this code for using a picture element This fix assumes that youre using the default editor It may or may not produce the same results with TinyMCE Find the javaScript for the Finder to add the webp mime type Locate it at appsystemmodulesfinderappbundlepanelfinderjs PLEASE make a copy before you edit the file Its a minified script file so unless youre comfortable editing it that way use an online unminify tool or your favorite code editor to reformat it back to a readablesearchable state On or near line is the function that checks for an acceptable mime type that the Finder can use The block before isImage functione return ematch gifjpegpngsvgicoi And after isImage functione return ematch gifjpegpngsvgicowebpi If youre editing raw just locate the ico text and append it with webp You may have to clear your browser andor site cache once or twice before the images become visible as real images in the finder assuming youre using a browser that supports WebP and they become selectable If you only see the generic file icon in the finder view when you should see an actual image theres an issue with your edited script or your cache webpinpagekit Before submitting an issue please try some troubleshooting steps Enabled debug mode Verify the server requirements Disable all installed extensions Check the browser developer console for errors Problem Hello using the instance rewrite rule given in the document will cause some extensions to fail Error It should be the rewrite rule that causes the extension request to the wrong directory and the files in the correct directory exist I hope it can be solved Technical Details Pagekit version Webserver NGINX Database MySQL PHP Version Before submitting an issue please try some troubleshooting steps Enabled debug mode Verify the server requirements Disable all installed extensions Check the browser developer console for errors Problem User creation issues for both frontend and backend Technical Details Pagekit version Webserver LiteSpeed Database sqlite PHP Version These are both issues that have workarounds which Ill detail but I wanted to at least document the triggering issues Adding a new user as the admin from the backend can fail with an incorrect error message describing an unrelated reason Steps Create any new user while logged in as the admin where the new users email address is known to be valid The only difference with user registrations from a default install is that the emailverification option is enabled along with admin approval Error shown inline is Field must be a valid email address This was a test account and I created the email address under one of my own domains have tested it and it is working and valid Workaround Create the user with the standard frontfacing registration page and then enable the user once its created I didnt try toggling the registration options to see if there was an alternate setup that would let the backend process complete but it should work as set yes Confirmation email links can be corrupted beyond repair under certain circumstances Steps When you are logged into the site in a browser thats set up to be your system default then click on the confirmation email link for a fresh test user once your confirmation string is sent to a newly opened tab it will completely fail and corrupt the new user account then continue to fail when resubmitting that same URL string It will consistently fail no matter what browser is used and whether your earlier user or admin account has been logged out Error shown is Debug was used and generated the following pagekituserconfirmationerrordebug Workaround Delete the new user account its toast at this point and start the registration process again When done log out as the other user and click to confirm or copypaste the redone confirmation link into another browser that you arent logged in with Obviously this one isnt an everyday occurrence but it would have been better to have a graceful failure without destroyingcorrupting the data I presume it destroyed the temporary key issued for the confirmation run somewhere in midprocess and locked out any possibility to recover from it Problem When I try to install any Extension or Theme from the Marketplace it does not install it Error Message Loading composer repositories with package information Updating dependencies Warning continue targeting switch is equivalent to break Did you mean to use continue Technical Details Pagekit version Webserver Apache Win OpenSSL c PHP Database sqlite V Client PHP Version Bumps lodash from to details summaryRelease notessummary Sourced from lodashs releases lodash v was big year Lodash became the most depended on npm package passed billion downloads its v release saw massive adoption The year was also one of collaboration as discussions began on merging Lodash Underscore Much of Lodash v is proofing out the ideas from those discussions Lodash v would not be possible without the collaboration contributions of the Underscore core team In the spirit of merging our teams have blended with several members contributing to both libraries For lodash v we wanted to cut loose push forward take things up a notch Modern only With v we re breaking free from old projects old environments dropping old IE support kB Core Lodash s kitchensink size will continue to grow as new methods functionality are added However we now offer a kB gzipped core build that s compatible with Backbone v for folks who want Lodash without lugging around the kitchen sink More ES We ve continued to embrace ES with methods like isSymbol added support for cloning comparing array buffers maps sets symbols converting iterators to arrays iterable In addition we ve published an esbuild pulled babelpluginlodash into core to make treeshaking a breeze More Modular Pop quiz What category path does the bindAll method belong to Is it A requirelodashfunctionbindAll B requirelodashutilitybindAll C requirelodashutilbindAll Don t know Well with v it doesn t matter because now module paths are as simple as js var bindAll requirelodashbindAll We ve also reduced module complexity making it easier to create smaller bundles This has helped Lodash adoption with libraries like Async Redux st Class FP With v we introduced lodashfp We learned a lot with v we decided to pull it into core Now you can get immutable autocurried iterateefirst datalast methods as simply as js var requirelodashfp var object a trtable truncated details details summaryCommitssummary ddfd b Bump to v b fce Rebuild lodash and docs be d Bump to v a fe b Rebuild lodash and docs e Bump to v e Rebuild lodash and docs fd a Bump to v e d Rebuild lodash and docs d Update OpenJS references eac Fix minified build Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Problem Useless ellipsis Technical Details Pagekit version Webserver Apache Database mysql PHP Version Before submitting an issue please try some troubleshooting steps Enabled debug mode Verify the server requirements Disable all installed extensions Check the browser developer console for errors Problem HiI found a php code execution vulnerability at pagekit latest version Step add php File Extensions via adminsystemsettings upload evil php file via pagekitsystemfinderupload evliphp has been uploaded to storageevilphp successfully visit the evil file via Before submitting an issue please try some troubleshooting steps Enabled debug mode Verify the server requirements Disable all installed extensions Check the browser developer console for errors Problem Hi When a user is requesting to reset his password using a valid email account Pagekit gives the following response However when an invalid email account is submitted Pagekit notifies user that the particular email account cannot be found Leveraging on this the attacker can use a list of emails to enumerate the valid user accounts based on the response of the server Recommendation It is recommended to give generic responses when user inputs his email address for recovery eg If this email exists you will receive an email with the reset instructions in order to prevent user account enumeration OWASP ref Technical Details Pagekit version Webserver Apache Database MySQL PHP Version On your main website on its mobile version some margins are missing Look as the attached image F AAC ACBB A CA AE B 