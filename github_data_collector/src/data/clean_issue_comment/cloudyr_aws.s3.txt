As per title s writeusingFUN writerds doesnt work for large files I assume this is also true for other large file paths as it seems to be a problem with the sprintf function and large integers Reproducible example You will need an S bucket to run all of it R librarytidyverse libraryawss librarynycflights make a big df df mapdfr flights check dimensions should be almost MM entries dimdf dimdf s writeusing x df FUN writerds object somes filepathrds bucket mys bucket This produces the following error Error in sprintfFile size is d Consider setting multipart TRUE invalid format d use format f e g or a for numeric objects traceback sprintfFile size is d Consider setting multipart TRUE headers ContentLength messagesprintfFile size is d Consider setting multipart TRUE headers ContentLength putobjectfile tmp bucket bucket object object s writeusingx df FUN writerds object somes filepathrds bucket mys bucket I think this should be fixable by simply switching the parameter in the message function Thoughts Please specify whether your issue is about x a possible bug a question about package functionality a suggested code or documentation change improvement to the code or feature request If you are reporting a bug or a question about code please supply a fully reproducible example using a publicly available dataset or provide your data if an error is occurring include the output of traceback run immediately after the error occurs the output of sessionInfo Put your code here R load package libraryawss code goes here Not Applicable session info for your system sessionInfo Downloading GitHub repo cloudyrawss master checking for file privatevarfoldersy zzs xzj sx x gysqpxt c gnTRtmpsbWUACremotes ff d b c cloudyrawss c c d dDESCRIPTION preparing awss E checking DESCRIPTION metainformation AuthorsR field gives no person with maintainer role valid email address and nonempty name See section The DESCRIPTION file in the Writing R Extensions manual Error Failed to install awss from GitHub System command error exit status stdout stderr E checking for file privatevarfoldersy zzs xzj sx x gysqpxt c gnTRtmpsbWUACremotes ff d b c cloudyrawss c c d dDESCRIPTION OK E preparing awss E checking DESCRIPTION metainformation ERROR E AuthorsR field gives no person with maintainer role valid email E address and nonempty name E E See section The DESCRIPTION file in the Writing R Extensions E manual E I have been reading in multiple parquet files from S using R Recently I decided to parallelize this process in order to read in these files quicker using the original function I have shown both the lapply and mclapply below R load package libraryawss libraryparallel librarydatatable librarydplyr libraryarrow numcores detectCores reratingdatafiles somevectorofs filepaths readparquetfroms functionfile tryCatch expr returnsetDTarrowreadparquetawss getobjectfile error functione catc nerror with reading in file file n test rbindlistmclapplyreratingdatafilesfunctionx readparquetfroms x mccores minnumcoreslengthreratingdatafilesusenamesT testquoteid ndistinct datatemp rbindlistlapplyreratingdatafilesfunctionx readparquetfroms xusenames T datatempquoteid ndistinct This is so odd because running the EXACT SAME snippet of code or times results in the mclapply bringing back a datatable with the correct distinct quotes Im curious if anyone else is having this problem with awss and mclapply I saw Error in sprintfFile size is d Consider setting multipart TRUE invalid format d use format f e g or a for numeric objects When I tried to lead a large data frame The smaller data frame is OK Added name as per directions on opening pull request for fixing typo Please ensure the following before submitting a PR if suggesting code changes or improvements open an issue first for all but trivial changes eg typo fixes add your name to DESCRIPTION for all but trivial changes eg typo fixes documentation your change in NEWSmd with a parenthetical reference to the issue number being addressed if changing documentation edit files in R not man and run devtoolsdocument to update documentation add code or new test files to tests for any new functionality or bug fix make sure R CMD check runs without error before submitting the PR Fixed typo with grammatical mistakes Please ensure the following before submitting a PR if suggesting code changes or improvements open an issue first x for all but trivial changes eg typo fixes add your name to DESCRIPTION for all but trivial changes eg typo fixes documentation your change in NEWSmd with a parenthetical reference to the issue number being addressed if changing documentation edit files in R not man and run devtoolsdocument to update documentation add code or new test files to tests for any new functionality or bug fix make sure R CMD check runs without error before submitting the PR Please specify whether your issue is about X a possible bug a question about package functionality a suggested code or documentation change improvement to the code or feature request I try to run docker compose with minio and R on top of it I am able to access minio using python library boto but there is an issue with awss Dockerfile FROM rbase RUN aptget update aptget install y noinstallrecommends libcurl openssldev libpqdev libssldev libxml dev libpqdev pkgconfig libgit dev RUN R e installpackagescawss httr RUN aptget install y python RUN apt install y python pip RUN pip install boto COPY I build it with docker build t segmentation dockercomposeyml version services minio image miniominiolatest ports volumes datadata environment MINIOACCESSKEYminio MINIOSECRETKEYminiominio command server data model image segmentationlatest dependson minio I run interactively dockercompose run model bash And execute script R libraryawss httrwithverbosebucketlistverboseT baseurl key minio secret miniominio usehttps FALSE getting error Locating credentials Checking for credentials in usersupplied values Using usersupplied value for AWS Access Key ID Using usersupplied value for AWS Secret Access Key Using default value for AWS Region useast S Request URL Executing request with AWS credentials Locating credentials Checking for credentials in usersupplied values Using usersupplied value for AWS Access Key ID Using usersupplied value for AWS Secret Access Key Using usersupplied value for AWS Region useast Error in curlcurlfetchmemoryurl handle handle Could not resolve host http When I change endpoint to which is where minio should be by default R SyssetenvAWSACCESSKEYID minio SyssetenvAWSSECRETACCESSKEY miniominio SyssetenvAWSS ENDPOINT httrwithverbosebucketlistverboseT baseurl SysgetenvAWSS ENDPOINT usehttps FALSE I get different error Locating credentials Checking for credentials in usersupplied values Checking for credentials in Environment Variables Using Environment Variable AWSACCESSKEYID for AWS Access Key ID Using Environment Variable AWSSECRETACCESSKEY for AWS Secret Access Key Using default value for AWS Region useast S Request URL Executing request with AWS credentials Locating credentials Checking for credentials in usersupplied values Using usersupplied value for AWS Access Key ID Using usersupplied value for AWS Secret Access Key Using usersupplied value for AWS Region useast Error in curlcurlfetchmemoryurl handle handle Failed to connect to port Connection refused Surprisingly it works in python with boto import boto AWSACCESSKEYIDminio AWSSECRETACCESSKEYminiominio endpoint session boto Session awsaccesskeyidAWSACCESSKEYID awssecretaccesskeyAWSSECRETACCESSKEY s sessionresources endpointurlendpoint lists bucketsall the output of sessionInfo R version Platform x pclinuxgnu bit Running under Debian GNULinux bullseyesid Matrix products default BLAS usrlibx linuxgnublaslibblasso LAPACK usrlibx linuxgnulapackliblapackso locale LCCTYPEenUSUTF LCNUMERICC LCTIMEenUSUTF LCCOLLATEenUSUTF LCMONETARYenUSUTF LCMESSAGESenUSUTF LCPAPERenUSUTF LCNAMEC LCADDRESSC LCTELEPHONEC LCMEASUREMENTenUSUTF LCIDENTIFICATIONC attached base packages stats graphics grDevices utils datasets methods base other attached packages awss loaded via a namespace and not attached httr compiler R tools base enc curl Rcpp awssignature xml digest Please specify whether your issue is about a possible bug a question about package functionality x a suggested code or documentation change improvement to the code or feature request Give that awssignaturelocatecredentials takes the profile argument it would be useful to be able to pass that through s Http and therefore the higher API functions Currently you are unable to and therefore relay on setting environment variables this seem somewhat cumbersome considering the code already exists to accept it Put your code here R load package libraryawss bucketlistprofile NOTBEFAULT bucketlist uses default x if suggesting code changes or improvements open an issue first x for all but trivial changes eg typo fixes add your name to DESCRIPTION x for all but trivial changes eg typo fixes documentation your change in NEWSmd with a parenthetical reference to the issue number being addressed x if changing documentation edit files in R not man and run devtoolsdocument to update documentation x add code or new test files to tests for any new functionality or bug fix x make sure R CMD check runs without error before submitting the PR Please specify whether your issue is about x a possible bug a question about package functionality a suggested code or documentation change improvement to the code or feature request Im run getbucket from within a docker container running on an EC instance The roles of the instance allow the operation I need with no credentials In particular from the instances shell I can run something like aws s ls s mybucketsomeprefix and get the answer I want Note that neither awscredentials nor AWS environment variables are available From R Im trying the following R load package libraryawss code goes here awss getbucketmybucket someprefix verboseTRUE This returns the following error Locating credentials Checking for credentials in usersupplied values Checking for credentials in Environment Variables Searching for credentials files No usersupplied credentials environment variables instance metadata or credentials file found Using default value for AWS Region useast S Request URL Executing request without AWS credentials Parsing AWS API response Client error Forbidden List of Code chr AccessDenied Message chr Access Denied RequestId chr B DC F A HostId chr u N kv xYE hEV W cut attr headersList of xamzbucketregion chr useast xamzrequestid chr B DC F A xamzid chr u N kv xYE hEV WpvAJNUehK a a cut contenttype chr applicationxml transferencoding chr chunked date chr Thu Nov GMT server chr AmazonS attr class chr insensitive list attr class chr awserror NULL Error in parseawss responser Sig verbose verbose Forbidden HTTP Is there a way to use awss without credentials and ask it to assume it has them session info for your system R version Platform x pclinuxgnu bit Running under Debian GNULinux stretch Matrix products default BLAS usrlibopenblasbaselibblasso LAPACK usrliblibopenblaspr so locale LCCTYPEenUSUTF LCNUMERICC LCTIMEenUSUTF LCCOLLATEenUSUTF LCMONETARYenUSUTF LCMESSAGESC LCPAPERenUSUTF LCNAMEC LCADDRESSC LCTELEPHONEC LCMEASUREMENTenUSUTF LCIDENTIFICATIONC attached base packages stats graphics grDevices utils datasets methods base other attached packages awss loaded via a namespace and not attached httr compiler R tools base enc curl Rcpp awssignature xml digest 