I am unable to send ebooks to my kindle using the my own smtp server If I use the gmail smtp server everything works fine My own mailserver works fine under thunderbird If I copy the thunderbird settings to calibreweb it fails to send emails If I set the log level to debug to see whats wrong the application crashes as soon as I send a test mail And the RAM usage spikes to up to gb How can I fix this Thanks for your help what im hoping to be able to do is create a new public book shelve called For Kids and assign a user to that shelve so that user is only able to seeread what in the book shelve i think adding something like this will make it more kid friendly seeing how my wife have a few romance books on the server that i would not like my kid be able to seeread I do no that theres the Show mature content option but seeing as most if not all mature books dont by default have a meta tag for that its becomes a pain in a half to have to go behind my wife every time she adds a new book so being able to lock them in a book shelve would help a lot with something like that PS bonus point if it also works via OPDS Hi With email accounts having attachment size restrictions and Amazons Send to Kindle having a maximum limit of MB per email it would be great if CalibreWeb could have the option to set a maximum file size for the Send to functionality This would allow an admin to set a maximum Send to limit of MB and if a user selects Send to Kindle and the file is above the size limit CalibreWeb instead displays an error message advising the user that the book is too big to send and will need to be downloaded and transferred manually to their Kindle This would be an amazing feature as all my users read only on Kindle devices and exclusively use the Send to Kindle function however there are some of my books are above MB like cookbooks or travel books Im uisng CalibreWeb behind Keycloak gatekeeper as I do with most of my services When I try to visit the site it redirects to keycloak then back to calibreweb But it throws a error something about not being able to decode the headers ffff GET HTTP ffff GET faviconico HTTP ERROR in app Exception on GET Traceback most recent call last File usrlocallibpython distpackagesflaskapppy line in wsgiapp response selffulldispatchrequest File usrlocallibpython distpackagesflaskapppy line in fulldispatchrequest rv selfhandleuserexceptione File usrlocallibpython distpackagesflaskapppy line in handleuserexception reraiseexctype excvalue tb File usrlocallibpython distpackagesflaskcompatpy line in reraise raise value File usrlocallibpython distpackagesflaskapppy line in fulldispatchrequest rv selfdispatchrequest File usrlocallibpython distpackagesflaskapppy line in dispatchrequest return selfviewfunctions ruleendpoint reqviewargs File appcalibrewebcpswebpy line in decoratedview return loginrequiredfuncargs kwargs File usrlocallibpython distpackagesflaskloginutilspy line in decoratedview elif not currentuserisauthenticated File usrlocallibpython distpackageswerkzeuglocalpy line in getattr return getattrselfgetcurrentobject name File usrlocallibpython distpackageswerkzeuglocalpy line in getcurrentobject return selflocal File usrlocallibpython distpackagesflaskloginutilspy line in lambda currentuser LocalProxylambda getuser File usrlocallibpython distpackagesflaskloginutilspy line in getuser currentapploginmanagerloaduser File usrlocallibpython distpackagesflaskloginloginmanagerpy line in loaduser return selfloadfromheaderrequestheaders headername File usrlocallibpython distpackagesflaskloginloginmanagerpy line in loadfromheader user selfheadercallbackheader File appcalibrewebcpswebpy line in loaduserfromheader headerval base b decodeheadervaldecodeutf File usrlibpython base py line in b decode return binasciia bbase s binasciiError Incorrect padding The problem is probably related to the cookie passed with the headers Other services like radarrsonarr dont have an issue processing it but I get the above error with calibreweb when this example token is passed eyJhbGciOiJSUzI NiIsInR cCIgOiAiSldUIiwia lkIiA ICJHLWh TnBtUElTR F Q EeGpkZWdxTE PbHVvWlBtRU pajNKTjNxc zIn eyJqdGkiOiJjMjFkYzc MS ZTNiLTRlODgtYjBkNC xZDJiMTBlMWFmZGIiLCJleHAiOjE Nzg MDI MzAsIm iZiI MCwiaWF IjoxNTc ODk MjMwLCJpc MiOiJodHRwczovL tleWNsb FrLndoaXRlZmFtaWx c VydmVyLmNvbS hdXRoL JlYWxtcy tYXN ZXIiLCJhdWQiOlsiY FsaWJyZS ZWIiLCJhY NvdW Il sInN YiI ImM NWUzZTZjLWRiMDktNDQ My iZTI LTUxYTNhNmM ZDUwMCIsInR cCI IkJlYXJlciIsImF cCI ImNhbGlicmUtd ViIiwiYXV aF aW lIjoxNTc ODk MjA LCJzZXNzaW uX N YXRlIjoiZTEzMjY YmYtM I Ny MDJlLWJmZDQtMDYzNDA MjliYTBiIiwiYWNyIjoiMCIsInJlYWxtX FjY VzcyI eyJyb xlcyI WyJMREFQIFVzZXIiLCJvZmZsaW lX FjY VzcyIsInVtYV hdXRob JpemF aW uIiwiTWVkaWEgVXNlciJdfSwicmVzb VyY VfYWNjZXNzIjp ImFjY bnQiOnsicm sZXMiOlsibWFuYWdlLWFjY bnQiLCJtYW hZ UtYWNjb VudC saW rcyIsInZpZXctcHJvZmlsZSJdfX sInNjb BlIjoib BlbmlkIHByb ZpbGUgZW haWwgY FsaWJyZS ZWIiLCJlbWFpbF ZXJpZmllZCI ZmFsc UsIm hbWUiOiJUZXN IFRlc RlcnNvbiIsInByZWZlcnJlZF c VybmFtZSI InRlc QiLCJnaXZlbl uYW lIjoiVGVzdCIsImZhbWlseV uYW lIjoiVGVzdGVyc uIiwiZW haWwiOiJ ZXN QHdoaXRlZmFtaWx c VydmVyLmNvbSJ OhMWScgnSBkhQ IThtERBbvGyxfHGK jPdciLzyHWDqsdd bE Q fGNJwn qv sbd Q YOxPcgOnAl DXZfTKrvGHEYgOMvAYCZxhFfcpl isIfeQTf ayBK dyTxfB J H OcaRh a Oum crFltDhE WZtWsM ZiP jMyyDfcBzbOh db nUHI cCELl o WZRhExvMn SprbyVZ dYv puQjxjhpmbKOIXkGQJ lVWCp BHMNtJYx f seoDPsMwlQ x PtNjuJoU graDfg w szgvX JRIcAt rKi xkPKfIWVvIKFYRMKmJaYxOu g Plugging it into base decoding says it has invalid characters but Im not sure which character However since other services dont have an issue with it Im guessing its something specifically with the base decoding process Adds a simple way of editing identifiers on a book Implementation remark I tried to modify the modifydatabaseobject but it seems this function is clearly designed to manage fields that are a list of strings author tags series languages etc and not keyvalue based fields In the end I created a new function to avoid polluting the original function If you have some ideas on how to merge both generic modifydatabaseobject and the identifiers one I would be interested Note this is my first draft pull request I am very unsure of its consequences I hope it is the same as WIP merge request on gitlab with adminadmin being default I have to change it once the site is up the first thing Is there an option to specify a custom accountpassword through cli parameter or env existing Hello I would like to offer you my update of the Russian translation since the translation in this repository is outdated and partially missing I did not find any mention of mail or feedback so I write here Thank you for the project anyway I decided not to create additional issues and add a few questions here sorry if this is inconvenient In the guest user settings you can configure the interface language but when using the guest user the English interface will always be displayed can this be fixed In the user settings you can enable the deletion of books but I did not find a way to do this after enabling this option can you help me with this Russian translation updatezip Hi Just recently sending ebooks directly from Calibre to calibreweb via copy function stopped working After upload which in itself is working the books are missing an opf file and calibreweb cannot parse file location or cover art some other metadata is there though When trying to delete the book from calibreweb I get the following error Traceback most recent call last File usrlibpython sitepackagesflaskapppy line in wsgiapp response selffulldispatchrequest File usrlibpython sitepackagesflaskapppy line in fulldispatchrequest rv selfhandleuserexceptione File usrlibpython sitepackagesflaskapppy line in handleuserexception reraiseexctype excvalue tb File usrlibpython sitepackagesflaskapppy line in fulldispatchrequest rv selfdispatchrequest File usrlibpython sitepackagesflaskapppy line in dispatchrequest return selfviewfunctions ruleendpoint reqviewargs File usrlibpython sitepackagesflaskloginutilspy line in decoratedview return funcargs kwargs File calibrewebappcpseditbookspy line in deletebook helperdeletebookbook configconfigcalibredir bookformatbookformatupper File calibrewebappcpshelperpy line in deletebook return deletebookfilebook calibrepath bookformat File calibrewebappcpshelperpy line in deletebookfile if lennextoswalkpath StopIteration It is same issue I spend But it works as same as what I explained to you I closed CalibreProgrm when I modify metadata on calibreweb but it doesnt apply to the real metadata on metadataopf file in Calibrelibrary I am using Synology nas with dockertechnosoft and I added PUID PGID following technosofts instructionbecause I think the problem is related to permission problem But it doesnt work as same as before Below is my calibreweblog file It was an info level so it doesnt contain much information which we want but please look into them and I changed it to debug level now INFO cps Starting Calibre Web INFO cpsserver Starting Gevent server on INFO cpsweb Login failed for user admin IPadress INFO cpsadmin Update status requested INFO cpsserver webserver stop restartTrue INFO cpsserver Performing restart of CalibreWeb calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Luxury al su eobseum calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server usrlibpython sitepackagesflaskapppy ERROR Exception on GET Traceback most recent call last File usrlibpython sitepackagesflaskapppy line in wsgiapp response selffulldispatchrequest File usrlibpython sitepackagesflaskapppy line in fulldispatchrequest rv selfhandleuserexceptione File usrlibpython sitepackagesflaskapppy line in handleuserexception reraiseexctype excvalue tb File usrlibpython sitepackagesflaskapppy line in fulldispatchrequest rv selfdispatchrequest File usrlibpython sitepackagesflaskapppy line in dispatchrequest return selfviewfunctions ruleendpoint reqviewargs File calibrewebappcpswebpy line in decoratedview return loginrequiredfuncargs kwargs File usrlibpython sitepackagesflaskloginutilspy line in decoratedview return funcargs kwargs File calibrewebappcpswebpy line in index titleuRecently Added Books pageroot configauthorsmaxconfigconfigauthorsmax File calibrewebappcpswebpy line in rendertitletemplate return rendertemplateinstanceconfigconfigcalibrewebtitle acceptEXTENSIONSUPLOAD args kwargs File usrlibpython sitepackagesflasktemplatingpy line in rendertemplate context ctxapp File usrlibpython sitepackagesflasktemplatingpy line in render rv templaterendercontext File usrlibpython sitepackagesjinja environmentpy line in render return selfenvironmenthandleexceptionexcinfo True File usrlibpython sitepackagesjinja environmentpy line in handleexception reraiseexctype excvalue tb File calibrewebappcpstemplatesindexhtml line in toplevel template code extends layouthtml File calibrewebappcpstemplateslayouthtml line in toplevel template code a classnavbarbrand hrefurlforindexaaaimg src urlforstatic finenamefaviconico a File usrlibpython sitepackagesflaskhelperspy line in urlfor appctxappinjecturldefaultsendpoint values File usrlibpython sitepackagesflaskapppy line in injecturldefaults funcendpoint values File calibrewebappcpscachebusterpy line in reversetocachebustedurl filehash bustfilenamevalues filename KeyError filename usrlibpython sitepackagesflaskapppy ERROR Exception on GET Traceback most recent call last File usrlibpython sitepackagesflaskapppy line in wsgiapp response selffulldispatchrequest File usrlibpython sitepackagesflaskapppy line in fulldispatchrequest rv selfhandleuserexceptione File usrlibpython sitepackagesflaskapppy line in handleuserexception reraiseexctype excvalue tb File usrlibpython sitepackagesflaskapppy line in fulldispatchrequest rv selfdispatchrequest File usrlibpython sitepackagesflaskapppy line in dispatchrequest return selfviewfunctions ruleendpoint reqviewargs File calibrewebappcpswebpy line in decoratedview return loginrequiredfuncargs kwargs File usrlibpython sitepackagesflaskloginutilspy line in decoratedview return funcargs kwargs File calibrewebappcpswebpy line in index titleuRecently Added Books pageroot configauthorsmaxconfigconfigauthorsmax File calibrewebappcpswebpy line in rendertitletemplate return rendertemplateinstanceconfigconfigcalibrewebtitle acceptEXTENSIONSUPLOAD args kwargs File usrlibpython sitepackagesflasktemplatingpy line in rendertemplate context ctxapp File usrlibpython sitepackagesflasktemplatingpy line in render rv templaterendercontext File usrlibpython sitepackagesjinja environmentpy line in render return selfenvironmenthandleexceptionexcinfo True File usrlibpython sitepackagesjinja environmentpy line in handleexception reraiseexctype excvalue tb File calibrewebappcpstemplatesindexhtml line in toplevel template code extends layouthtml File calibrewebappcpstemplateslayouthtml line in toplevel template code a classnavbarbrand hrefurlforindexaaaimg src urlforstatic finenamefaviconico a File usrlibpython sitepackagesflaskhelperspy line in urlfor appctxappinjecturldefaultsendpoint values File usrlibpython sitepackagesflaskapppy line in injecturldefaults funcendpoint values File calibrewebappcpscachebusterpy line in reversetocachebustedurl filehash bustfilenamevalues filename KeyError filename calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server calibrewebappcpsserverpy INFO Performing restart of CalibreWeb calibrewebappcpswebpy INFO Starting Calibre Web calibrewebappcpscomicpy WARNING cannot import comicapi extracting comic metadata will not work No module named comicapicomicarchive calibrewebappcpsserverpy INFO Starting Gevent server I have updated all books meta datatags author series rating and it works fine But after I tried to update metadatadescription for one book I found that I can see any changes in calibreweb but it doesnt apply to CalibreLibrary So after that I tried to add new book to CalibreLibrary but it didnt work Calibreweb didnt change anything even though I clicked ReConnect to Calibre DB in admin page So do you have any idea to solve this problem If you need further information please let me know Would it be possible to add Epub Kepub converter to the docker container 