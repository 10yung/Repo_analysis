I am comparing to txt files with a context of just lines and like how githubs display compares file I wanted to show when skipping intermediate lines that are not showed by context the set of lines that are same in both files Anyway to generate them whilst still rendering diff in html diff DiffyDiffnewreport txtreport txtincludeplusandminusinhtml true context toshtml Trying eachchunktoadoesnt help either because at the end diff has to be rendered in html This allows diffy to work with the Busybox diff command which returns diff invalid number in its current form Implements rubocop Forking creates a new process with the same memory usage as the parent process Since ruby doesnt give memory back to the operating system this can cause the calling process to bloat and consume much more memory than is necessary By using spawn the new process consumes far less memory and returns it to the operating system once it has completed This is very beneficial for longrunning processes such as rails app servers Fixes Please v tagging diffy We have strings with a backslash followed by the letter n where the diff does not display correctly on our web site Apparently the diffy gem when using toshtml is splitting a string with a backslash character followed by an n character into two lines irbmain puts DiffyDiffnewA nZ B nZtoshtml div classdiff ul li classdeldelstrongAstrongdelli li classdeldelZdelli li classinsinsstrongBstronginsli li classinsinsZinsli ul div nil irbmain puts DiffyDiffnewA nZ B nZtoshtml div classdiff ul li classdeldelstrongAstrong delli li classdeldelZdelli li classinsinsstrongBstrong insli li classinsinsZinsli ul div nil When there are two backslashes and an r diffy gets completely confused irbmain puts DiffyDiffnewA r nZ B r nZtoshtml div classdiff ul dellisdeldelstrongAstrong li classdeldelZdelli inslisinsinsstrongBstrong li classinsinsZinsli ul div nil This happens when trying to run Diffy on docker ruby Alpine Linux image gem install diffy Fetching diffy gem Successfully installed diffy gem installed irb irbmain require diffy true irbmain DiffyDiffnewHello nHallo ntostext Diffy works well on other Ruby docker images such as default Ruby Hi there awesome gem thank you Id like to store my diffs in a DB as plain text diffs to make them smaller more portable etc This part is easy But then Id like to pull them out of the DB and display them as HTML basically with the same output as DiffyDiffdefaultformat html Would give me I dont want to redo the diff the info that created the diff is gone at this point Maybe something like DiffyDiffconvertstoreddifftoshtml Seems like I might be missing something or someone else might have solved this problem Right now I am storing the diff as HTML but that wouldnt be as cool bc later Id have to strip out the html to display it in a txt environment Much thanks 