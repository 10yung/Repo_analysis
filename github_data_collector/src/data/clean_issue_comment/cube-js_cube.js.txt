in my mysql database have a date format like this in my dashboard I want it to be displayed like this and without time Is it possible Describe the bug I try to use BigQuery as my main DB and postgre as an external DB for external preaggregations But it seems that Cube JS reads both the aggregated table generated in BigQuery and the table in postgre To Reproduce Steps to reproduce the behavior Use this configuration for the CubejsServer js const server new CubejsServer driverFactory new BigQueryDriver location EU externalDbType processenvCUBEJSEXTDBTYPE preAggregationsSchema aggregconstantsTESTTENANTID externalDriverFactory new PostgresDriver host processenvCUBEJSEXTDBHOST database processenvCUBEJSEXTDBNAME port processenvCUBEJSEXTDBPORT user processenvCUBEJSEXTDBUSER password processenvCUBEJSEXTDBPASS Query for dimensions measures that are used in a pre aggregation schema see log below It creates a table actionsextagg acgen axx slm aq both in BigQuery and postgre When using the same query there is no way to be sure that it isnt using the table which is on BigQuery but it works see log below Doing the same query but with the proxy access to postgre disabled lend me this error see log below bash connect ECONNREFUSED at TCPConnectWrapafterConnect as oncomplete netjs But doing the same query after deleting the table that was created in BigQuery lend me this error see log below bash Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU Expected behavior CubeJS should only use the external preaggregation table in the DB configured in the externalDriverFactory instead of also reading the main DB that is meant to be used as readonly Is it possible to have a clear message in log about which DriverFactory is used when retrieving data from a DB Logs Log Creating the aggregation table with a query bash Load Request query measures actionscountactions timeDimensions dimension actionstimestamp dateRange Last days granularity day requestId dda b eb e c e fb e Performing query SELECT DATETIMETRUNCDATETIMECURRENTTIMESTAMP UTC HOUR as currenthour queueSize queuePrefix SQLQUERYSTANDALONEdefault Performing query completed ms SELECT DATETIMETRUNCDATETIMECURRENTTIMESTAMP UTC HOUR as currenthour queueSize queuePrefix SQLQUERYSTANDALONEdefault Performing query SELECT n DATETIMETRUNCDATETIMEactionstimestamp UTC DAY actionstimestampday countdistinct actionsid actionscountactions n FROM n actionsactions IEUHD UHOID IOH AS actions n WHERE actionstimestamp TIMESTAMP AND actionstimestamp TIMESTAMP GROUP BY T Z T Z currenthour T queueSize queuePrefix SQLPREAGGREGATIONSSTANDALONEdefault Performing query completed ms SELECT n DATETIMETRUNCDATETIMEactionstimestamp UTC DAY actionstimestampday countdistinct actionsid actionscountactions n FROM n actionsactions IEUHD UHOID IOH AS actions n WHERE actionstimestamp TIMESTAMP AND actionstimestamp TIMESTAMP GROUP BY T Z T Z currenthour T queueSize queuePrefix SQLPREAGGREGATIONSSTANDALONEdefault Log Performing a query the preaggregated table bash Load Request query measures actionscountactions timeDimensions dimension actionstimestamp dateRange Last days granularity day requestId f e e e a fdc f Performing query SELECT DATETIMETRUNCDATETIMECURRENTTIMESTAMP UTC HOUR as currenthour queueSize queuePrefix SQLQUERYSTANDALONEdefault Performing query SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queueSize queuePrefix SQLQUERYSTANDALONEdefault requestId f e e e a fdc f Performing query completed ms SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queueSize queuePrefix SQLQUERYSTANDALONEdefault requestId f e e e a fdc f Load Request Success query measures actionscountactions timeDimensions dimension actionstimestamp dateRange Last days granularity day requestId f e e e a fdc f Performing query completed ms SELECT DATETIMETRUNCDATETIMECURRENTTIMESTAMP UTC HOUR as currenthour queueSize queuePrefix SQLQUERYSTANDALONEdefault Performing query SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queueSize queuePrefix SQLQUERYSTANDALONEdefault requestId f e e e a fdc f Performing query completed ms SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queueSize queuePrefix SQLQUERYSTANDALONEdefault requestId f e e e a fdc f Log performing query without a connection to postgre bash Load Request query measures actionscountactions timeDimensions dimension actionstimestamp dateRange Last days granularity day requestId e fc f f b f Error querying db query SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP UTC AND actionstimestampday DATETIMETIMESTAMP UTC GROUP BY ORDER BY ASC LIMIT params T Z T Z requestId e fc f f b f Error connect ECONNREFUSED at TCPConnectWrapafterConnect as oncomplete netjs Orchestrator error query measures actionscountactions timeDimensions dimension actionstimestamp dateRange Last days granularity day requestId e fc f f b f Error connect ECONNREFUSED Log performing query without the BigQuery table bash Load Request query measures actionscountactions timeDimensions dimension actionstimestamp dateRange Last days granularity day requestId c cf df a fb d c Performing query SELECT DATETIMETRUNCDATETIMECURRENTTIMESTAMP UTC HOUR as currenthour queueSize queuePrefix SQLQUERYSTANDALONEdefault Performing query SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queueSize queuePrefix SQLQUERYSTANDALONEdefault requestId c cf df a fb d c Error while querying SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queuePrefix SQLQUERYSTANDALONEdefault requestId c cf df a fb d c Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU at new ApiError UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudbigquerybuildsrcbigqueryjs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at UtilhandleResp UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at onResponse UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesretryrequestindexjs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesteenyrequestbuildsrcindexjs at processTicksAndRejections internalprocesstaskqueuesjs Dropping Cache cacheKey SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP UTC AND actionstimestampday DATETIMETIMESTAMP UTC GROUP BY ORDER BY ASC LIMIT T Z T Z SELECT n DATETIMETRUNCDATETIMEactionstimestamp UTC DAY actionstimestampday countdistinct actionsid actionscountactions n FROM n actionsactions IEUHD UHOID IOH AS actions n WHERE actionstimestamp TIMESTAMP AND actionstimestamp TIMESTAMP GROUP BY T Z T Z requestId c cf df a fb d c Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU at QueryQueueparseResult UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at QueryQueueexecuteInQueue UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at processTicksAndRejections internalprocesstaskqueuesjs at async QueryCachecachedQueryResult UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryCachejs at async UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryOrchestratorjs at async OrchestratorApiexecuteQuery UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendservercorecoreOrchestratorApijs at async ApiGatewayload UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendapigatewayindexjs at async UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendapigatewayindexjs Error querying db query SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP UTC AND actionstimestampday DATETIMETIMESTAMP UTC GROUP BY ORDER BY ASC LIMIT params T Z T Z requestId c cf df a fb d c Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU at QueryQueueparseResult UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at QueryQueueexecuteInQueue UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at processTicksAndRejections internalprocesstaskqueuesjs at async QueryCachecachedQueryResult UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryCachejs at async UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryOrchestratorjs at async OrchestratorApiexecuteQuery UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendservercorecoreOrchestratorApijs at async ApiGatewayload UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendapigatewayindexjs at async UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendapigatewayindexjs Orchestrator error query measures actionscountactions timeDimensions dimension actionstimestamp dateRange Last days granularity day requestId c cf df a fb d c Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU Performing query completed ms SELECT DATETIMETRUNCDATETIMECURRENTTIMESTAMP UTC HOUR as currenthour queueSize queuePrefix SQLQUERYSTANDALONEdefault Performing query SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queueSize queuePrefix SQLQUERYSTANDALONEdefault requestId c cf df a fb d c Error while querying SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP T Z UTC AND actionstimestampday DATETIMETIMESTAMP T Z UTC GROUP BY ORDER BY ASC LIMIT queuePrefix SQLQUERYSTANDALONEdefault requestId c cf df a fb d c Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU at new ApiError UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudbigquerybuildsrcbigqueryjs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at UtilhandleResp UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesgooglecloudcommonbuildsrcutiljs at onResponse UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesretryrequestindexjs at UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulesteenyrequestbuildsrcindexjs at processTicksAndRejections internalprocesstaskqueuesjs Dropping Cache cacheKey SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP UTC AND actionstimestampday DATETIMETIMESTAMP UTC GROUP BY ORDER BY ASC LIMIT T Z T Z SELECT n DATETIMETRUNCDATETIMEactionstimestamp UTC DAY actionstimestampday countdistinct actionsid actionscountactions n FROM n actionsactions IEUHD UHOID IOH AS actions n WHERE actionstimestamp TIMESTAMP AND actionstimestamp TIMESTAMP GROUP BY T Z T Z requestId c cf df a fb d c Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU at QueryQueueparseResult UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at QueryQueueexecuteInQueue UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at processTicksAndRejections internalprocesstaskqueuesjs at async UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryCachejs Error while renew cycle query SELECT actionstimestampday actionstimestampday sumactionscountactions actionscountactions FROM SELECT FROM aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq as partitionunion WHERE actionstimestampday DATETIMETIMESTAMP UTC AND actionstimestampday DATETIMETIMESTAMP UTC GROUP BY ORDER BY ASC LIMIT queryvalues T Z T Z requestId c cf df a fb d c Error Not found Table ebmain aggreg IEUHD UHOID IOHactionsextagg acgen axx slm aq was not found in location EU at QueryQueueparseResult UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at QueryQueueexecuteInQueue UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryQueuejs at processTicksAndRejections internalprocesstaskqueuesjs at async UsersthibaultfoureurgitrepogitcubejspocCubejsPOCbackendnodemodulescubejsbackendqueryorchestratororchestratorQueryCachejs Describe the bug The pivotConfig parameter should be optional To Reproduce Steps to reproduce the behavior Use Typescript Try compiling resultSettablePivot See error Expected behavior The compiler should not throw an error saying pivotConfig is a required object Screenshots Screen Shot at Version Is your feature request related to a problem Please describe Currently CubeJS mostly serializes all values as strings This is obviously very useful for large numbers since JSON does not support them however it would be really nice if numerical values were converted back to the Number type after receiving a response from the CubeJS Server Describe the solution youd like ResultSettablePivot should look up any numerical measures from the schema and cast values to Number Describe alternatives youve considered This can definitely be manually be postprocessing the results from the result set Additional context Is your feature request related to a problem Please describe Unable to create preaggregations in postgres while using mysql as primary db Describe the solution youd like External preaggregations are to be supported Additional context datetrunc and timestamp are few functions that are creating issues while using this In the need of connecting cubejs to a set of posgres replicate set for scaling and backup stategy using multiple standby prosgres db instances is it possible to connect cubejs to a set of posgres relicate set Posgres connection string looks like this postgresqlhost host somedbtargetsessionattrsany applicationnamemyapp Thanks When running Cubejs Backend in production mode by setting NODEENV as a production it sends me the HTML response like Cubejs server is running in production mode Learn more about production mode when I hit But I use this URIroute to display the indexhtml page of my application developed in NODEJS Express Because of this when an application gets to run it shows me CubeJS response not application page My Findings When I debug this I found that in the latest NPM update else condition gets added in initApp method async initAppapp checkEnvForPlaceholders const apiGateway thisapiGateway apiGatewayinitAppapp if thisoptionsdevServer thisdevServerinitDevEnvapp else appget req res resstatus sendhtmlbodyCubejs server is running in production mode a href more about production modeabodyhtml PS Its working fine up to cubejsbackendservercore Suggestion Can we change that route OR can we provide the option to disable this route OR can we remove that else condition from initApp method Description I have a cube with an unbounded rollingwindow measure I would like to have preaggregation support for this type of measures Preagg preAggregations myRollup type rollup measureReferences myMeasure timeDimensionReference eventDate granularity day Measure measures myMeasure type avg sql value rollingWindow trailing unbounded Query Note This query should trigger the preaggregation but does not measures MyCubemyMeasure timeDimensions dimensionMyCubeeventDate granularityday dateRangeLast month Is your feature request related to a problem Please describe Currently Cubejs server options must be set inside Javascript source Describe the solution youd like This would improve ergonomics for Serverless projects as well as provide a single place for all configuration options to live in Cubejs projects I would suggest using something like Cosmiconfig which makes reading rc and similar filename variations a doddle Is your feature request related to a problem Please describe While it is awesome that Cubejs can scaffold a Serverless project for me Id prefer to use Serverless own scaffolding tool Describe the solution youd like The Serverless CLI tool supports scaffolding projects from a URL bash serverless create templateurl path myService Describe alternatives youve considered We could potentially change the current cubejs create command to instead run npx serverless create URL or do something more extravagant with Yeoman templates Additional context Serverless Create Command Reference 