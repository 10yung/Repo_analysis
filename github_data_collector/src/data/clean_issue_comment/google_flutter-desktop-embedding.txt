Lets you set a custom cursor on desktop at runtime MacOS Windows Linux in Progress On Windows you need to modify you win windowcc LRESULT Win WindowMessageHandlerHWND hwnd UINT const message WPARAM const wparam LPARAM const lparam noexcept auto window reinterpretcastWin Window GetWindowLongPtrhwnd GWLPUSERDATA if window nullptr return switch message case WMSETCURSOR return TRUE Add this to the top of the switch statement case WMSETCURSOR return TRUE I created the windowutils plugin and there is an issue when updating the windows cursor I can change the cursor but it is instantly reset by the application but you can see the correct cursor flash for a second MacOS works fine Other calls on the plugin work great on windows too I am calling the correct code in C but I was curious if I was missing something about the runner in win windowcc and if there is an explicit cursor that always override the default one WNDCLASS Win WindowRegisterWindowClass WNDCLASS windowclass windowclasshCursor LoadCursornullptr IDCARROW When the window is first created it does set a cursor At runtime you should be able to change it though Anywhere I should be looking Describe the bug My desktop app is using the filechooser plugin On a Mac desktop when I bring up a native dialog via that plugin eg showOpenPanel showSavePanel my expectation is that until I closed that dialog I would not be able to interact with the rest of the app What Im seeing currently is that I am able to click back into the main app window and interact freely including both mouse and keyboard events while the file chooser dialog is still open Doctor Output Flutter Channel unknown v pre on Mac OS X G locale enUS Android toolchain develop for Android devices Unable to locate Android SDK Install Android Studio from On first launch it will assist you in installing the Android SDK components or visit for detailed instructions If the Android SDK has been installed to a custom location set ANDROIDHOME to that location You may also want to add it to your PATH environment variable Xcode develop for iOS and macOS Xcode Android Studio not installed IntelliJ IDEA Community Edition version Connected device available Important Note Development of Flutter for Desktop is now primarily happening in the Flutter repository itself If you have a bug or feature request related to desktop thats about the Flutter framework the flutter commandline tool or the desktop support in the Flutter engine please file your bug in the Flutter issue tracker Please file bugs here only for things specific to this repository such as Proposed changes to instructions in the READMEs here Requests specific to the plugins here If youre not sure whether the report belongs here or in Flutter itself you can file it here here but we may close the issue and ask you to file it in Flutter if it turns out not to be specific to this project Important Note For general discussion and questions please use the project mailing list rather than filing an issue Describe Request MacOS and Windows have app icon artifacts in this repo already so its easy to figure out how to customise the app icon for those desktops but it took me quite some searching to figure out how to do it for linux Consider adding some doco eg refer to etc and provide an example desktop file with instructions to say copy to localshareapplications Better still is if an automated way could be provided to set all this up via an enhancement to Makefile This is related to the menu plugin Needed not so obvious functionality Position of the icon Setting icon as monochromatic template image is needed on macOS so it can support dark mode Allow text instead of the icon or in addition to the icon I dont know if this is possible on Linux or Windows but macOS allows this stuartmorgan should I create this issue in the flutter repo or is this the best place for it Describe the bug After the upgrade of the Visual Studio to version I have encountered a bug I have built the application via flutter build windows and now when I try to run it it gives me an error modal that sais that the VCRUNTIME dll is missing I am not able to run the app on another computer than the one that I develop on Is there any possibility to fix this issue Since the change to turn off exceptions in the plugins and runners to simplify using clr the build shows warnings like ms c program files x microsoft visual studio community vc tools msvc include xlocale warning C C exception handler used but unwind semantics are not enabled Specify EHsc C projects flutterdesktopembedding plugins exampleplugin windows examplepluginvcxproj We should figure out what is using exception handlers and remove them or if we cant for some reason reevaluate that change Currently adding plugins to Windows projects is very manual and requires some VS knowledge and documentation that doesnt exist yet but which Ill add shortly I wanted to capture some of the things Ive been thinking about that we could do as shorttomedium term plugin improvements while we decide what our actual solution for plugin management on Windows is potentially using an existing dependency management system Autogenerate FlutterPluginsprops in the Flutter tool the same way we generate the registrant on platforms with plugin tooling support If we do that we could also autogenerate header include paths into that file for the plugin headers and remove the need to have a headercopy step from the plugin builds Less straightforward but probably doable generate Runnersln itself with all the plugin project inclusion and dependencies configured If we did all of those adding most plugins to a project on Windows wouldnt have any manual steps although there are cases we dont have a solution for yet like plugins that themselves have DLL dependencies which need to be linked into the application and copied to the right place so its definitely not a full solution Rewriting the sln would break the usual Flutter behavior of letting people modify the native build though so I think wed need to instead try to modify it in a way that preserved any other changes that people had made which could be tricky but since its a pretty straightforward file maybe not that bad The counterargument is that all this would be potentially wasted work that would be better spent on Hello everyone I was trying to test my Windows build on some devicesIve transferred windows file in build file to computers and tried to run my appOn some devices the app runsI mean I can see the window title and borders but inside is just black screenI couldnt figure out what was happening so Ive installed flutter to one of them and this is the output I get when I run the appI dont know If Its related but flutter asked me to install Windows SDK to run the app Launching lib maindart on Windows in debug mode Building Windows application Syncing files to device Windows flutter EXCEPTION CAUGHT BY RENDERING LIBRARY flutter The following assertion was thrown during performLayout flutter packagefluttersrcrenderingviewdart Failed assertion line pos sizeisFinite is flutter not true flutter flutter Either the assertion indicates an error in the framework itself or we should provide substantially flutter more information in this error message to help you determine and fix the underlying cause flutter In either case please report this assertion by filing a bug on GitHub flutter flutter flutter When the exception was thrown this was the stack flutter RenderViewperformLayout packagefluttersrcrenderingviewdart flutter RenderObjectlayoutWithoutResize packagefluttersrcrenderingobjectdart flutter PipelineOwnerflushLayout packagefluttersrcrenderingobjectdart flutter RendererBindingdrawFrame packagefluttersrcrenderingbindingdart flutter WidgetsBindingdrawFrame packagefluttersrcwidgetsbindingdart flutter RendererBindinghandlePersistentFrameCallback packagefluttersrcrenderingbindingdart flutter SchedulerBindinginvokeFrameCallback packagefluttersrcschedulerbindingdart flutter SchedulerBindinghandleDrawFrame packagefluttersrcschedulerbindingdart flutter SchedulerBindingscheduleWarmUpFrameanonymous closure packagefluttersrcschedulerbindingdart flutter TimerrunTimers dartisolatepatchtimerimpldart flutter TimerhandleMessage dartisolatepatchtimerimpldart flutter RawReceivePortImplhandleMessage dartisolatepatchisolatepatchdart flutter elided frames from class AssertionError package dartasync and package dartasyncpatch flutter flutter The following RenderObject was being processed when the exception was fired RenderView fbdc NEEDSLAYOUT NEEDSPAINT NEEDSCOMPOSITINGBITSUPDATE flutter debug mode enabled windows flutter window size Size in physical pixels flutter device pixel ratio physical pixels per logical pixel flutter configuration SizeInfinity Infinity at x in logical pixels flutter This RenderObject had the following descendants showing up to depth flutter child RenderSemanticsAnnotationsbd NEEDSLAYOUT NEEDSPAINT NEEDSCOMPOSITINGBITSUPDATE flutter child RenderPointerListener f NEEDSLAYOUT NEEDSPAINT NEEDSCOMPOSITINGBITSUPDATE flutter child RenderAbsorbPointer cc c NEEDSLAYOUT NEEDSPAINT NEEDSCOMPOSITINGBITSUPDATE flutter child RenderSemanticsAnnotationscf NEEDSLAYOUT NEEDSPAINT NEEDSCOMPOSITINGBITSUPDATE flutter child RenderTheatrebfeb NEEDSLAYOUT NEEDSPAINT NEEDSCOMPOSITINGBITSUPDATE flutter And this is the doctor output C Users ERDEMflutter doctor v Flutter Channel unknown v pre on Microsoft Windows Version locale trTR Flutter version pre at C flutter Framework revision cc f a days ago Engine revision a Dart version build dev c c aa X Android toolchain develop for Android devices X Unable to locate Android SDK Install Android Studio from On first launch it will assist you in installing the Android SDK components or visit for detailed instructions If the Android SDK has been installed to a custom location set ANDROIDHOME to that location You may also want to add it to your PATH environment variable Visual Studio develop for Windows Visual Studio Community Visual Studio at C Program Files x Microsoft Visual Studio Community Visual Studio Community version Android Studio not installed Android Studio not found download from or visit for detailed instructions VS Code version VS Code at C Users ERDEM AppData Local Programs Microsoft VS Code X Flutter extension not installed install from Connected device available Windows Windows windowsx Microsoft Windows Version Doctor found issues in categories When running under the VS debugger Im getting a console window but nothing shows up in it No observatory log line so I cant get the observatory URL to attach to No Flutter exceptions eg if I remove the debugDefaultTargetPlatformOverride in maindart shoryukenn You mentioned that this is one of the scenarios you tested and my understanding is that the AllocConsole is there specifically to handle this case Any idea why its not working for me