 DEMO Override protected void onCreateBundle savedInstanceState superonCreatesavedInstanceState setContentViewRlayouttakeimageactivity TakePhotoOptionsBuilder builder new TakePhotoOptionsBuilder buildersetWithOwnGallerytrue buildersetCorrectImagetrue takePhotosetTakePhotoOptionsbuildercreate CropOptions cropOptions new CropOptionsBuildersetAspectX setAspectY setWithOwnCroptruecreate int size MathmingetResourcesgetDisplayMetricswidthPixels getResourcesgetDisplayMetricsheightPixels CropOptions cropOptions new CropOptionsBuildersetOutputXsizesetOutputXsizesetWithOwnCroptruecreate CompressConfig compressConfignew CompressConfigBuildersetMaxSize setMaxPixel create takePhotoonEnableCompresscompressConfigtrue File file new FileEnvironmentgetExternalStorageDirectory temp SystemcurrentTimeMillis jpg if filegetParentFileexists filegetParentFilemkdirs Uri imageUri UrifromFilefile takePhotoonPickFromGalleryWithCropimageUri cropOptions EMUI p EMUI p takeFail msg androidx androidx Glide RequestOptions options new RequestOptionsplaceholderRdrawableimageplaceholder Glidewithcontext loadarrayListgetpositioncover applyRequestOptionsplaceholderOfRdrawableimageplaceholdercenterCropintoviewHolderimageView FileProvider FileProvider 