Describe the bug A clear and concise description of what the bug is The program crashes with the panic error in the title To Reproduce Steps to reproduce the behavior use go get to install on archlinux launch the program in a terminal Expected behavior Some GUI to open even if broken Screenshots Environment please complete the following information OS Version Archlinux Go Version linuxamd Shell Bash Additional context Logs Update glfw to Describe the bug It does not launch WSL as default shell even though it is set in config file To Reproduce Create aminaltoml in PROFILES directory Set shell to shell wslexe d Ubuntu Open Aminal Expected behavior It should have launched WSL But instead opens up cmdexe in gos bin directory Environment please complete the following information OS Version Windows Go Version eg go version go windowsamd Shell eg BashZsh WSL Logs T INFO aminalmaingo Allocating pty T INFO aminalmaingo Creating terminal T DEBUG guiguigo Creating window T DEBUG guiguigo Initialising OpenGL and creating program T INFO guiguigo OpenGL version Build T DEBUG guiguigo Compiling shaders T DEBUG guiguigo Loading font T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T DEBUG guiguigo Initiating GUI resize to x T DEBUG guiguigo Updating font resolutions T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T INFO guiguigo GL debug message Error has been generated GL error GLINVALIDOPERATION in null ID Generic error T DEBUG guiguigo Setting renderer area T DEBUG guiguigo Calculating size in colsrows T DEBUG guiguigo Resizing internal terminal T DEBUG guiguigo Setting viewport size T DEBUG guiguigo Resize complete T DEBUG guiguigo Starting pty read handling T DEBUG guiguigo Starting render T DEBUG terminalcsigo CSI x C ESC l Reset Mode RM T ERROR terminaloutputgo Error handling escape sequence Unsupported CSI l code githubcomliamgaminalterminalTerminalprocessInput CUsersunifizegosrcgithubcomliamgaminalterminaloutputgo T DEBUG terminalcsigo CSI x A ESC J Erase in Display ED VT T DEBUG terminalcsigo CSI x D ESC m Character Attributes SGR T DEBUG terminalcsigo CSI x ESC H Cursor Position rowcolumn default CUP T DEBUG terminalcsigo CSI x ESC h Set Mode SM T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x C ESC l Reset Mode RM T ERROR terminaloutputgo Error handling escape sequence Unsupported CSI l code githubcomliamgaminalterminalTerminalprocessInput CUsersunifizegosrcgithubcomliamgaminalterminaloutputgo T DEBUG terminalcsigo CSI x ESC H Cursor Position rowcolumn default CUP T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC X Erase Ps Characters default ECH T DEBUG terminalcsigo CSI x ESC H Cursor Position rowcolumn default CUP T DEBUG terminalcsigo CSI x ESC h Set Mode SM Describe the bug The latency is pretty high when using VIM To Reproduce Steps to reproduce the behavior Got the terminal through brew Run the command aminal Try to edit a file with VIM Expected behavior It should be as smooth or smoother than the mac builtin terminal Screenshots May add an animated gif if necessary but this is pretty straight forward to reproduce Environment please complete the following information OS Version Go Version eg go version go darwinamd Shell eg BashZsh bash Additional context Add any other context about the problem here Logs Is your feature request related to a problem Please describe Similar to is aminal embeddable This is a separate issue because I want to embed the terminal emulation part of aminal within a commandline tool I do not want to use the windowed GUI because I want my tool to be run within terminalcmd Describe the solution youd like My goal is to have a crossplatform commandline tool that uses aminal for terminal emulation like GNU screen or tmux with a custom transport layer Question can I use aminal with a custom transport layer Question can I embed aminal within a commandline tool Describe alternatives youve considered Ive looked at using GNU screen but A its not cross plaform and B I dont know how to make it work with my custom transport without all kinds of gymnastics Additional context I am working on a specialized tool that more or less connects to a console on a remote device via a TCPIP tunnel I would like to use aminal as a frontend to this tunneled console My transport protocol is very nonstandard and I can guarantee that I wont be able to find existing tools for this Describe the bug It seems aminal has pretty awful performance compared to other options out there I saw someone else had tried a bunch of terminal emulators benchmarking them simply by taking the txt representation of the RFC approx k lines and dumping the file contents on the screen so I decided to try the same On cmdexe I used the timeit command from as per to get execution time On bash under Windows Subsystem for Linux I used the time command For cmdexe I specifically executed timeit cmd c type rfc txt For bash on WSL I specifically executed time cat rfc txt It typically seems that most time is always spent on the first run likely due to them growing the buffer to the maximum size before becoming more performant so I ran every test times in a row in the same terminal without reopening it and recorded the range rounded to two decimals I compared conhost the Windows default command prompt Alacritty Aminal f d ConEmu x Hyper I set each console window to be x characters in size Ive configured ConEmu to use DejaVu Sans Monospace font but the others are using whatever is their default I believe these were the defaults but just in case Alacritty had line buffer aminal I believe defaults to line buffer ConEmu had line buffer conhost had line buffer Hyper had line buffer The results I got cmdexe Alacritty s aminal s min s min s ConEmu s conhost s Hyper s bash Alacritty s aminal s m s m s ConEmu s conhost s Hyper s The absolute values I got are less relevant especially because of configuration differences but the point is the relative difference of everything else being measured in seconds and aminal being consistently incredibly slow compared to any other alternative It seems aminal was x to x slower than conhost with bash the cmdexe differences fall in the x range To Reproduce Steps to reproduce the behavior Download Launch aminal Optional Start bash Dump the contents of rfc txt into the terminal with type or cat Expected behavior Printing out the file contents should take a time measured in seconds not minutes Environment please complete the following information Windows Win Aminal f d cmdexe WSL bash Additional context As additional notes aminal was the only one to keep an additional host terminal window open was the most difficult to size to the desired size and was the only one with issues with the clipboard pasting multiple lines of text ended up with extra blank lines in between the lines I realize this is software in development and so on but thought Id mention these as well e error terminaloutputgo Error handling escape sequence Unknown OSC control sequence liamgaminal githubcomliamgaminalterminalTerminalprocessInput tmpgobuildsrcgithubcomliamgaminalterminaloutputgo I downloaded the latest release here then ran it from Finder xMacBookPro apple binaminaldarwinamd exit e info aminalmaingo Allocating pty e info aminalmaingo Creating terminal e info guiguigo OpenGL version INTEL e error terminaloutputgo Error handling escape sequence Unsupported CSI h code githubcomliamgaminalterminalTerminalprocessInput Userstravisgopathsrcgithubcomliamgaminalterminaloutputgo fatal error unexpected signal during runtime execution signal SIGSEGV segmentation violation code x addr x pc x runtime stack runtimethrow x b c x a Userstravisgimmeversionsgo darwinamd srcruntimepanicgo x runtimesigpanic Userstravisgimmeversionsgo darwinamd srcruntimesignalunixgo x f runtimeasmcgocall x ffeefbff x e Userstravisgimmeversionsgo darwinamd srcruntimeasmamd s x goroutine syscall locked to thread runtimecgocall x c xc d f x Userstravisgimmeversionsgo darwinamd srcruntimecgocallgo x e fp xc d c sp xc d pc x e githubcomliamgaminalvendorgithubcomgoglglallcoreglCfuncglowNamedBufferSubData x xc x x xc cgogotypesgo x fp xc d f sp xc d c pc x b b githubcomliamgaminalvendorgithubcomgoglglallcoreglNamedBufferSubDatafunc x xc x x xc Userstravisgopathsrcgithubcomliamgaminalvendorgithubcomgoglglallcoreglpackagego x c fp xc d sp xc d f pc x d c githubcomliamgaminalvendorgithubcomgoglglallcoreglNamedBufferSubData x x x xc Userstravisgopathsrcgithubcomliamgaminalvendorgithubcomgoglglallcoreglpackagego x fp xc d sp xc d pc x b githubcomliamgaminalglfontFontPrint xc x xc f xa x x f fdfe f e e Userstravisgopathsrcgithubcomliamgaminalglfontfontgo x dd fp xc d d sp xc d pc x ebafd githubcomliamgaminalguiOpenGLRendererDrawCellText xc xc f xa x x x f e e f x f d d f fdfe x Userstravisgopathsrcgithubcomliamgaminalguirenderergo x c fp xc d sp xc d d pc x b c githubcomliamgaminalguiGUIrenderTerminalData xc f dc x fe Userstravisgopathsrcgithubcomliamgaminalguiguigo x fp xc d b sp xc d pc x githubcomliamgaminalguiGUIredraw xc f dc xc d b Userstravisgopathsrcgithubcomliamgaminalguiguigo x fp xc d b sp xc d b pc x b githubcomliamgaminalguiGUIRender xc f dc x x Userstravisgopathsrcgithubcomliamgaminalguiguigo xd fp xc d e sp xc d b pc x ff maininitialize x x Userstravisgopathsrcgithubcomliamgaminalmaingo x f fp xc d f sp xc d e pc x ef mainmain Userstravisgopathsrcgithubcomliamgaminalmaingo x fp xc d f sp xc d f pc x ea runtimemain Userstravisgimmeversionsgo darwinamd srcruntimeprocgo x fp xc d fe sp xc d f pc x e runtimegoexit Userstravisgimmeversionsgo darwinamd srcruntimeasmamd s x fp xc d fe sp xc d fe pc x a f goroutine chan receive maininitializefunc xc b xc a Userstravisgopathsrcgithubcomliamgaminalmaingo x created by maininitialize Userstravisgopathsrcgithubcomliamgaminalmaingo x c goroutine syscall syscallSyscall x x xc f x xc a xc a x Userstravisgimmeversionsgo darwinamd srcsyscallasmdarwinamd s x syscallread x xc f x x xc a x x Userstravisgimmeversionsgo darwinamd srcsyscallzsyscalldarwinamd go x a syscallRead x xc f x x x x x Userstravisgimmeversionsgo darwinamd srcsyscallsyscallunixgo x internalpollFDRead xc a xc f x x x x x Userstravisgimmeversionsgo darwinamd srcinternalpollfdunixgo x osFileread xc a a xc f x x x x x Userstravisgimmeversionsgo darwinamd srcosfileunixgo x e osFileRead xc a a xc f x x xc c dc xc e x Userstravisgimmeversionsgo darwinamd srcosfilego x githubcomliamgaminalplatformunixPtyRead xc d xc f x x x xc c x Userstravisgopathsrcgithubcomliamgaminalplatformunixptygo xbc bufioReaderfill xc f Userstravisgimmeversionsgo darwinamd srcbufiobufiogo x f bufioReaderReadRune xc f xc e x x x Userstravisgimmeversionsgo darwinamd srcbufiobufiogo x githubcomliamgaminalterminalTerminalRead xc xc fc x ea Userstravisgopathsrcgithubcomliamgaminalterminalterminalgo x c githubcomliamgaminalguiGUIRenderfunc xc f dc Userstravisgopathsrcgithubcomliamgaminalguiguigo x created by githubcomliamgaminalguiGUIRender Userstravisgopathsrcgithubcomliamgaminalguiguigo xa goroutine syscall syscallSyscall x x xc e c x xc ae x x xc ae x xc e Userstravisgimmeversionsgo darwinamd srcsyscallasmdarwinamd s x syscallwait x xc e c x xc ae x x efc x f Userstravisgimmeversionsgo darwinamd srcsyscallzsyscalldarwinamd go x b syscallWait x xc e c x xc ae x xc e x f Userstravisgimmeversionsgo darwinamd srcsyscallsyscallbsdgo x osProcesswait xc c x xc d d xc fb Userstravisgimmeversionsgo darwinamd srcosexecunixgo x b osProcessWait xc c xc f x ee xc Userstravisgimmeversionsgo darwinamd srcosexecgo x b osexecCmdWait xc e x xc f Userstravisgimmeversionsgo darwinamd srcosexecexecgo x b githubcomliamgaminalplatformcmdProcWait xc a x x ea UserstravisgopathsrcgithubcomliamgaminalplatformcmdProcgo x e maininitializefunc x c c xc a xc a xc f dc Userstravisgopathsrcgithubcomliamgaminalmaingo x created by maininitialize Userstravisgopathsrcgithubcomliamgaminalmaingo x c goroutine select nethttpTransportgetConn x b e xc e x x b x xc be x x x x Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x e nethttpTransportroundTrip x b e xc xc xc e xc e Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x nethttpTransportRoundTrip x b e xc x b e xbf acf a a x daa f Userstravisgimmeversionsgo darwinamd srcnethttproundtripgo x nethttpsend xc x a x b e xbf acf a a x daa f x b c xc e xbf acf a a xc cd x Userstravisgimmeversionsgo darwinamd srcnethttpclientgo x b nethttpClientsend xc xc xbf acf a a x daa f x b c xc e x x x Userstravisgimmeversionsgo darwinamd srcnethttpclientgo xfa nethttpClientdo xc xc x x x Userstravisgimmeversionsgo darwinamd srcnethttpclientgo x a nethttpClientDo xc xc x b x x Userstravisgimmeversionsgo darwinamd srcnethttpclientgo x githubcomliamgaminalversiondownloadFile x b x x x x x x Userstravisgopathsrcgithubcomliamgaminalversionversiongo xc githubcomliamgaminalversiongetLatestRelease x x x Userstravisgopathsrcgithubcomliamgaminalversionversiongo x a githubcomliamgaminalversionGetNewerRelease x x x Userstravisgopathsrcgithubcomliamgaminalversionversiongo x githubcomliamgaminalguiGUIRenderfunc xc xc f dc Userstravisgopathsrcgithubcomliamgaminalguiguigo x created by githubcomliamgaminalguiGUIRender Userstravisgopathsrcgithubcomliamgaminalguiguigo xb goroutine runnable githubcomliamgaminalguiGUIwaker xc f dc xc xc Userstravisgopathsrcgithubcomliamgaminalguiguigo x created by githubcomliamgaminalguiGUIRender Userstravisgopathsrcgithubcomliamgaminalguiguigo xbfe goroutine chan receive githubcomliamgaminalterminalTerminalprocessInput xc xc c Userstravisgopathsrcgithubcomliamgaminalterminaloutputgo x c created by githubcomliamgaminalterminalTerminalRead Userstravisgopathsrcgithubcomliamgaminalterminalterminalgo x goroutine select nethttpsetRequestCancelfunc x xc xc fc xc e xc Userstravisgimmeversionsgo darwinamd srcnethttpclientgo xcf created by nethttpsetRequestCancel Userstravisgimmeversionsgo darwinamd srcnethttpclientgo x e goroutine chan receive nethttppersistConnaddTLS xc c xc be xe x xc be f x Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x a nethttpTransportdialConn x b e x da xc x x b x xc be x x c a d e x b b Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x ad nethttpTransportgetConnfunc x b e x da xc xc xc e Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x e created by nethttpTransportgetConn Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x d goroutine IO wait internalpollruntimepollWait x f c x xc Userstravisgimmeversionsgo darwinamd srcruntimenetpollgo x internalpollpollDescwait xc f x xffffffffffffff x b c x b c f Userstravisgimmeversionsgo darwinamd srcinternalpollfdpollruntimego x a internalpollpollDescwaitRead xc f xc e x x Userstravisgimmeversionsgo darwinamd srcinternalpollfdpollruntimego x d internalpollFDRead xc f xc e x x x x x Userstravisgimmeversionsgo darwinamd srcinternalpollfdunixgo x d netnetFDRead xc f xc e x x xc e x x Userstravisgimmeversionsgo darwinamd srcnetfdunixgo x f netconnRead xc f xc e x x x x x Userstravisgimmeversionsgo darwinamd srcnetnetgo x cryptotlsblockreadFromUntil xc c f x e xc f x xc f x bf f Userstravisgimmeversionsgo darwinamd srccryptotlsconngo x cryptotlsConnreadRecord xc c x ced xc c x Userstravisgimmeversionsgo darwinamd srccryptotlsconngo xdd cryptotlsConnreadHandshake xc c xc c xc c xb xb Userstravisgimmeversionsgo darwinamd srccryptotlsconngo x a cryptotlsclientHandshakeStatehandshake xc e xc f x Userstravisgimmeversionsgo darwinamd srccryptotlshandshakeclientgo xaa cryptotlsConnclientHandshake xc c x ceda xc c Userstravisgimmeversionsgo darwinamd srccryptotlshandshakeclientgo x cryptotlsConnHandshake xc c x x Userstravisgimmeversionsgo darwinamd srccryptotlsconngo xf nethttppersistConnaddTLSfunc x xc c xc b xc a Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x created by nethttppersistConnaddTLS Userstravisgimmeversionsgo darwinamd srcnethttptransportgo x e logout Saving session copying shared history saving historytruncating history files completed Deleting expired sessions completed Process completed This is a smart approach Virtualise all the cross platform OS terminal issues by using an opengl canvas Would this allow me to program it to have many tiling windows etc Basically what tmux does Then i can load up a daemon into each view and see the logs streaming through for each daemon Or can i also use REPL also to control the daemons respectively Hope i am explaining myself 