docker build is not working anymore I want to install some packages that only work on python So basically I want to extend your docker image so that I can install new packages into a docker image derived from your image How do I do that Thanks When Python conda environment is created it pulls the most recent IPython currently The project seems to be in flux right now between IPythonJupyter and referring to the old way of registering the Python kernel generates an error and prevents the build Complete error message below The line that generates the error is this Explicitly installing IPython at least makes the image able to build a quick fix A better solution is likely to upgrade the whole image to install jupyter and its related commands for registering the kernel instead of ipython Heres the complete error message bash Step RUN PY PATHpython PY PATHipython kernelspec installself Running in c f d d f Traceback most recent call last File homecondauseranaconda envspython binipython line in module sysexitstartipython File homecondauseranaconda envspython libpython sitepackagesIPythoninitpy line in startipython return launchnewinstanceargvargv kwargs File homecondauseranaconda envspython libpython sitepackagestraitletsconfigapplicationpy line in launchinstance appinitializeargv File string line in initialize File homecondauseranaconda envspython libpython sitepackagestraitletsconfigapplicationpy line in catchconfigerror return methodapp args kwargs File homecondauseranaconda envspython libpython sitepackagesIPythonterminalipapppy line in initialize superTerminalIPythonApp selfinitializeargv File string line in initialize File homecondauseranaconda envspython libpython sitepackagestraitletsconfigapplicationpy line in catchconfigerror return methodapp args kwargs File homecondauseranaconda envspython libpython sitepackagesIPythoncoreapplicationpy line in initialize selfparsecommandlineargv File homecondauseranaconda envspython libpython sitepackagesIPythonterminalipapppy line in parsecommandline return superTerminalIPythonApp selfparsecommandlineargv File string line in parsecommandline File homecondauseranaconda envspython libpython sitepackagestraitletsconfigapplicationpy line in catchconfigerror return methodapp args kwargs File homecondauseranaconda envspython libpython sitepackagestraitletsconfigapplicationpy line in parsecommandline return selfinitializesubcommandsubc subargv File string line in initializesubcommand File homecondauseranaconda envspython libpython sitepackagestraitletsconfigapplicationpy line in catchconfigerror return methodapp args kwargs File homecondauseranaconda envspython libpython sitepackagestraitletsconfigapplicationpy line in initializesubcommand subapp importitemsubapp File homecondauseranaconda envspython libpython sitepackagesipythongenutilsimportstringpy line in importitem module importpackage fromlist obj ImportError No module named jupyterclientkernelspecapp The command binsh c PY PATHpython PY PATHipython kernelspec installself returned a nonzero code 