 faasorm AOP ioc egg Thank you for reporting an issue Its RECOMMENDED to submit PR for typo or tiny bug fix If thiss a FEATURE request please provide details pseudo codes if necessary If thiss a BUG please provide course repetition error log and configuration Fill in as much of the template below as youre able It will be nice to use egginit typesimple bug to provide a mini GitHub repository which can reproduce the issue bug fix PR BUG midwayinit Node Versionv Egg Version Plugin Name Plugin Version Platform Mini Showcase Repository Enter your issue details below this comment Mini Showcase Repository home user IoC midwaypluginjs JSON xxx enable true package midwayxxx midwaybin xxx dist indexts src indexts test indexts iocjson packagejson iocjson src dist JSON dirs xxxxxx ttt files xxx sss midwaycore midwaydecorator willReady priority ready willStop middleware controller get post put middlewares middleware middleware middleware provide midwayloader midwaypluginjs load iocjson context ctxrequestContextgetAsyncmyService ctxgetRequestContextInstancemyService ctxapplicationContextgetAsyncmyService ctxgetApplicationContextInstancemyService willReady TypeScript priority willReady provide class XxxWillReadyClass inject xxx xxx inject db db init async initialize xxx await thisxxxdoSomething db await thisdbconnect willStop TypeScript willStop provide class XxxWillStopClass inject db db init async initialize await thisdbclose middleware TypeScript xxx middleware middleware middlewarexxx provide class XxxMiddlewareClass implements WebMiddleware inject myService ctx resolve Middleware return async ctx next ctxservice await ctxgetRequestContextInstancemyService await next issue eggswaggerdoc swagger doc js summary description ID operationId xxxx router get apiusersuserId request path number userId ID response userInfo getusersuserId async getctx Context Promisevoid ctxbody await thisuserServicegetctxparamsuserId router get egg midway ts midway for webegg import get from midwaydecorator import Application from midwayegg midway for faas import func from midwayjsfaasdecorator ts midway for faas import get post from midwayjsdecoratorweb import func from midwayjsdecoratorfaas midway Java dubbo zookeeper czy Node Version v Midway Version controller appurl helperurlFor helperurlPath ctxrouterurl controller flask blueprint Blueprint python from flask import Blueprint admin Blueprintadmin name adminroute def indexpage pass urlforadminstatic filenamestylecss urlforadminindex urlforindex Controller javascript import provide priority controller get from midway provide priority controller name index export class IndexViewController get middleware initialize routerName home async indexctx Context Promisevoid ctxrouterurlindexhome Midway Issue feature npm node v peer dependenies packagejson peerDependencies remove nodemodules 