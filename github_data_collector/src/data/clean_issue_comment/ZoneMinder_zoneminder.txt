As you may already know due to incompatibility between GPL and OpenSSL licenses it is illegal to link GPLlicensed software without OpenSSL linking exception including ZoneMinder with libssl This is why in Debian we build ZoneMinder against libcurl gnutlsdev to avoid dependency on libssldev Note how srczmrtspauthh and srczmusercpp have conditional detection of GnuTLS that makes OpenSSL optional But ZoneMinder gained direct unconditional dependency on OpenSSL in srczmcryptcpp To complicate this problem further with introduction of jwtcpp that explicitly requires opensslevph from libssldev ZoneMinder also gained dependency on OpenSSL through jwtcpp Even with libssldev vendored jwtcpp FTBFS in Debian unstable as follows dbuildsrcsrcjwtcppincludejwtcppjwth undefined reference to HMAC usrbinld dbuildsrcsrcjwtcppincludejwtcppjwth undefined reference to HMAC Fortunately there is a GnuTLS flavour of JWT library in Debian libjwtgnutlsdev but ZoneMinder needs some work to use the system library instead of a vendored one Due to licensing conflict please avoid using OpenSSL Please consider using alternatives such as GnuTLS andor GPLlicensed wolfSSL Describe Your Environment Version of ZoneMinder zoneminder build amd How you installed ZoneMinder Ubuntu package eoanuniverse amd Packages Full name and version of OS Ubuntu Browser name and version NA Other useful information MySQL is a remote system running mysqlserver on an Ubuntu system Other zoneminder components on this system work fine such as the audit daemon and web interface This is part of a multiserver configuration consisting of this Intel system running Ubuntu and four Raspberry Pi systems running Raspbian Buster The monitors technically work on the Pis but performance is not particularly good Describe the bug zmc fails to run crashing repeatedly with doublefree error To Reproduce Set up a multiserver zoneminder with a remote MySQL on Ubuntu and then sauercerberus sudo u wwwdata zmc m double free or corruption out Aborted Expected behavior zmc doesnt crash Debug Logs There isnt anything useful in the logs other than zmc exited However Ive got this from gdb sauercerberus sudo gdb usrbinzmc Reading symbols from usrbinzmc No debugging symbols found in usrbinzmc gdb run m Starting program usrbinzmc m Thread debugging using libthreaddb enabled Using host libthreaddb library libx linuxgnulibthreaddbso double free or corruption out Program received signal SIGABRT Aborted GIraise sigsigentry at sysdepsunixsysvlinuxraisec sysdepsunixsysvlinuxraisec No such file or directory gdb backtrace GIraise sigsigentry at sysdepsunixsysvlinuxraisec x ffff in GIabort at abortc x ffff e in libcmessage actionactionentrydoabort fmtfmtentry x ffff c a s n at sysdepsposixlibcfatalc x ffff b dc in mallocprinterr strstrentry x ffff e a double free or corruption out at mallocc x ffff d in intfree av x ffff db mainarena p x ffff d havelockoptimized out at mallocc x ffff cc e in SSLCTXfree from usrlibx linuxgnulibgnutlsopensslso x ffff f in from usrlibx linuxgnulibmysqlclientso x ffff e d in from usrlibx linuxgnulibmysqlclientso x ffff in from usrlibx linuxgnulibmysqlclientso x ffff c e in from usrlibx linuxgnulibmysqlclientso x ffff in mysqlrealconnect from usrlibx linuxgnulibmysqlclientso x aaeab in zmDbConnect x a d in zmLoadConfig x f in main Looking around online it appears that sometimes this is caused by the way mysql client is used It appears to be happening in the SSL negotiation based on the backtrace but Im not doing anything weird with the cert its just mysql running basically out of the box on an uptodate Ubuntu LTS Heres the cert chain per OpenSSL which appears to be an autogenerated selfsigned certificate sauercerberus openssl sclient starttls mysql connect mysql devnull CONNECTED Cant use SSLgetservername depth CN MySQLServer AutoGeneratedCACertificate verify errornum self signed certificate in certificate chain verify return depth CN MySQLServer AutoGeneratedCACertificate verify return depth CN MySQLServer AutoGeneratedServerCertificate verify return Certificate chain sCN MySQLServer AutoGeneratedServerCertificate iCN MySQLServer AutoGeneratedCACertificate sCN MySQLServer AutoGeneratedCACertificate iCN MySQLServer AutoGeneratedCACertificate Im guessing this is a defect in zmc since the other components on this machine like the web interface and perl scripts are able to connect to the MySQL server ok and I can use the commandline mysql client fine as well For example Im using an alternate db name zmpi in this cluster to separate it from a legacy install sauercerberus mysql u zoneminder p ssl h mysql e SHOW TABLES zmpi Enter password Tablesinzmpi Config ControlPresets Unable to connect to ZM dbcould not find driver Describe Your Environment Version of ZoneMinder release version development version or commit aptcache madison zoneminder zoneminder bustermain armhf Packages insert debug logs here please make sure they are within the quotes so they are formatted properly zoneminderservice ZoneMinder CCTV recording and surveillance system Loaded loaded libsystemdsystemzoneminderservice disabled vendor preset enabled Active failed Result exitcode since Tue GMT s ago Docs Process ExecStartusrbinzmpkgpl start codeexited status EXCEPTION Jan champ zmpkgpl DBI connectdatabasehost failed Access denied for user wwwdatalocalhost using password NO at usrshareperl ZoneMinderConfigpm line Jan champ zmpkgpl Cant connect to db at usrshareperl ZoneMinderConfigpm line Jan champ zmpkgpl BEGIN failedcompilation aborted at usrshareperl ZoneMinderConfigpm line Jan champ zmpkgpl Compilation failed in require at usrshareperl ZoneMinderpm line Jan champ zmpkgpl BEGIN failedcompilation aborted at usrshareperl ZoneMinderpm line Jan champ zmpkgpl Compilation failed in require at usrbinzmpkgpl line Jan champ zmpkgpl BEGIN failedcompilation aborted at usrbinzmpkgpl line Jan champ systemd zoneminderservice Control process exited codeexited status EXCEPTION Jan champ systemd zoneminderservice Failed with result exitcode Jan champ systemd Failed to start ZoneMinder CCTV recording and surveillance system How you installed ZoneMinder eg PPA RPMFusion fromsource etc apt install zoneminder Full name and version of OS rpi with dietPi on it which is debian buster armhf cat etcosrelease PRETTYNAMERaspbian GNULinux buster NAMERaspbian GNULinux VERSIONID VERSION buster VERSIONCODENAMEbuster IDraspbian IDLIKEdebian HOMEURL SUPPORTURL BUGREPORTURL uname a Linux champ v SMP Tue Sep BST armv l GNULinux Browser name and version if this is an issue with the web interface ZoneMinder Source Type Describe the bug A clear and concise description of what the bug is installing zoneminder seems to be ignoring files in etczmcondd To Reproduce Steps to reproduce the behavior Install zoneminder on debian buster on raspberry Pi Expected behavior A clear and concise description of what you expected to happen Debug Logs I went ahead and created the database myself and added a test user but still etczmconfdtestconf ZMDBHOSTlocalhost ZMDBNAMEzm ZMDBUSERtest ZMDBPASStestpass which is where etczmzmconf indicates you should place such things but I still get the above issues Describe Your Environment Version of ZoneMinder How you installed ZoneMinder Iconnors PPA Full name and version of OS Ubuntu server Bionic Browser name and version if this is an issue with the web interface various doesnt seem to matter If the issue concerns a camera Believe this is NA Describe the bug Hundreds of these in log ZM log as displayed in console webjs ERR undefined viewevent Syslog Jan servername webphp ERR undefined Apache access log Sat Jan php notice pid client ERR undefined referer Explanation is a Windows box using MS Edge and is the ZM server web interface To Reproduce Steps to reproduce the behavior Unknown Seems to occur randomly Expected behavior No errors Debug Logs webphp DBG View request Request status Action at usrsharezoneminderwwwindexphp line webphp DBG View request Request log Action at usrsharezoneminderwwwindexphp line webjs ERR undefined at viewevent line webphp DBG View viewvideo Request Action at usrsharezoneminderwwwindexphp line webphp DBG Path zmdatazoneminderevents videomp at usrsharezoneminderwwwviewsviewvideophp line webphp DBG Using Range bytes at usrsharezoneminderwwwviewsviewvideophp line webphp DBG Using Range size length at usrsharezoneminderwwwviewsviewvideophp line webphp DBG View request Request log Action at usrsharezoneminderwwwindexphp line webphp DBG View request Request log Action at usrsharezoneminderwwwindexphp line webphp DBG View request Request log Action at usrsharezoneminderwwwindexphp line In nixpkgs from the NixOS distribution the default build environment for cmake projects sets both environment variables CMAKEINSTALLPREFIX and CMAKEINSTALLLIBEXECDIR to an absolute path This line in CMakeListstxt sets ZMCGIDIR like so Consequently ZMCGIDIR has two absolute paths concatenatedwhich isnt correct See An alternative would be to use CMAKEINSTALLFULLdir instead of concatenating CMAKEINSTALLPREFIX and CMAKEINSTALLdir Downstream issue The zms code in zmeventstreamcpp sleeps too much Needs to be refactored I have code but it needs to be finished Hello how to watch online video in h Input movmp m a gp g mj from mp Metadata majorbrand isom minorversion compatiblebrands isomiso mp title Zoneminder Security Recording encoder Lavf Duration start bitrate kbs Stream und Video hevc Main hev x yuvj ppc x kbs fps tbr k tbn k tbc default Metadata handlername VideoHandler At least one output file must be specified IMG API domainzmapimonitorsindexGroupId json This is function index in zoneminderwebapiappControllerMonitorsControllerphp Screenshot from This is function buildFilter in zoneminderwebapiappControllerComponentFilterComponentphp Screenshot from When I passed the GroupId parameter the array conditions never had the GroupId key you turned the key into GroupId Hope that the error can be corrected thank you Hello Add disk data on other servers to the database id Name Path Type Scheme Server DiskSpace Mark Dav varcachezoneminderevents local Medium Dav GB of TB Default varcachezoneminderevents local Medium GB of TB Elg varcachezoneminderevents local Medium Elg GB of TB Kur varcachezoneminderevents local Medium Kur GB of TB Kur tb varcachezoneminderevents tb local Medium Kur GB of TB in mysql INSERT INTO Storage Id Path Name Type Url DiskSpace Scheme ServerId DoDelete VALUES varcachezoneminderevents Default local NULL Medium NULL varcachezoneminderevents Kur local NULL Medium varcachezoneminderevents Elg local NULL Medium varcachezoneminderevents Dav local NULL Medium varcachezoneminderevents tb Kur tb local NULL Medium should be dav tb kur mb kur tb tb Hi my config is EVENTCLOSEMODE after alarm and camera in mocord after each prealam zoneminder close event and open new But i thinks zoneminder must close event just after alarm is finish Nov ServeurUbuntu zmcm INF zmcm Opening video storage stream varcachezoneminderevents videomp format mp Nov ServeurUbuntu zmam INF zmam devant Closing event continuous end alarm begins Nov ServeurUbuntu zmam INF zmam devant Gone into prealarm state Nov ServeurUbuntu zmam INF zmam devant Opening new event section start Nov ServeurUbuntu zmcm INF zmcm Opening video storage stream varcachezoneminderevents videomp format mp Nov ServeurUbuntu zmam INF zmam devant Closing event continuous end alarm begins Nov ServeurUbuntu zmam INF zmam devant Gone into prealarm state Nov ServeurUbuntu zmam INF zmam devant Opening new event section start Nov ServeurUbuntu zmcm INF zmcm Opening video storage stream varcachezoneminderevents videomp format mp Is normal or bug thanks for your help