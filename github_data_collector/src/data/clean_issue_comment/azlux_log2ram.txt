Isnt it better to use rsync append to minimize writing Updated the install instructions since the repo supports TLS Hi Im using Home Assistant and would like to include on the RamDisk another path than varlog in my case the Home Asistant db file which is in config Is that possible Another question would be how to force dump the memory to disk from command line Thanks for your help Regards V Systemd has timers which can be an alternative to cron jobs Thoughts on moving to timers and no longer needing a dependency on cron When shutting down or rebooting a machine the log ram service will sync logs before the journald service has stopped causing missed log messages and corrupted or uncleanly shut down errors next boot Last few lines that journald saves when log ram is not used order reversed Jul raspberrypi systemdjournald Journal stopped Jul raspberrypi systemdshutdown Syncing filesystems and block devices Jul raspberrypi kernel systemdshutdow output lines suppressed due to ratelimiting Jul raspberrypi systemd Failed to set timeout to s Invalid argument Jul raspberrypi systemd Hardware watchdog Broadcom BCM Watchdog timer version Jul raspberrypi systemd Shutting down Last few lines with log ram order reversed Jul raspberrypi systemd systemdaskpasswordwallpath Succeeded Jul raspberrypi systemd Stopped Dispatch Password Requests to Console Directory Watch Jul raspberrypi log ram wtmp Jul raspberrypi log ram log ramlog Jul raspberrypi log ram sending incremental file list Jul raspberrypi systemd systemdaskpasswordconsolepath Succeeded Jul raspberrypi systemd Stopped target Local Encrypted Volumes Jul raspberrypi systemd Stopping LoadSave Random Seed Jul raspberrypi systemd Stopping Log Ram Then dmesg shows these errors at next boot systemd Started Log Ram systemd Starting Journal Service systemd Started Journal Service systemdjournald Received request to flush runtime journal from PID systemdjournald File varlogjournald ed bf d c aa fee fa systemjournal corrupted or uncleanly shut down renaming and replacing random crng init done random urandom warnings missed due to ratelimiting bcmgenet fd genet eth Link is Up GbpsFull flow control off systemdjournald File varlogjournald ed bf d c aa fee fa user journal corrupted or uncleanly shut down renaming and replacing Ive had the log ram script running for a few days and Im concerned that the logs are not being written to varloglog ram I did modify the cronjob save daily instead of hourly I used the command from the instructions sudo mv etccronhourlylog ramhourly etccrondailylog ramdaily but it said log ramhourly didnt exist only log ram So I used the mv command and added daily on the end of the file name I have verified that the log is created in ram piraspberrypi df h Filesystem Size Used Avail Use Mounted on devroot G G G devtmpfs M M dev tmpfs M M M devshm tmpfs M M M run tmpfs M K M runlock tmpfs M M sysfscgroup devmmcblk p M M M boot log ram M M M varlog tmpfs M M runuser tmpfs M M runuser piraspberrypi mount devmmcblk p on type ext rwnoatime devtmpfs on dev type devtmpfs rwrelatimesize knrinodes mode sysfs on sys type sysfs rwnosuidnodevnoexecrelatime proc on proc type proc rwrelatime tmpfs on devshm type tmpfs rwnosuidnodev devpts on devpts type devpts rwnosuidnoexecrelatimegid mode ptmxmode tmpfs on run type tmpfs rwnosuidnodevmode tmpfs on runlock type tmpfs rwnosuidnodevnoexecrelatimesize k tmpfs on sysfscgroup type tmpfs ronosuidnodevnoexecmode cgroup on sysfscgroupsystemd type cgroup rwnosuidnodevnoexecrelatimexattrreleaseagentlibsystemdsystemdcgroupsagentnamesystemd cgroup on sysfscgroupfreezer type cgroup rwnosuidnodevnoexecrelatimefreezer cgroup on sysfscgroupcpucpuacct type cgroup rwnosuidnodevnoexecrelatimecpucpuacct cgroup on sysfscgroupcpuset type cgroup rwnosuidnodevnoexecrelatimecpuset cgroup on sysfscgroupblkio type cgroup rwnosuidnodevnoexecrelatimeblkio cgroup on sysfscgroupmemory type cgroup rwnosuidnodevnoexecrelatimememory cgroup on sysfscgroupdevices type cgroup rwnosuidnodevnoexecrelatimedevices cgroup on sysfscgroupnetcls type cgroup rwnosuidnodevnoexecrelatimenetcls systemd on procsysfsbinfmtmisc type autofs rwrelatimefd pgrp timeout minproto maxproto direct mqueue on devmqueue type mqueue rwrelatime debugfs on syskerneldebug type debugfs rwrelatime sunrpc on runrpcpipefs type rpcpipefs rwrelatime configfs on syskernelconfig type configfs rwrelatime devmmcblk p on boot type vfat rwrelatimefmask dmask codepage iocharsetasciishortnamemixederrorsremountro devmmcblk p on varhddlog type ext rwnoatime log ram on varlog type tmpfs rwnosuidnodevnoexecrelatimesize kmode tmpfs on runuser type tmpfs rwnosuidnodevrelatimesize kmode uid gid tmpfs on runuser type tmpfs rwnosuidnodevrelatimesize kmode uid gid However when I went to the varlog directory to view the log ramlog file it was empty with no writes Please see ls la below piraspberrypivarlog ls la total drwxrxrx root root May drwxrxrx root root May rwrr root root May alternativeslog drwxrxrx root root May apt rwr root adm May authlog rwrr root root May bootlog rwrr root root Apr bootstraplog rw root utmp May btmp rwr root adm May daemonlog rwr root adm May debug rwrr root root May dpkglog rwrr root root May faillog rwr root adm May kernlog rwrwr root utmp May lastlog drwxrx wwwdata wwwdata May lighttpd rwrr root root May log ramlog rwr root adm May messages drwxrxrx pihole pihole May pihole rwrr pihole pihole May piholeFTLlog rwrr pihole pihole May piholeFTLlog rwrr pihole pihole May piholeFTLlog gz rwrr pihole pihole May piholeFTLlog gz rwrr pihole pihole May piholelog rwrr pihole pihole May piholelog rwrr pihole pihole May piholelog gz rwrr pihole pihole May piholelog gz rwrr root root May piholeupdateGravitylog drwxrx root adm Jan samba rwr root adm May syslog rwr root adm May syslog rwr root adm May userlog rwrwr root utmp May wtmp Is it supposed to create a new piholelog everyday or thats not related Is this how its supposed to work Thank you in advance for your help Respectfully Chris Ive just set this up on a couple of old Cubox s running Arch Linux If you could add onto the READMEmd that Arch uses systemdTimers by default but installing a cronie as a package pacman S cronie followed by systemctl enable cronie adds cron timers All works fine Thanks for the useful utility I asked some questions related to log ram on the systemddevel mailing list The thread starts at and there are two main suggestions I was asking about how to allow journald to continue logging to the SD card journald is intelligent about reducing writes but will try its best to write emergency messages during a crash so these want to be written directly to persistent store not buffered by log ram The suggestion by Colin Guthrie is to use a bind mount This would be a nice feature to add I mentioned the Beforesystemdjournaldservice dependency and Leonard Poettering advised that it is better to use Beforesystemdjournalflushservice I also notice the Beforeapache service dependency and have a question about it Why is it there Is it just one example of a service that must not be started until the RAM log directories are prepared What about other services that write logs such as redis or mysql Does the service file need customising on every machine where it is run or is there some other technique could be used ZL R Enable zram compatibility false by default Check the comment on the config file See to configure a zram space on your raspberry before enable this option Doesnt require zramswapconfig or shouldnt but do suggest taking a look at zramswapconfig as zramconfig deb is so broken its not true zramswapconfig just enables zram swaps and is separate from L R using a zram drive Both are aware of any previous zram devices and just make another after the previous I just changed the Conflicts as if systemd runs them at exact same time then they both can see no previous and then conflict Shouldnt happen now but bet I can run a start boot and check a times with no conflict then st time it will happen elsewhere Having the conflict in zramswapconfig should be optimal as that service has little in the Before After sections of the systemd unit config Maybe have a look at as its a minimal Log Ram using zram log ram keeps current logs in memory but also keeps old logs from logrotate and vastly increase mem usage via what are essentially old non current logs not in use and already copied to varhddlog logrotate has an oldlog directive that unfortunately can not be used with different devices There is a workaround though as postrotate can call scripts to mv the contents of oldlog elsewhere So use the oldlog directive with varlogoldlog postrotate scripts could be used but log ram has an hourly routine that could equally move old logs form varlogoldlog to varhddlog I am sat here awaiting my next hourly hoping a global oldlog directive in etclogrotateconf will move all old logs to varlogoldlogs via a simple olddir varlogoldlog inclusion to etclogrotateconf My optimism that it maybe that simple is likely just that and expecting it will not capture logs in etclogrotated But its an example that really something should and that the oldlog directive can be used as a staging directory for log pruning and moving to loghddlog and not just copying