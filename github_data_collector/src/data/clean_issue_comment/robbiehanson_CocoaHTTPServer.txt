Use NSComparisonResult for comparison I have created an new project with Xcodeversion and add CocoaHTTPServer to itit not work on deviceThen i used an old project created years before it work it same like crash with deallock anyone has the same crash Operating system iOS A CPU arm CPUs Crash reason EXCBREAKPOINT EXCARMBREAKPOINT Crash address x bdae Process uptime seconds Thread crashed libdispatchdylibDISPATCHWAITFORQUEUE x bc libdispatchdylibdispatchsyncfslow x c fp x a lr x bdae cc sp x a d pc x bdae cc Found by previous frames frame pointer libdispatchdylibdispatchsyncfslow x c fp x a a lr x d e sp x a pc x bdae cc Found by previous frames frame pointer XXX HTTPServer stop HTTPServerm x fp x a d lr x d ec sp x a b pc x d e Found by previous frames frame pointer XXX HTTPServer dealloc HTTPServerm xc fp x a f lr x dbaa sp x a e pc x d ec Found by previous frames frame pointer XXXdestroyhelperblock GCDAsyncSocketm x I setup my local server on iPhoneBut it just can access my port I want to use wwwmywebsitecom to access itHow i can do upgradeHeaderValue caseInsensitiveCompareWebSocket NSOrderedSame Should be upgradeHeaderValue caseInsensitiveCompareWebSocket NSOrderedSame right I want to use this library in the Swift but I dont konw how to us can write a swift Version thanks For my requirement I need to run two servers in my app One will run for a long time and another one will do some quick tasks Is it possible to do I was able to create an HTTPS server using I faced the certificate issue while setting up HTTPS in iOS and I have resolved as below but I want to know it will not be rejected in the Appstore Created an SSL certificate using keychain access That is successfully added in the keychain I explicitly marked that certificate as trusted one fro this account so I can see the plus symbol on that certificate I exported this certificate from keychain and named as TestCertificatep and included in the app s bundle I have made the changes in the code as below to mentioned this as secured server Changed the method to provide the certificate Note In order to support secure connections the sslIdentityAndCertificates method must be implemented BOOLisSecureServer HTTPLogTrace Override me to create an https server return YES Changed this method to provide the certificate for the secured connection which is available in the app s bundle named TestCertificate When the HTTPS server is started the certificate will be used as below NSArray sslIdentityAndCertificates SecIdentityRef identityRef NULL SecCertificateRef certificateRef NULL SecTrustRef trustRef NULL NSString thePath NSBundle mainBundle pathForResourceTestCertificate ofTypep NSData PKCS Data NSData alloc initWithContentsOfFilethePath CFDataRef inPKCS Data CFDataRefCFBridgingRetainPKCS Data CFStringRef password CFSTRtest const void keys kSecImportExportPassphrase const void values password CFDictionaryRef optionsDictionary CFDictionaryCreateNULL keys values NULL NULL CFArrayRef items CFArrayCreateNULL NULL OSStatus securityError errSecSuccess securityError SecPKCS ImportinPKCS Data optionsDictionary items if securityError CFDictionaryRef myIdentityAndTrust CFArrayGetValueAtIndex items const void tempIdentity NULL tempIdentity CFDictionaryGetValue myIdentityAndTrust kSecImportItemIdentity identityRef SecIdentityReftempIdentity const void tempTrust NULL tempTrust CFDictionaryGetValue myIdentityAndTrust kSecImportItemTrust trustRef SecTrustReftempTrust else NSLogFailed with error code dintsecurityError return nil SecIdentityCopyCertificateidentityRef certificateRef NSArray result NSArray alloc initWithObjectsidCFBridgingReleaseidentityRef idCFBridgingReleasecertificateRef nil return result Server started successfully and when I start the request from web view to my local HTTPS server I received the authentication challenge I resolved this as below voidwebViewWKWebView webView didReceiveAuthenticationChallengeNSURLAuthenticationChallenge challenge completionHandlervoid NSURLSessionAuthChallengeDisposition disposition NSURLCredential credentialcompletionHandler NSLogAllow all SecTrustRef serverTrust challengeprotectionSpaceserverTrust CFDataRef exceptions SecTrustCopyExceptions serverTrust SecTrustSetExceptions serverTrust exceptions CFRelease exceptions completionHandler NSURLSessionAuthChallengeUseCredential NSURLCredential credentialForTrustserverTrust My questions are below Does Apple reject the app which runs an HTTPS server inside of the application If Apple doesn t reject then can I use the COCOAHTTPServer library In the above implementation Whether the SSL certificate enough for production If not then can I use any development Appstore certificate created from member centre If not then how can I get a certificate in order to run the HTTPS server on the iPhone I am using this library for setting up the local server Sometimes the server adds the header along with my JSON body in the response and the last piece of JSON is not received in the client side NSString jsonString NSString alloc initWithDatamyResponse encodingNSStringEncodingConversionAllowLossy HTTPDataResponse dataResponse HTTPDataResponse alloc initWithDataresponseData dataResponsecontentType contentType