 AS Hi How I can add another emoji pack to keyboard Ios google twitter SoftKeyboardSizeWatchLayout thisgetViewTreeObserveraddOnGlobalLayoutListenernew Lifecycle removeOnGlobalLayoutListener xhsEmoticonsKeyboard ActivityA inputView ActivityBxhsEmoticonsKeyboard ActivityB XhsEmoticonsKeyboard SoftKeyboardSizeWatchLayout getWindowgetDecorViewgetWindowVisibleDisplayFramer Rect screenHeight rectbottom public SoftKeyboardSizeWatchLayoutContext context AttributeSet attrs supercontext attrs thismContext context thisgetViewTreeObserveraddOnGlobalLayoutListenernew OnGlobalLayoutListener public void onGlobalLayout Rect r new Rect ActivitySoftKeyboardSizeWatchLayoutthismContextgetWindowgetDecorViewgetWindowVisibleDisplayFramer if SoftKeyboardSizeWatchLayoutthismScreenHeight SoftKeyboardSizeWatchLayoutthismScreenHeight rbottom SoftKeyboardSizeWatchLayoutthismNowh SoftKeyboardSizeWatchLayoutthismScreenHeight rbottom if SoftKeyboardSizeWatchLayoutthismOldh SoftKeyboardSizeWatchLayoutthismNowh SoftKeyboardSizeWatchLayoutthismOldh Iterator i SoftKeyboardSizeWatchLayoutOnResizeListener l if SoftKeyboardSizeWatchLayoutthismNowh SoftKeyboardSizeWatchLayoutthismIsSoftKeyboardPop true if SoftKeyboardSizeWatchLayoutthismListenerList null i SoftKeyboardSizeWatchLayoutthismListenerListiterator whileihasNext l SoftKeyboardSizeWatchLayoutOnResizeListenerinext lOnSoftPopSoftKeyboardSizeWatchLayoutthismNowh else SoftKeyboardSizeWatchLayoutthismIsSoftKeyboardPop false if SoftKeyboardSizeWatchLayoutthismListenerList null i SoftKeyboardSizeWatchLayoutthismListenerListiterator whileihasNext l SoftKeyboardSizeWatchLayoutOnResizeListenerinext lOnSoftClose SoftKeyboardSizeWatchLayoutthismOldh SoftKeyboardSizeWatchLayoutthismNowh mNowh onSoftClose reset EmoticonsKeyboardUtilscloseSoftKeyboardthis protected void onMeasureint widthMeasureSpec int heightMeasureSpec int expandSpec if thismConfigurationChangedFlag thismConfigurationChangedFlag false Rect r new Rect ActivitythismContextgetWindowgetDecorViewgetWindowVisibleDisplayFramer if thismScreenHeight thismScreenHeight rbottom expandSpec thismScreenHeight rbottom thismMaxParentHeight expandSpec if thismMaxParentHeight int heightMode MeasureSpecgetModeheightMeasureSpec expandSpec MeasureSpecmakeMeasureSpecthismMaxParentHeight heightMode superonMeasurewidthMeasureSpec expandSpec else superonMeasurewidthMeasureSpec heightMeasureSpec mMaxParentHeight XhsEmoticonsKeyboard ERROR Failed to resolve comgithubw AndroidEmoji Show in Project Structure dialog Affected Modules app emoji Filter clearSpan Span Span tim demo activity edittext edittext edittext T 