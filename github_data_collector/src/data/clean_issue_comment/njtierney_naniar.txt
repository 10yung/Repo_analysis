I have a data set that has both NA values and values which mean something slightly different NA not seen seen but unanswered questions on a survey I cannot find a function in naniar to do a count of by row I see that there is missscancount which allows for specifying what counts as a missing value but this function operates on columns and gives totals by column Is there a similar function to do this by rows All the rowwise missing functions like pctcountprop etc dont have an argument for what values count as missing they only look for NA Hello If you want to count the s as missing data in your dataframe you should use as argument otherwise the result will be of the s in your data Example dataframe obs of variables x chr b a a b x num x num NA x chr u u u u x chr g g g g x chr w q q w x chr v h h v x num x chr t t t t x chr t t f t x chr t f x chr f f f t x chr g g g g x num x num NA NA x chr t t t t x num x num x num x chr f f f f y chr good good good good missscancountdata training search list n will output this Variable n chr int x x x x x x x x x x x x x x x x x x x x y the correct use of the function must be printmissscancountdata training search list n moved over here from I have a dataset where some missing values are coded as and tried to use the naniar function replacewithnaall to replace those values with NA The function does this but it also seems to convert my factor variables to integers thereby losing the name of the factors This happens whether the factor itself already has some missing values or not which you can see in the example below in tibble the factor has a missing value from the start in tibble it does not r librarytidyverse librarynaniar Example factor with missing values tibble tribble x y a c tibble x asfactortibble x levelstibble x listA a C c Showing original tibble and then after replacewithnaall is used tibble tibble naniarreplacewithnaallcondition x Example factor without missing values tibble tribble x y a b c tibble x asfactortibble x levelstibble x listA a B b C c Showing original tibble and then after replacewithnaall is used tibble tibble naniarreplacewithnaallcondition x Not sure if this is supposed to happen but if it is it was not clear to me from reading the documentation r anynotna purrrnegateanyNA anynotnaairquality airquality selectifanynotna This is a weird one that took me a long time to reproduce Im making a plot with jittered points with errorbars geomerrorbar geomlinerange and geomerrorbarh all have the following problem I do the jitter with the position argument so the errobars and points match up With geompoint the errorbars are correctly placed But with geommisspoint the errorbars are misplaced but only when the axis labels arent in the same order as in the dataframe I think Heres a reprex r librarytidyverse librarynaniar df tibbley rnorm mean sd x repca b c d e each different order for x df tibbley rnorm mean sd x repce a b c d each set up jitter j positionjitterheight width This works p ggplotdf aesx y geompointposition j geomlinerangeaesymin y ymax y position j p r misaligned errorbars pmiss ggplotdf aesx y geommisspointposition j jitter geomlinerangeaesymin y ymax y position j pmiss r but this is fine for some reason pmiss ggplotdf aesx y geommisspointposition j jitter geomlinerangeaesymin y ymax y position j pmiss r I think it has to do with factor levels or something because this fixes the second plot df mutatex fctinorderx ggplotaesxy geommisspointposition j jitter geomlinerangeaesymin y ymax y position j supCreated on by the reprex package v sup For large data sets geombin d provides a useful alternative to geompoint It would be nice to have something similar for large data with missings Heres a crude mockup I made in paint missing bin d Youd probably move the missing bar down a bit and obviously the colour scale is a joke but hopefully you get the idea I first want to say that I really like geommisspoint Im using it on beforeafter species observation data and it shows the numbers of colonising and extinct species really well But I would like to be able to label the particularly commonly observed species which have gone extinct and this doesnt at present appear possible geomtext observes that it is ignoring the missing data As the missing data portion of the plot is quite condensed it would be particularly useful to be able to use ggrepelgeomtextrepel for this naniar See for example When using geommisspoint if there are missing values for both variables then these are displayed along the a diagonal line This isnt obvious in the vignette examples but when the number of missing values is high then its obvious See bottom left of the plot in the reprex below Is it possible for these to instead be unequal uncorrelated I think this is something to do with how random uniform values are being selected for the jitter they seem to be selected from a preset list of random numbers rather than truely random each time To see this try running just the ggplotdf naniargeommisspointaesx y over and over again in R and youll notice the jittered points dont change When you do something similar for geomjitter the plot will differ slightly each time So I think its selecting from the same set of random uniform values setseed just before the ggplot call makes no difference Its not obvious to me from the source code why this might be happening Thanks very much for a brilliant package Reprex r librarytidyverse librarynaniar df tibble xrnorm yrnorm mutate xifelserunif x NA yifelserunif y NA ggplotdf naniargeommisspointaesx y Description For some large datasets with few missing data it is hard to distinguish if missing data are present or not using ggmissvar This commit add a change in shape and color for variables with no missing data at all and variables with missing data Some more complex examples of ggmissvar have been provided Example r librarydplyr Attachement du package dplyr The following objects are masked from packagestats filter lag The following objects are masked from packagebase intersect setdiff setequal union librarynaniar dummy tibble x rep y cNA rep z samplec NA replace TRUE ggmissvardummy supCreated on by the reprex package v sup Issue Fix 