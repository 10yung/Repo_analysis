From the docs there is this example final class Passwordvalue String override def toString val user kernelstdinuser clear text input val password kernelstdinprompt password password truemapnew Password However when I try to run it I get this cmd sc type mismatch found Char required String val password kernelstdinprompt password password truemapnew Password Compilation Failed Compilation Failed If I remove the mapnew Password I get user user password defined class Password user String user password String password I am using the SCALAVERSION ALMONDVERSION version of the kernel and using Jupyter Lab Indicate Scala versions supported in recent Almond versions Add link to Almond releases page where the release notes provide missing information when this documentation page gets outdated Fixes On the install page the instructions for Windows have an error the following step has an extra install right at the end that stops it working Equivalent Windows command bitsadmin transfer downloadCoursierCli cd coursier bitsadmin transfer downloadCoursierBat cd coursierbat coursier bootstrap r jitpack i user I usershalmondscalakernelapiSCALAVERSIONALMONDVERSION shalmondscalakernelSCALAVERSIONALMONDVERSION o almond almond install Removing this allows the process to work providing JAVAHOME is set correctly for some reason mine pointed to the bin folder rather than the parent folder which caused the generated almond file to just contain an error It might be worth noting that it is worth checking JAVAHOME as well In our daily use we found out that when executing some spark jobs the almond kernel could be stuck and makes no progress in the frontend while the spark job completes in cluster With a profiling session it seems the kernel is blocked by scalakernelzeromqPublish thread scalakernelzeromqPublish Runnable CPU usage on sample ms sunniochFileDispatcherImplread FileDescriptor long int FileDispatcherImpljava native sunniochFileDispatcherImplreadFileDescriptor long int FileDispatcherImpljava sunniochIOUtilreadIntoNativeBufferFileDescriptor ByteBuffer long NativeDispatcher IOUtiljava sunniochIOUtilreadFileDescriptor ByteBuffer long NativeDispatcher IOUtiljava sunniochSourceChannelImplreadByteBuffer SourceChannelImpljava zmqSignalerrecv Signalerjava zmqMailboxrecvlong Mailboxjava zmqSocketBaseprocessCommandsint boolean SocketBasejava zmqSocketBasesendMsg int SocketBasejava orgzeromqZMQSocketsendbyte int ZMQjava almondchannelszeromqZeromqSocketImplanonfunsend ZeromqSocketImpl Seq ZeromqSocketImplscala almondchannelszeromqZeromqSocketImplanonfunsend adaptedZeromqSocketImpl Seq ZeromqSocketImplscala almondchannelszeromqZeromqSocketImplLambda applyObject scalacollectionimmutableListforeachFunction Listscala almondchannelszeromqZeromqSocketImplanonfunsend ZeromqSocketImpl Message ZeromqSocketImplscala almondchannelszeromqZeromqSocketImplLambda applymcVsp scalaruntimejava JFunction mcVspapply JFunction mcVspjava catseffectinternalsIORunLoopcatseffectinternalsIORunLooploopIO IOConnection Function IORunLoopRestartCallback Function ArrayStack IORunLoopscala catseffectinternalsIORunLoopRestartCallbacksignalEither IORunLoopscala catseffectinternalsIORunLoopRestartCallbackapplyEither IORunLoopscala catseffectinternalsIORunLoopRestartCallbackapplyObject IORunLoopscala catseffectinternalsIOShiftTickrun IOShiftscala javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorWorker ThreadPoolExecutorjava javautilconcurrentThreadPoolExecutorWorkerrun ThreadPoolExecutorjava javalangThreadrun Threadjava I can provide a Yourkit session snapshot if necessary IMO it may be some racecondition in the messaging part with jupyter due to the frequent updates for the progress bar With the progress bar disabled this problem seems to go away or at least at lot less likely to happen Weve setup an almond stack and during daily use we found out that the kernel become stuck when TAB is pressed for autocompletion The kernel is stuck and no other progress can be made during several minutes and finally the autocompletion popup is showed and the kernel backs to normal To better understand I tried a profilling session it seems that after pressing TAB scalakerneldummystuff is active for some seconds scalakerneldummystuff Runnable CPU usage on sample ms javaioUnixFileSystemgetBooleanAttributes File UnixFileSystemjava native javaioUnixFileSystemgetBooleanAttributesFile UnixFileSystemjava javaioFileisDirectory Filejava scalareflectioPathisDirectory File Pathscala scalareflectioPathapplyFile Pathscala scalareflectioPathapplyString Pathscala scalareflectioPathtoAbsolute Pathscala scalareflectioPlainFileinitPath PlainFilescala scalareflectioPlainFilelookupNameUncheckedString boolean PlainFilescala scalareflectioAbstractFileanonfunlookupPathUnchecked AbstractFile String boolean AbstractFilescala scalareflectioAbstractFilelookupPathUncheckedString boolean AbstractFilescala scalatoolsnscsettingsMutableSettingsOutputDirssrcFilesForAbstractFile String MutableSettingsscala scalatoolsnscsymtabclassfileClassfileParserparseAttribute SymbolsSymbol TypesType boolean ObjectRef ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParseranonfunparseAttributes ClassfileParser SymbolsSymbol TypesType boolean ObjectRef int ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParserparseAttributesSymbolsSymbol TypesType boolean ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParserparseClass ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParseranonfunparse ClassfileParser AbstractFile SymbolsClassSymbol SymbolsModuleSymbol ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParserparseAbstractFile SymbolsClassSymbol SymbolsModuleSymbol ClassfileParserscala scalatoolsnscsymtabSymbolLoadersClassfileLoaderdoCompleteSymbolsSymbol SymbolLoadersscala scalatoolsnscsymtabSymbolLoadersSymbolLoadercompleteSymbolsSymbol SymbolLoadersscala scalareflectinternalSymbolsSymbolinfo Symbolsscala scalareflectinternalSymbolTableopenPackageModuleSymbolsSymbol SymbolsSymbol SymbolTablescala scalareflectinternalSymbolTableopenPackageModuleSymbolsSymbol SymbolTablescala scalatoolsnscsymtabSymbolLoadersPackageLoaderdoCompleteSymbolsSymbol SymbolLoadersscala scalatoolsnscsymtabSymbolLoadersSymbolLoadercompleteSymbolsSymbol SymbolLoadersscala scalareflectinternalSymbolsSymbolinfo Symbolsscala scalareflectinternalpicklingUnPicklerScanfromName NamesName SymbolsSymbol int UnPicklerscala scalareflectinternalpicklingUnPicklerScananonfunreadSymbol UnPicklerScan NamesName SymbolsSymbol int UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadExtSymbol int int UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadSymbol UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadSymbolRef UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadTypeboolean UnPicklerscala scalareflectinternalpicklingUnPicklerScananonfunreadTypeRef UnPicklerScan UnPicklerscala scalareflectinternalpicklingUnPicklerScanLambda apply scalareflectinternalpicklingUnPicklerScanatint Function UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadTypeRef UnPicklerscala scalareflectinternalpicklingUnPicklerScananonfunreadType UnPicklerScan UnPicklerscala scalareflectinternalpicklingUnPicklerScanLambda apply scalareflectinternalpicklingPickleBufferuntilint Function PickleBufferscala recursive calls scalareflectinternalpicklingUnPicklerScanreadTypes int UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadTypeboolean UnPicklerscala scalareflectinternalpicklingUnPicklerScananonfunreadTypeRef UnPicklerScan UnPicklerscala scalareflectinternalpicklingUnPicklerScanLambda apply scalareflectinternalpicklingUnPicklerScanatint Function UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadTypeRef UnPicklerscala scalareflectinternalpicklingUnPicklerScanreadTypeboolean UnPicklerscala scalareflectinternalpicklingUnPicklerScanLazyTypeRefanonfuncompleteInternal UnPicklerScanLazyTypeRef SymbolsSymbol UnPicklerscala scalareflectinternalpicklingUnPicklerScanLazyTypeRefLambda apply scalareflectinternalpicklingUnPicklerScanatint Function UnPicklerscala scalareflectinternalpicklingUnPicklerScanLazyTypeRefcompleteInternalSymbolsSymbol UnPicklerscala scalareflectinternalpicklingUnPicklerScanLazyTypeRefcompleteSymbolsSymbol UnPicklerscala scalareflectinternalpicklingUnPicklerScanLazyTypeRefloadSymbolsSymbol UnPicklerscala scalatoolsnscsymtabSymbolLoadersSymbolLoaderinitRootSymbolsSymbol SymbolLoadersscala scalatoolsnscsymtabSymbolLoadersSymbolLoadercompleteSymbolsSymbol SymbolLoadersscala scalareflectinternalSymbolsSymbolinfo Symbolsscala scalareflectinternalSymbolsSymbolinitialize Symbolsscala scalatoolsnscinteractiveGlobalanonfunforceSymbolsUsedByParser SymbolsSymbol Globalscala scalatoolsnscinteractiveGlobalLambda applyObject scalacollectionimmutableHashSetHashSet foreachFunction HashSetscala scalacollectionimmutableHashSetHashTrieSetforeachFunction HashSetscala recursive calls scalatoolsnscinteractiveGlobalforceSymbolsUsedByParser Globalscala scalatoolsnscinteractiveGlobalinitSettings Reporter String Globalscala ammoniteinterpPressyanon anon initPressyanon Settings Reporter AggregateClassPath ClassLoader Pressyscala ammoniteinterpPressyanon initInteractiveGlobalSettings Reporter AggregateClassPath ClassLoader Pressyscala ammoniteinterpPressyanon initPressy Pressyscala ammoniteinterpPressyanon compiler Pressyscala ammoniteinterpPressyanon completeint String String Pressyscala ammoniteinterpCompilerLifecycleManagercompleteint String String CompilerLifecycleManagerscala almondScalaInterpretercompleteString int ScalaInterpreterscala almondinterpreterutilAsyncInterpreterOpsasyncCompleteString int AsyncInterpreterOpsscala almondinterpreterutilAsyncInterpreterOpsasyncCompleteAsyncInterpreterOps String int AsyncInterpreterOpsscala almondScalaInterpreterasyncCompleteString int ScalaInterpreterscala almondScalaInterpreterasyncCompleteString int ScalaInterpreterscala almondinterpreterInterpreterToIOInterpreteranonfuncompletionCancellable InterpreterToIOInterpreter Tuple InterpreterToIOInterpreterscala almondinterpreterInterpreterToIOInterpreterLambda applyObject almondinterpreterutilCancellablerunObject Cancellablescala almondinterpreterInterpreterToIOInterpretercompleteString int InterpreterToIOInterpreterscala almondinterpretermessagehandlersInterpreterMessageHandlersanonfuncompleteHandler InterpreterMessageHandlers Message Queue InterpreterMessageHandlersscala almondinterpretermessagehandlersInterpreterMessageHandlersLambda applyObject Object almondinterpretermessagehandlersMessageHandleranonfunblocking Function Message Queue MessageHandlerscala almondinterpretermessagehandlersMessageHandlerLambda applyObject almondinterpretermessagehandlersMessageHandleranonfunblockingTaskStream Function Queue MessageHandlerscala almondinterpretermessagehandlersMessageHandlerLambda applyObject scalaFunction anonfunandThen Function Function Object Function scala scalaFunction Lambda applyObject catseffectIOMapapplyObject IOscala catseffectIOMapapplyObject IOscala catseffectinternalsIORunLoopcatseffectinternalsIORunLooploopIO IOConnection Function IORunLoopRestartCallback Function ArrayStack IORunLoopscala catseffectinternalsIORunLoopRestartCallbacksignalEither IORunLoopscala catseffectinternalsIORunLoopRestartCallbackapplyEither IORunLoopscala catseffectinternalsIORunLoopRestartCallbackapplyObject IORunLoopscala catseffectinternalsIOShiftTickrun IOShiftscala javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorWorker ThreadPoolExecutorjava javautilconcurrentThreadPoolExecutorWorkerrun ThreadPoolExecutorjava javalangThreadrun Threadjava And then another thread Scala Presentation Compiler becomes active with something like this Scala Presentation Compiler Runnable CPU usage on sample ms javaioUnixFileSystemgetBooleanAttributes File UnixFileSystemjava native javaioUnixFileSystemgetBooleanAttributesFile UnixFileSystemjava javaioFileisDirectory Filejava scalareflectioPathisDirectory File Pathscala scalareflectioPathapplyFile Pathscala scalareflectioPathapplyString Pathscala scalareflectioPathtoAbsolute Pathscala scalareflectioPlainFileinitPath PlainFilescala scalareflectioPlainFilelookupNameUncheckedString boolean PlainFilescala scalareflectioAbstractFileanonfunlookupPathUnchecked AbstractFile String boolean AbstractFilescala scalareflectioAbstractFilelookupPathUncheckedString boolean AbstractFilescala scalatoolsnscsettingsMutableSettingsOutputDirssrcFilesForAbstractFile String MutableSettingsscala scalatoolsnscsymtabclassfileClassfileParserparseAttribute SymbolsSymbol TypesType boolean ObjectRef ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParseranonfunparseAttributes ClassfileParser SymbolsSymbol TypesType boolean ObjectRef int ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParserparseAttributesSymbolsSymbol TypesType boolean ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParserparseClass ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParseranonfunparse ClassfileParser AbstractFile SymbolsClassSymbol SymbolsModuleSymbol ClassfileParserscala scalatoolsnscsymtabclassfileClassfileParserparseAbstractFile SymbolsClassSymbol SymbolsModuleSymbol ClassfileParserscala scalatoolsnscsymtabSymbolLoadersClassfileLoaderdoCompleteSymbolsSymbol SymbolLoadersscala scalatoolsnscsymtabSymbolLoadersSymbolLoadercompleteSymbolsSymbol SymbolLoadersscala scalareflectinternalSymbolsSymbolinfo Symbolsscala scalareflectinternalTypesTypeRefbaseTypeSeqImpl Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfTypeRefTypesTypeRef Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfTypeRefTypes TypesTypeRef Typesscala scalareflectinternalSymbolTabledefineBaseTypeSeqOfTypeRefTypesTypeRef SymbolTablescala scalareflectinternalTypesTypeRefbaseTypeSeq Typesscala scalareflectinternalBaseTypeSeqsanonfuncompoundBaseTypeSeq BaseTypeSeqs BaseTypeSeqsBaseTypeSeq IntRef int TypesType BaseTypeSeqsscala scalareflectinternalBaseTypeSeqscompoundBaseTypeSeqTypesType BaseTypeSeqsscala scalareflectinternalBaseTypeSeqscompoundBaseTypeSeqBaseTypeSeqs TypesType BaseTypeSeqsscala scalareflectinternalSymbolTablecompoundBaseTypeSeqTypesType SymbolTablescala scalareflectinternalTypesdefineBaseTypeSeqOfCompoundTypeTypesCompoundType Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfCompoundTypeTypes TypesCompoundType Typesscala scalareflectinternalSymbolTabledefineBaseTypeSeqOfCompoundTypeTypesCompoundType SymbolTablescala scalareflectinternalTypesCompoundTypebaseTypeSeq Typesscala scalareflectinternalTypesPolyTypebaseTypeSeq Typesscala scalareflectinternalTypesTypeRefbaseTypeSeqImpl Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfTypeRefTypesTypeRef Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfTypeRefTypes TypesTypeRef Typesscala scalareflectinternalSymbolTabledefineBaseTypeSeqOfTypeRefTypesTypeRef SymbolTablescala scalareflectinternalTypesTypeRefbaseTypeSeq Typesscala scalareflectinternalBaseTypeSeqsanonfuncompoundBaseTypeSeq BaseTypeSeqs BaseTypeSeqsBaseTypeSeq IntRef int TypesType BaseTypeSeqsscala scalareflectinternalBaseTypeSeqscompoundBaseTypeSeqTypesType BaseTypeSeqsscala scalareflectinternalBaseTypeSeqscompoundBaseTypeSeqBaseTypeSeqs TypesType BaseTypeSeqsscala scalareflectinternalSymbolTablecompoundBaseTypeSeqTypesType SymbolTablescala scalareflectinternalTypesdefineBaseTypeSeqOfCompoundTypeTypesCompoundType Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfCompoundTypeTypes TypesCompoundType Typesscala scalareflectinternalSymbolTabledefineBaseTypeSeqOfCompoundTypeTypesCompoundType SymbolTablescala scalareflectinternalTypesCompoundTypebaseTypeSeq Typesscala scalareflectinternalTypesPolyTypebaseTypeSeq Typesscala scalareflectinternalTypesTypeRefbaseTypeSeqImpl Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfTypeRefTypesTypeRef Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfTypeRefTypes TypesTypeRef Typesscala scalareflectinternalSymbolTabledefineBaseTypeSeqOfTypeRefTypesTypeRef SymbolTablescala scalareflectinternalTypesTypeRefbaseTypeSeq Typesscala scalareflectinternalBaseTypeSeqsanonfuncompoundBaseTypeSeq BaseTypeSeqs BaseTypeSeqsBaseTypeSeq IntRef int TypesType BaseTypeSeqsscala scalareflectinternalBaseTypeSeqscompoundBaseTypeSeqTypesType BaseTypeSeqsscala scalareflectinternalBaseTypeSeqscompoundBaseTypeSeqBaseTypeSeqs TypesType BaseTypeSeqsscala scalareflectinternalSymbolTablecompoundBaseTypeSeqTypesType SymbolTablescala scalareflectinternalTypesdefineBaseTypeSeqOfCompoundTypeTypesCompoundType Typesscala scalareflectinternalTypesdefineBaseTypeSeqOfCompoundTypeTypes TypesCompoundType Typesscala scalareflectinternalSymbolTabledefineBaseTypeSeqOfCompoundTypeTypesCompoundType SymbolTablescala scalareflectinternalTypesCompoundTypebaseTypeSeq Typesscala scalareflectinternalTypesPolyTypebaseTypeSeq Typesscala scalareflectinternalTypesTypebaseTypeIndexSymbolsSymbol Typesscala scalareflectinternalSymbolsTypeSymbolisNonBottomSubClassSymbolsSymbol Symbolsscala scalareflectinternalSymbolsSymbolisSubClassSymbolsSymbol Symbolsscala scalareflectinternalSymbolsSymbolisWeakSubClassSymbolsSymbol Symbolsscala scalatoolsnsctypecheckerImplicitsImplicitSearchisPlausiblySubTypeTypesType TypesType Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchloop TypesType TypesType boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchcheckCompatibilityboolean TypesType TypesType Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchisPlausiblyCompatibleTypesType TypesType Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationsurvivesImplicitsImplicitInfo Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationanonfuneligible ImplicitsImplicitSearchImplicitComputation ImplicitsImplicitInfo Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationanonfuneligible adaptedImplicitsImplicitSearchImplicitComputation ImplicitsImplicitInfo Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationLambda applyObject scalacollectionTraversableLikepartialFill List List Function boolean TraversableLikescala scalacollectionTraversableLikeallIn List List Function boolean TraversableLikescala scalacollectionTraversableLikenoneIn List Function boolean TraversableLikescala scalacollectionTraversableLikefilterImplFunction boolean TraversableLikescala scalacollectionTraversableLikefilterImplTraversableLike Function boolean TraversableLikescala scalacollectionAbstractTraversablefilterImplFunction boolean Traversablescala scalacollectionTraversableLikefilterFunction TraversableLikescala scalacollectionTraversableLikefilterTraversableLike Function TraversableLikescala scalacollectionAbstractTraversablefilterFunction Traversablescala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationanonfuneligible ImplicitsImplicitSearchImplicitComputation List Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationinitImplicitsImplicitSearch List boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchsearchImplicitList boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchbestImplicit Implicitsscala scalatoolsnsctypecheckerImplicitsinferImplicit TreesTree TypesType boolean boolean ContextsContext boolean Position Implicitsscala scalatoolsnsctypecheckerImplicitsinferImplicitTreesTree TypesType boolean boolean ContextsContext boolean Position Implicitsscala scalatoolsnsctypecheckerImplicitsinferImplicitImplicits TreesTree TypesType boolean boolean ContextsContext boolean Position Implicitsscala ammoniteinterpCompilerCompatibilityanon inferImplicitTreesTree TypesType boolean boolean ContextsContext boolean Position CompilerCompatibilityscala scalatoolsnsctypecheckerImplicitsinferImplicitForTypesType TreesTree ContextsContext boolean Implicitsscala scalatoolsnsctypecheckerImplicitsinferImplicitForImplicits TypesType TreesTree ContextsContext boolean Implicitsscala ammoniteinterpCompilerCompatibilityanon inferImplicitForTypesType TreesTree ContextsContext boolean CompilerCompatibilityscala scalatoolsnsctypecheckerTypersTyperanonfunapplyImplicitArgs TypersTyper ListBuffer BooleanRef TreesTree ListBuffer ObjectRef SymbolsSymbol Typersscala scalatoolsnsctypecheckerTypersTyperapplyImplicitArgsTreesTree Typersscala scalatoolsnsctypecheckerImplicitsImplicitSearchtypedImplicit ImplicitsImplicitInfo boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchtypedImplicit ImplicitsImplicitInfo boolean boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchscalatoolsnsctypecheckerImplicitsImplicitSearchtypedImplicitImplicitsImplicitInfo boolean boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationanonfunfindAll ImplicitsImplicitSearchImplicitComputation ImplicitsImplicitInfo Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationLambda applyObject scalareflectinternalutilCollectionsanonfunlinkedMapFrom Function Object Collectionsscala scalatoolsnsctypecheckerImplicitsImplicitSearchImplicitComputationfindAll Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchapplicableInfosList boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchsearch List boolean Implicitsscala scalatoolsnsctypecheckerImplicitsImplicitSearchallImplicits Implicitsscala scalatoolsnscinteractiveGlobalanonfuntypeMembers Global TypesType TreesTree ContextsContext GlobalMembers boolean Globalscala scalatoolsnscinteractiveGlobalLambda apply scalacollectionimmutableStreamConstail Streamscala scalacollectionimmutableStreamConstail Streamscala scalatoolsnscinteractiveGlobalrespondGraduallyResponse Function Globalscala scalatoolsnscinteractiveGlobalgetTypeCompletionPosition Response Globalscala scalatoolsnscinteractiveCompilerControlAskTypeCompletionItemapplymcVsp CompilerControlscala scalatoolsnscinteractiveGlobalanonfunpollForWork Global BooleanRef Object Position Globalscala scalatoolsnscinteractiveGlobalpollForWorkPosition Globalscala scalatoolsnscinteractiveGlobalcheckForMoreWorkPosition Globalscala scalatoolsnscinteractiveGlobalsignalDoneContextsContext TreesTree TreesTree Globalscala scalatoolsnsctypecheckerTypersTypertypedTreesTree int TypesType Typersscala scalatoolsnsctypecheckerTypersTypertypedTypeConstructorTreesTree int Typersscala scalatoolsnsctypecheckerTypersTypertypedTypeConstructorTreesTree Typersscala scalatoolsnsctypecheckerTypersTypertypedParentTypeTreesTree TreesTemplate boolean Typersscala scalatoolsnsctypecheckerTypersTypertypedParentTypesTreesTemplate Typersscala scalatoolsnsctypecheckerTypersTypertypedModuleDefTreesModuleDef Typersscala scalatoolsnsctypecheckerTypersTypertyped TreesTree int TypesType Typersscala scalatoolsnsctypecheckerTypersTypertypedTreesTree int TypesType Typersscala scalatoolsnsctypecheckerTypersTypertypedStat TreesTree boolean boolean SymbolsSymbol boolean List Typersscala scalatoolsnsctypecheckerTypersTyperanonfuntypedStats TypersTyper boolean boolean SymbolsSymbol boolean List TreesTree Typersscala scalatoolsnsctypecheckerTypersTypertypedStatsList SymbolsSymbol boolean Typersscala scalatoolsnsctypecheckerTypersTypertypedPackageDef TreesPackageDef SymbolsSymbol TreesTree Typersscala scalatoolsnsctypecheckerTypersTypertyped TreesTree int TypesType Typersscala scalatoolsnsctypecheckerTypersTypertypedTreesTree int TypesType Typersscala scalatoolsnsctypecheckerAnalyzertyperFactoryTyperPhaseapplyCompilationUnitsCompilationUnit Analyzerscala scalatoolsnscGlobalGlobalPhaseapplyPhaseCompilationUnitsCompilationUnit Globalscala scalatoolsnscinteractiveGlobalTyperRunanonfunapplyPhase Phase CompilationUnitsCompilationUnit Globalscala scalatoolsnscinteractiveGlobalTyperRunapplyPhasePhase CompilationUnitsCompilationUnit Globalscala scalatoolsnscinteractiveGlobalTyperRuntypeCheckCompilationUnitsCompilationUnit Globalscala scalatoolsnscinteractiveGlobaltypeCheckRichCompilationUnitsRichCompilationUnit Globalscala scalatoolsnscinteractiveGlobalanonfunbackgroundCompile Global RichCompilationUnitsRichCompilationUnit Globalscala scalatoolsnscinteractiveGlobalanonfunbackgroundCompile Global SourceFile Globalscala scalatoolsnscinteractiveGlobalanonfunbackgroundCompile adaptedGlobal SourceFile Globalscala scalatoolsnscinteractiveGlobalLambda applyObject scalacollectionTraversableLikeWithFilteranonfunforeach TraversableLikeWithFilter Function Object TraversableLikescala scalacollectionTraversableLikeWithFilterLambda applyObject scalacollectionimmutableListforeachFunction Listscala scalacollectionTraversableLikeWithFilterforeachFunction TraversableLikescala scalatoolsnscinteractiveGlobalbackgroundCompile Globalscala scalatoolsnscinteractivePresentationCompilerThreadrun PresentationCompilerThreadscala It lasts for about minutes and half and eventually completes Tested on both and Any ideas Thanks Since weve switched to sbt Im getting this error Might be related to sbtalmond compile error stack trace is suppressed run last protocol coursierResolutions for the full output error stack trace is suppressed run last channels coursierResolutions for the full output error stack trace is suppressed run last logger coursierResolutions for the full output error stack trace is suppressed run last interpreterapi coursierResolutions for the full output error stack trace is suppressed run last scalainterpreter coursierResolutions for the full output error stack trace is suppressed run last kernel coursierResolutions for the full output error stack trace is suppressed run last interpreter coursierResolutions for the full output error stack trace is suppressed run last almondrx coursierResolutions for the full output error stack trace is suppressed run last scalakernelapi coursierResolutions for the full output error stack trace is suppressed run last jupyterapi coursierResolutions for the full output error stack trace is suppressed run last almondspark coursierResolutions for the full output error stack trace is suppressed run last test coursierResolutions for the full output error stack trace is suppressed run last echo coursierResolutions for the full output error stack trace is suppressed run last scalakernel coursierResolutions for the full output error stack trace is suppressed run last coursierResolutions for the full output error protocol coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error channels coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error logger coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error interpreterapi coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error scalainterpreter coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error kernel coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error interpreter coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error almondrx coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error scalakernelapi coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error jupyterapi coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error almondspark coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error test coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error echo coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error scalakernel coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject error coursierResolutions javalangNoSuchMethodError lmcoursierdefinitionsToCoursierprojectLlmcoursierdefinitionsProjectLcoursiercoreProject How to activate metabrowse in notebook Is there specific key combination I have kernel installed using almond install metabrowse true Server Information You are using Jupyter notebook The version of the notebook server is The server is running on this version of Python Python default Mar GCC Current Kernel Information Almond Ammonite Scala library version Copyright LAMPEPFL Java Initializing Spark with scala val spark NotebookSparkSessionbuilder masterlocal getOrCreate using the following function to measure execution time scala def time R block R R val t SystemnanoTime val result block callbyname val t SystemnanoTime printlnElapsed time t t ms result and defining the following variables scala val persons List John Mary Joe Linda Joe Maria Jack Lindsay val personsDF personstoDFid name work leisure val df personsDFselectwork leisure whenwork HighotherwiseLowasLevel whenleisure muchotherwisenotmuchasFun the following code takes twice as long in Almond than in Spark shell scala timedfgroupByLevel Funaggroundavgwork aswork roundavgleisure asleisuresortLevel Funshow Almond st time s Ammonite st time s Spark shell st time s Almond subsequent runs s Ammonite subsequent runs s Spark shell subsequent runs s Therefore the convenience of using Jupyter is greatly reduced by the sluggishness of the kernel Also why is Almond much slower than Ammonite EDIT Based on the above benchmark Apache Toree has a performance similar to Ammonite EDIT Based on the above benchmark Apache Zeppelin has a performance similar to Spark shell Theres a new project for LSP integration in JupyterLab It would be interesting to investigate ifhow we could get this working with Metals and which features we could use Theres already an issue by mardukbp in jupyterlablsp about trying it with Metals