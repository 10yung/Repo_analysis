Is there a syntax for calling methods implemented directly on the context A bare function doesnt appear to do the trick Currently working with Options can be rather frustrating and clumsy because of the lack of support for closures inside templates Adding support for closures would significantly improve the librarys usability I dont see a convenient way to do the following include blogpostmd as blog blogmarkdown Updates the requirements on hyper to permit the latest version details summaryRelease notessummary Sourced from hypers releases v Bug Fixes client fix polling dispatch channel after it has closed b fix panic from unreachable code e bc dependencies require correct bytes minimum version b e server change Builder window size methods to be byvalue a dabd closes ignore expectcontinue with no body in debug mode ca f closes Remove unneeded static bound of Service on Connection d Features body change Sendersenddata to an async fn a c require Sync when wrapping a dynamic Stream add bodyaggregate and bodytobytes functions ba a d replace Chunk type with Bytes a closes replace the Payload trait with HttpBody c eb client impl towerserviceService for Client edbd ac provide towerService support for clients eee a change connectors to return an impl Connection d a remove Destination for httpUri in connectors e aee filter remote IP addresses by family of given local IP address c change Resolve to be ServiceName d ce closes change Connect trait into an alias for Service d e f closes change GaiResolver to use a global blocking threadpool b Add connect timeout to HttpConnector a lib update to stdfutureFuture f b ae add optional tcp feature split from runtime b b make Stream trait usage optional behind the stream feature enabled by default b b closes update Tokio bytes http h and httpbody cb f c rt introduce rtExecutor trait ae f closes server introduce Accept trait b e give Serverlocaladdr a more general type cc e change http halfclose option default to disabled e fd service use towerserviceService for hyperservice ec d rename Service to HttpService reexport towerService f closes Breaking Changes All usage of async traits Future Stream trtable truncated details details summaryChangelogsummary Sourced from hypers changelog v Bug Fixes client fix polling dispatch channel after it has closed b fix panic from unreachable code e bc dependencies require correct bytes minimum version b e server change Builder window size methods to be byvalue a dabd closes ignore expectcontinue with no body in debug mode ca f closes Remove unneeded static bound of Service on Connection d Features body change Sendersenddata to an async fn a c require Sync when wrapping a dynamic Stream add bodyaggregate and bodytobytes functions ba a d replace Chunk type with Bytes a closes replace the Payload trait with HttpBody c eb client impl towerserviceService for Client edbd ac provide towerService support for clients eee a change connectors to return an impl Connection d a remove Destination for httpUri in connectors e aee filter remote IP addresses by family of given local IP address c change Resolve to be ServiceName d ce closes change Connect trait into an alias for Service d e f closes change GaiResolver to use a global blocking threadpool b Add connect timeout to HttpConnector a lib update to stdfutureFuture f b ae add optional tcp feature split from runtime b b make Stream trait usage optional behind the stream feature enabled by default b b closes update Tokio bytes http h and httpbody cb f c rt introduce rtExecutor trait ae f closes server introduce Accept trait b e give Serverlocaladdr a more general type cc e change http halfclose option default to disabled e fd service use towerserviceService for hyperservice ec d rename Service to HttpService reexport towerService f closes Breaking Changes trtable truncated details details summaryCommitssummary c e v feec docsclient a custom connector must be implement the Clone trait f a refactorserver remove deprecated API c docslib fix typo in READMEmd b ec docslib rewrite hyper overview e da docsbody small wording improvement to body module docs fbbad docsserver tweaks to server doc example e docsclient update client example to use tobytes fa c refactorserver remove Unpin requirement from the Body generic e docsclient show how to implement a Connector Additional commits viewable in compare view details br Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot close will close this PR and stop Dependabot recreating it You can achieve the same result by closing it manually dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme Additionally you can set the following in your Dependabot dashboard Update frequency including time of day and day of week Pull request limits per update run andor open at any time Automerge options neverpatchminor and devruntime dependencies Outofrange updates receive only lockfile updates if desired Security updates receive only security updates if desired details See if foo is defined foo endif This doesnt work with askama It works in tera Issue is closed with This has long been done but its either not the case or its only the case for the match syntax from the same issue In terajijna lingo defined is a test tera tests jinja tests I couldnt find any tests in askama dont know where to put this Code wise my defined is rather simple rust pub fn definedTo OptionT Resultbool if oissome return Oktrue Okfalse The reason for using an Option is that in the template input struct everything a template refers to must always be defined anyway so to satisfy a template with optional data using the rust Option type makes the most sense Results are different in that the Err can also hold a value so thats not something to use with defined anyway fabianfreyer I think you missed the actual code generation stuff in askamaderive I made a little progress I think but am running into different errors now having to do with how the askamaactix code is found for the generated impls Can you take a look and see if you can figure this out I dont totally understand this yet but it seems like this might be harder than I thought See discussion in This is a first attempt at splitting out some of the integrations Im not sure this is the right way though x Split out actixweb Split out gotham Split out rocket Split out iron This allows static functions to be called from templates using an expression like selfstaticfnarg This fixes I havent tested this outside of the test cases I wrote so maybe a little more testing should be done before merging this Updates the requirements on gotham to permit the latest version details summaryCommitssummary See full diff in compare view details br Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it To ignore the version in this PR you can just close it dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme Additionally you can set the following in your Dependabot dashboard Update frequency including time of day and day of week Automerge options neverpatchminor and devruntime dependencies Pull request limits per update run andor open at any time Outofrange updates receive only lockfile updates if desired Security updates receive only security updates if desired Finally you can contact us by mentioning dependabot details