Seems like a company called Avatto is selling Tuya power plugs on AliExpress The model number corresponds to a plug with the same physical appearance from Neo Coolcam but the PIN configuration is not a match I have provided a PR of code changes I made to make this device work for me Take this as a guide line not a complete solution My experience in Espurna and embedded ESP programing is limited PR My changes has been tested agains v but not against master nor dev Device Support for the Avatto NASWR W with power monitor Same model number as Neo Coolcam NASWR W but not a match in PINs I was not able to find an official homepage for Avatto Only the official shop on AliExpress But this is a Tuya device PINs for Button Led and Relay have been tested and seems correct But I have not disassembled the device to verify The power monitor settings where copied from Blitzwolf but seems to work Values in migrateino might be wrong Could not find any documentation for this file and its purpose I added a feature request matching this PR here using mqtt is disconnected and never reconnects mqttreset and wifireset do not help mqttinfo is always in connecting status MQTT Client ENABLED DISCONNECTED MQTT Retry CONNECTING Now Last Delay Step OK After a fast inspection to the code it seems that in mqttino mqttconnecting is set to true and the event mqttOnConnect is never received Or this is treated as a bug in ASYNCMQTTCLIENT or there is need of a workaround with a timeout after connect request to force a mqttDisconnect Hi its possible to implement this feature using tinyGSM or other implementation i have a lot of devices that need to work where i dont have wifi coverage best regards I bought ZSP Device When I tried to configure it I couldnt because Espurna ignored GPIO on setup which caused the led LED not to function on that specific device I also saw that Xose noticed this issue before but didnt change anything about it Anyhow I have added support for the GPIO What I also noticed is that when I choose Follow Switch on LED configuration tab it didnt function at all as far as I saw the only function that supposed to update the led status according to the relay status is ledUpdate and its not being called anywhere but from MQTT so I have added a call to it after every relay status change that solved the problem for me Support enabled in tree by default for testing purposes Buffer itself is disabled need to mention it in the docs Terminal command debugbuffer prints log buffer DEBUGLOGBUFFERSUPPORT to build support DEBUGLOGBUFFERENABLED to enable or dbgBufEnabled setting DEBUGLOGBUFFERSIZE buffer size in bytes dbgBufSize setting Ive just flashed a couple of BlitzWolf SHP and while most things are working great Ive noticed a small anomaly The VCC sensor is reading odd values mV Ive updated some of my Sonoff Basics and they correctly show values mV Ive given a cursory glance at the bits in the source code linked to this and suspect it has something to do with the ADCMODEVALUE being turned away from ADCVCC From what I understand this happens when analog sensors are involved but the SHP has a CSE as serial device so far as I can tell but in this case VCC shouldnt be provided by the API Is it possible that ADCMODEVALUE is being seen as different values to different bits of the code Would it be possible that optionally set during compilation process include an option to aggregate all heartbeat topics and their values into a single root topicheartbeat If I understood correctly currently there is the option to set the output as JSON and Espurna will aggregate all the messages pending to be sent hearbeat sensors relays so on into one single JSON Maybe it would be better to give to the user the possibility to keep the heartbeat output separated from the other outputs Bug description When MQTT getter suffix is defined it is ignored by MQTT last will topic I think it is because it is initialized before getter setter initialization on this line just few lines before Steps to reproduce Set define MQTTGETTER get is CUSTOMh Expected behavior When i want to use custom getter suffix i expect to have it everywhere Last will espurnaXAXAXAXAXAXAstatusget Now wrong espurnaXAXAXAXAXAXAstatus Status report espurnaXAXAXAXAXAXAstatusget Now correct espurnaXAXAXAXAXAXAstatusget because topic is initialized adhoc Device information MAIN ESPURNA ad da MAIN xoseperezgmailcom MAIN MAIN CPU chip ID xC C A MAIN CPU frequency MHz MAIN SDK version aec ac MAIN Core version MAIN Core revision c d MAIN Build time MAIN Flash chip ID x MAIN Flash speed Hz MAIN Flash mode DOUT MAIN Flash size CHIP bytes sectors to MAIN Flash size SDK bytes sectors to MAIN Reserved bytes sectors to MAIN Firmware size bytes sectors to MAIN Max OTA size bytes sectors to MAIN EEPROM size bytes sectors to MAIN Reserved bytes sectors to MAIN EEPROM sectors MAIN EEPROM current MAIN EEPROM bytes initially bytes used bytes free MAIN Heap bytes initially bytes used bytes free MAIN Stack bytes initially bytes used bytes free MAIN Boot version MAIN Boot mode MAIN Last reset reason Power on MAIN Last reset info flag MAIN Board ITEADSONOFFT CH MAIN Support BROKER BUTTON DEBUGSERIAL DEBUGTELNET DEBUGWEB LED MDNSSERVER MQTT NTP TELNET TERMINAL WEB MAIN OTA ARDUINO ASYNCTCP WEB MAIN WebUI image SMALL MAIN Firmware MD b f acaae aab ed e MAIN Power mV MAIN Power saving delay value ms the switch Boot mode is not working if you remove power hard reboot it dont save the previous state only soft reboot works