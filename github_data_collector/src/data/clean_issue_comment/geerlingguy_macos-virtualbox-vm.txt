I kept running into this issue with Install macOS Mojaveapp when the prepareisosh script would get to the asr restore command Validating targetdone Validating sourcedone Retrieving scan informationdone Validating sizesdone Restoring Restored target device is devdisk s Remounting target volumedone Personalization succeeded asr Couldnt personalize volume VolumesmacOS Base System Oddly enough though it appears the Personalization succeeded but this emits a nonzero status so the script dies right here I decided to see if I could manually run the commands that followed to see what would happen and sure enough everything succeeds but there was one other thing I needed to change I needed to replace VolumesOS X Base System with VolumesmacOS Base System For Mojave it appears that when the asr restore command mounts the volume for the base system it uses the name macOS Base System instead of the older OS X Base System From VBoxManage setextradata name of vm VBoxInternalDevicesefi ConfigDmiSystemProduct iMac VBoxManage setextradata name of vm VBoxInternalDevicesefi ConfigDmiSystemVersion VBoxManage setextradata name of vm VBoxInternalDevicesefi ConfigDmiBoardProduct Iloveapple VBoxManage setextradata name of vm VBoxInternalDevicessmc ConfigDeviceKey ourhardworkbythesewordsguardedpleasedontstealcAppleComputerInc VBoxManage setextradata name of vm VBoxInternalDevicessmc ConfigGetKeyFromRealSMC Neither Mojave nor High Sierra would boot until I set those values So I enabled FileVault not thinking this would cause issues And unfortunately now the VM wont boot Ive managed to find a way to boot the OS to where I can input my FileVault password but then the system just doesnt recognize my keyboard I suspect there might be some missing drivers that I can hopefully load When I let it wait I get the error The operation couldnt be completed comappleOSInstallerSetuoerror error Any solutions The boot freezes if I have selected more than CPU in the Settings Hi The proposed way of changing the resolution didnt work for me After a bit of googling I found out that in VirtualBox they changed the way to define the resolution Thanks to this thread Im curious if you ever tried to write a Vagrant script for this Ive seen some other people have done it Using set x and the construct to detect failures doesnt work instead use if cmd to detect if something failed Stuck in shell Always went back to Mojave image until I removed it Now it simply doesnt boot During first boot from iso boot always stopped at a certain time Dawin bootstrap After changing number of processors from to boot continued Dont know if this is only an issue for my Macbook Air MacBookAir 