Started looking at typescript strictNullChecks fixes and found news panel on home dashboard used the none summary url Thank you for sending a pull request Here are some tips If this is your first time please read our contribution guide at Ensure you include and run the appropriate tests as part of your Pull Request In a new feature or configuration option an update to the documentation is necessary Everything related to the documentation is under the docs folder in the root of the repository If the Pull Request is a work in progress make use of GitHubs Draft PR feature and mark it as such If you can not merge your Pull Request due to a merge conflict Rebase it This gets it in sync with the master branch Name your PR as FeatureArea Describe your change eg Alerting Prevent race condition If its a fix or feature relevant for the changelog describe the user impact in the title The PR title is used to autogenerate the changelog for issues marked with the add to changelog label What this PR does why we need it This PR replicates most of the behavior of awssdkgo when fetching a WebIdentityRole such as they are used in IAM roles for service account in EKS The reason for the most of qualifier is that this will only read the environment variables so if eg a rolesessionname is configured in a configuration file somewhere it wont be picked up I suspect this wont be much of a problem since all documentation and whatnot for EKS IAM roles for Service Accounts exclusively uses those environment variables As discussed in the issue the proper way to fix this would probably be to always use the default credentials chain unless a specific way is specified in which case only that way should be used Ive tried this out in an EKS cluster with a standard setup In other words Ive created a deployment and a service account linked them together annotated the service account with eksamazonawscomrolearn and added the necessary trust policies on the role and I can confirm it manages to find the credentials Which issues this PR fixes Fix Automatically closes linked issue when the Pull Request is merged Usage Fixes issue number or Fixes paste link of issue Please use this template while reporting a bug and provide as much info as possible Questions should be posted to Use query inspector to troubleshoot issues What happened Im trying to pipe some logs from a plain text file to grafana so i can save it as a dashboard and users can view it i created a script that insert the data into influx DB with the required tags and fields as stated in the tutorials now i can see the data inside influx DB and i can query them when i go and create a dashboard and choose influx db i cannot find the button that switch to logs mode so i can show the data in logs format i tried to put the visualization as logs but still i cannot see any data What makes me wonder is that when i go to Explore mode and choose the logs mode i can see all the data and query them but i cannot save the explore mode into dashboard too So to summarize there is no button to switch to logs mode when choosing influx as DB in dashboard not in explore Explore Mode Capture Dashboard Mode Capture Thanks What you expected to happen So to summarize there is no button to switch to logs mode when choosing influx as DB in dashboard not in explore How to reproduce it as minimally and precisely as possible Anything else we need to know Environment Grafana version Data source type version Influx DB Version OS Grafana is installed on Centos User OS Browser Firefox that comes preinstalled with Centos Grafana plugins NA Others What happened Im using the cloudwatch plugin I have a variable setup that pulls instance IDs I have the variable hidden and I expect it to default to all values When I use this variable in a very simple query the commas are not removedsplit and replaced with OR Screen Shot at PM What you expected to happen Instead of creating a valid query it queried iinstance iinstance etc I expected the variable values to be split and ORd together Screen Shot at PM How to reproduce it as minimally and precisely as possible The two screenshots above should provide ample reproducibility The kicker is how to workaround the problem If you edit the variable and enable multi value everything begins to work as expected This took me a long time to figure out and if nothing else I hope this issue saves someone else an hour Shot of it working after turning on multi value Screen Shot at PM Anything else we need to know Environment Grafana version Data source type version CloudWatch latest w OS Grafana is installed on Docker on FargateECS User OS Browser Chrome and Safari were tested Grafana plugins Quite a few If you want them I can provide them Everything else is working great Please use this template while reporting a bug and provide as much info as possible Questions should be posted to Use query inspector to troubleshoot issues What happened I tried to setup grafana over nginx reverse proxy but Im getting following error If youre seeing this Grafana has failed to load its application files This could be caused by your reverse proxy settings If you host grafana under subpath make sure your grafanaini rooturl setting includes subpath If you have a local dev build make sure you build frontend using yarn start yarn starthot or yarn build Sometimes restarting grafanaserver can help also too many redirects in the network tab to login page Ive followed the auth proxy setup doc but still I havent got it working What you expected to happen Grafana UI should work normally without any redirection issue How to reproduce it as minimally and precisely as possible here is my nginxconf workerprocesses events workerconnections http logformat compression remoteaddr remoteuser timelocal request status upstreamaddr httpreferer httpuseragent gzipratio upstream dockergrafana server grafana server errorlog varlognginxerrorlog accesslog varlognginxaccesslog listen location root usrsharenginxhtml index indexhtml indexhtm tryfiles uri uri indexhtml location grafana set user if args user set user addheader XUSER user addheader XForwardedHost servername addheader XForwardedFor proxyaddxforwardedfor addheader XHOST host addheader XREMOTEADDR remoteaddr proxypass proxyredirect off proxysetheader Host host proxysetheader XRealIP remoteaddr proxysetheader XForwardedFor proxyaddxforwardedfor proxysetheader XForwardedHost servername proxysetheader XForwardedProto http proxysetheader XWEBAUTHUSER user proxysetheader Authorization Here is my grafanaini file server domain rooturl users allowsignup false autoassignorg true autoassignorgrole Editor authproxy enabled true headername XWEBAUTHUSER headerproperty username autosignup false Here is my dockercompose file version services reverseproxy image reverseproxy containername reverseproxy ports restart always prometheus image promprometheus containername prometheus volumes prometheusymletcprometheusprometheusyml command configfileetcprometheusprometheusyml dependson reverseproxy ports restart always pushgateway image prompushgateway containername pushgateway command persistencefilepushgatewaymetrics persistenceinterval s dependson reverseproxy ports restart always grafana image grafanagrafana containername grafana volumes grafanainietcgrafanagrafanaini environment GFSECURITYADMINPASSWORDadmin GFAUTHOAUTHAUTOLOGINtrue dependson reverseproxy prometheus ports restart always whereas reverseproxy is the container of nginx Anything else we need to know Environment Grafana version latest using docker Data source type version OS Grafana is installed on User OS Browser Chrome Grafana plugins Others Please only use this template for submitting feature requests What would you like to be added When Im using explore and Im scrolling down to the bottom I want to be able to quickly go back to the top and refine my query Why is this needed Hurt my scroll wheel and my finger What happened When youre doing a metrics query on logs such as ratejobdefaultprometheus m The table view show the instant value result But if I click in one cell to add a new label matcher if actually break the query like this jobdefaultprometheuslevelinfo rate m What you expected to happen I would expect the query to be ratejobdefaultprometheuslevelinfo m How to reproduce it as minimally and precisely as possible make a metric query ratejobdefaultprometheus m On the table result click on a cell to add a label Environment Grafana version ratejobdefaultprometheus m Data source type version Loki This changes the logic of the Graphite query editor so that it does not modify the metric path when a user opens the query editor The old behavior was to execute a find query for the last part of the metric path and if there was no data then it would change the value to be select metric The old behavior is still in place when toggling edit mode or for any other action that parses the metric path Fixes This work was originally done in but it was reverted due to issues described in Which issues this PR fixes Fixes Special notes for your reviewer See the commit messages for the breakdown Why is this needed ngannotate is deprecated