See for reference I believe String values in mocks should return by default It is a historically special type which has always had some special primitivelike privileges I assume people expect it to return a nice value as well Thank you for submitting a pull request But first x Can you back your code up with tests x Keep your commits clean squash your commits if necessary It looks like Mockito is using null as a default value for properties in a interface even though they are nonnullable Reproduce kotlin interface Dog val name String class DogCaller fun callDogdog Dog callSomeonedogname private fun callSomeonename String Hey name come here class DogCallerTests private val dogCaller DogCaller Test fun dog caller should call dog by its name val beagle Dog mock This makes the test pass wheneverbeaglenamethenReturnFirulais dogCallercallDogbeagle verifybeaglename This fails cause it detects dogname String null Thank you for submitting a pull request But first x Can you back your code up with tests x Keep your commits clean squash your commits if necessary These are not wrapped I can use them as intended but I have to use anyString There must be a reason for this I am unaware of not putting them in MockitoKotlin I am curious why Do you need a PR Hi Idont now if this is a bug Im trying to verify two arguments by using check Of course I can use an argument capture but Im expecting this should working too kotlin import comnhaarmanmockitokotlin check import comnhaarmanmockitokotlin mock import comnhaarmanmockitokotlin verify import orgassertjcoreapiAssertionsassertThat import orgjunitjupiterapiTest import orgmockitointernalverificationTimes class Tweetval id Int val text String interface TweetRepository fun persisttweet Tweet class TweetTest Test internal fun verify multiple perists val repositoryMock mockTweetRepository repositoryMockpersistTweet first tweet repositoryMockpersistTweet second tweet verifyrepositoryMock Times persistcheck assertThatitidisEqualTo assertThatittextisEqualTofirst tweet verifyrepositoryMock Times persistcheck assertThatitidisEqualTo assertThatittextisEqualTosecond tweet is green but logs assertion errors sh orgopentest jAssertionFailedError Expecting to be equal to but was not at javabasejdkinternalreflectNativeConstructorAccessorImplnewInstance Native Method Context mockitokotlin version OS OSX Kotlin version JDK version JUnit version AssertJ version Type of test unit test Adding the infix to the stub function will allow for a more dsl format kotlin myMock stub on call doReturn someMagicResult Is it possible to do this kotlin interface Repository fun setFoovalue fun getFoo class Intercator repository Repository fun setFoovalue repositorysetFoovalue fun getFoo return repositorygetFoo Test Parametersvalue foo bar fun testSetterexpectedResult String val repo mockRepository val interactor Interactorrepo wheneverreposetFooexpectedResultthen wheneverrepogetFoothenReturnexpectedResult val result interactorsetFooexpectedResult assertEqualsresult expectedResult Ive been trying to upgrade from to and now I have a few tests that fail with this exception javalangNoSuchMethodError comnhaarmanmockitokotlin MockingKtwithSettings LkotlinreflectKClassLjavalangStringLjavalangObjectLorgmockitostubbingAnswerZLorgmockitomockSerializableModeZ LorgmockitolistenersInvocationListenerZLcomnhaarmanmockitokotlin UseConstructorLjavalangObjectZLorgmockitoMockSettings at comqontoqontouiotpsetupphonenumberPhoneNumberPresenterTestinitPhoneNumberPresenterTestkt at sunreflectNativeConstructorAccessorImplnewInstance Native Method at sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava at sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava at javalangreflectConstructornewInstanceConstructorjava at orgjunitrunnersBlockJUnit ClassRunnercreateTestBlockJUnit ClassRunnerjava at orgjunitrunnersBlockJUnit ClassRunner runReflectiveCallBlockJUnit ClassRunnerjava at orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava at orgjunitrunnersBlockJUnit ClassRunnermethodBlockBlockJUnit ClassRunnerjava at orgjunitrunnersBlockJUnit ClassRunnerrunChildBlockJUnit ClassRunnerjava at orgjunitrunnersBlockJUnit ClassRunnerrunChildBlockJUnit ClassRunnerjava at orgjunitrunnersParentRunner runParentRunnerjava at orgjunitrunnersParentRunner scheduleParentRunnerjava at orgjunitrunnersParentRunnerrunChildrenParentRunnerjava at orgjunitrunnersParentRunneraccess ParentRunnerjava at orgjunitrunnersParentRunner evaluateParentRunnerjava at orgjunitrunnersParentRunnerrunParentRunnerjava at orgjunitrunnersSuiterunChildSuitejava at orgjunitrunnersSuiterunChildSuitejava at orgjunitrunnersParentRunner runParentRunnerjava at orgjunitrunnersParentRunner scheduleParentRunnerjava at orgjunitrunnersParentRunnerrunChildrenParentRunnerjava at orgjunitrunnersParentRunneraccess ParentRunnerjava at orgjunitrunnersParentRunner evaluateParentRunnerjava at orgjunitrunnersParentRunnerrunParentRunnerjava at orgjunitrunnerJUnitCorerunJUnitCorejava at comintellijjunit JUnit IdeaTestRunnerstartRunnerWithArgsJUnit IdeaTestRunnerjava at comintellijrtexecutionjunitIdeaTestRunnerRepeaterstartRunnerWithArgsIdeaTestRunnerjava at comintellijrtexecutionjunitJUnitStarterprepareStreamsAndStartJUnitStarterjava at comintellijrtexecutionjunitJUnitStartermainJUnitStarterjava This is on a test that does something like this private val otpViewModel mockOTPSetupViewModel on mustSwitchOtpFromAppToSms itAnswers mustSwitchOtpFromAppToSms on createMfaBySms itAnswers createMfaBySmsResponse on showError itAnswers showErrorLiveData Any idea Info Reference KEEP Test case Test fun mockitoTest val fixture UnsignedFixture mock fixtureubyte u fixtureushort u fixtureuInt u fixtureuLong u verifyfixtureubyteeq u verifyfixtureushorteq u verifyfixtureuInteq u verifyfixtureuLongeq u interface UnsignedFixture fun ubytevalue UByte fun ushortvalue UShort fun uIntvalue UInt fun uLongvalue ULong Error Arguments are different Wanted unsignedFixtureuIntWZ Q NsUInt at ltlibredroppeerdiscoveryPeerDiscoverySpecsComplainTestmockitoTestPeerDiscoverySpecsComplainTestkt Actual invocations have different arguments unsignedFixtureuIntWZ Q NsInteger at ltlibredroppeerdiscoveryPeerDiscoverySpecsComplainTestmockitoTestPeerDiscoverySpecsComplainTestkt Tried workarounds argThat verifyfixtureuIntargThat this u throws javalangNullPointerException at ltlibredroppeerdiscoveryPeerDiscoverySpecsComplainTestmockitoTestPeerDiscoverySpecsComplainTestkt at javabasejdkinternalreflectNativeMethodAccessorImplinvoke Native Method at javabasejdkinternalreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava at javabasejdkinternalreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava at javabasejavalangreflectMethodinvokeMethodjava Capture val captor argumentCaptorUInt verifyfixtureuIntcaptorcapture assertEquals u captorfirstValue Throws javalangNullPointerException at ltlibredroppeerdiscoveryPeerDiscoverySpecsComplainTestmockitoTestPeerDiscoverySpecsComplainTestkt at javabasejdkinternalreflectNativeMethodAccessorImplinvoke Native Method at javabasejdkinternalreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava at javabasejdkinternalreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava I just cloned the repo and runed gradlew test and the project failed with lots of errors shell w Usersbraisprojectsmockitokotlinmockitokotlinsrcmainkotlincomnhaarmanmockitokotlin internalCreateInstancekt Parameter kClass is never used e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mockitokotlin e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference argumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference verify e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference argumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference verify e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference verify e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference argumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference KArgumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference argumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference KArgumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference argumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference KArgumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference argumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference verify e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference nullableArgumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference verify e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference mock e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference argumentCaptor e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference verify e UsersbraisprojectsmockitokotlintestssrctestkotlintestArgumentCaptorTestkt Unresolved reference None of the following candidates is applicable because of receiver type mismatch InlineOnly public inline operator fun BigDecimaltimesother BigDecimal BigDecimal defined in kotlin InlineOnly public inline operator fun BigIntegertimesother BigInteger BigInteger defined in kotlin I fixed it changing the file testsbuildgradle diff compile filesrootProjectprojectDirmockitokotlinbuildlibsmockitokotlinrootProjectextversionNamejar compile projectmockitokotlin I dont know why the project is picked in that way If there is not a good reason for do it that way I have the commit that does the change faa f fab c a d fd so I can create the PR if you want