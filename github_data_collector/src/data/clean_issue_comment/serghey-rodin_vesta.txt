Two years ago there was a ticket for this and since then the situation has not changed so much So this is an abandoned project Operating System OSVERSION Debian VestaCP Version Installed Software what you got with the installer postgresql phpfpm apache nginx mysql Steps to Reproduce Try to delete a pgsql database Other Notes Fixed in PR Was just a typo Operating System OSVERSION CentOS VestaCP Version Installed Software what you got with the installer apache nginx mysql Steps to Reproduce Install VestaCP Create there some domains Little bit work with it Disconnect server from network Reboot server WITHOUT NETWORK Web configs have EMPTY IP address instead of my IP Previously I have similar issue I decided its a bug of my CentOS I reinstalled Linux completely installed VestaCP from scratch Now I have the same issue How my config file looks Screenshot from Screenshot from Screenshot from Screenshot from Also have some temporary sed files in conf folder Datestamp is CURRENT Screenshot from Also tried to rebuild web domains got this rootlocalhost web vrebuildwebdomains admin usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebdatingcompublichtmladminwebdatingcomcgibinfcgistarter No such file or directory chown cannot access homeadminwebdatingcompublichtmladminwebdatingcomcgibinfcgistarter No such file or directory usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebballstarsfrpublichtmladminwebballstarsfrcgibinfcgistarter No such file or directory chown cannot access homeadminwebballstarsfrpublichtmladminwebballstarsfrcgibinfcgistarter No such file or directory usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory chown cannot access homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory chown cannot access homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory Error httpd restart failed rootlocalhost web As I see path like homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter doesnt make sense so may be there is really parsing error After adding some debug lines Ive got this rootlocalhost web vrebuildwebdomains admin DEBUG homedir user admin domain datingcom usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebdatingcompublichtmladminwebdatingcomcgibinfcgistarter No such file or directory chown cannot access homeadminwebdatingcompublichtmladminwebdatingcomcgibinfcgistarter No such file or directory DEBUG homedir user admin domain ballstarsfr usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebballstarsfrpublichtmladminwebballstarsfrcgibinfcgistarter No such file or directory chown cannot access homeadminwebballstarsfrpublichtmladminwebballstarsfrcgibinfcgistarter No such file or directory DEBUG homedir user admin domain minidevicesinfo usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory chown cannot access homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory DEBUG homedir user admin domain minidevicesinfo usrlocalvestadatatemplateswebhttpdphpfcgidsh line homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory chown cannot access homeadminwebminidevicesinfopublichtmladminwebminidevicesinfocgibinfcgistarter No such file or directory Error httpd restart failed rootlocalhost web homedir variable is EMPTY Many conf files damaged and are not regenerating Screenshot from Screenshot from PS Please dont suggest any solutions like reinstall Linux Reinstall VestaCP Check your router I ran bash vstinstallsh nginx no apache no phpfpm no named yes remi yes vsftpd no proftpd no iptables no fail ban no quota no exim no dovecot no spamassassin no clamav no softaculous no mysql no postgresql no in container with minimal Ubuntu to use it only as a DNS slave But nginx repos were added nginx roundcube etc packages were installed They are not needed and were explicitly disable by cli arguements I suggest you add this option for Letsencrypt and Cloudflare with SSL Recently I got this error last month this error never show up SSLdohandshake failed SSL error F BSSL routinesssl getrecordwrong version number while SSL handshaking to upstream but it only affect my apache PHP program that stores in publichtml All other program using NodeJS not affected and still accessible using HTTPS Operating System OSVERSION Debian VestaCP Version Installed Software what you got with the installer MariaDB Steps to Reproduce Restore a user account via vrestoreuser All data is restored perfectly but the authentication for the user is not created on the databases This is likely due to the new MariaDB authentication changes It looks like the restore script inserts the MD password into the MySQL tables directly and then grant access to the user The mysqluser table is now a readonly view so it cant be used to set the password for the user What does work is the GRANT ALL ON database TO user IDENTIFIED BY password but I think the cleartext password is not stored anywhere What I did find is that instead of creating the blank user then setting a password you can instead do CREATE USER user IDENTIFIED BY PASSWORD MD STRING and then the GRANT will work Operating System OSVERSION Type here eg Debian VestaCP Version Type here eg Steps to Reproduce I cant write email address in ftp username field on Remote backup section Error invalid user format 