there is third crash gdb run homelxDIVETrunkbinhfloutput C B A B E B F hflcrash rva xA BEcode xBaccess x luna Starting program homelx lunalunamasterluna homelxDIVETrunkbinhfloutput C B A B E B F hflcrash rva xA BEcode xBaccess x luna call Program received signal SIGSEGV Segmentation fault x a be in visitcall self x fffffffdb node x at srcprettyprintc if lunaveclengthnodeargsvec gdb bt x a be in visitcall self x fffffffdb node x at srcprettyprintc x d be in lunavisit self x fffffffdb node x at srcvisitorc x a a in visitblock self x fffffffdb node x at srcprettyprintc x cf in lunavisit self x fffffffdb node x at srcvisitorc x a in lunaprettyprint node x at srcprettyprintc x in eval source x nm path x fffffffe homelxDIVETrunkbinhfloutput C B A B E B F hflcrash rva xA BEcode xBaccess x luna at srclunac x in main argc argv x fffffffe c at srclunac gdb i r rax x rbx x rcx x rdx x ffff acf e rsi x ffffff rdi x ffff ff b rbp x fffffffda x fffffffda rsp x fffffffd e x fffffffd e r xffffffff r x r x ffff acc a r xfffffffc r x r x fffffffe c r x r x rip x a be x a be visitcall eflags x IF RF cs x ss x b ds x es x fs x gs x gdb x i pc x a be visitcall mov x raxrax x a c visitcall cmpq x rax x a c visitcall je x a d visitcall x a cc visitcall movabs x f rdi x a d visitcall mov x al x a d visitcall callq x d x a df visitcall movl x x rbp x a e visitcall mov eax x rbp x a e visitcall mov x rbpeax x a ec visitcall cmp x eax there is second crash gdb error information gdb run homelxDIVETrunkbinhfloutput C B A B E B F hflcrash rva x EAcode xBaccess x luna Starting program homelx lunalunamasterluna homelxDIVETrunkbinhfloutput C B A B E B F hflcrash rva x EAcode xBaccess x luna Program received signal SIGSEGV Segmentation fault x de in primaryexpr self xffffffffffffffff at srcparserc bt gdb bt x de in primaryexpr self xffffffffffffffff at srcparserc xffffffffffffffff in xffffffffffffffff in x ffffffff in x fffffffd in x da in primaryexpr selferror reading variable Cannot access memory at address xffffffffffffffef at srcparserc Backtrace stopped previous frame inner to this frame corrupt stack gdb i r rax x rbx x rcx x ff rdx x fffffffdc rsi x fffffffd rdi xffffffffffffffff rbp x fffffffd x fffffffd rsp x fffffffd x fffffffd r xffffffffffffffff r xffffffffffffffff r xffffffffffffffff r x ffff e r x r x fffffffe b r x r x rip x de x de primaryexpr eflags x IF RF cs x ss x b ds x es x fs x gs x gdb x i pc x de primaryexpr mov x rdirdi x e primaryexpr add x rdi x e primaryexpr mov x rbprcx x ea primaryexpr mov rdi x rcx x ee primaryexpr mov x rbprcx x f primaryexpr mov rcx x rbp x f primaryexpr mov eax x rbp x f primaryexpr jmpq x b primaryexpr x fe primaryexpr mov x rbprdi x primaryexpr callq x bc parenexpr then luna is crashed by my crash fileI think it is also caused by High truncationthen I want to show my error information to help your guys gdb crash information gdb run homelxDIVETrunkbinhfloutput C B A B E B F hflcrash rva x C code xBaccess x fe e b lunaheapoverflow returnaddrluna x B addr x fe e bc x Starting program homelx lunalunamasterluna homelxDIVETrunkbinhfloutput C B A B E B F hflcrash rva x C code xBaccess x fe e b lunaheapoverflow returnaddrluna x B addr x fe e bc x Program received signal SIGSEGV Segmentation fault GIfseek fp x offset whence at fseekc fseekc No such file or directory Hello everyoneI use my company tools to fuzz test lunaBut when it firstly runluna is crashSo I dig to find the key problem It is due to Makefile wasnt perfect when luna use old Makefileluna wasnt crashBut when it use ASANluna crashedBecause Makefile is lack of DGNUSOURCE make config there is new Makefilebut when it use new MakefileASAN also printERROR LeakSanitizer detected memory leaksSo I want to show my process in fuzz test The debug macro in parsec is ifdef EBUGPARSER define debugname fprintfstderr n e ms e m n name lunatokeninspect selflextok else define debugname endif But following debug statement will crash because the selflextok hasnt been assigned a valid token static lunablocknodet programlunaparsert self debugprogram Can the debug macro be changed to ifdef EBUGPARSER define debugname fprintfstderr n e ms e m n name ifselflexoffset lunatokeninspect selflextok else define debugname endif Hey tj Ive just opened Hacker News and saw this announcement Luna lang Does it mean you have to change your languages name now I really liked it Is the list of opcode complete or are there more to be added Hi guys YOU GUYS are doing exciting things I love your idea but since I look through the issues I didnt find any issue about type system Have you ever thought about it If you want to make it expressive I think its one of the most important matters Thanks Does Luna have null Does Luna have the concept of tagged unions variant types Can you pass a function as a parameter to another function if so what is the type declaration of the function Thanks 