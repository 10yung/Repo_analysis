Hi there Im newbie in Swift and for now I am facing this kind of issue I tried various solutions which I found on StackOverflow but errors did not disappeared I have no idea whats going on maybe something with imported settings Please can you give me some advice Thanks img width altSn mka obrazovky o src Kanna Ji macOS Linux XPath XPath error Invalid expression let data try DatacontentsOf URLstring let gbk CFStringConvertEncodingToNSStringEncodingCFStringEncodingCFStringEncodingsGB rawValue let string Stringdata data encoding StringEncodingrawValue gbk its OK let doc Jidata data encoding StringEncodingrawValue gbk isXML false it show error encoding error input conversion failed due to input error Evaluating XPath strings fails if one of the elements is defined with XML namespace Most of the frameworks offer a method to register namespaces but I found no way for Ji So I guess many of the common XMLHTML files cant be queried by your xPath function Since Swift isnt ABI stable yet the prebuilt binaries that Carthage gets from Github on the releases page are not working with the latest versions of XCodeSwift Would recommend that they be removed as XCode wont build with them As far as I can tell libxml supports CSS selector in addtion to XPath selector And does support CSS selector Hey again Ive been running into some issues trying to correctly decode the content of a specific page The response header says its utf the page itself says is latin Decoding with utf works when done by hand but I kept having encoding issues when creating an HTML document with Ji swift let htmlDoc JihtmlData data encoding NSUTF StringEncoding I tried a bunch of different NSStringEncodings most with the same results which seemed weird Having a look at Jis code I found cEncoding to be a null pointer every time so htmlReadMemory probably defaults to something besides utf swift let cEncoding UnsafePointerCChar CFStringGetCStringPtrcfEncodingAsString if cEncoding nil printcEncoding is a null pointer If I hardcode the encoding of the page as a string literal a few lines lower everything seems to be working swift htmlDoc htmlReadMemorycBuffer cSize nil utf options I hope this helps debugging this issue I dont have much of a clue 