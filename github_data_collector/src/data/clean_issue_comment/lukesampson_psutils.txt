Hi guys I have this issue if i start a cmd window using sudo the history of typed commands is gone Any way to make it works Thank you It seems that the sudo command gets caught by some antivirus programs Example from Bitdefender PowerShell tried to load a potentially malicious resource and was blockedYour device is safe Do you know of any ways around this that isnt to put PowerShell on the exceptions list The problem is solved Thanks jtc for providing a workaround of pwsh Now sudo both work in powershell and pwsh See below The same thing does timecmd Im not sure if this is an issue with gitignore or my bad powershell skills but I thought I would just add this here because maybe its an easy fix When I tried using the gitignore util with the powershell command gitignore python gitignore the command produced the full python gitignore template but the template didnt seem to be recognised by git One of the excluded directories in the template is build yet whenever I did a git add on a fresh repository the build directory was always included However if I copied the template from gitignoreio to a new gitignore file then there was no issue and the build folder wasnt staged So I wonder if this is a text encoding issue because when I copy and pasted the gitignore file works but when piped it doesnt I also noticed that the command line tool on gitignoreio adds Encoding ascii to their command Here are the gitignore files that I generated notworkingtxt workingtxt I have my powershell profile in C Users Username Documents WindowsPowerShell MicrosoftPowerShellprofileps I added some custom functions and aliases there that need admin privileges which I can access without problems while running powershell as administrator and typing MyFunction but on nonelevated powershell sudo MyFunction doesnt even recognize the function name and throws error MyFunction The term MyFunction is not recognized as the name of a cmdlet function script file or operable program Check the spelling of the name or if a path was included verify that the path is correct and try again At line char MyFunction CategoryInfo ObjectNotFound MyFunctionString CommandNotFoundException FullyQualifiedErrorId CommandNotFoundException I noticed that if one of the args is a boolean like false it gets converted to a string and causes problems in some cmdlets sudo DisableNetAdapter Name WiFi Confirmfalse DisableNetAdapter Cannot convert SystemString to the type SystemManagementAutomationSwitchParameter required by parameter Confirm sudo powershell DisableNetAdapter Name WiFi Confirmfalse EnableNetAdapter Name WiFi Confirmfalse Most of my scripts calls SetStrictMode Version Latest initially and Ive noticed that touch fails in this mode SetStrictMode Version Latest touch file The property A cannot be found on this object Verify that the property exists At touchps char ifoptsA CategoryInfo NotSpecified ParentContainsErrorRecordException FullyQualifiedErrorId PropertyNotFoundStrict This can either be fixed by not accessing hashtable contents as members but using the indexer or by calling SetStrictMode Off at the beginning of the file Hope you fix this as I love your tools And Id be happy to make a PR with the change youd prefer sudo does not work in PowerShell Reproduce Install PowerShell Core Run sudo echo Observe no UAC switch command to something that would otherwise require Admin privilege Observe command fails Sudo uses a fixed entry point for powershell instance Could this be customizable