Steps to reproduce installpackagescountrycode librarycountrycode countrycodeEngland countryname iso c Error codelist is not an exported object from namespacecountrycode datapackagecountrycode Data sets in package countrycode countrycodedata Country Code Translation Data Frame sessionInfo R version Platform x pclinuxgnu bit Running under Alpine Linux v Matrix products default BLAS usrlibRliblibRblasso LAPACK usrlibRliblibRlapackso locale enUSUTF C enUSUTF attached base packages stats graphics grDevices utils datasets methods base other attached packages countrycode loaded via a namespace and not attached Rcpp pillar compiler RmethodsS prettyunits Rutils remotes Ive been playing with the newly released GitHub Actions and I think it would be really cool to use it to automatically test the dictionary build process periodically and report if any changes have occurred I setup a basic demonstration on a private fork here The action file is here The scraper tester script is here and the first results from an auto run are here you can see the relevant results under the run Scraper test section This example runs automatically every months and also any time a push is committed to master but obviously that could be changed to whatever is appropriate Additionally this could probably get to the point of autocreating an issue whenever it detects a change or even create a PR with the changes in the long run vincentarelbundock do you think this is something worth investing time in Any interest in wrapping this in closestfield functionx iflengthx lengthuniquex stopx must be a vector of unique values similarity sapplycodelist functionfield sumx in field lengthx similarity dataframefield namessimilarity similarity asvectorsimilarity stringsAsFactorsFALSE similarity similarity ordersimilaritysimilarity decreasing TRUE ifsuppressWarningssuppressMessagesrequiretibble returnsimilarity returnastibblesimilarity closestfieldcCMALPAMKHACOZIKUTHFI A tibble x field similarity chr dbl fips ecb eurostat genc c iso c wbapi c cldrnamebem cldrnamebo cldrnamecu cldrnamegv with more rows closestfieldcIvory CoastGuineaIranRussiaNorth Korea A tibble x field similarity chr dbl cowname vdemname cldrvarianten cldrvariantengb countrynameen eurostatname p name wvsname cldrnameen cldrnameengb with more rows in line of datastaticcsv countrynamede blank countrynamederegex ASIA for comparison countrynameen Republic of Vietnam countrynameenregex socialrepublicofvietnamsouthvietnamvietnamsouth eg r countrycodeUnited States of America countryname countrynamede Vereinigte Staaten countrycodeVietnam countryname countrynamede Vietnam countrycodeRepublic of Vietnam countryname countrynamede NA Warning message In countrycodeRepublic of Vietnam countryname countrynamede Some values were not matched unambiguously Republic of Vietnam Tests specifically for Vietnam and Republic of Vietnam and their interaction are probably needed in multiple languages The current regex for Vietnam causes a false positive on Republic of Vietnam if it is preceded by any character including whitespace southrepublicvietnamsouthsocialistrepublicofvietnamnorthvietnamvietnamnorth eg r countrycode Republic of Vietnam countryname countryname NA Warning messages In countrycode Republic of Vietnam countryname countryname Some values were not matched unambiguously Republic of Vietnam In countrycode Republic of Vietnam countryname countryname Some strings were matched more than once and therefore set to NA in the result Republic of VietnamVietnamRepublic of Vietnam This causes failures on build when the tests for recognizing a country name within a sentence run because the sentence The governement of Republic of Vietnam was reelected matches Vietnam and Republic of Vietnam eg r countrycodeThe governement of Republic of Vietnam was reelected countryname countryname NA Warning messages In countrycodeThe governement of Republic of Vietnam was reelected Some values were not matched unambiguously The governement of Republic of Vietnam was reelected In countrycodeThe governement of Republic of Vietnam was reelected Some strings were matched more than once and therefore set to NA in the result The governement of Republic of Vietnam was reelectedVietnamRepublic of Vietnam Might be useful to check or enrich the package ISO country lists merged with their UN Geoscheme regional codes in readytouse JSON XML CSV data sets Please add Eswatini as an alternate countryname for Swaziland Thanks r librarycountrycode packageVersioncountrycode countrycodeSomalia countryname wb Warning in countrycodeSomalia countryname wb Some values were not matched unambiguously Somalia NA though the source file used by getworldbankR does contain code SOM for Somalia I dont see any manual adjustments to remove it and I dont see any previous issues here that mention Somalia reported on Stack Overflow here Is there any advantage to having complicated regexes versus a list of alterations of known variations other than brevity For example US Virgin Islands bu ssvirgin statesvirgin versus United States Virgin IslandsUS Virgin IslandsUS Virgin IslandsVirgin Islands USVirgin Islands USVirgin Islands USVirgin Islands US which could easily be generated using a list such as our countrynameknownvariationsjson r libraryjsonlite librarycountrycode countrylist fromJSONteststestthatcountrynameknownvariationsjson pastecountrylistUS Virgin Islands collapse United States Virgin IslandsUS Virgin IslandsUS Virgin IslandsVirgin Islands USVirgin Islands USVirgin Islands USVirgin Islands US I feel like it would be easier to maintain easier to add new variations less error prone and honestly I would be less hesitant to mess with them Id even be motivated to build a list of all known variations for all countries based on all of our current code sets plus a bunch of commonly used country level datasets which would likely cover a very high percentage of possibilities The only minor difficulty I see would be adding exclusions like preventing Germany from matching East Germany but that seems easy enough compared to managing complicated regexes for everything vincentarelbundock do you see any major major problems with that other than the fact that we currently use regex as the unique key for everything any thoughts on that in current master r countrycodeXXX countryname cown nomatch NA Warning messages In countrycodeXXX countryname cown nomatch The argument nomatch must be NULL NA or of the same class as the destination vector Fillingin bad matches with NA instead In countrycodeXXX countryname cown nomatch Some values were not matched unambiguously XXX 