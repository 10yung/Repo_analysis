I tried to even update the gradle plugin but it keeps failing At first it shows this And after trying to update it shows this Proposed migration to Kodein Im trying to build this via gradlew clean build and Im getting following error Download Download Download Download Download e UsersplastaDesktopBandhookKotlinmasterappsrcmainjavacomantonioleivabandhookkotlindiDataModulekt Unresolved reference lastfmapikey FAILURE Build failed with an exception What went wrong Execution failed for task appcompileDebugKotlin Compilation error See log for more details Try Run with stacktrace option to get the stack trace Run with info or debug option to get more log output Run with scan to get full insights Get more help at Deprecated Gradle features were used in this build making it incompatible with Gradle See BUILD FAILED in m s AndroidTestCase and ActivityInstrumentationTestCase come from old and deprecated Android platform testing API May we consider to migrate current UI tests to Espresso val createdView albumsFragmentonCreateViewlayoutInflater null null Then assertNotNullalbumsFragmentadapter is failing as the container is null if we mock the container it will fail as it will search for the context DO NOT MERGE This is a sample proof of concept refactoring the app to use a monad transformer stack pushing Kotlin as much as it can go with FP and functional combinators This PR will remain as such as is not intended to be merged but showcases a different style of coding in Kotlin similar to that found in Scala or Haskell The obvious limitation is the lack of support for Higher Kinds having to implement manually most of the combinators found on types such as EitherT F L R as part of the Result type In gitignore there is an instruction Api key appsrcmainresvaluesapikeyxml I believe the readme should tell about it and ask to store api key there rather than in the configxml file One way to handle it is After pressing back button in the top bar activity is relaunched When using system back button the experience is much nicer 