 Presumably this check is intended to check for repeated rows in the resulting table which would give an invalid tsibble When i is provided as a logical vector it is not possible to repeat rows via indexing Resolves Before r librarytsibble librarylubridate yearyearweek W supCreated on by the reprex package v sup After r librarytsibble librarylubridate yearyearweek W supCreated on by the reprex package v sup Implemented the ability to calculate relative differences with the difference function Code from base Rs diff function replaces the call to diff in order to allow for each iterative difference to be a relative difference Otherwise the diffimpl function executes the same code as the diff function The test for appropriate vector length is implemented in the difference function as is a test for in x which invalidates a relative difference A warning for differences above is also included as it might not be intuitive that a second relative difference is the relative difference in a relative difference One use of relative TRUE is added to the examples and the parameter is defined for the difference function Changed non L defaults for lag and differences parameters to L defaults Added relative parameter to keyeddifference cc DavisVaughan Id be happy to deprecate window functions in favour of slurrrslide Ive had a quick look and seems that slurrrslide replace slide tile stretch all together by using different parameters Youll probably have futureslide in mind too living in slurrr or furrr Looks like also plans to implement this set of functions But Hadley said no plan in the near future Does it mean slurrr will not be replaced by funs What timeline do you think for submitting to CRAN Please briefly describe your problem and what output you expect If you have a question please dont use this form Instead ask on or Please include a minimal reproducible example AKA a reprex If youve never heard of a reprex before start by reading Is there a reason why yearweek does not work with W like yearquarter with Q r librarytsibble yearweek W Error Input data W cannot be expressed as Date type yearquarter Q Q Currently yearweek works with formats like but this can be confusing because is interpreted as month instead of week It would be more consistent and less confusing if yearweek supports a format like W yearmonth has a similar problem because it does not work with M Although it is not necessary but I think this will help increase consistency slideby stretchby tileby which integrates with dplyrs mutate summarise etc It is common to apply movingwindow averages to a time series eg day moving average day moving average etc Currently slide and tile require that the window size is specified in terms of the number of observations It would be neat if these functions could also support a duration eg the lubridateduration class as an alternative way to specify the window size On a related note it would be helpful to have some helper functions for converting the tsibbleinterval class to a difftime object lubridateduration class the lubridateinterval class represents something different from the tsibbleinterval concept eg r asdurationinterval functionx lubridateasdurationformatx intervalsometsibble D asdurationintervalsometsibble s days For a regular tsibble the window size can then be computed with r lubridateduration days asdurationintervald Hi tidyverts team tsibble looks so great in handling time series data In production most of the common feature engineering is windowing such as the sliding window fixed window and so on I am manually make sliding window by pretty complicated Spark SQL instead of tidyverts style because tsibble currently not support spark like dplyr Wish to discuss more tsibble on sparklyr in production The sparklyr struct streaming is also a good candidate to integrate with tsibble The default R calendar is fine for most users Some of us however often use other types of calendars For example the CFConventions which are used primarily by climate scientists define the following possible calendars c day noleap day gregorian prolepticgregorian standard The R package PCICt also used by the emerging pkg stars provides a basic support for these calendars It would be awesome if tsibble somehow integrated support for other calendars