 Background Fix this problem Breaking Changes No breaking changes Bumps excon from to details summaryChangelogsummary Sourced from excons changelog fix for leftover data with interrupted persistent connections Update bundled certificates Fix mistake in proxy connection error handling Raise better proxy connection errors Updated bundled certs Properly redact userpass info from proxy credentials Update bundled certs Add remoteip to datum enabling usage in middleware redirect follower now raises after following too many redirects default fixed stub clearing in tests to avoid race conditions fix yardoc formatting fix creating Proc without a block reducerefine gem file contents update bundled certs readd bundled certs to gem file contents details details summaryCommitssummary d v ccb d fix for leftover data with interrupted persistent connections f de cf v f a v e bbb Merge pull request from jasquatfixresponsestatuscheck fixed response status check when making a request with a valid proxy is set f v c define ProxyConnectionError f a raise on failed proxy connect d ed fe be thorough in unsubscribing to notifications in instrumentation tests Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details when i add a locationannotationnode at some distance away from me it still adds it at the place where i am standing ie its write into my face Background Add jazzyyml and a docs folder tree built by Jazzy from Swiftdoc docstrings Breaking Changes None Meta Tied to Version Releases PR Checklist CI runs clean Appropriate label has been added to this PR ie Bug Enhancement etc Documentation has been added to all open and public scoped methods and properties Changelog has been updated Tests have have been added to all new features not a requirement but helpful ImageGIFs have been added for all UI related changed Polish Jacopo Gasparettos node stacking work and merge it into mainline Whats happening AR camera will freeze when app is returning from background with an ongoing AR session Device tested iPhone XS Max running iOS It seems like a deadlock on the SCNTransactioncommit command in LocationNodeswift How to reproduce search address in the sample code click on navigate to the address move app to background launch a different app relaunch the sample code app will freeze Log messages pause ARKitCoreLocation Snapshotting Snapshotting a view x a UIKeyboardImpl that is not in a visible window requires afterScreenUpdatesYES run camera did change tracking state limited initializing Camera ARCamera x c e imageResolution focalLength principalPoint trackingStateLimitedInitializing transformtranslation rotation Full stack lldb bt thread queue comapplemainthread stop reason signal SIGSTOP frame x e libsystemkerneldylibpsynchrwwrlock frame x libsystempthreaddylibpthreadrwlocklockwait frame x acd SceneKitC DTransactionFlush frame x acd dac SceneKitC DTransactionCommit frame x caf ARCLLocationNodeupdatePositionAndScalesetupfalse scenePositionsome nodeLocation x afe a locationManager x d c onCompletion x ARCLpartial apply forwarder for closure in closure ARCLLocationNode in closure ARCLPolylineNode in ARCLSceneLocationViewupdatePositionAndScaleOfLocationNodes at compilergenerated self x d at LocationNodeswift frame x ARCLclosure in closure in SceneLocationViewupdatePositionAndScaleOfLocationNodesnode x d self x ca at SceneLocationViewswift frame x c d ARCLthunk for calleeguaranteed guaranteed LocationNode error owned Error at compilergenerated frame x ARCLthunk for calleeguaranteed guaranteed LocationNode error owned Errorpartial apply at compilergenerated frame x c libswiftCoredylibextension in SwiftSwiftSequenceforEachAElement throws throws frame x ARCLclosure in SceneLocationViewupdatePositionAndScaleOfLocationNodesnode x d e self x ca at SceneLocationViewswift frame x d ARCLthunk for calleeguaranteed guaranteed PolylineNode error owned Error at compilergenerated frame x c ARCLthunk for calleeguaranteed guaranteed PolylineNode error owned Errorpartial apply at compilergenerated frame x c libswiftCoredylibextension in SwiftSwiftSequenceforEachAElement throws throws frame x ARCLSceneLocationViewupdatePositionAndScaleOfLocationNodesself x ca at SceneLocationViewswift frame x c ARCLprotocol witness for SceneLocationManagerDelegateupdatePositionAndScaleOfLocationNodes in conformance SceneLocationView at compilergenerated frame x ARCLSceneLocationManagerupdateLocationDataself x d c at SceneLocationManagerswift frame x c ARCLclosure in SceneLocationManagerrun x dda self x d c at SceneLocationManagerswift frame x ARCLthunk for escaping calleeguaranteed guaranteed NSTimer at compilergenerated frame x ea Foundation NSTimerBlockTarget fire frame x f c FoundationNSFireTimer frame x e b CoreFoundationCFRUNLOOPISCALLINGOUTTOATIMERCALLBACKFUNCTION frame x e ee CoreFoundationCFRunLoopDoTimer frame x e c CoreFoundationCFRunLoopDoTimers frame x e CoreFoundationCFRunLoopRun frame x e CoreFoundationCFRunLoopRunSpecific frame x ab d c GraphicsServicesGSEventRunModal frame x c d d UIKitCoreUIApplicationMain frame x ee b c ARKitCoreLocationmain at AppDelegateswift frame x cfd libdylddylibstart lldb The implementations of translationtoLocation and translatedLocationwith use a linear interpolation of spherical coordinates This technique gives reasonably decent accuracy for short distances but is inherently incorrect Note the value of translatedLocationAccuracy in assertCorrectTranslationComputations in CLLocationExtensionsTestsswift Its degrees Put another way were willing to say that these functions are correct if they get to within to nautical mile of the correct value I tried decreasing the allowed error even to but many of the tests failed at that stilltoogenerous threshold The correct approach would be to project the locations into a rectangular coordinate system perform the easting and nothing translations and project that result back into latlon coordinates One implementation idea is to use MapKits MKMapPointForCoordinate and MKCoordinateForMapPoint conversion routines and do the actual translation in the grid MapKit uses some sort of Mercator projection That would introduce a dependency on MapKit Another way would be to write and verify Mercator forward and reverse projection code which would be more work John Snyders red book is a good source for algorithms and truth data Im leaving this problem for another day but wanted to document it while its fresh I pulled the last commits from develop and now I always experience really poor performance when the tracking state change from normal to limited insufficient feature to normal again Everything becomes extremely laggy and I have to restart my application Here the log that it prompts every time camera did change tracking state limited initializing camera did change tracking state limited relocalizing camera did change tracking state normal camera did change tracking state limited insufficient features camera did change tracking state normal Technique World tracking performance is being affected by resource constraints Technique VIO error callback Frame processing rate has fallen below preset threshold Technique VIO error callback Frame processing rate has fallen below preset threshold Technique World tracking performance is being affected by resource constraints Technique VIO error callback Frame processing rate has fallen below preset threshold Technique VIO error callback Frame processing rate has fallen below preset threshold Technique VIO error callback Frame processing rate has fallen below preset threshold Technique World tracking performance is being affected by resource constraints when I move all nodes are move with me where I travel please help me Here is my code func ARINIT var location CLLocationcoordinate CLLocationCoordinate Dlatitude longitude altitude ISKPRO let image UIImagenamed pin var annotationNode LocationAnnotationNodelocation location image image annotationNodeannotationNodename ISKPRO annotationNodescaleRelativeToDistance true sceneLocationViewaddLocationNodeWithConfirmedLocationlocationNode annotationNode location CLLocationcoordinate CLLocationCoordinate Dlatitude longitude altitude Un named next to ISKPRO annotationNode LocationAnnotationNodelocation location image image annotationNodeannotationNodename Next to ISKPRO sceneLocationViewaddLocationNodeWithConfirmedLocationlocationNode annotationNode location CLLocationcoordinate CLLocationCoordinate Dlatitude longitude altitude R Systems annotationNode LocationAnnotationNodelocation location image image annotationNodeannotationNodename R Systems sceneLocationViewaddLocationNodeWithConfirmedLocationlocationNode annotationNode 