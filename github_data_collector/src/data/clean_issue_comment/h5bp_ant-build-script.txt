For unix and windows we have defined the jpegtranexecutable and advpngexecutable locations so to find out if we have them we have to check that variable not the ENVPATH variable Is it intentional that the validate routine is hard coded to a single file specified in filerootpage Validate target run separately target namevalidate apply dirdirsource executablejava parallelfalse fileset dirdirsource include namefilerootpage fileset Should it instead loop over all the files specified in filepages Or is the intent to simply call it multiple times as a separate antcall eg ant validate Dfilerootpageindex html I am using a single css file in my indexhtml file link relstylesheet hrefcssstylecss This links out to a file that consists only of imports import urlnormalizecss import urlmaincss import urlsitecss The maincss is the default css that is packaged wBoilerplate However all the parens on one of the media queries seems to be breaking the minification routine It looks like the expression is causing issues maybe the slash is escaping something The problematic section is bolded below with its result unminified for readability Before clearfix zoom EXAMPLE Media Queries for Responsive Design These examples override the primary mobile first styles Modify as content requires media only screen and minwidth em Style adjustments for viewports that meet the condition media print omindevicepixelratio webkitmindevicepixelratio minresolution dpi Style adjustments for high resolution devices Print styles Inlined to avoid required HTTP connection h bpcomr media print background transparent important color important Black prints faster h bpcoms boxshadow none important textshadow none important a avisited textdecoration underline snip After clearfix zoom media printomindevicepixelratio media print backgroundtransparent importantcolor importantboxshadownone importanttextshadownone important a avisited textdecoration underline I just cloned bp and the buildscript in a clean directory and everything works fine for the first buildingprocess After that the html file wont get updated with the new hashname for the cssfile on ant build Though changes in the original htmlfile get respected and the cssfile gets copied to the publishfolder with a new hashname Removing the intermediatedir makes it work again Is there a way to just update change the existing files in the publishfolder after another buildexecution Like I understand its supposed to be Im trying to get this to work for a couple of hours now but I couldnt find any really helpfull infos In the end I wanna set this up together with sass but thats not the problem Did I miss something Any advice on this This is a placeholder for any work Ill do on the image optimization tasks Theres a new branch for that work Ill pull in the bugs and any other changes here in order to have one place to track the problems I get this on Minifying any unconcatenated css files javaioFileNotFoundException sitepublishhtmlcssoutsideoutsidecss It looks like cssdirectory is not yet created on publish at this point Im still trying to figure out how to overcome this If I understand correctly this ANT Build task does jsminification in this order minifies every js file concatenates minified js files This is really problematic if you want to use Closure Compilers ADVANCEDOPTIMIZATIONS The order should be reversed concatenates js files minifies the concatenated file Or have I understood something wrong I may have a unique case or maybe not Ive included a screen shot of my text editor with the directory tree on the left Only trouble Im running into is that my minified directory for JS wont copy over to the publish directory created by ant I use Codekit for minifying my JS so I dont need ant to do that for me Hopefully this is a setting Im missing or something ant projectproperties file bash V projectproperties file defines overrides for defaultproperties Explanation This file should be created by each user as and when he or she needs to override particular values Consequently it should not be placed under version control HTML These are the pages files that will be served to users html php asp etc Files in this property will be minified optimised and have any stylesheet or javascript references updated to the minified examples The paths need to be relative Files can be added in a comma separated form filepages indexphp missinghtml Root page file The script tags between the magic comments in this page beg concatjs script srcjspluginsjsscript script srcjsmainjsscript end concatjs determine the ordered list of scripts to be concatenated minified and swapped with filerootscript in all the pages filerootpage indexhtml htmlcompressor Options Override default htmlcompressor options HTML Compressor documentation toolhtmlcompressoropts removequotes preservemultispaces compresscss preservephp preservessi Add optional htmlcompressor options toolhtmlcompressoroptsextra preservephp Stylesheets Note Stylesheets will be concatenated in the order they are listed in the filestylesheets property ie the last file listed will be at the end of the concatenated file so it probably makes sense to have the main stylecss file as the first entry NOTE avoid adding spaces after the comma unless your file name has spaces which you should probably consider not using anyway Example filestylesheets stylecsslightboxcssplugincss filestylesheets LESS CSS Processing You must tell the script if you want to process your CSS as LESS buildcssless true You must also set your LESS css file as the root CSS file Example filerootstylesheet styleless SASS SCSS CSS Processing You must tell the script if you want to process your CSS as SCSS buildcssscss true You must also set your SCSS css file as the root CSS file Example filerootstylesheet stylescss Override default CSSLint Options see for description of options toolcsslintopts Directories Excluded files and dirs Add any files or directories you add to the project and do not want to be copied to the publish directory as a comma separated list These files are ignored in addition to the default ones specified in defaultproperties Example fileexclude badfolder fileexclude new scssscss new scsspartialsscss sasscache new jslibs dandelionyml new bowerrc new editorconfig new componentjson configrb codekitconfigjson Directory Structure Override any directory paths specific to this project dirsource dirintermediate intermediate dirpublish publish dirbuild build dirbuildtools dirbuildtools dirjsdoc dirbuildtoolsjsdoc dirtest test dirdemo demo dirjs new jsminified dirjsmain dirjsjsminified scripts in the lib directory will only be minified not concatenated together dirjslibs dirjsvendor this is identical to the libs in dirjslibs but just an easier reference when you dont need the full path sluglibs vendor scripts in the modules directory will be minified not concatenated but will be cachebusted dirjsmodules dirjsminified this is identical to the modules in dirjsmodules but just an easier reference when you dont need the full path slugmodules modules dircss new css dirdocs docs Javascript Bypassed JavaScript files and dirs Add any files or folders within the js directory that you want to be copied to the publish directory as a comma separated list These files will not be concatenated or minimized and will simply be copied over as is Note you cannot declare an empty filebypass property Example filejsbypass new jsminifiedmainminjs filejsbypass Closure Compiler Options options are WHITESPACEONLY SIMPLEOPTIMIZATIONS ADVANCEDOPTIMIZATIONS scriptscompilationlevel SIMPLEOPTIMIZATIONS options are QUIET DEFAULT AND VERBOSE scriptscompilationwarninglevel QUIET Override default JSHint Options see for description of options tooljshintopts Override default JSLint Options see for description of options tooljslintopts uncomment to enable inline JavaScript compression For now weve disabled it to protect against errors generated with template script tags toolhtmlcompressorjavascript compressjs Optional property used to determine whether to include requirejs implementation of script in the build process Uncomment and include the path Example scriptrequirepath jslibsrequirejqueryjs scriptrequirepath You can set multiple directories here eg img cssimg dirimages img cssimg uncomment to set async andor defer attributes on your scripts scriptsasync async scriptsdefer defer Build Specify an environment to build By Default it builds a production environment Set to dev if building a development environment Set to test if building a test environment env set the hash length used for versioning css and js files valid values are between and shorter values use less bytes at the expense of increasing the probability of a hash collision hashlength concat tokens buildjstoken concatjs Images Bypass Optimization for these image files or folders imagesbypass If set these images will not be optimized Note you cannot declare an empty imagesbypass property it would exclude the entire img folder from being optimized Rev Image Filenames within the main stylesheet defaults to true cssrevimages false Rev Image Filenames within the HTML files defaults to false htmlrevimages true You can set multiple directories here eg img cssimg dirimages new img Image Optimisation imagesstripmetadata true Seting this to true will strip the metadata from all jpeg and png files YOU SHOULD ONLY DO THIS IF YOU OWN THE COPYRIGHT TO ALL THE IMAGES IN THE BUILD uncomment this to enable progressive jpg conversion using jpegtran imagesoptsprogressive progressive Misc Compatibility with older versions of html boilerplate recently jslibs was changed to jsvendor and the main JS file was changed to mainjs uncomment these lines to support the old file structure dirjslibs dirjslibs filerootscript scriptjs sluglibs libs Override default jsdoc options tooljsdoc opts template templatesdefault the path to your phantomjs binary It should live in dirbuildtools toolphantomJS phantomjs windowsphantomjsexe the location of qunitjs for PhantomJS toolqunitjs qunit js the name of your qunitrunnerjs file for PhantomJS toolqunitrunnerjs qunitrunnerjs the location of your tests dirtests tests JSDOC Documentation You must tell the script if you want to build documentation buildjsdoc true screen shot at pm in my project more tha n html filewhin i ant buildit only compress indexhtml file not my other file wahyi want to minify all html file i dont want to cancatiniate css file how can i do that is override existing jscss html posssiblethen how please help me I renamed indexhtml to indexphp and in projectproperties I added filerootpage indexphp The build finishes succefully but the indexphp in the publish folder contains beg concatjs script srcjspluginsjsscript script srcjsmainjsscript script srcjsloginjsscript end concatjs Instead of script srcjs ebd jsscript I dont have this issue if I delete filerootpage and rename the file back to indexhtml 