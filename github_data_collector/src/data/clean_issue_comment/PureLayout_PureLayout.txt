The script described here used to work perfectly until some recent changes on CocoaPods On CocoaPods the script fails to enter the conditional block meaning that the GCCPREPROCESSORDEFINITIONS are never set While debugging the script I found out that the APPLICATIONEXTENSIONAPIONLY flag value is not set during the execution its blank If I revert the CocoaPods version to the script works fine Any ideas Bumps nokogiri from to details summaryChangelogsummary Sourced from nokogiris changelog Security Notes MRI Pulled in upstream patches from libxml that address CVE and CVE Full details are available in Note that these patches are not yet as of in an upstream release of libxml Bug fixes MRI Fix regression in installation when building against system libraries where some systems would not be able to find libxml or libxslt when present Regression introduced in v JRuby Fix node reparenting when the destination doc is empty Bug fixes MRI Fix memory leak when creating nodes with namespaces Introduced in v Security Notes MRI Behavior in libxml has been reverted which caused CVE loofah gem CVE sanitize gem and CVE railshtmlsanitizer gem The commit in question is here and more information is available about this commit and its impact here flavorjonesloofah This release simply reverts the libxml commit in question to protect users of Nokogiris vendored libraries from similar vulnerabilities If youre offended by what happened here Id kindly ask that you comment on the upstream bug report here Dependencies MRI libxml is updated from to Features Nodeclasses addclass appendclass and removeclass are added NodeSetappendclass is added NodeSetremoveattribute is a new alias for NodeSetremoveattr NodeSeteach now returns an Enumerator when no block is passed Thanks park kr trtable truncated details details summaryCommitssummary e fa b version bump to v edef update changelog feb c Merge branch fix cc cf Organize imports in XmlNodejava Allow reparenting nodes to be a child of an empty document b cd f Merge pull request from sparklemotion canonicalusns bff bb pull in upstream libxml patches c changelog b f changelog b eb remove Wextra CFLAG Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Hi Ive created a custom view that contains labels and a button When I set the custom view to be auto centered in its superview I can no longer tap the button Heres the code Im using to init the view and add it to a view controller inside the viewDidLoad function let errorView ErrorViewframe CGRectx y width height selfviewaddSubviewerrorView errorViewautoCenterInSuperview This is the problematic line This is the custom view class import UIKit import PureLayout class ErrorView UIView var contentView UIView var titleLabel UILabel var subTitleLabel UILabel var tryAgainButton UIButton required initcoder aDecoder NSCoder superinitcoder aDecoder setup override initframe CGRect superinitframe frame setup public func setup contentView UIView contentViewbackgroundColor red contentViewwidthAnchorconstraintlessThanOrEqualToConstant isActive true contentViewheightAnchorconstraintlessThanOrEqualToConstant isActive true selfaddSubviewcontentView contentViewautoCenterInSuperview titleLabel UILabel titleLabelbackgroundColor green titleLabelfont UIFontpreferredFontforTextStyle title titleLabeladjustsFontForContentSizeCategory true titleLabeltext Failed to load this screen contentViewaddSubviewtitleLabel titleLabeltextAlignment center titleLabelautoAlignAxisvertical toSameAxisOf contentView titleLabelautoPinEdgetop to top of contentView withOffset titleLabelautoPinEdgeleft to left of contentView withOffset titleLabelautoPinEdgeright to right of contentView withOffset subTitleLabel UILabel subTitleLabelbackgroundColor cyan subTitleLabelfont UIFontpreferredFontforTextStyle body subTitleLabeladjustsFontForContentSizeCategory true subTitleLabeltext Please contact support contentViewaddSubviewsubTitleLabel subTitleLabeltextAlignment center subTitleLabelautoAlignAxisvertical toSameAxisOf contentView subTitleLabelautoPinEdgetop to bottom of titleLabel withOffset subTitleLabelautoPinEdgeleft to left of titleLabel withOffset subTitleLabelautoPinEdgeright to right of titleLabel withOffset tryAgainButton UIButtontype system tryAgainButtontitleLabelfont UIFontpreferredFontforTextStyle headline tryAgainButtontitleLabeladjustsFontForContentSizeCategory true tryAgainButtonframe CGRectx y width height tryAgainButtonbackgroundColor white tryAgainButtonsetTitleTry again for normal tryAgainButtonaddTargetself action selectorbuttonAction for touchUpInside contentViewaddSubviewtryAgainButton tryAgainButtonautoAlignAxisvertical toSameAxisOf contentView tryAgainButtonautoPinEdgetop to bottom of subTitleLabel withOffset objc func buttonAction print clickable What could be the issue here Is this a library bug Or did I configured anything wrong This is how the view looks Screenshot at Opening a pull request to see if the pr build still works Hello First of all thanks for this awesome lib I noticed a bug regarding autoCreateConstraintsWithoutInstalling Description Im using ARSCNView Unfortunately if I allow rotation it makes an ugly effect Thats why Im manually rotating the view I use PureLayout for achieving constraints Im using this piece of code to fake the landscapeLeft orientation screen shot at Bug What I want to do is change the constraints of the container view while maintaing the constraints of the inner view However when I tried to to this screen shot at The outcome is this img Expected result I commented that piece of code and the outcome is the desired code screen shot at outcome img So maybe you can help me understand how autoCreateConstraintsWithoutInstalling affect this Thanks I have NSCollectionView in my app and its items have a border When I use PureLayout for stretching NSCollectionView items border disappears But the strange part is when I resize a window to make it very small and resize it back to normal size border appears in some items Also if I try to set a breakpoint and print viewlayerborderWidth it will be nil ViewController swift import PureLayout class ViewController NSViewController let collectionView NSCollectionView let cardId NSUserInterfaceItemIdentifiercardId override func viewDidLoad superviewDidLoad let flowLayout NSCollectionViewFlowLayout flowLayoutminimumInteritemSpacing flowLayoutminimumLineSpacing collectionViewcollectionViewLayout flowLayout collectionViewframe NSRectx y width viewframewidth height viewframeheight collectionViewdelegate self collectionViewdataSource self let nib NSNibnibNamed NSNibNamerawValue Card bundle nil collectionViewregisternib forItemWithIdentifier cardId viewaddSubviewcollectionView collectionViewautoPinEdgetoSuperviewEdge top collectionViewautoPinEdgetoSuperviewEdge right collectionViewautoPinEdgetoSuperviewEdge bottom collectionViewautoPinEdgetoSuperviewEdge left extension ViewController NSCollectionViewDataSource NSCollectionViewDelegate NSCollectionViewDelegateFlowLayout func collectionView collectionView NSCollectionView numberOfItemsInSection section Int Int return func collectionView collectionView NSCollectionView itemForRepresentedObjectAt indexPath IndexPath NSCollectionViewItem let card collectionViewmakeItemwithIdentifier cardId for indexPath as Card return card func collectionView collectionView NSCollectionView layout collectionViewLayout NSCollectionViewLayout sizeForItemAt indexPath IndexPath NSSize return CGSizewidth height Cardswift swift import PureLayout class Card NSCollectionViewItem some other code override func viewDidAppear superviewDidAppear viewlayerborderWidth viewlayerborderColor black How initially app looks like Then we resize it to make it bigger Then we resize it to make it smaller Then we again resize it to make it bigger and woohoo some borders are visible should most probably be changed as the other similar methods were changed in So in the case of objc view autoConstrainAttributeALAttributeLeading toAttributeALAttributeTrailing ofViewview it would set translatesAutoresizingMaskIntoConstraints to NO for view too instead of only setting it for view only I try to use swift package manager to resolve PureLayout but a no manifest error occur I wonder is is possible to support swift package manager