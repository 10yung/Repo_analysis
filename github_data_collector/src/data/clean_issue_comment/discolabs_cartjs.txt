Recently Shopify updated the AJAX API to accept an array of items when posting to cartaddjs This allows for the same functionality of adding one single item by variant ID or now adding multiple items with one single post js CartJSaddItems items id quantity id quanity Reference Recently Shopify updated the AJAX API to accept an array of items when posting to cartaddjs This allows for the same functionality of adding one single item by variant ID or now adding multiple items with one single post Add Single Item POST data items quantity id Add Multiple Items POST data items quantity id quantity id I just published a very crude rough implementation as a fork that adds CartJSaddItems that accepts an object of items to pass along as data Its a good enough solution that Ill be rolling out as an upcoming feature on wwwkosascom so a customer can add all of the makeup used to create a specific look Ill open a PR to get this started but more thought would need to go into how it might integrate with the data api How can I link the products added to cart to the customer account if the user is already login in the browser We used cartjs to build our dynamic cart qty updates Im using the Data API to add an item to the cart using a submit form on my product page Like this form actioncartadd methodpost datacartsubmit It works and Im using a requestComplete event listener to update the cart count But I also want to display success or error messages after clicking Add to Cart button Is this possible using the datacartsubmit or do I need to use the Core API When I use the Core API like below I am always redirected to the Cart page but I want to stay on the Product page like when I use the Data API and see the messages there script typetextjavascript buttonclickfunction Call the addItem method Note the empty object as the third argument representing no line item properties CartJSaddItem Define a success callback to display a success message success functiondata textStatus jqXHR messageaddClassmessagesuccess messagehtmlSuccessfully added to cart Define an error callback to display an error message error functionjqXHR textStatus errorThrown messageaddClassmessageerror messagehtmlThere was a problem adding to the cart script Everything else is working great and I want to add CartJS to my live site but I need to get the messages to appear Any help would be appreciated Thanks Alan When i send my order with an ajax request sometime send order without items I think its because cartJS is empty before sending order Some variable on my order depend to cartJS properties like cartJScartitem and cartJScartattribute voici le code form classorderform idclientOrderForm input typesubmit classbtn full bigsubmit value cartcheckout t form div idlogdiv script function buildOrder Customer datas if customeraddressescount var selector deliveryplacecustomer optionselected company selectorattrdatacompany phone selectorattrdataphone address selectorattrdataaddress address selectorattrdataaddress zip selectorattrdatazip city selectorattrdatacity country France else var company phone address address streetnumberval address routeval address zip address postalcodeval city address localityval country France consolelogno customer endif Cart datas var cartTotalPrice parseIntcartTotalattrdatavalue cartSubTotalPrice parseIntcartSubTotalattrdatavalue cartTotalTax parseIntcartVATattrdatavalue selectClass deliveryitem deliveryId parseIntselectClassattrdataid deliveryTitle selectClassattrdataprod deliveryPrice selectClassattrdataprice deliveryType selectClassattrdatatype deliveryProdId selectClassattrdataproid deliverySku selectClassattrdatasku deliveryBarcode selectClassattrdatabarcode deliveryVendor selectClassattrdatavendor deliveryTaxPrice selectClassattrdatataxprice deliveryRate selectClassattrdatarate CartJSclearAttributes var cartAttributes CartJScartattributes consoletimecartAttributes consolelogcartAttributes consoletimeEndcartAttributes Livraison var orderItems variantid deliveryId title deliveryTitle quantity price parseIntdeliveryPrice sku deliverySku barcode deliveryBarcode varianttitle deliveryTitle vendor deliveryVendor type deliveryType productid deliveryProdId properties taxlines titleTVApricedeliveryTaxPriceratedeliveryRate Cart Items eachCartJScartitems function i item var selector cartOrderDetails div dataid itemid tvaprice selectorattrdatavatprice tvarate selectorattrdatavatrate barcode selectorattrdatabarcode var itemsProperties itemsPropertiespush productname itempropertiesPlat productsku itempropertiescomponentsku productvariantid itempropertiescomponentid productname itempropertiesPlat productsku itempropertiescomponentsku productvariantid itempropertiescomponentid productname itempropertiesPlat productsku itempropertiescomponentsku productvariantid itempropertiescomponentid productservicepour itempropertiespour var itemsComponents cartOrderDetails div dataid itemid componenteachfunctionindex var name thisattrdataname sku thisattrdatasku varID thisattrdatacompid itemsComponentspush productname name productsku sku productquantityitemquantity productvariantid varID orderItemspush variantid itemid title itemproducttitle quantity itemquantity price parseIntitemprice sku itemsku barcodebarcode varianttitle itemtitle vendor itemvendor type itemproducttype productid itemproductid properties itemsProperties taxlines titleTVApricetvapriceratetvarate bundlecomponents itemsComponents consoletime consolelogorderItems consoletimeEnd Order Object var order orderpush email customeremail json totalpricecartTotalPrice subtotalpricecartSubTotalPrice totaltaxcartTotalTax financialstatuspending source Proxy noteattributes cartAttributes lineitems orderItems customerid customerid json shippingaddress address address phonephone citycity zipzip countrycountry address address companycompany name customername json var orderJSON orderJSONJSONstringifyorder logappendorderJSON consolelogorder consoletimeorderJSON consolelogorderJSON consoletimeEndorderJSON var startTime new DategetTime var elapsedTime ajax url appsneworder data orderJSON type GET crossDomaintrue contentType applicationjsoncharsetUTF dataType json beforeSend function overlayemptyappenddiv idfeedbackh classtextcenter neutralimg src ajaxloadergif asseturl h divfadeIn consoletimesucces consoletimedone consoletimealwayz donefunctiondata consoletimeEnddone successfunctiondata var message cartordersuccess t overlayemptyappenddiv idfeedbackh classtextcenter neutral message h div feedbackmessage consoletimeEndsucces CartJSclear cartdisplayfadeOut failfunction xhr status errorThrown var message cartorderfailmanualway t feedbackmessage consolelog Error errorThrown consolelogorder consolelog Status status consoledir xhr manualorderformfindmanualStatusvalLa commande n a pu tre transmise pour la raison suivante status errorThrown Un traitement manuel de celleci est requis setTimeoutfunction manualorderformsubmit cartdisplayfadeOut Code to run regardless of success or failure alwaysfunction xhr status overlayCartfadeOut bodycssoverflow CartJSsetAttributeMes informations compl mentaires consolelog setTimeoutfunctionCartJSsetAttributeMes informations compl mentaires contenthtmlorderJSON alert The request is complete elapsedTime new DategetTime startTime consolelogelapsedTime alwayz consoletimeEndalwayz consolelogorder execution de la fonction clientOrderFormsubmitfunctionevent eventpreventDefault Check if extra infos added by client var extra mesinformationscomplementairesvalreplace w gi information compl mentaires If customer added extra infos to his order then wait for process to be done before sending CartJSsetAttributeMes informations compl mentaires extra success functiondata textStatus jqXHR Compensate bug due to framework by double attr update to be sure to get last infos CartJSsetAttributeMes informations compl mentaires extra success functiondata textStatus jqXHR alertextra var startTime new DategetTime var elapsedTime consoletimeafterAjax buildOrder consoletimeEndafterAjax elapsedTime new DategetTime startTime consolelogelapsedTime fin script include cartmanualform Hi I have seen this issue closed in the past But seems that it is not fixed yet or found an alternate method The problem I see with all Stores using CartJS I know tested on Is that whenever you add an item to the cart and press the back button As the page is in Browser Cache it does not refresh and it appeared as the product just disappeared Only after you refresh this information is available As nothing is reloaded it relies on browser memory Nothing appears As no Ajax call is made in order to check if there is something on Cart We are studying how to fix this behavior in one of our Stores but having no luck We thought it was isolated but every shop we try it behaves the same Someone has had this issue before Thanks in advance This only happens on Safari Version on the first product you add to cart if you click add to cart the cart object it gives you through the event cartrequestComplete is empty Refreshing the page will show your item in the cart Any way to fix this My code relies on the cart object giving the right info My code var cartCount cartitemcount documentoncartrequestComplete functionevent cart consolelogCart count before adding anything is cartCount consolelogCart count of the Cart is cartitemcount consolelogThis is the cart object consolelogcart consolelogThis is the event object consolelogevent Could anyone please help me