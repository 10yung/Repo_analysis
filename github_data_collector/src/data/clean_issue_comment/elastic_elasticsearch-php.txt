 Summary of problem or feature request ConnectionInterfaceperformRequest method signature does not match ConnectionperformRequest method signature This causes mocking the class with Phake to fail Code snippet of problem ConnectionInterfacephp php param null body return mixed public function performRequeststring method string uri array params body null array options Transport transport null Connectionphp php param string method param string uri param array params param null body param array options param Transport transport return mixed public function performRequeststring method string uri array params body null array options Transport transport null System details PHP Version ESPHP client version and Summary of problem or feature request The file SmartSerializerphp encode data into a json string if this variable is an array If it is an empty array you transform it into and thats ok line of this file But sometimes if its not empty you can have inside a part which is an empty array like in Global Aggragations aggs alldocuments global ES waits this value but jsonencode will return global aggs I think you should replace each string into Thanks a lot System details PHP Version ESPHP client version Elasticsearch version Summary of problem or feature request Please describe your problemfeature request here Hello I always get this exception but only when use putMapping clientindicesexistsparams clientindicescreateparams clientindicesdeleteparams clientindicesgetMappingparams work as expected but when try clientindicesputMappingparams Ive got this error message Elasticsearch Common Exceptions NoNodesAvailableException No alive nodes found in your cluster System details Please include these details about your system If they are omitted the ticket will be deprioritized over other users requeststickets Operating System CentOS PHP Version Elasticsearch version official docker container We need to use namespace for native function in all the code base This is for performance reason Read this blog post for more information Summary of problem or feature request If we index documents one by one and set the body parameter to be a serialized string elastic clients serializer is happy with that and returns it as is however I cant find a way to do this for bulk requests because it seems bulk requests only accept associative array for document body object Code snippet of problem Example from php params body index index myindex id i Currently params body myfield myvalue secondfield some more values Proposed params body serialized string wont work parse error expected object params body object Wont work casting the parent array also wont work php Indexing one by one works with serialized data client index index index id id body This works System details Operating System Debian PHP Version ESPHP client version Elasticsearch version Summary of problem or feature request Please describe your problemfeature request here I want partial string match in full text search Code snippet of problem My current code look like this body query match all string Example If I user transfer word as search then it will search only for transfer I want like transferring also come in search result As per documentation I had tried match all string But its not working Any solution for this If applicable please include a copy of your code which triggers the suspected bug You may use the markdown php code tags to format your paste php params foo System details Please include these details about your system If they are omitted the ticket will be deprioritized over other users requeststickets Operating System PHP Version ESPHP client version Elasticsearch version Summary of problem or feature request I can see that in v the port has disappeared from the host After further digging I see its been specifically requested and fixed in Perhaps it is a valid use case although I dont really understand it but the change seems to be causing problems elsewhere now the port is missing from the log messages too Code snippet of problem Here is an example of what is sent to the logger now array message string curl XDELETE context array level int levelname string INFO channel string sfestrace datetime objectDateTime date string timezonetype int timezone string EuropeHelsinki extra array backtrace NULL formatted string sfestraceINFO curl XDELETE array message string Response context array response array acknowledged booltrue method string DELETE uri string HTTP code int duration float level int levelname string DEBUG channel string sfestrace datetime objectDateTime date string timezonetype int timezone string EuropeHelsinki extra array backtrace NULL formatted string sfestraceDEBUG Response responseacknowledgedtruemethodDELETEuri code duration Based on this information I should be able to type in the terminal curl XDELETE But of course this doesnt work as its trying to reach port instead of Please merge the elasticsearchxpackphp repository into the Client FIX Error Cannot use object of type Elasticsearch Common Exceptions Missing Exception as array in version when I want to update the age field it deletes the other fields in the index and only age field will be remain this problem doesnt occur in version my package version version endpointgetURI playerplayer update endpointgetBody array doc array age php updating a model param SearchableBaseModel model public function updatedmodel if modelgetDirty partial doc modelgetDirty id modelgetKeyName thiselasticSearchupdate index modelgetSearchIndex type modelgetSearchType id modelid body partial 