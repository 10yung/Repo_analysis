 Captura de Pantalla a las p m Great package I wonder if you can provide an option to send emails in plain text If I do libraryblastula librarykeyring createsmtpcredskey id myid user myemailorg provider office I get Message Remote error from secret service orgfreedesktopSecretErrorIsLocked Cannot create an item in a locked collection Error in bsssetwithvalueself private service username password Secret service keyring error in set Cannot create an item in a locked collection as in If i add keyring solution proposed in that issue to evaluation of keyringkeysetwithvalue in createsmtpcredskey then this function seems to work but later when I use smtpsend I get Error in stopThere is no blastula key that corresponds to the keyname of object keyname not found Session info setting value version R version os Debian GNULinux stretch system x linuxgnu ui RStudio language EN collate enGBUTF ctype enGBUTF tz EuropeMadrid date Packages package version date lib source assertthat CRAN R backports CRAN R blastula CRAN R callr CRAN R cli CRAN R colorspace CRAN R commonmark CRAN R crayon CRAN R desc CRAN R devtools CRAN R digest CRAN R dplyr CRAN R ellipsis CRAN R fansi CRAN R farver CRAN R fs CRAN R getPass CRAN R ggplot CRAN R glue CRAN R gtable CRAN R htmltools CRAN R jsonlite CRAN R keyring CRAN R labeling CRAN R lazyeval Github hadleylazyevalc lifecycle CRAN R magrittr CRAN R memoise CRAN R munsell CRAN R packrat CRAN R pillar CRAN R pkgbuild CRAN R pkgconfig CRAN R pkgload CRAN R prettyunits CRAN R processx CRAN R ps CRAN R purrr CRAN R R CRAN R Rcpp CRAN R remotes CRAN R rlang CRAN R rprojroot CRAN R rstudioapi CRAN R scales CRAN R sessioninfo CRAN R stringi CRAN R stringr CRAN R testthat CRAN R tibble CRAN R tidyselect CRAN R usethis CRAN R utf CRAN R vctrs CRAN R withr CRAN R zeallot CRAN R homeiagoRx pclinuxgnulibrary homeiagoRx pclinuxgnulibrary usrlocallibRsitelibrary usrlibRsitelibrary usrlibRlibrary This issue happens on Windows only When email message is created using composeemail function blastula with a message body that uses emojis ref the emoji is not shown correct Run the following example from RStudio IDE Notice that the pizza emoji is not displayed correctly in the gt table in the title Check the attached snapshot r librarygt libraryblastula librarytidyverse libraryglue libraryscales libraryemo Create short labels for months displays better for small plots in email messages initialmonths c J F M A M J J A S O N D Get the total pizzaplace sales in the year format as a currency value totalsales pizzaplaceprice sum commaformat bigmark prefix Create a plot using the pizzaplace dataset pizzaplot pizzaplace mutatetype strtotitletype mutatedate asDatedate groupbydate type summarizePizzas n Income sumprice ungroup ggplot geompointaesx date y Income color steelblue facetwraptype scalexdatedatebreaks month datelabels initialmonths scaleycontinuouslabels scalescomma labs title pizzaplace Daily Pizza Sales in subtitle Faceted by the type of pizza x NULL y Number of Pizzas Sold thememinimal theme axistext elementtextcolor grey axistextx elementtextsize axistexty elementtextsize striptextx elementtextsize axistitle elementtextcolor grey legendtitle elementtextcolor grey legendtext elementtextcolor grey panelgridmajor elementlinecolor grey plottitle elementtextcolor grey plotcaption elementtextcolor grey plotsubtitle elementtextcolor grey plotmargin unitc points legendboxspacing unit points legendposition bottom Make the plot suitable for mailing by converting it to an HTML fragment pizzaplotemail pizzaplot blastulaaddggplot Create sizesorder and typesorder to support the ordering of pizza sizes and types sizesorder cS M L XL XXL typesorder cClassic Chicken Supreme Veggie Create a gt table that uses the pizzaplace dataset ensure that asrawhtml is used that gets us an HTML fragement with inlined CSS styles pizzatabemail pizzaplace dplyrmutatetype stringrstrtotitletype dplyrmutatesize factorsize levels sizesorder dplyrmutatetype factortype levels typesorder dplyrgroupbytype size summarize pies n income sumprice dplyrarrangetype size gtrownamecol size fmtcurrency columns varsincome currency USD fmtnumber columns varspies useseps TRUE decimals summaryrows groups TRUE columns pies fns listTOTAL sum formatter fmtnumber useseps TRUE decimals summaryrows groups TRUE columns income fns listTOTAL sum formatter fmtcurrency currency USD taboptions tablewidth px summaryrowbackgroundcolor FFFEEE rowgroupbackgroundcolor E EFFC tablefontsize small headingtitlefontsize small headingsubtitlefontsize xsmall rowgroupfontsize small columnlabelsfontsize small datarowpadding px colslabel pies Pizzas income Income tabheader title paste My emojipizza sales in subtitle Split by the type of pizza and the size asrawhtml messagebody glueglue Hello Just wanted to let you know that pizza sales were pretty strong in When I look back at the numbers its totalsales in sales Not too bad All things considered Heres a plot of the daily pizza sales I faceted by the type of pizza because I know thats your preference pizzaplotemail Here is a table that shows a breakdown of the results by pizza size split into Pizza Type groups pizzatabemail I also put all the numbers into an R dataset called pizzaplace Not sure why I did that but I did Its in the gt package Talk to you later Alfonso Create an email message using the composeemail function from the blastula package email blastulacomposeemailbody mdmessagebody email img width altwindowsblastulagtemojidoes not work src First thank you for the package It can be very useful I open this issue by what seems to be a bug I was following the example in the RStudio blog and I got a weird behaviour has it to do with issue First I try libraryblastula librarykeyring createsmtpcredskey id myid user myemailorg provider office libraryggplot libraryglue plot qplotdisp hp data mtcars colour mpg plotemail addggplotplot email composeemail body mdc Team How would you plot the relationship between these variables plotemail email smtpsend from myemailorg to emailgmailcom subject Testing the smtpsend function credentials credskeyid myid but I get Error in curlcurlfetchmemoryurl handle h MAIL failed Then following the suggestion here I add usessl TRUE to createsmtpcredskey so createsmtpcredskey id myid user myemailorg provider office usessl TRUE email smtpsend from myemailorg to emailgmailcom subject Testing the smtpsend function credentials credskeyid myid Then the email is sent but it is shown both in the sending and in the reception addresses as in the attached image mailex Thus appearing html code and with the r in the email body as an Thank you Take a look at If your credentials look like credtbl structurelistservice cblastulav gmail blastulav outlook username cxxxxxxcom yyyyyygov rownames cNA L class ctbldf tbl dataframe This function will return a table with incorrect ids A tibble x id keyname username chr chr chr gmail blastulav gmail xxxxxxcom gmail blastulav outlook yyyyyygov I think you want to replace this line with credstbl tibble id unlistlapplycredstblservice functionx strsplitx keyname credstblservice username credstblusername There is also an bug where all my keys id stay the same I have tried blastula on Mac Catalina using RStudio R interface and R script command line All works as expected I have made a daily report cron job But the blastulasmtpsend with gmail gives following error curlcurlfetchmemoryurl handle h RCPT failed Thank you for this package and your help for the cron jobs is appreciated In the function getsmtpkeyringcreds the object keyname is used in an error message before it is assigned So in case there are no keys found the function would stop but the error message would be rather confusing Error in stopThere is no blastula key that corresponds to the keyname of object keyname not found Good day I am a Google Codein participant wherein we were tasked to find r packages and try to increase the code coverage I am still a super git newb but wanted to try it out I have recently added a test for the smtpsend function So far from the current a href src I was able to raise it to a a href src A link to the coverage that I did could be accessed here I completely understand that this is far from a drastic improvement and indeed I wish to increase the code coverage by a couple more points Ive seen the note that sendmail function might be removed so I havent added tests there yet Thank you very much for your time 