Relative paths to files check if the file exist on the file system to determine if it is a path and not a RegEx This is of course not working for deleted files eg git checkout deleted filetxt could be used to detect if the following arguments are paths but the use of is not mandatory Maybe it will work in most cases And is only used before paths Setup Im running VScode with WSL but with WSL in a nonstandard mount path WSL installed on a D drive In particular my WSL is installed under D Ubuntu LTS Ubuntu I have WSL installed as a terminal in VScode and git working fine inside WSL ssh keys and all wslgit is installed and working as D wslgitexe Problem When trying to perform git operations wslgitexe tries to use the whole mount path as follows Looking for git in D wslgitexe Using git from D wslgitexe git revparse showtoplevel bash cd mntdUbuntu LTSUbunturootfshomefotelAWSGitHubhackmdnotes Permission denied git revparse showtoplevel bash cd mntdUbuntu LTSUbunturootfshomefotelAWSGitHubhackmdnotesaws Permission denied git revparse showtoplevel git revparse showtoplevel git init bash cd mntdUbuntu LTSUbunturootfshomefotelAWSGitHubhackmdnotes Permission denied The permission denied issue is bc its not possible to traverse rootfs from inside WSL Proposed solution Please adjust the path parsing logic such that if it contains rootfs all previous path up and inculding rootfs are simply replaced with In my case have mntdUbuntu LTSUbunturootfs simply replaced with If this is a known problem and a solution already exists please advise LMK if you need any additional info Thanks Florian Just installed the latest insider build with Ubuntu on WSL with zsh and running wslgitexe from PowerShell just opens a new bash session Please see screenshot below Edit tried to set Windows environment WSLGITUSEINTERACTIVESHELL variable to and it didnt works the same way The insider build for has a new functionality that allows browsing files on WSL from explorer The paths look like wsl Ubuntu home alecxvs Git myproject Running wslgit from this path gives this error thread main panicked at Cannot handle path wsl Ubuntu home alecxvs Git myproject src libcore optionrs sourcetree Do not know if this has to do anything with the issue but may be When trying to set up wslgit as an executable git for Git Extensions it does not show contents of repositories Command log from GE looks like this I am used to use Git Extensions GUI but will be happy to force WSLgit work with any other Windows git GUI Any ideas I do not know where the error or command is not working correctly I think phpstorm use git log Video wgit wslgitexe Windows Ubuntu Background While working on a Git project I noticed that when trying to annotate a file GUI equivalent of git blame one of three things can happen depending on file being annotated File gets annotated without any problems An error is shown with message Number of lines annotated by Git is not equal to number of lines in the file Check file encoding and line separators when clicking to display it anyway it is truncated at around half the length of said file IDE errors out with message along the lines of Error Unexpected text end at Java unit test files seem to cause the most trouble probably due to their fileline length and number of contributorsrevisions Probably similar to System info wslgit version official exe not additionally configured in any way WSL Ubuntu Windows Pro build Default shell changed to zsh I havent tried any debugging to see which command is actually issued to wslgit or setting WSLGITUSEINTERACTIVESHELLfalse yet dont know if it will even make sense in this case Ill try later to reproduce it on my second PC since it has the same WSL config When a process in Windows runs WSLgit and passes a locale variable eg LCALL LANG etc on that spawn that variable is not passed to WSL Therefore the specific locale requested for Git is ignored and can lead to errors as in in This is due to environment variables set in Win not being seen in WSL Good news This does become possible in Windows build by configuring the WSLENV variable as in Here are two ideas to resolve this Any others Close this issue as wont fix and keep it for people to findlearn from later Unfortunately isolating the cause of the errors will be difficult because the error is from some Windows process yet caused by an interaction between WSLgit and WSL I only am aware of it because I was the OP on that GitLens issue above Update the WSLgit code to configure the WSLENV variable for any found LANG or LCxxx environment variables While this will resolve locale it feels somewhat chasing a neverending problem because there are more environment variables on which Git responds For example GitLens sets three here and all are being dropped by WSLgit