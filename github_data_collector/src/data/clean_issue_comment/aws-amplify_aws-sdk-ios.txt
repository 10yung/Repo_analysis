Describe the bug I have returned from holiday and I am no able longer to build the app on my device Building on simulator works without a problem The source code had no changes according to git I tried setting up a brand new dummy project with the instructions provided here but the error persists To Reproduce Steps to reproduce the behavior Follow the tutorial to install dependencies via CocoaPods Connect your iPhone via USB Build your project See error below Which AWS services are affected It seems like all Expected behavior I would expect the project to be buildable and the application to operate like it used to Environmentplease complete the following information Package versions Installing AWSAutoScaling Installing AWSCloudWatch Installing AWSCognito Installing AWSCognitoIdentityProvider Installing AWSCognitoIdentityProviderASF Installing AWSCore Installing AWSDynamoDB Installing AWSEC Installing AWSElasticLoadBalancing Installing AWSIoT Installing AWSKinesis Installing AWSLambda Installing AWSMachineLearning Installing AWSMobileAnalytics Installing AWSS Installing AWSSES Installing AWSSNS Installing AWSSQS Installing AWSSimpleDB Dependency Manager CocoaPods Swift Version Device Information please complete the following information Device iPhone X iOS Version Specific to simulators No it works perfectly fine on simulators Additional context dyld Library not loaded rpathAWSAutoScalingframeworkAWSAutoScaling Referenced from privatevarcontainersBundleApplicationB B CD BF B EC CFC Dnewtestappnewtest Reason no suitable image found Did find privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling code signature invalid for privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling stat failed with errno privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling code signature invalid for privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling stat failed with errno privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling code signature invalid for privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling privatevarcontainersBundleApplicationB B CD BF B EC CFC DnewtestappFrameworksAWSAutoScalingframeworkAWSAutoScaling stat failed with errno lldb You can see this happens to AWSAutoScaling but in my main application it happens on AWSAuthCore Regarding Server seems to be throwing an error when sending emailverified as part of the request In this context I dont see how sending this field is relevant so it seems to make sense to filter this field out By submitting this pull request I confirm that you can use modify copy and redistribute this contribution under the terms of your choice Issue if available Description of changes This change includes a sample P file created from a certificate generated from the AWS IoT console The certificate is only used for testing the import of data by the AWSIoT SDK and is not tied to any resource in any AWS account It should not be used to secure any other application since the private key can be extracted and in fact must be as part of the included test suite by using the passphrase hardcoded into the name of the file itself By submitting this pull request I confirm that you can use modify copy and redistribute this contribution under the terms of your choice Addresses bug submitted here By submitting this pull request I confirm that you can use modify copy and redistribute this contribution under the terms of your choice PLEASE ADVISE IF THIS IS THE WRONG PLACE TO POST THIS OR THE WRONG FORMAT FIRST TIME POSTER Describe the bug This is the code Im using to upload files to S After adding teh CacheControl headers I started getting SignatureDoesNotMatch error Not sure if I have to add the header somewhere else so that it will be included in the signature calculation AWSS TransferUtility transferUtility AWSS TransferUtility defaultS TransferUtility AWSS TransferUtilityUploadExpression expression AWSS TransferUtilityUploadExpression new expression setValuepublicread forRequestHeaderxamzacl expression setValuemaxage forRequestHeaderCacheControl expressionprogressBlock AWSS TransferUtilityTask task NSProgress progress dispatchasyncdispatchgetmainqueue upload save uploadprogress progressfractionCompleted uploadstatus HARAssetUpload titleForStatusHARAssetUploadStatusWorking transferUtility uploadFilephotoFileUrl bucketbucketName keyfileName contentTypeimagejpg expressionexpression completionHandler AWSS TransferUtilityUploadTask Nonnull task NSError Nullable error if error Handle error else Succesful upload NSFileManager defaultManager removeItemAtPathfilePath errornil To Reproduce Steps to reproduce the behavior Add expression setValuemaxage forRequestHeaderCacheControl to your expression before upload Call uploadFile on the transfer utility You should a error saying SignatureDoesNotMatch Which AWS services are affected S Expected behavior The CacheControl headers should be applied to the uploaded file If the signature needs to be recalculated based on these headers then the SDK should calculate this Screenshots NA Environmentplease complete the following information SDK Version Dependency Manager Cocoapods Device Information please complete the following information Device iPhone Xr Simulator iOS Version Additional context Heres the full text of the error returned from the resulting call to AWS Error CodeSignatureDoesNotMatchCode MessageThe request signature we calculated does not match the signature you provided Check your key and signing methodMessage AWSAccessKeyIdASIAYSPGTYDRNYCZ F AWSAccessKeyId StringToSignAWS HMACSHA T Z useast s aws request ebcb a a b adbc de e d f c e db b f f b e dcc StringToSign SignatureProvided ae da fce b d d f c b ea b d SignatureProvided StringToSignBytes d d d a a a f d d f f f a StringToSignBytes CanonicalRequestPUT contentharcommatrixmediaupload F B C BB B F C F C jpg XAmzAlgorithmAWS HMACSHA ampXAmzCredentialASIAYSPGTYDRNYCZ F F Fuseast Fs Faws request ampXAmzDate T Z ampXAmzExpires ampXAmzSecurityTokenIQoJb JpZ luX VjECMaCXVzLWVhc QtMSJIMEYCIQCJGofW xdO T OV iDsL TgXqHm rNWcAxQP t kZnAIhANgHSHEZXrra FK grjzsWZkV opJGCwuc FQhQlYjgOc FKtMFCKz F F F F F F F F F FwEQABoMNTg NDMxMDI OTg IgzreZKhC iCrMfJ qpwXzsOvDatOxOMLW i THvo FXdWbvzRYmzj bsBM ubRkxxm Nb vR z a B xGEo u bhPYGePvwxsxOcAcgK FaROk ol Q UPGEiGqCprTo aqnkvY YT ohGNB QqsBExQA k td S U FhSAj klXauhEiS eLrxHaJ vp Bd qakXX j L kXbqwIjX s eJDrMOLk lGjVXPVNPU Mb Q xeZ UhIGE FYGim WhmA IFmNXnxkznoTPnz k mKUXLvC pSlFlCVPviabr cKhu BnRxcoOQSXDDd DryBcs o cj ACKinsl FXoQJ F FNgV FEjNARMiUZhH tEr FtslOglenfF MJWTiVXzzdHoOhpwSYP FCo KsTorwH q eH bdTGyU li V NaX FuD SzGcJFHSfhkonq IxkMaDhWlP J mGIEunLeus qLC IcUAgIVc xeAOQESQtNt D FtlPLp qAlp Fml X ZIwtbT Mi Um vxHU BiLHApuQ BDbkMQwEvPGdqaLUfuy u mtjBvgDXCXVImHLQCdaP s neIE xmUuzUSypshZaXKdfyT WKM b HbyA fGH t BfY nmn B Bvox PO LuRXA rR HRHYndehE pXEoih B Br FvFcxA AskDJkQK zltebL C BqX JtaOzcSQwyRMSQdYSyiM B Zi Z lWoYReei JOaF uVDKVCV jfnDwGq Zzzy BxvnVW LCESqsxTvGiCWKWPtYr bxc oCW zljA x YL KVvtntJOtIWX VDu o p SWNeC NC dJ KdYD r slZp BB naOkThG Boo GcbnWuohSHayx VrN MvZ cZNNjPqJDjl gOqFIMNGEiPEFOswCq Ts FYHMUUJ ertTZO uWFPz IoNnv yVHnSMJN FliHge XPP BgtmTjL KvkPTtc fYcPDB WlMlQlhy BQ oDAPQKf SQVrnnT a X dHnFd BLcF WnN NUBaZGagdwkzVjtgUFXWYyCMromvtSZ AVaCEnz cZ WDNkXlf UEV z FJoRPl aUOn kOIo l SCPOlGjLUrJP TBB ICky w Ii ie hIlkGIKSwIc IOIfg P Q FUVZlk FhHC OxcKOz hciJhooJCxuG EG XkMm PpSBnFQ FgNCpOq KGl izR hjTGztswo jJ QszsI yKwqXLyeovbRu MXJSgfOnLMeia YZTFjfIwXqFaoRYTAMYDsOFHz F oSsty F rZd YWgc oZc iAKDX YN B FFL aWpXz Eb oz V GU D ampXAmzSignedHeaderscachecontrol Bcontenttype Bhost Bxamzacl cachecontrolmaxage nocache contenttypeimagejpg hosts amazonawscom xamzaclpublicread cachecontrolcontenttypehostxamzacl UNSIGNEDPAYLOADCanonicalRequest CanonicalRequestBytes a f f e e e e f d f d f d f c f f f d d d d e a a d d a d c f d d d d d d d a d e c d e a d d f d d a d d a d d a d d d d a d d f b e d f a a a c a d a c d a d a f f f c d e b a e e a b a a a b f a c a f b d b a f d e e d d f a a b d a a f f f d c f a d a a d b d e a f f b f b f c f e b f e b a b c c a b a c b a a d f c b c a e d a d d d e e b a e f e a b d b c c c b e f f f a b e c f a e a e d a c f c e d a a a f f f b f c e a a b f e b d c a d e c c f e c c c d c a d d c b d c d a d c e d a a b b d e d e f f c e f b a b b a c c a f a d d a a c f a f b a e a a a e c b f a c a c b e a f f e e a b c a e f b f f e f e d a a e e a a a c f d e f d a a f a f e e e d a e c d a c b b c d c c f b e e e c e e e a b a a d f d a e a a e b c a a f c f e b f f c f c a c a b c b b f a c b f b f a a f f a b d d e e f b c a a a f a a a b c f d a f e c d a a f d f a f a f a b e c a f a d d a d e d d f e f c f e e d f d d a d c a d f e f c a d d d c e f d a f e e d a d f a a f a e d a f e e f d a d d a d c a c d a a d f e f c b f e e d b f b d d a d c a e e d c f CanonicalRequestBytes RequestIdD AD B EDC BRequestId HostId VWuFJ g yzUnDJspjXWLbI XTqPy C sdll eTrBqgEFEMsE pBoL alWrHEfCYZcOGhZU A HostId Error Issue if available Projects that depend on our sdk are seeing a lot of compiler warning due to the missing nullability flags in the objc code base Description of changes I am adding flags based on the fact that the method that get invoked will not get crashed based on the flag Testing Need to add few unit test around this By submitting this pull request I confirm that you can use modify copy and redistribute this contribution under the terms of your choice How could I upload image to s with public permissions This code didnt work let expression AWSS TransferUtilityUploadExpression expressionprogressBlock uploadProgressBlock expressionsetValuepublicread forRequestHeader xamzacl let transferUtility AWSS TransferUtilitydefault transferUtilityuploadDatadata bucket bucketName key uploadKeyName contentType contentType expression expression completionHandler uploadCompletionHandlercontinueWith task AnyObject in if let error taskerror if let taskresult return nil but this code worked let expression AWSS TransferUtilityUploadExpression expressionprogressBlock uploadProgressBlock expressionsetValuepublicread forRequestHeader xamzacl let transferUtility AWSS TransferUtilitydefault transferUtilityuploadDatadata bucket bucketName key uploadKeyName contentType contentType expression expression completionHandler uploadCompletionHandlercontinueWith task AnyObject in if let error taskerror if let taskresult return nil Why did I fail to add requestHeader Hi Im currently using AWS Cognito User Pools to log users AWS Cognito Federated to authorize user via IAM API Gateway to execute lambda Amplify on iOS app to collect all pieces Currently everything works perfect at first day user can login make authenticated requested After days not exactly this time but its to give some advice the app stops to make auth request and every response in The strange thing is that I can perform a getUser correctly and get a new token using the getSession method Ive tried everything but I cannot solve this problem Currently using version The bug seems related to the fact that with social login hostedUI after some days the login is requested back Describe the bug By calling the getUploadTasks method of a transfer utility after the app gets active to re associate the uncompleted tasks to a completion handler this method returns even the completed tasks I have confirmed it many times This happens every time I put the app to the background and then open it in the foreground To Reproduce Upload something push the app to background and open the app again by calling getUploadTasks in applicationDidBecomeActive All the tasks even the finished are returned Which AWS services are affected AWSS TransferUtility Expected behavior I would expect to get only the uncompleted tasks Screenshots If applicable add screenshots to help explain your problem Environmentplease complete the following information SDK Version Dependency Manager Cocoapods Swift Version Device Information please complete the following information Device iPhone s Simulator iOS Version iOS Specific to simulators Additional context Describe the bug New users created with the Cognito management console will not get their email addresses verified after a successful login with a temporary password This will make it impossible for them to use forget password functionality in the future This issue surfaced when I was migrating my app from one aws org to another and needed to create a new user pool I would like to prepopulate my new user pool with my existing usersemail addresses prompting them with a temp password However after they successfully login and set a new password they do not get their email address verified Image link If i prepopulate them selecting verified email address they get the issue here Cannot modify the nonmutable attribute emailverified Steps to reproduce the behavior Create a new user in cognito user pool without a verified email address Attempt login through aws ios sdk with temporary password Verify in user pool that email address is not verified Which AWS services are affected Cognito Expected behavior After a user logins with a temporary password from their email their email address should be confirmed in cognito Screenshots Image link Environmentplease complete the following information PODS Alamofire AppleWelcomeScreen SnapKit AWSAuthCore AWSCore AWSAuthUI AWSAuthCore AWSCore AWSCognitoIdentityProvider AWSCognitoIdentityProviderASF AWSCore AWSCognitoIdentityProviderASF AWSCore AWSMobileClient AWSAuthCore AWSCognitoIdentityProvider AWSS AWSCore AWSUserPoolsSignIn AWSAuthCore AWSCognitoIdentityProvider Cache ESTabBarControllerswift Imaginary Cache Kingfisher KingfisherCore KingfisherCore Lightbox Imaginary lottieios MapboxiOSSDK MapboxMobileEvents MapboxMobileEvents Realm RealmHeaders RealmHeaders RealmSwift Realm SnapKit WSTagsField Dependency Manager Cocoapods Swift Version Device Information please complete the following information NA Additional context Issue arising due to need to migrate user pools from one aws org to another