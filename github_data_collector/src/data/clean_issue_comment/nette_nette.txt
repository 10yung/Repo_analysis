Hi I have a problem with validation email address when address contains dot before at char tondadomaincom this address will not be validate although it is correct and functional I use FormEMAIL validation rule on Nette Forms Controls TextInput object Last version of nette I dont know why somebody use this email address but he is use it I solve this problem with pattern but it is not practical Thanks for solve Hello email validator should not accept emails that contains characters blacklisted IDN They are listed here Currently we have a registered user with OBJECT REPLACEMENT CHARACTER in domain name and it is causing problems What do you think Hey guys I had a comment I am looking at the testbed that you had created during earlier issue for Nette testing in different context My question is related to style context If I input harmless style eg colorred then it should work but what I received as an output is div stylecolor redI am a style attribute contextdiv Whats the point in escaping colon I think the use case would be to allow simple styles without JavaScript execution Isnt it Or Am I missing something Thanks div stylebackgroundimage urlimg escapes output almost correctly but the escape of space is missing div stylebackgroundimage url img example com upload test file jpg nette There is a note in Davids TODO list about alternative way to user authentication and one part of it will by quite handy to me login from database I use nice ORM but entities cannot be serialized what a surprise so I have to have one more unwanted property profile which is set in a secured BasePresenter manualy It contains all data I need but there is still presenteruser which becames confusing now because it no longer holds all proper data This situation was quite schizophrenic to me so I decided to modify Identity and UserStorage There is no problem to rewrite Identity but when I tried to modify inheritted UserStorage I have realized that there is only few lines to rewrite but due to private fields I had to copy almost whole implementation So is it possible to change these fileds to protected or at least could you answer me why there is such a condition I would like to store only id but to modify this condition I have to rewrite so much for what reason The RFC section states In particular the convention has been established that the GET and HEAD methods SHOULD NOT have the significance of taking an action other than retrieval These methods ought to be considered safe This allows user agents to represent other methods such as POST PUT and DELETE in a special way so that the user is made aware of the fact that a possibly unsafe action is being requested So we should use POST for secured signals and ideally for all signals with side effects We can do this using a JavaScript that sends links with parameter datanettepost using POST We can also easily create a fallback method for users without JavaScript if an user attempts to access a protected page using GET method we will show him a confirmation form which will execute the request with the CSRF token in POST param This commit allows you to protect signal by calling eg thisaddProtectionDo you really want to delete user username at the beggining of the signal After that if you access the page via GET or via POST but with an invalid token a confirmation dialog will be displayed A secured link can be created using a nhrefsignal nsecured which adds the parameter datanettepost You can send links with this parameter by method POST using the following JavaScript jQueryfunction documentonclick a datanettepost functionevent var form documentcreateElementform formmethod POST formaction thishref formstyledisplay none var post thisdatanettepost for var key in post var input documentcreateElementinput inputsetAttributetype hidden inputsetAttributename key inputsetAttributevalue post key formappendChildinput formsubmit eventpreventDefault Maybe we should also create some official JavaScript like netteFormsjs If you want to send signals using AJAX you have to just modify your JavaScript so that it will use method POST and send POST params contained in controlgetCsrfPost The confirmation dialog can be customized by overriding the method displayCsrfConfirmationDialog in Presenter Heres a nice demonstration of BREACH attack When static snippet wrapper or snippetArea contained a dynamic snippet wrapped in a block ie static snippet block dynamic snippet rendered dynamic snippets werent added into payload Cause was that information was shared via scope which was different for nested block block is a function call and snippet wrapper Fix was done via shared reference to a stdClass object There is a problem using some custom Nette Application Routers RouteList which has some code using in request matching which needs to be only in some subclass of Nette Application Routers RouteList For example some global settings of whole route group are used only in the list which are used for lets say handling of locale parameter There is NO problem with matching and handling request itself because there is some indirect recursion but in debugger panel there is another logic which broke its transparent behavior recursion is not used Another logic must be here there is not other way to find all routes now How you can see there is no call of match method on the list which then causes that debugger panel shows wrong route as matched I have been thinking about it and tried some quick solutions but all did not work as I expected Any ideas welcome Hello if I use FormURL rule validator return true though string in input isnt valid url in my opinion php formaddTexturl addRuleFormURL Example for input aaaaaa validator return true IMHO aaaaaa isnt valid urland form is sended with url This is bug or some feature 