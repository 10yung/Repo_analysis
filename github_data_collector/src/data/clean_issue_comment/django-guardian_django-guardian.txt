using Dbeaver i tried to create some entries for user object permissions i just could not from mysql client Duplicate entry for key guardianuserobjectpermiuseridpermissionidobb b d fcuniq Screenshot but by running django using the guardian assignperm to add new entries they simply are created without complaining about duplicates surprisingly it should not be considered as duplicates when you just put different objectpks for same usersame permissionsame contenttype adm Can you create a new release is not compatible with Django due to djangoguardiandjangoguardian and djangoguardiandjangoguardian I tried to simplify that by getting the release notes started Im doing in a shell UserObjectPermissionobjectsall and getting an error about ContentTypes envlibpython sitepackagesdjangocontribcontenttypesmodelspy in getobjectforthistypeself kwargs so code that calls this method should catch it return selfmodelclassbasemanagerusingselfstatedbgetkwargs def getallobjectsforthistypeself kwargs Hi thanks for your cool project We CC TheRadialActive have encountered a strange permission check problem that confused us so we want to share it with you for your consideration If you set permissionrequired in the PermissionRequiredMixin to a generator the evaluated list can be empty and access may be granted unconditionally at least this is what we believed has happened to us Maybe consider checking for generators and warn about this Currently there is only an error if the type is not a string or Iterable A generator is iterable but can be dangerous to use Here is how this can happen in Python g x for x in range typeg class generator i for i in g i for i in g Hi I noticed with TheRadialActive that if I use PermissionRequiredMixin with a list for permissionsrequired the access will be granted only if all permissions are held by the user due to the use of the allreducer in get xorNone which uses all However there are cases where it is interesting to verify if any of some permissions are held which currently does not seem to be possible Do you have any advice on this Duplicating the code and changing all to any is simple enough but maybe there are other solutions already available or you might want to add a way to configure this behaviour Thanks See idea limitation in As mentioned below assignperm supports bulk operations on either usersgroups OR objects However removeperm only supports bulk operations on objects Is this intentional and am I doing something wrong if I want to remove permission to an object from multiple users Are inline fields not supported in Django Admin with Guardian class PhoneInlineadminStackedInline model UserPhone extra class UserAdminGuardedModelAdmin inlines PhoneInline listdisplay Username FirstName LastName searchfields UsernameFirstNameLastName However the inline forms no longer appear my code from guardianshortcuts import assignperm when userorgroup is a queryset assignpermpermperm userorgroupqueryset objobj raise error File Userszuilipyenvversionsenvnmslibpython sitepackagesguardianshortcutspy line in assignperm return modelobjectsassignpermtomanyperm user obj File Userszuilipyenvversionsenvnmslibpython sitepackagesguardianmanagerspy line in assignpermtomany return selfmodelobjectsbulkcreatetoadd File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbmodelsmanagerpy line in managermethod return getattrselfgetqueryset nameargs kwargs File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbmodelsquerypy line in bulkcreate ids selfbatchedinsertobjswithoutpk fields batchsize ignoreconflictsignoreconflicts File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbmodelsquerypy line in batchedinsert selfinsertitem fieldsfields usingselfdb ignoreconflictsignoreconflicts File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbmodelsquerypy line in insert return querygetcompilerusingusingexecutesqlreturnid File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbmodelssqlcompilerpy line in executesql cursorexecutesql params File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbbackendsutilspy line in execute return superexecutesql params File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbbackendsutilspy line in execute return selfexecutewithwrapperssql params manyFalse executorselfexecute File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbbackendsutilspy line in executewithwrappers return executorsql params many context File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbbackendsutilspy line in execute return selfcursorexecutesql params File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbutilspy line in exit raise djexcvaluewithtracebacktraceback from excvalue File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbbackendsutilspy line in execute return selfcursorexecutesql params File Userszuilipyenvversionsenvnmslibpython sitepackagesdjangodbbackendssqlite basepy line in execute return DatabaseCursorexecuteself query params djangodbutilsIntegrityError UNIQUE constraint failed guardianuserobjectpermissionuserid guardianuserobjectpermissionpermissionid guardianuserobjectpermissionobjectpk its a bug or I should check uniqueness myself OS macOS bash python version Python pip freeze certifi chardet Django djangoenviron djangorosetta idna microsofttranslator polib pytz requests six urllib sqlite version fbac baaab c a fdfc ccb f b e f a a bce d a cbaapl In exampleproject bash managepy runserver djangoguardianexampleprojectsettingspy UserWarning SQLite URL contains host component it will be ignored DATABASES default envdbdefaultsqliteexampledb Related 