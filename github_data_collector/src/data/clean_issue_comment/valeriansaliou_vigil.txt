Adds three new options for HTTP probes postjson set at the node level makes a JSON POST request instead of GET cachebustingqueryparameter set at service level optionally disables the timestamp query parameter that gets added to requests for overzealous validating API routes bearertokenenvvar set at service level expands an environment variable into an Authorization Bearer ENVVAR header for the requests We want to health check certain services that require authentication We dont want to inject secrets into the config file but we can do it via an environment variable this is pretty common in eg a Kubernetes scenario Heres an example with the new settings toml probeservice id api label API Routes cachebustingqueryparameter false probeservicenode id labellerspredictcomments label Predict Comments mode poll postjson uids cdeeb cd ae c replicas Optionally parse the config file as JSON if the filename ends in json Our deployment infrastructure generates JSON configs but not TOML so itd be hard to integrate otherwise Hope this is OKcurrent users should be unaffected Hi it would be awesome to have a notifier for discord Regards Alessandro Hello valeriansaliou Im trying to deploy vigil using Dockerfile copied from this repo but whatever I do it fails on openssl for example Compiling ahocorasick v error failed to run custom build command for openssl v process didnt exit successfully apptargetreleasebuildopenssle c d fbd buildscriptbuild exit code stderr thread main panicked at Unable to detect OpenSSL version usrlocalcargoregistrysrcgithubcom ecc db ec openssl buildrs note Run with RUSTBACKTRACE environment variable to display a backtrace warning build failed waiting for other jobs to finish error build failed The Dockerfile Cargotoml and Cargolock have been copied from this repo Do you have any idea how to fix that Thank you in advance Best regards Denis Hello The endpoint below yield a status code but I still get an error in vigil probeservicenode id redsminapi label API mode poll replicas Any idea on what is going wrong Im not able to deploy vigil on ZEIT Now The nowjson is version name vigil builds src Cargotoml use nowrust config rust nightly and fails with code Any suggestions Thanks Hello If anyone has quick feature suggestions or lacks a feature in Vigil please use this thread to submit your ideas Modernize the template Provide LAN hostbehindNAT TCP probing capabilities fork and rebrand to Vigil implement improvements from Vigil Disk space usage seems to be a really basic metric to probe Some of services are often victims of full disk and that risk could be mitigated by allowing Vigil to report such situations as unhealthy above some percentage of disk usage Probably worth handling that