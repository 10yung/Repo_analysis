I used puppeteer to simulate logging into a website After logging in successfully a slider verification code may appear when entering a detail pageIf your programs visit this type of page frequently a slider verification code will appear If you get the successful cookies afer go through the slider verification add them to the header information and then you can continue to crawl page data The cookies are valid for minutesOk so heres the problem In header mode you can log in normally and you can also drag a slider on a certain type of page and successfully verify that you get the cookiesHowever in headless mode you can also log in normally but you cannot drag the slider on a certain type of page normally The slider does not move and the program stops at the slider drag all the timeYou cant just drag the slider like you have a head mode and it doesnt moveThis is part of my drag process el await selfpagequerySelectornc n z const box await elboundingBox await pagehovernc n z await pagemousedown await pagemousemovebox x box y steps await pagemousemovebox x box y steps await pagemousemovebox x box y steps await pagemousemovebox x distance box y steps await pagemousemovebox x distance box y steps await pagemouseup I look forward to your guidance and help Thank you Steps to reproduce Tell us about your environment Puppeteer version Platform OS version windows URLs if applicable Nodejs version What steps will reproduce the problem Please include code that reproduces the issue exposeFunction dosent work correctly when calling a rd party method from modules which cause unexpected error I had already searched in StackOverflow and Google and disappointedly in vain javascript const removeSpItems requirehelperremoveSpItems await pageexposeFunctionremoveSpItems arr idxArr removeSpItemsarr idxArr let aLinkArr await pageevaluateasync const linkUl documentquerySelectorAllullist let aLinks linkUlquerySelectorAll alinka aa primary a e linkfaf c await windowremoveSpItemsaLinks return aLinksmapa return href ahreftrim text ainnerTexttrim removeSpItemsjs function removeSpItemsarr idxArr const len idxArrlength if ArrayisArrayidxArr len throw new ErrorIdxArr Must Be An Array With At Least One Member if len arrspliceidxArr return arr else let newIdx idxArrmapval idx return val idx newIdxforEachidx arrspliceidx return arr moduleexports removeSpItems What is the expected result aLinks is an array with several node like aspanspana I try to use removeSpItems to remove special items in the array What happens instead Unexpected Error Occured UnhandledPromiseRejectionWarning Error Evaluation failed TypeError Converting circular structure to JSON starting at object with constructor HTMLAnchorElement property reactInternalInstanceli jk fmm object with constructor tu property stateNode closes the circle at JSONstringify anonymous at windowcomputed puppeteerevaluationscript at puppeteerevaluationscript at ExecutionContextevaluateInternal C Users Desktop Praticing PuppeteerPratices nodemodules puppeteer puppeteer lib ExecutionContextjs at processTicksAndRejections internalprocesstaskqueuesjs at async ExecutionContextevaluate C Users Desktop Praticing PuppeteerPratices nodemodules puppeteer puppeteer lib ExecutionContextjs at async C Users Desktop Praticing PuppeteerPratices src tspdfjs puppeteer lib helperjs ing PuppeteerPratices node at C Users Desktop Praticing PuppeteerP Pratices nodemodules puppeteer puppeteer lib helperjs ratices src tspdfjs ticing PuppeteerPratices noodemodules puppeteer puppeteer lib DOMWorldjs at processTicksAndRejections internalprocesstas kqueuesjs Steps to reproduce Tell us about your environment Puppeteer version Chromium Platform OS version AWS Lambda URLs if applicable Nodejs version x What steps will reproduce the problem browser await chromiumpuppeteerlaunch args chromiumargs defaultViewport chromiumdefaultViewport executablePath await chromiumexecutablePath headless chromiumheadless let page await browsernewPage let viewportSize width height await pagesetViewportviewportSize let result await pagegoto let client await pagetargetcreateCDPSession let wHandle await clientsendRuntimeevaluate expression window consolelogwHandle let listeners await clientsendDOMDebuggergetEventListeners objectIdwHandleobjectId consoleloglisteners What is the expected result I expect to get a collection of listener objects or at least not an error the page in the example above replaces a nonpublic page which has resize events I need to savekillrestore as a way of working around problems described here What happens instead DOMDebuggergetEventListeners call results in an error Protocol error DOMDebuggergetEventListeners Invalid parameters objectId string value expected STEP Are you in the right place For general technical questions or how to guidance please search StackOverflow for questions tagged puppeteer or create a new post For issues or feature requests related to the DevTools Protocol file an issue there Problem in Headless Chrome File an issue against Chromiums issue tracker For issues feature requests or setup troubles with Puppeteer file an issue right here Steps to reproduce Tell us about your environment Puppeteer version Platform OS version Mac URLs if applicable Nodejs version What steps will reproduce the problem I try to screenshot that site with fullPage option But It only capture the top part Beside that it only contain white area or blank area Below is my code let browser await puppeteerlaunch defaultViewport width height let page await browsernewPage await pagegoto waitUntil networkidle await pagescreenshot path issue png fullPage true await browserclose May I know what is the correct way to screenshot that type of website Im really appreciate your help What is the expected result What happens instead STEP Are you in the right place For general technical questions or how to guidance please search StackOverflow for questions tagged puppeteer or create a new post For issues or feature requests related to the DevTools Protocol file an issue there Problem in Headless Chrome File an issue against Chromiums issue tracker For issues feature requests or setup troubles with Puppeteer file an issue right here Preface For general technical questions or how to guidance please search StackOverflow for questions tagged puppeteer or create a new post Am banned from SO for another years That is not going to happen any time soon Have previously asked the question at Chromium discuss rchrome and bugschromium What is the canonical procedure to use utility utilitycmdprefix utilitystartupdialog enableservicebinarylauncher flags What is the canonical procedure to use utility utilitycmdprefix utilitystartupdialog enableservicebinarylauncher flags Issue How to use Chromium as utility and browser Concept SpeechSynthesis to a MediaStreamTrack or How to execute arbitrary shell commands using inotifytools and DevTools Snippets Am trying to execute arbitrary shell scripts on the local machine without using a local server Native Messaging or WebAssembly to do so Execution of the local shell scripts and retrieval of the output as a file is not the issue Retaining the ability to use the browser even though launched as a utility is the issue Perhaps the developers here will be able to help If not do not know where to ask the question next If this issue is determined to be offtopic for this repository kindly close the issue For issues feature requests or setup troubles with Puppeteer file an issue right here Steps to reproduce Tell us about your environment Puppeteer version NA Platform OS version Linux URLs if applicable file and Web address Nodejs version What steps will reproduce the problem Please include code that reproduces the issue notifydirectorymodificationssh binbash requestLocalScripts while true do inotifywait e attrib e close HOMElocalscriptsruntxt while read a c do HOMElocalscriptsscriptsh echo a c done done requestLocalScripts scriptsh binbash usrbinespeakng m f HOMElocalscriptsinputtxt w HOMElocalscriptsoutputwav runtxt A plain text file having size We write the file to local file system without content to observe ATTRIB event modification date dispatched by inotifywait HTML DOCTYPE html html head meta charsetutf titleChoose directory get writable permission write without executing closetitle head body p idchoosedirectorygetwritablepermissionChoose directory get writeable permission execute scriptp script let input voice nameStormTestvoice dir status execFileHandle inputFileHandle outputFileHandle writer const ac new AudioContext documentgetElementByIdchoosedirectorygetwritablepermissiononclick async e try if dir instanceof FileSystemDirectoryHandle dirname localscripts status granted dir await selfchooseFileSystemEntriestypeopenDirectory status await dirrequestPermissionwritabletrue inputFileHandle await dirgetFileinputtxt createtrue execFileHandle await dirgetFileruntxt create true writer await inputFileHandlecreateWriterkeepExistingData false await writerwrite new Blob input type textplain await writerclose writer await execFileHandlecreateWriterkeepExistingData false await writerwrite new Blob type textplain wait for file to be written await Promiseall writerclose new Promiseresolve setTimeoutresolve outputFileHandle await dirgetFileoutputwav create false const buffer await await outputFileHandlegetFilearrayBuffer await Promiseall inputtxt outputwav mapfn dirremoveEntryfn const ab await acdecodeAudioDatabuffer const source accreateBufferSource sourcebuffer ab sourceonended e sourcedisconnect consoleloge sourceconnectacdestination sourcestart catch e consoleerrore script body html Launch Chromium with utility utilityandbrowser flags set chromiumbrowser utilityandbrowser utilitycmdprefixpathtonotifydirectorymodificationssh pathtochoosedirectorygetwritablepermissionwithoutexecutingclosehtml Write arbitrary sheel script to local filesystem using Native File System Utilize inotifytools to execute the arbitrary shell script and get output of command as file What is the expected result Ability to navigate to a Web address at a tab other than the local HTML doccument at file protocol set as argument to Chromium executable What happens instead When attempting to naviagte to a Web URL at the new tab page the document does not load instead the tab appears to remain in the request state similar to requesting a N GB resource though does not ever conclude the request How to run Chromium Chrome as both a utility and general browser Can i in page context call a function defined on puppeter What i need is load a page on puppeter and when an especific event occurs some elements will be shown on the screen so when this happen i need call puppeter function with that loaded elements There is a way to achieve that Steps to reproduce Tell us about your environment Puppeteer version Platform OS version macOS Catalina Nodejs version const browser await puppeteerlaunch headless false defaultViewport null args proxyserver taskProxy const page await browsernewPage await pageauthenticate username taskUser password taskPass await pagegotourl What is the expected result Page will authenticate the proxy and the given URL will be loaded What happens instead Page wont authenticate and asks user to manually enter userpass HiI am new and Id like to get the response of the request from twitter shown in the screenshot The current puppeteer code is shown below Could anybody show me how to modify it so that it will get the JSON response directly from the browser Thanks Here is a code as an example const puppeteer requirepuppeteer async const browser await puppeteerlaunch const browser await puppeteerlaunch headless false const page await browsernewPage await pagegoto await pagewaitFor await pagetypeinput namesession usernameoremail username await pagewaitFor await pagetypejspasswordfield password await pagewaitFor await pageclickEdgeButtommedium await pagewaitFor await pagegoto await pagewaitFor const linkHandlers await pagex idreactroot divdivdivmaindivdivdivdivdivdiv divsectiondivdivdivdiv divarticledivdiv div a if linkHandlerslength const response await Promiseall pagewaitForResponseresponse responseurlincludes linkHandlers click const dataObj await responsejson consolelogdataObj else throw new ErrorLink not found Here is data i want to get tB ja Steps to reproduce Tell us about your environment Puppeteer version Platform OS version MacOS Alpine Linux URLs if applicable or any other tik tok profile Nodejs version What steps will reproduce the problem Simply use pagegoto No matter its headless or not Please include code that reproduces the issue javascript const puppeteer requirepuppeteer async function test const browser await puppeteerlaunch headless false defaultViewport height width const ctx await browsercreateIncognitoBrowserContext const page await ctxnewPage await pagegoto timeout waitUntil networkidle await new Promiseresolve setTimeoutresolve await browserclose test What is the expected result the full page with video feed What happens instead video feed not loading Ive been trying many things also nothing shows up in the console or the network that could give any clue about what the problem is The issue also occurs when running in a docker container I tried loading the page using the chromium binary provided with puppeteer but its loading fine as well as on any other browser connected to the same and any other network Incognito or not So the only thing that is left to suspect is the fact that the connection between Puppeteer and the binary is somehow causing the problem Would it be possible Im not familiar with how it works in the background and looking at the code has not been a successful lead for me and Im really running out of ideas I have several jobs that only run properly when headless mode is false so I need to run them locally However because every few seconds a new window is opened I have to run when my local machine is not in use Is there a way to run in headful mode but open the browser in the background