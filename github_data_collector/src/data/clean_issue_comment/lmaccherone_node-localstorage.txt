Trying to implement the feature as spoken about on non persistent storage Seems to work great except when many instances of LocalStorage are run simultaneously see this part of the tests By the way I wanted to illustrate the confusion between the two storage types but Im now realizing two things The same path ostmpdir is used for both of them and there would also be a mess with two instances using the the same path on the actual file system edit same path case removed Once a LocalStorage is instanciated without a path and mockfs has taken over the whole fs module would be affected Also on other parts of the application I think having the option of not persisting data would be helpful I just need this for running unittests where data shouldnt persist past the current run 