hi I want to run a query after another query def onchatmessagemsg contenttype chattype chatid telepotglancemsg keyboard InlineKeyboardMarkupinlinekeyboard InlineKeyboardButtontextISO callbackdataiso InlineKeyboardButtontextMAKRO callbackdatamakro botsendMessagechatid please select one replymarkupkeyboard def menumsg queryid fromid querydata telepotglancemsg flavorcallbackquery if querydatamakro keyboard InlineKeyboardMarkupinlinekeyboard InlineKeyboardButtontextnumber callbackdata InlineKeyboardButtontextnumber callbackdata botsendMessagefromidplease select one replymarkupkeyboard if querydataiso keyboard InlineKeyboardMarkupinlinekeyboard InlineKeyboardButtontextnumber callbackdata InlineKeyboardButtontextnumber callbackdata botsendMessagefromidplease select one replymarkupkeyboard bot telepotBotTOKEN MessageLoopbot chat onchatmessage callbackquery menurunasthread And according to what the user chooses in the second query one number will be displayed I wrote the code above and Ill go to the second menu stage But after that I do not know what to do so the program proceeds according to the users choice in the second menu Hi Im getting errors when trying to send a message Im using Raspbian Stretch on a Pi Zero W Its working fine on a Pi running Raspbian Jessie Traceback most recent call last File homesimonlocallibpython sitepackagesurllib connectionpoolpy line in urlopen chunkedchunked File homesimonlocallibpython sitepackagesurllib connectionpoolpy line in makerequest selfvalidateconnconn File homesimonlocallibpython sitepackagesurllib connectionpoolpy line in validateconn connconnect File homesimonlocallibpython sitepackagesurllib connectionpy line in connect sslcontextcontext File homesimonlocallibpython sitepackagesurllib utilsslpy line in sslwrapsocket return contextwrapsocketsock serverhostnameserverhostname File usrlibpython sslpy line in wrapsocket contextself File usrlibpython sslpy line in init selfdohandshake File usrlibpython sslpy line in dohandshake selfsslobjdohandshake File usrlibpython sslpy line in dohandshake selfsslobjdohandshake sslSSLError SSL CERTIFICATEVERIFYFAILED certificate verify failed sslc During handling of the above exception another exception occurred Traceback most recent call last File sendpy line in module sendstrsysargv File sendpy line in send botsendMessagebotchatID msg File homesimonlocallibpython sitepackagestelepotinitpy line in sendMessage return selfapirequestsendMessage rectifyp File homesimonlocallibpython sitepackagestelepotinitpy line in apirequest return apirequestselftoken method params files kwargs File homesimonlocallibpython sitepackagestelepotapipy line in request r fnargs kwargs fn must be threadsafe File homesimonlocallibpython sitepackagesurllib requestpy line in requestencodebody return selfurlopenmethod url extrakw File homesimonlocallibpython sitepackagesurllib poolmanagerpy line in urlopen response connurlopenmethod urequesturi kw File homesimonlocallibpython sitepackagesurllib connectionpoolpy line in urlopen responsekw File homesimonlocallibpython sitepackagesurllib connectionpoolpy line in urlopen responsekw File homesimonlocallibpython sitepackagesurllib connectionpoolpy line in urlopen responsekw File homesimonlocallibpython sitepackagesurllib connectionpoolpy line in urlopen stacktracesysexcinfo File homesimonlocallibpython sitepackagesurllib utilretrypy line in increment raise MaxRetryErrorpool url error or ResponseErrorcause urllib exceptionsMaxRetryError HTTPSConnectionPoolhostapitelegramorg port Max retries exceeded with url botxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxsendMessage Caused by SSLErrorSSLError SSL CERTIFICATEVERIFYFAILED certificate verify failed sslc Ive tried sending a message from curl using the same system and it works fine curl X POST H ContentType applicationjson d chatid xxxxxxxxxxx text Test disablenotification true I created a schedule that is sending some information to certain users ids but if another person interacts with the bot at the same time that the scheduled messages of the error are being sent and these messages are not sent Is it possible to create sessions by id or is there any other way to solve this Latest commit fde on May Traceback most recent call last File homepidronebot py line in module import telepot File usrlibpython distpackagesthonnybackendpy line in customimport module selforiginalimportargs kw ImportError No module named telepot Im trying to send a message to user who joined to a group with my telegram bot I add bot to the group and bot is admin in group and I set the Group Privacy off I get user with newchatmember when user joined to group but the message send to user infinitely And the update which is for when a member join to group is pending how I should answer the incoming update when a user join to telegram group ifissetarrayMessage message if issetarrayMessage message newchatmember text hello url filegetcontentsurl Im using laravel For a cleaner exit when tasks are cancelled Hello Im trying hard to delete all the messages sent by my bot into a chat I know that it is not possible to delete the messages sent by the user so i want at least delete all the messages sent by my bot so far to save a message id sent from my bot I use this code messagesidsupdatechatid lastMessage That store in a dictionary the chat ID and all the information about the last messages that the bot sent Then I delete the last message whit this method botdeleteMessagetelepotmessageidentifiermessagesids chatid But obviously I cant delete the message sent to a user before I implemented this method So to clear the old chats can I delete in someway all the message sent by my bot Or maybe there is a way to get all the messages ids of messages already sent In this way Id do a for cycle But I cannot do a for cycle without the ids because I should check hundred thousand messages for chat and obviously it would be really slow and annoying Hopefully there is an easier solution Thankyou Hello I recently switched to the async version and Im trying to replicate the behavior I had before which is the following the bot must be able to do two different things Receive a msg and handle it doing some stuff depending on the content Send some msg when some data is collected by sensors This is the code in the standard not async version I used to run python import telepot from telepotloop import MessageLoop from multiprocessingconnection import Listener Client addr localhost listener Listeneraddr telegramid my ID def handlemsg do some processing and maybe sending a msg bot telepotBottoken MessageLoopbot handlerunasthread while True conn listeneraccept data connrecv connclose some processing on data botsendMessagetelegramid data I cannot replicate this behavior in the async version Im not very fond on async programming actually I tried many thing including the following python from multiprocessingconnection import Listener Client import asyncio import telepot import telepotaio addr localhost listener Listeneraddr telegramid myid async def getdata printWaiting for data conn listeneraccept data connrecv connclose return data async def internalhandle while True data await asynciorungetdata process data await botsendMessagetelegramid data async def handlemsg same stuff as before bot telepotaioBottoken loop asynciogeteventloop loopcreatetaskinternalhandle loopcreatetaskMessageLoopbot handlerunforever looprunforever I thought this would run internalehandle and the msg handler together but it doesnt Instead it gets stuck waiting for data from the Listener Thank you for any suggestion