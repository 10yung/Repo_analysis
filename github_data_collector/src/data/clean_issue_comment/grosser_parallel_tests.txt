Im using parallelspec to run rspec binrake parallelspec and in my rspecparallel i have the below two lines format progress out tmprspec ENV TESTENVNUMBER xml But the default format its taking ormat dont know from where its fetching this value and failing with the error STATRED RSPECS STARTING RAILS set ENV apprev ENV scmrev NA RAILSENVtest processes for specs specs per process optruby librubygems gemsrspeccore librspeccoreformattersrb in findformatter Formatter ormat unknown maybe you meant documentation or progress ArgumentError from optruby librubygems gemsrspeccore librspeccoreformattersrb in add from optruby librubygems gemsrspeccore librspeccoreconfigurationrb in addformatter from optruby librubygems gemsrspeccore librspeccoreconfigurationoptionsrb in block in loadformattersinto from optruby librubygems gemsrspeccore librspeccoreconfigurationoptionsrb in each from optruby librubygems gemsrspeccore librspeccoreconfigurationoptionsrb in loadformattersinto from optruby librubygems gemsrspeccore librspeccoreconfigurationoptionsrb in configure from optruby librubygems gemsrspeccore librspeccorerunnerrb in setup from optruby librubygems gemsrspeccore librspeccorerunnerrb in run from optruby librubygems gemsrspeccore librspeccorerunnerrb in run from optruby librubygems gemsrspeccore librspeccorerunnerrb in invoke from optruby librubygems gemsrspeccore exerspec in top required from binrspec in load from binrspec in main I was previously just using rspec to run my tests but Ive just switched to paralleltests and now Im running into this error when Im calling the rake task rake parallelspec Web Console is activated in the test environment This is usually a mistake To ensure its only activated in development mode move it to the development group of your Gemfile gem webconsole group development If you still want to run it in the test environment and know what you are doing put this in your Rails application configuration configwebconsoledevelopmentonly false My Gemfile does have the webconsole gem in the development group but I think the initial rake command assumes that the Rails env is development so it loads all of the gems in this group Theres a few ways I can fix this Run the parallelrspec command directly Run RAILSENVtest rake parallelspec Maybe I could shorten this by setting up an alias for my bash profile Set configwebconsoledevelopmentonly false in my application config I think Ill just use the parallelrspec command but I was wondering how people normally resolve this issue And maybe something could be added to the README Im just not sure about the best solution Fails with syntax error near unexpected token if any file has a or in its name It seems space characters also break parallel Ruby Rails Parallel Tests RSpec running rails parallelspec also executed via binrake etc error persists I was lazy so I renamed my file and it is good now However the gem should not fail to parse files when their names are valid file names FYI also having an issue with the color and tty options tried everything found in issues of the related gems nothing worked it keeps on failing with invalid option So I forked it and just removed the colorstty No one needs that anyway Running paralleltests and Rails on MacOS When I run bundle exec rails parallelspec my test suite blows up with JSONParserError unexpected token at null However when I run bundle exec rspec I dont see this error The code that seems to be effecting this is class Visit ApplicationRecord store otherinformation accessors notes coder JSON def notes super end end Where otherinformation is a jsonb field Ive tried running on different versions of postgres and and it doesnt matter Interestingly if I remove coder JSON all works fine Full message FailureError super JSONParserError unexpected token at null Userssammyrvmgemsruby daisygemsactiverecord libactiverecordstorerb in load Userssammyrvmgemsruby daisygemsactiverecord libactiverecordtypeserializedrb in defaultvalue Userssammyrvmgemsruby daisygemsactiverecord libactiverecordtypeserializedrb in deserialize Userssammyrvmgemsruby daisygemsactivemodel libactivemodelattributerb in typecast Userssammyrvmgemsruby daisygemsactivemodel libactivemodelattributerb in value Userssammyrvmgemsruby daisygemsactivemodel libactivemodelattributesetrb in fetchvalue Userssammyrvmgemsruby daisygemsactiverecord libactiverecordattributemethodsreadrb in readattribute Userssammyrvmgemsruby daisygemsactiverecord libactiverecordattributemethodsreadrb in tempf f e f d f e Userssammyrvmgemsruby daisygemsactiverecord libactiverecordstorerb in prepare Userssammyrvmgemsruby daisygemsactiverecord libactiverecordstorerb in read Userssammyrvmgemsruby daisygemsactiverecord libactiverecordstorerb in readstoreattribute Userssammyrvmgemsruby daisygemsactiverecord libactiverecordstorerb in block levels in storeaccessor appmodelsvisitrb in notes Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in block in makelambda Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in block levels in halting Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in block levels in defaultterminator Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in catch Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in block in defaultterminator Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in block in halting Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in block in invokebefore Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in each Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in invokebefore Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in runcallbacks Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in runvalidatecallbacks Userssammyrvmgemsruby daisygemsactivemodel libactivemodelvalidationsrb in runvalidations Userssammyrvmgemsruby daisygemsactivemodel libactivemodelvalidationscallbacksrb in block in runvalidations Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in runcallbacks Userssammyrvmgemsruby daisygemsactivesupport libactivesupportcallbacksrb in runvalidationcallbacks Userssammyrvmgemsruby daisygemsactivemodel libactivemodelvalidationscallbacksrb in runvalidations Userssammyrvmgemsruby daisygemsactivemodel libactivemodelvalidationsrb in valid Userssammyrvmgemsruby daisygemsactiverecord libactiverecordvalidationsrb in valid Userssammyrvmgemsruby daisygemsactiverecord libactiverecordvalidationsrb in performvalidations Userssammyrvmgemsruby daisygemsactiverecord libactiverecordvalidationsrb in save Userssammyrvmgemsruby daisygemsactiverecord libactiverecordtransactionsrb in block in save Userssammyrvmgemsruby daisygemsactiverecord libactiverecordtransactionsrb in block in withtransactionreturningstatus Userssammyrvmgemsruby daisygemsactiverecord libactiverecordconnectionadaptersabstractdatabasestatementsrb in block in transaction Userssammyrvmgemsruby daisygemsactiverecord libactiverecordconnectionadaptersabstracttransactionrb in block in withinnewtransaction Userssammyrvmgemsruby daisygemsactiverecord libactiverecordconnectionadaptersabstracttransactionrb in withinnewtransaction Userssammyrvmgemsruby daisygemsactiverecord libactiverecordconnectionadaptersabstractdatabasestatementsrb in transaction Userssammyrvmgemsruby daisygemsactiverecord libactiverecordtransactionsrb in transaction Userssammyrvmgemsruby daisygemsactiverecord libactiverecordtransactionsrb in withtransactionreturningstatus Userssammyrvmgemsruby daisygemsactiverecord libactiverecordtransactionsrb in save Userssammyrvmgemsruby daisygemsactiverecord libactiverecordsuppressorrb in save Userssammyrvmgemsruby daisygemsfactorybot libfactorybotevaluationrb in create Userssammyrvmgemsruby daisygemsfactorybot libfactorybotstrategycreaterb in block in result Userssammyrvmgemsruby daisygemsfactorybot libfactorybotstrategycreaterb in tap Userssammyrvmgemsruby daisygemsfactorybot libfactorybotstrategycreaterb in result Userssammyrvmgemsruby daisygemsfactorybot libfactorybotfactoryrb in run Userssammyrvmgemsruby daisygemsfactorybot libfactorybotfactoryrunnerrb in block in run Userssammyrvmgemsruby daisygemsactivesupport libactivesupportnotificationsrb in instrument Userssammyrvmgemsruby daisygemsfactorybot libfactorybotfactoryrunnerrb in run Userssammyrvmgemsruby daisygemsfactorybot libfactorybotstrategysyntaxmethodregistrarrb in block in definesingularstrategymethod specmodelsclinicspecrb in block levels in top required specmodelsclinicspecrb in block levels in top required Userssammyrvmgemsruby daisygemsrspecretry librspecretryrb in block in run Userssammyrvmgemsruby daisygemsrspecretry librspecretryrb in loop Userssammyrvmgemsruby daisygemsrspecretry librspecretryrb in run Userssammyrvmgemsruby daisygemsrspecretry librspecextrspecextrb in runwithretry Userssammyrvmgemsruby daisygemsrspecretry librspecretryrb in block levels in setup Userssammyrvmgemsruby daisygemsactivesupport libactivesupportdependenciesrb in load Userssammyrvmgemsruby daisygemsactivesupport libactivesupportdependenciesrb in block in load Userssammyrvmgemsruby daisygemsactivesupport libactivesupportdependenciesrb in loaddependency Userssammyrvmgemsruby daisygemsactivesupport libactivesupportdependenciesrb in load Userssammyrvmgemsruby daisygemsspringcommandsrspec libspringcommandsrspecrb in call e in main It seems like this line crushes most of my attempts to remove color from test output Has anyone been able to successfully remove this A lot of build systems do not have color so the output ends up pretty garbled Randomized with seed m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m m In rspec this was just a flag nocolor Im one of the developers working on Discourse and we have recently starting using paralleltests Ive been tasked with making parallel rspec work more like regular rspec Wed like to see progress as it happens and then see a single summary at the end much like as is described in The way Ive chosen to go about doing this is to make each subprocess use a custom rspec formatter that produces a json object for each event code The main process then parses these events and does its own reporting code See this PR on discourse for more information This will work for us but judging by some of the issues in this tracker there are other users of this gem that might also benefit from such changes However its quite a substantial departure from the current behavior Would you be interested in receiving PRs that add this functionality I am running into an issue where is throwing an error on fetch ruby jakartacucumberscriptsgemsparalleltests libparalleltestsrb in fetch key not found PARALLELPIDFILE KeyError Did you mean PARALLELMODE since it could not find PARALLELPIDFILE and default is not specific none of my tests are running I use jenkinsruns in docker instances to run cucumberruby tests Let me know if I am missing anything or fixing def pidfilepath ENVfetchPARALLELPIDFILE end might resolve it I want to get a single report for the all the feature files If i run parallelcucumber features n o t auto t jenkins this generated reportI want to get a single report with all the details It will be good to get a single report for the parallel test Hi Im running into the following problem after running bundle exec rake parallelcreate parallelprepare parallelspec api Created database apptest api Created database apptest db FATAL database apptest does not exist api rake aborted api ActiveRecordNoDatabaseError FATAL database apptest does not exist api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in rescue in connect api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in connect api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in initialize api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in new api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in postgresqlconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in newconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in checkoutnewconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in trytocheckoutnewconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in acquireconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in checkout api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in connection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in retrieveconnection api bundlegemsactiverecord libactiverecordconnectionhandlingrb in retrieveconnection api bundlegemsactiverecord libactiverecordconnectionhandlingrb in connection api bundlegemsactiverecord libactiverecordrailtiesdatabasesrake in block levels in top required api bundlegemsparalleltests libparallelteststasksrb in block in checkforpendingmigrations api bundlegemsparalleltests libparallelteststasksrb in each api bundlegemsparalleltests libparallelteststasksrb in checkforpendingmigrations api bundlegemsparalleltests libparallelteststasksrb in block levels in top required api bundlegemsrake exerake in top required api api Caused by api PGConnectionBad FATAL database apptest does not exist api bundlegemspg libpgrb in initialize api bundlegemspg libpgrb in new api bundlegemspg libpgrb in connect api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in connect api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in initialize api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in new api bundlegemsactiverecord libactiverecordconnectionadapterspostgresqladapterrb in postgresqlconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in newconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in checkoutnewconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in trytocheckoutnewconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in acquireconnection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in checkout api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in connection api bundlegemsactiverecord libactiverecordconnectionadaptersabstractconnectionpoolrb in retrieveconnection api bundlegemsactiverecord libactiverecordconnectionhandlingrb in retrieveconnection api bundlegemsactiverecord libactiverecordconnectionhandlingrb in connection api bundlegemsactiverecord libactiverecordrailtiesdatabasesrake in block levels in top required api bundlegemsparalleltests libparallelteststasksrb in block in checkforpendingmigrations api bundlegemsparalleltests libparallelteststasksrb in each api bundlegemsparalleltests libparallelteststasksrb in checkforpendingmigrations api bundlegemsparalleltests libparallelteststasksrb in block levels in top required api bundlegemsrake exerake in top required api Tasks TOP dbabortifpendingmigrations api See full trace by running task with trace db LOG received smart shutdown request db LOG autovacuum launcher shutting down db LOG shutting down db LOG database system is shut down Have you ever seen this kind of behaviour before It looks like the counter is going above the number of processes for some reason Im running tests aas a rake task which contains something like system bundle exec parallelcucumber n ENV THREADS features o f AllureCucumberFormatter o allure t platform tag r featurespagesplatform r featuressupport r featuresstepdefinitions t skip So i can change number of my features from CI using tag variable but anyway im changing it from feature tag to feature tags or looks like tutorialfalseauthauthscreenreferences and every time i see only one string processes for features features per process parallelcucumber dont want to count scenarios in use its always showing me max value