 Description Brief description Refer to the related issues if existed Itll be great if relevant reviewers can be assigned as well Checklist Please feel free to remove inapplicable items for your PR The PR title starts with CATEGORY such as NN Model Doc Feature Changes are complete ie I finished coding on this PR All changes have test coverage Code is welldocumented To the my best knowledge examples are either not affected by this change or have been fixed to be compatible with this change Related issue is referred in this PR Changes You could use following template Feature tests and when applicable API doc Feature tests and when applicable API doc Description Brief description Refer to the related issues if existed Itll be great if relevant reviewers can be assigned as well Checklist Please feel free to remove inapplicable items for your PR The PR title starts with CATEGORY such as NN Model Doc Feature Changes are complete ie I finished coding on this PR All changes have test coverage Code is welldocumented To the my best knowledge examples are either not affected by this change or have been fixed to be compatible with this change Related issue is referred in this PR Changes You could use following template Feature tests and when applicable API doc Feature tests and when applicable API doc Description This implements fixedlength random walk operator described in Although the branch name is called pinsagerefactor this is only the very first step towards actually refactoring the PinSAGE implementation Checklist Please feel free to remove inapplicable items for your PR x The PR title starts with CATEGORY such as NN Model Doc Feature Changes are complete ie I finished coding on this PR x API Migrate examples from existing randomwalk calls to the new one x All changes have test coverage x Code is welldocumented x To the my best knowledge examples are either not affected by this change or have been fixed to be compatible with this change x Related issue is referred in this PR Misc Changes New C NDArray operator Assignarray index and IsEmptyarray New NDArray constructor VecToNDArray that works with int and float EXPECT macros to perform array type checks HeteroGraphGetEndpointTypesdgltypet etype to get node types of both endpoints given the edge type RandomEngineChoiceFloatArray array that does nonuniform sampling using TreeSampler Description Fix for Checklist Please feel free to remove inapplicable items for your PR x The PR title starts with CATEGORY such as NN Model Doc Feature x Changes are complete ie I finished coding on this PR All changes have test coverage Code is welldocumented x To the my best knowledge examples are either not affected by this change or have been fixed to be compatible with this change x Related issue is referred in this PR Bug In the RGCN entity classification example the model has a softmax activation but the loss function Fcrossentropy expects raw logits Unless Im mistaken either the last layer should have no activation or the loss should be changed to Fnllloss To Reproduce Running the example Setting the activation to None has no effect on the score for AIFB I cant easily test larger data like AM atm If I add a double softmax to my own implementation of RGCN the performance on AM completely collapses but then Im still debugging it Documentation Its very memory consuming to generate onehot encoding with eye We should replace it with an embedding layer Feature We have finally settled down in principle the design of the longawaited sampling on heterogeneous graphs and we have started working on it This issue keeps track of the implementation progress Youre welcome to read the proposal publicly available on The document is not fixed and it is subject to changes youre welcome to provide feedback on either the proposal itself or this issue thread Task tracker C APIs Neighbor sampling sampleneighbors sampleneighborstopk BarclayII insubgraph outsubgraph samplelayerwise Random walks randomwalk BarclayII randomwalkwithrestart BarclayII node vecrandomwalk Misc dglaten refactor to cover float types as well only necessary ones creategraphfrompaths BarclayII compactgraphs BarclayII tosimplegraph BarclayII Graphuniquesrc Graphuniquedst x dglchoiceprobarray numsamples faster numpyrandomchoice yzh already done in may a python interface is required Graphremoveedges BarclayII Models rewrite GCN GCN with Control Variate Sampling GraphSAGE with distributed GraphSAGE with Control Variate Sampling PinSAGE with distributed BarclayII GCMC RGCN GAT FastGCN DGI Adaptive Layerwise Sampling Related Unification of DGLGraph DGLHeteroGraph SubGraph BatchedGraph etc Shared memory storage Description Brief description Refer to the related issues if existed Itll be great if relevant reviewers can be assigned as well Checklist Please feel free to remove inapplicable items for your PR x The PR title starts with CATEGORY such as NN Model Doc Feature x Changes are complete ie I finished coding on this PR x All changes have test coverage x Code is welldocumented x To the my best knowledge examples are either not affected by this change or have been fixed to be compatible with this change x Related issue is referred in this PR Changes You could use following template Feature tests and when applicable API doc Feature tests and when applicable API doc Description Balanced relation partition when using gpu train relations are stored in cpu Strict relation partition when using gpu train relations are streod in gpu For Balanced relation partition run in Freebase partitions Train relation partition edges into parts part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations part has edges and relations Checklist Please feel free to remove inapplicable items for your PR The PR title starts with CATEGORY such as NN Model Doc Feature Changes are complete ie I finished coding on this PR All changes have test coverage Code is welldocumented To the my best knowledge examples are either not affected by this change or have been fixed to be compatible with this change Related issue is referred in this PR Changes You could use following template Feature tests and when applicable API doc Feature tests and when applicable API doc In we have mxsetnpshapeTrue Since at this moment MXNet and its community packages GluonCVGluonNLP etc are not fully compatible with MXNets np shape feature users need to be able to turn it onoff for example through an environmental variable