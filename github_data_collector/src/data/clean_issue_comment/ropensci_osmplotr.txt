even though all is good on ropenscigithubio Figures in the README that is r libraryosmplotr bbox getbboxc bbox datW extractosmobjectskeywaterway bboxbbox returntypemultilines map osmbasemapbboxbbox bggray map addosmobjectsmapmap objdatW colblue Error in geomtoxyobj objtype object xy not found objtype is multilinestring geomtoxy has no code for objtypemultilinestring Would it make sense to add a paragraph about rights of use of obtained maps somewhere in the docs Im thinking of that because I think the two advantages of using this package to produce basemaps is Customization Open data And Id like to add something about how the second point means you can legally do more with the map you obtain than if you made a map using a Google background if Im correct I am sorry if I missed something in the docs To know how to integrate a map in an RMarkdown document I had to look at the source of vignettes Is the solution used in vignettes the simplest one Then is it documented somewhere And last could it be simplified Eg in order to be able to use maps like magick objects The problems highlighted in osmdata issues and are pervasive and affect CRAN systems too causing tests to fail vcr is finally on CRAN so can be used to mock tests far more neatly and comprehensively than current approach Illustration only Issues regarding dependencies etc not dealt with Definitely a hard problem to solve and a heap of work if sf cant be used Hi I dont have time to track this down at present but the following bounding box leads to incorrect behaviour in osmline poly for this bit of coastline r bboxF rbindcmin max cmin max rownamesbboxF cx y I think the problem is cause by multiple cutting of peninsulas May be that the current approach is too simple and that we need to do something quite complex probably requiring sf unfortunately Hi This isnt intended to be a readytouse pull request more to let you have a look at what Ive been testing The original problem that lead me to think about this was using multiple mappings for single object types eg roads might have a group membership corresponding to colour and a continuous measure such as traffic load speed limit etc that should be displayed as either size or transparency In principle an easy problem in ggplot So Ive done some playing around with the more traditional ggplot approach It turns out that the stars have aligned and most of the pieces are already in place These are a geomsf in the development version of ggplot lots of tidyverse verbs supported by the sf package and the fact that sf uses special data frames There are two files in this PR a Rmd and the supporting R code No nice formatting or thorough testing just a demo of ideas Notes the ggplot support for sf is preliminary and there are issues around where things like xlim get set These are different to how osmplotr is currently set up and may be annoying sf gives lots of warnings about the assumptions it makes I havent attempted to turn them off Enjoy Has to be checked to ensure everything works okay and the vignette probably doesnt need all of the small maps which junk up the vignette directory or maybe just make these on the fly using prestored data cc richardbeare Ive been thinking about testing some special geomsstats for osm objects There may be some useful benefits from doing things that way in terms of flexibility but Ive only written a couple previously so Im not sure of the implications for how the rest of osmplotr works eg might not be compatible with the mechanisms for supplying defaults