 Hi thank you for opening an issue Before hitting the button Is this a REQUEST FOR HELP If so please have a look at How WeaveScope works our troubleshooting page our help page to choose the best channel Slack etc to reach out Is this a FEATURE REQUEST If so please search existing feature requests and if you find a similar one upvote it andor add your comments to it instead If you did not find a similar one please describe in details why your usecase specific constraints you may have etc what the featurebehaviourchange you would like to see in Weave Scope Do not hesitate when appropriate to share the exact commands or API you would like andor to share a diagram eg asciiflowcom a picture is worth a thousand words Is this a BUG REPORT Please fill in as much of the template below as you can Thank you What you expected to happen Kubernetes to show the hosts of all nodes from Kubernetes cluster and to show all namespaces What happened It shows only the master node details and its system pods details How to reproduce it kubectl apply f version base tr d n kubectl portforward n weave kubectl get n weave pod selectorweavescopecomponentapp o jsonpathitemsmetadataname Anything else we need to know Cloud provider Hardware How did you configure your cluster Kubernetes YAML KOPS etc Versions Please paste in the output of these commands kubectl only if using Kubernetes scope version scope is not installed on this kubernetes docker version uname a Linux XXXXX el x SMP Wed Nov UTC x x x GNULinux kubectl version Logs docker logs weavescope or if using Kubernetes kubectl logs weavescopepod n namespace time T Z levelinfo msgpublishing to weavescopeappweavesvcclusterlocal probe INFO Basic authentication disabled probe INFO command line args modeprobe probeonlytrue probedockertrue probedockerbridgedocker probekubernetesrolehost probepublishinterval s probespyinterval s weavescopeappweavesvcclusterlocal probe INFO probe starting version ID a f f e probe WARN Cannot resolve scopeweavelocal dial tcp connect connection refused probe WARN Error setting up the eBPF tracker falling back to proc scanning kernel not supported got kernel el x but need kernel probe WARN Error collecting weave status backing off s Get dial tcp connect connection refused If you are not running Weave Net you may wish to suppress this warning by launching scope with the weavefalse option probe WARN Error collecting weave status backing off s Get dial tcp connect connection refused If you are not running Weave Net you may wish to suppress this warning by launching scope with the weavefalse option probe WARN Error collecting weave status backing off s Get dial tcp connect connection refused If you are not running Weave Net you may wish to suppress this warning by launching scope with the weavefalse option probe ERRO Error checking version Get dial tcp io timeout probe WARN Cannot resolve weavescopeappweavesvcclusterlocal lookup weavescopeappweavesvcclusterlocal on read udp io timeout probe ERRO Error checking version Get dial tcp io timeout probe ERRO Error checking version Get dial tcp io timeout If output is long please consider a Gist Anything interesting or unusual output by the below potentially relevant commands journalctl u dockerservice nopager Jan xxxxx dockerdcurrent Information connectionmanager Sent msgtype len to collector Jan xxxxx dockerdcurrent Information Reached max process lookup number duration ms Jan xxxxx dockerdcurrent Information Reached max socket lookup number tid duration ms Jan xxxxx dockerdcurrent Warning statsd metrics over limit giving up Jan xxxxx dockerdcurrent Information Added statsd metrics for containerk ssysdigagentsysdigagentlkvtjsysdigagent b edfb b aaaf f b b b idb d e e Jan xxxxx dockerdcurrent Warning statsd metrics over limit giving up Jan xxxxx dockerdcurrent Information Added statsd metrics for hostxxxxx Jan xxxxx dockerdcurrent Information ts ne de c fp sr st fl Jan xxxxx dockerdcurrent I embed rejected connection from error tls first record does not look like a TLS handshake ServerName Jan xxxxx dockerdcurrent Information connectionmanager Sent msgtype len to collector Jan xxxxx dockerdcurrent Information Reached max process lookup number duration ms Jan xxxxx dockerdcurrent Information Reached max socket lookup number tid duration ms Jan xxxxx dockerdcurrent Warning statsd metrics over limit giving up Jan xxxxx dockerdcurrent Information Added statsd metrics for containerk ssysdigagentsysdigagentlkvtjsysdigagent b edfb b aaaf f b b b idb d e e Jan xxxxx dockerdcurrent Warning statsd metrics over limit giving up Jan xxxxx dockerdcurrent Information Added statsd metrics for hostxxxxx Jan xxxxx dockerdcurrent Information ts ne de c fp sr st fl Jan xxxxx dockerdcurrent I embed rejected connection from error tls first record does not look like a TLS handshake ServerName Jan xxxxx dockerdcurrent Information connectionmanager Sent msgtype len to collector Jan xxxxx dockerdcurrent Information Reached max process lookup number duration ms Jan xxxxx dockerdcurrent Information Reached max socket lookup number tid duration ms Jan xxxxx dockerdcurrent Warning statsd metrics over limit giving up Jan xxxxx dockerdcurrent Information Added statsd metrics for containerk ssysdigagentsysdigagentlkvtjsysdigagent b edfb b aaaf f b b b idb d e e Jan xxxxx dockerdcurrent Information k sdeleg found our node xxxxx Jan xxxxx dockerdcurrent Information k sdeleg delegated node xxxxx ips xxxxx id b c f e aa e dc bbd this node Jan xxxxx dockerdcurrent Information k sdeleg delegated node xxxxx ips xxxxx id c f ef e a f b c c Jan xxxxx dockerdcurrent Information k sdeleg This node is delegated Jan xxxxx dockerdcurrent Warning statsd metrics over limit giving up Jan xxxxx dockerdcurrent Information Added statsd metrics for hostxxxxx Jan xxxxx dockerdcurrent Information ts ne de c fp sr st fl Jan xxxxx dockerdcurrent I embed rejected connection from error tls first record does not look like a TLS handshake ServerName journalctl u kubelet nopager Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletconfigapiservergo Failed to list v Pod Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletkubeletgo Failed to list v Node Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k sioclientgoinformersfactorygo Failed to list v beta CSIDriver Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k sioclientgoinformersfactorygo Failed to list v beta RuntimeClass Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E evictionmanagergo eviction manager failed to get summary stats failed to get node info node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletkubeletgo Failed to list v Service Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletconfigapiservergo Failed to list v Pod Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletkubeletgo Failed to list v Node Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k sioclientgoinformersfactorygo Failed to list v beta CSIDriver Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k sioclientgoinformersfactorygo Failed to list v beta RuntimeClass Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E cnigo Error deleting c d fe da f a bd f a a be dfb from network calicok spodnetwork error getting ClusterInformation Get dial tcp io timeout Jan xxxxx kubelet W cnigo CNI failed to retrieve network namespace path Error No such container c fd cd cb c b e e fbb fde ba a Jan xxxxx kubelet E remoteruntimego StopPodSandbox c d fe da f a bd f a a be dfb from runtime service failed rpc error code Unknown desc networkPlugin cni failed to teardown pod network error getting ClusterInformation Get dial tcp io timeout Jan xxxxx kubelet E kuberuntimemanagergo Failed to stop sandbox docker c d fe da f a bd f a a be dfb Jan xxxxx kubelet E kuberuntimemanagergo killPodWithSyncResult failed failed to KillPodSandbox for a a da b be db b c e d with KillPodSandboxError rpc error code Unknown desc networkPlugin cni failed to teardown pod network error getting ClusterInformation Get dial tcp io timeout Jan xxxxx kubelet E podworkersgo Error syncing pod a a da b be db b c e d kubeapiserverxxxxxkubesystema a da b be db b c e d skipping failed to KillPodSandbox for a a da b be db b c e d with KillPodSandboxError rpc error code Unknown desc networkPlugin cni failed to teardown pod network error getting ClusterInformation Get dial tcp io timeout Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet INFO k sgo Using Calico IPAM Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletkubeletgo Failed to list v Service Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletconfigapiservergo Failed to list v Pod Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E kubeletgo node xxxxx not found Jan xxxxx kubelet E reflectorgo k siokubernetespkgkubeletkubeletgo Failed to list v Node Get dial tcp xxxxx connect connection refused Jan xxxxx kubelet E kubeletgo node xxxxx not found kubectl get events Dockershim has added a label iokubernetesdockertype for at least four years where the pause container is of type podsandbox This should be more reliable than trying to keep up with everyones name for the pause container I dont like the way we do this in two places one probe one app but it seemed a bit complicated to unwind that right now I left in the old namebased code just in case I dont think it is necessary any more The number is so k is not absolutely wrong but it looks weird Scope does not use Ruby but we apparently need this file to make the Netlify website build go And Netlify builds have been failing recently saying the version had to be at least There are some comments about checking what is still in use every seconds but no implementation An entry is created each time a pipe is opened but they are never removed There are no calls to Delete in the code Hi thank you for opening an issue Before hitting the button Is this a REQUEST FOR HELP If so please have a look at How WeaveScope works our troubleshooting page our help page to choose the best channel Slack etc to reach out Is this a FEATURE REQUEST If so please search existing feature requests and if you find a similar one upvote it andor add your comments to it instead If you did not find a similar one please describe in details why your usecase specific constraints you may have etc what the featurebehaviourchange you would like to see in Weave Scope Do not hesitate when appropriate to share the exact commands or API you would like andor to share a diagram eg asciiflowcom a picture is worth a thousand words Is this a BUG REPORT Please fill in as much of the template below as you can Thank you What you expected to happen can scope support misps le What happened Error message actual behaviour etc How to reproduce it Specific steps as minimally and precisely as possible Anything else we need to know Cloud provider Hardware How did you configure your cluster Kubernetes YAML KOPS etc Versions Please paste in the output of these commands kubectl only if using Kubernetes scope version docker version uname a kubectl version Logs docker logs weavescope or if using Kubernetes kubectl logs weavescopepod n namespace If output is long please consider a Gist Anything interesting or unusual output by the below potentially relevant commands journalctl u dockerservice nopager journalctl u kubelet nopager kubectl get events We got these messages app ERRO Error NoCredentialProviders no valid providers in chain app WARN GET apiprobessparse m s Response NoCredentialProviders no valid providers in chain false ws false and it took a while to figure out it was AWS credentials where the problem lay Also we shouldnt send that back to the caller it should be a more opaque internal error type of message Currently Scope can open a shell in a container if the container image contains a shell Ephemeral containers is a new feature in Kubernetes alpha as of where you can inject a whole container into a pod for troubleshooting If we turned on process namespace sharing it would be close to being in the same container Not sure what to do about volumes For example by adding a boolean flag option For users who know they want to use a fixed version and not get distracted by the upgrades For demo purposes when that information is not useful 