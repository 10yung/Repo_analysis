Hi Ive found another issue in a transcript It was ruby objecterrorssizeshould and transcripted to ruby expectobjecterrorssizetobe and rspec raises undefined method tobe for expectation Giorgio Hi I was recently introduced to transpec and Im performing an upgrade version of a rails app which Ive used transpec to transcript the projects rspecs The problem I found was that in some test case we have ruby objectshould haveexpectedsizecollection objectshould haveexpectedcountcollection objectshould haveexpectedsizecollection that was incorrectly transcripted to ruby expectobjectsizeto eqexpectedsize expectobjectsizeto eqexpectedcount expectobjectsizeto eqexpectedsize I hope that means something for you Despite that congratulations for the project Its really helpful Best regards Giorgio When running tests on a project depending on transpec some warnings are raised see below This is because with a recent rake ruby warnings are now on by default What do you think about fixing those warnings as well as running the test suite with ruby w VERBOSE true twarning true Relevant excerpt Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb warning loading in progress circular require considered harmful Userslloekigemruby gemstranspec libtranspecrb from Userslloekigemruby gemstranspec libtranspecrb in top required from Userslloekigemruby gemstranspec libtranspecrspecversionrb in top required Full trace Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb warning loading in progress circular require considered harmful Userslloekigemruby gemstranspec libtranspecrb from Userslloekigemruby binbundle in main from Userslloekigemruby binbundle in load from Userslloekigemruby gemsbundler exebundle in top required from Userslloekigemruby gemsbundler libbundlerfriendlyerrorsrb in withfriendlyerrors from Userslloekigemruby gemsbundler exebundle in block in top required from Userslloekigemruby gemsbundler libbundlerclirb in start from Userslloekigemruby gemsbundler libbundlervendorthorlibthorbaserb in start from Userslloekigemruby gemsbundler libbundlerclirb in dispatch from Userslloekigemruby gemsbundler libbundlervendorthorlibthorrb in dispatch from Userslloekigemruby gemsbundler libbundlervendorthorlibthorinvocationrb in invokecommand from Userslloekigemruby gemsbundler libbundlervendorthorlibthorcommandrb in run from Userslloekigemruby gemsbundler libbundlerclirb in exec from Userslloekigemruby gemsbundler libbundlercliexecrb in run from Userslloekigemruby gemsbundler libbundlercliexecrb in kernelload from Userslloekigemruby gemsbundler libbundlercliexecrb in load from Userslloekigemruby binrake in top required from Userslloekigemruby binrake in load from Userslloekigemruby gemsrake exerake in top required from Userslloekigemruby gemsrake librakeapplicationrb in run from Userslloekigemruby gemsrake librakeapplicationrb in standardexceptionhandling from Userslloekigemruby gemsrake librakeapplicationrb in block in run from Userslloekigemruby gemsrake librakeapplicationrb in loadrakefile from Userslloekigemruby gemsrake librakeapplicationrb in standardexceptionhandling from Userslloekigemruby gemsrake librakeapplicationrb in block in loadrakefile from Userslloekigemruby gemsrake librakeapplicationrb in rawloadrakefile from Userslloekigemruby gemsrake librakerakemodulerb in loadrakefile from Userslloekigemruby gemsrake librakerakemodulerb in load from UserslloekiWorkspaceadhocwebcel cel coreRakefile in top required from UserslloekiWorkspaceadhocwebcel cel coreRakefile in load from Userslloekigemruby gemsrailties librailstasksenginerake in top required from Userslloekigemruby gemsrake librakeapplicationrb in invoketask from Userslloekigemruby gemsrake libraketaskrb in invoke from Userslloekigemruby gemsrake libraketaskrb in invokewithcallchain from Userslloekirubiesruby libruby monitorrb in monsynchronize from Userslloekigemruby gemsrake libraketaskrb in block in invokewithcallchain from Userslloekigemruby gemsrake libraketaskrb in execute from Userslloekigemruby gemsrake libraketaskrb in each from Userslloekigemruby gemsrake libraketaskrb in block in execute from Userslloekigemruby gemsrailties librailstasksenginerake in block in top required from Userslloekigemruby gemsrake librakedsldefinitionrb in namespace from Userslloekigemruby gemsrake libraketaskmanagerrb in innamespace from Userslloekigemruby gemsrailties librailstasksenginerake in block levels in top required from Userslloekigemruby gemsrailties librailstasksenginerake in load from UserslloekiWorkspaceadhocwebcel cel corespecdummyRakefile in top required from UserslloekiWorkspaceadhocwebcel cel corespecdummyRakefile in require from UserslloekiWorkspaceadhocwebcel cel corespecdummyconfigapplicationrb in top required from Userslloekigemruby gemsbundler libbundlerrb in require from Userslloekigemruby gemsbundler libbundlerruntimerb in require from Userslloekigemruby gemsbundler libbundlerruntimerb in each from Userslloekigemruby gemsbundler libbundlerruntimerb in block in require from Userslloekigemruby gemsbundler libbundlerruntimerb in each from Userslloekigemruby gemsbundler libbundlerruntimerb in block levels in require from Userslloekigemruby gemsbundler libbundlerruntimerb in require from Userslloekigemruby gemstranspec libtranspecrb in top required from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in require from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in loaddependency from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in block in require from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in require from Userslloekigemruby gemstranspec libtranspecrspecversionrb in top required from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in require from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in loaddependency from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in block in require from Userslloekigemruby gemsactivesupport libactivesupportdependenciesrb in require Im using your awesome gem to upgrade a huge codebases specs to use expect syntax rather than should It would not be possible without this tool We also want to remove dependency on RR which we use for mockingstubbing Now RSpec is really good for that we want to use RSpec mocking I forked the gem to have it ignore mock and stub and not convert them to doubles I want to extend it to convert these to RSpec syntax Its going to be kinda complicated And I welcome any advice you have on how to do this I dont have a good understanding of how the dynamic analysis is used in the translation phase of the gem Heres a sample of what RR syntax can look like ruby mockUserfind raise called stubmethodname mockmethodname stubObjectnewmethodnamestubsomething stubObjectnewmethodnamemocksomething mockObjectnewmethodnamestubsomething mocksomethingstubelse stubsomethingmockelse Though currently Im not sure if Transpec can determine this complex case 