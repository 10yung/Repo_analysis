and export it Requested by romainfrancois in What would be a good name I dont really like formatv The generic isnt used anywhere in CRAN packages and was never public This could be a variant of pillar or formatpillar too Prettyprinting of type size and object information and data is the purpose of this package Not seen here but difference is visible in the terminal r pillarpillarbit asinteger e int pillarpillar e dbl supCreated on by the reprex package v sup I was planning on creating a vctrslistof class where each element would be a tibble containing notes ie errors and warnings that happened during model tuning I would like to be able to control the printing enough to have an end result like r A tibble x x listtblnotes W E W E After looking at this issue I was hoping that pillarshaftvctrslistof would help But the current implementation of pillarshaftvctrslistof provides no customization points for me Is there any hope that we could go back and do what suggests by calling mapx objsum Then I could control objsumtblnotes r pillarpillarlistmatrix nrow ncol list dbl supCreated on by the reprex package v sup Followup from CC Shians lionel Do we need a vecptypeabbr variant that does not include the shape typesum now forwards to vecptypeabbr but there are concerns regarding its deprecation Is vecptypeabbr stable Type descriptions to be shown in a wordsentenceparagraph are supposed to be new generics forwarding to existing vecptypeabbr functions here typesum also works for nonvector types vecptypeabbr does not This isnt a huge problem but still worth mentioning hadley Do we initiate softdeprecation now It seems safe its only a message once per session and also only for direct callers If you have data with many zeroes it can be useful to replace the character with something subtler in printed output For example the Matrix package defaults to printing zeroes as a for sparse matrices Similarly prettyNum lets you override the zero character r setseed Sparse matrices print with instead of libraryMatrix spMatrix sample sample x sparse Matrix of class dgTMatrix You can specify this for vectors using prettyNum pois rpois prettyNumpois zeroprint It seems useful to have a pillar option to allow overriding the zero character Similarly if data has a lot of missing values it seems useful to have an option to replace NA with another subtler character I do realize that row names have grown out of fashion in the tidyverse and that tibble is the main consumer of pillar However I feel it would still be worthwhile if pillar could honor the rownames attribute for printing dataframeish objects I have tried to implement this using the newpillarshaft API but I could not come up with anything pleasing especially if width terminal width and the output is split up Im happy to start a PR Hi I was yesterday playing around with the vctrs package creating a type for MCMC posterior samples that internally is a matrix but looks and behaves like a simple numeric vector The idea behind it is to make handling those samples simpler ie taking the difference of the runs etc This all working quite well but unfortunately pillar seems to be ignoring the format function I wrote for the type and displays the vctrs as the matrix it is internally r libraryvctrs librarytibble post functionxmatrix nrow ncol ifisvectorx x asmatrixx stopifnotismatrixx newvctrcx nsamplesncolx dimcnrowx ncolx classpost asmatrixpost functionx matrixvecdatax ncolattrx nsamples formatpost functionx rowMeansasmatrixx objprintfooterpost functionx catnsamples attrx nsamples n sep post functionx i j dropFALSE m asmatrixx ijdropdrop postm vecarithpost functionop x y UseMethodvecarithpost y vecarithpostpost functionop x y nsamplesx attrx nsamples nsamplesy attry nsamples mx asmatrixx my asmatrixy res tvapplyseqlenvecsizex functionidx coutermx idx my idx op FUNVALUE rep nsamplesx nsamplesy postres p postrbindrnorm mean rnorm mean rnorm mean rnorm mean p postrbindrnorm mean rnorm mean rnorm mean rnorm mean p post nsamples p post nsamples p p post nsamples df tibbleabcletters p asdataframedf abc p a b c d df A tibble x abc p chr post post post a b c d supCreated on by the reprex package v sup I would prefer tibblepillar to output my type the way the classical dataframe does not spitting out the internal matrix So I was wondering if there are any plans to handle such D vctr types specifically I also apologize in advance if this not the right place for this issue but I thought that because the internal logic for handling matrices is in this package this would be a good place to start if the pillarsigfig option is unset This might make tibbles a little less surprising to new users or if grouping creates a tibble from a data frame r pillarpillar dbl Created on by the reprex package v hadley Would it work to use a different symbol instead of the decimal point here to indicate that the true value is lower