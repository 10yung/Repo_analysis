 Thanks for submitting a pull request Please provide enough information so that others can review your pull request What kind of change does this PR introduce fix slight refactor and some tests Did you add tests for your changes Yes If relevant did you update the documentation Summary The info package was having problems running with no args I fixed this did some slight refactoring and added a few tests It is still unclear to me what the customArgs object is in the info package It would help if someone could explain what that is meant for Does this PR introduce a breaking change no Other information Please dont delete this template because well close your issue Before creating an issue please make sure you are using the latest version of webpack Bug report Please ask questions on StackOverflow or the webpack Gitter Issues which contain questions or support requests will be closed What is the current behavior When using the display verbose I dont get all output It is truncated with hidden modules If the current behavior is a bug please provide the steps to reproduce run webpack display verbose on an app with thousands of dependencies A great way to do this is to provide your configuration via a GitHub repository The most helpful is a minimal reproduction with instructions on how to reproduce Repositories with too many files or large webpackconfigjs files are not suitable Please only add small code snippets directly into this issue is a good place for longer code snippets If your issue is caused by a plugin or loader please create an issue on the loaderplugin repository instead What is the expected behavior lists the options as Select display preset verbose detailed normal minimal errorsonly none since webpack Since there are different detail levels I expect verbose to be verbose and list it all It should work is not a helpful explanation Explain exactly how it should behave Other relevant information webpack version Nodejs version Operating System Additional tools If a webpackconfigjs is present the webpack command picks it up by default We use the config option here only to show that you can pass a config of any name This will be useful for more complex configurations that need to be split into multiple files We should also pick it up when a webpackconfigcjs is present Describe the bug Installing webpackcli beta still adds the latest webpack xx to the nodemodules folder even though it directly depends on webpack beta The dependency comes to play via webpackcli webpackcliinit webpackcligenerators webpack xx To Reproduce Steps to reproduce the behavior Go to a new folder npm init accept defaults npm install webpack beta savedev npm install webpackcli beta savedev Expected behavior I would expect it to only need the alreadyinstalled beta Additional context Im trying to avoid an issue with fsevents which is an optional transitive dependency of webpack webpack watchpack chokidar fsevents Im willing to move to the beta of webpack for this particular project but Im running into this issue with webpackcli With that version of fsevents being dropped into nodemodules I cant ever run npm ci even though we dont actually use anything that would be impacted The getPackageManager function of the packagemanager module which was supposed to resolve the default Package Manager The expected behaviour is that if yarn is present yarn is used else npm is used However the logic didnt allow the ideal behaviour As per the updated logic we check for local yarn If present we use yarn else npm is used Also the spawn statement is eliminated and so are the related test statements ISSUES CLOSED Thanks for submitting a pull request Please provide enough information so that others can review your pull request What kind of change does this PR introduce Eg a bugfix feature refactoring build related change etc Did you add tests for your changes If relevant did you update the documentation Summary Explain the motivation for making this change What existing problem does the pull request solve Try to link to an open issue for more information Does this PR introduce a breaking change If this PR introduces a breaking change please describe the impact and a migration path for existing applications Other information Describe the bug After bootstrapping and building using yarn I ran the package tests and it returned the erro Package manager should spawn npm update from spawnchild What is the current behavior pcpcHPPavilionNotebook Desktopwebpackcli next yarn testpackages yarn run v nyc jest packages maxWorkers reportersdefault reportersjestjunit PASS packagesmigratecommonsChunkPlugintestscommonsChunkPlugintestts PASS packagesgeneratorstestsloadergeneratortestts PASS packagesutilstestsastutilstestts PASS packagesmigratetestsmigratetestts PASS packagesutilstestsrecursiveparsertestts PASS packagesmigrateuglifyJsPlugintestsuglifyJsPlugintestts PASS packagesmigrateloaderstestsloaderstestts PASS packagesmigratemoduleConcatenationPlugintestsmoduleConcatenationPlugintestts PASS packagesinfotestsindextestts Please remove deprecated plugins manually See for more information Please remove deprecated plugins manually See for more information Please remove deprecated plugins manually PASS packagesmigrateremoveDeprecatedPluginstestsremoveDeprecatedPluginstestts PASS packagesmigrateloaderOptionsPlugintestsloaderOptionsPlugintestts PASS packagesgeneratorstestsaddgeneratortestts PASS packagesmigrateoutputPathtestsoutputPathtestts PASS packageswebpackscaffoldtestsindextestts PASS packagesmigrateextractTextPlugintestsextractTextPlugintestts PASS packagesutilstestsnpmexiststestts PASS packagesmigrateremoveJsonLoadertestsremoveJsonLoadertestts PASS packagesmigrateresolvetestsresolvetestts PASS packagesmigratebannerPlugintestsbannerPlugintestts PASS packagesmigratenoEmitOnErrorsPlugintestsnoEmitOnErrorsPlugintestts PASS packagesmigratenamedModulesPlugintestsnamedModulesPlugintestts PASS packagesutilstestsislocalpathtestts PASS packagesutilstestsresolvepackagestestts PASS packagesutilstestsvalidateidentifiertestts FAIL packagesutilstestspackagemanagertestts s packagemanager should spawn npm update from spawnChild expectjestfntoHaveBeenLastCalledWithexpected Expected npm update g somepkg stdio inherit Received npm install g somepkg stdio inherit undefined Array update g global add somepkg stdio inherit Number of calls packageManagerspawnChildpackageName expectspawnsynctoHaveBeenLastCalledWithnpm update g packageName stdio inherit itshould return the npm global dir from getPathToGlobalPackages if yarn is not installed at Objectanonymous packagesutilstestspackagemanagertestts PASS packagesutilstestsnpmpackagesexiststestts s Summary of all failing tests FAIL packagesutilstestspackagemanagertestts s packagemanager should spawn npm update from spawnChild expectjestfntoHaveBeenLastCalledWithexpected Expected npm update g somepkg stdio inherit Received npm install g somepkg stdio inherit undefined Array update g global add somepkg stdio inherit Number of calls packageManagerspawnChildpackageName expectspawnsynctoHaveBeenLastCalledWithnpm update g packageName stdio inherit itshould return the npm global dir from getPathToGlobalPackages if yarn is not installed at Objectanonymous packagesutilstestspackagemanagertestts Test Suites failed passed total Tests failed passed total Snapshots passed total Time s Ran all test suites matching packages i error Command failed with exit code info Visit for documentation about this command To Reproduce Steps to reproduce the behavior yarn bootstrap yarn build yarn testpackages See error Expected behavior A clear and concise description of what you expected to happen Screenshots Please paste the results of webpackcli info here and mention other relevant information webpack Promise rejection TypeError Cannot convert undefined or null to object webpack TypeError Cannot convert undefined or null to object at Functionentries anonymous at Objectanonymous homepcDesktopwebpackclinodemoduleswebpackcliinfoindexjs at Generatornext anonymous at homepcDesktopwebpackclinodemoduleswebpackcliinfoindexjs at new Promise anonymous at awaiter homepcDesktopwebpackclinodemoduleswebpackcliinfoindexjs at Objectinfo as default homepcDesktopwebpackclinodemoduleswebpackcliinfoindexjs at Functionrun homepcDesktopwebpackclilibcommandsexternaljs at WebpackCLIrunCommand homepcDesktopwebpackclilibwebpackclijs at runCLI homepcDesktopwebpackclilibbootstrapjs Additional context handle package creation errors ISSUES CLOSED What kind of change does this PR introduce handle create package errors when Did you add tests for your changes No will add tests separately If relevant did you update the documentation NA Summary Handle package creation errs when working in a package dir Does this PR introduce a breaking change No Other information Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details