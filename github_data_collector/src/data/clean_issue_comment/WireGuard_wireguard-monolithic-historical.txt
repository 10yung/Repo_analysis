RedHat backported to their kernel el a couple features breaking compilation of wireguard Here is a workaround for this The function name like ipcgetdevice is a little bit misleading To make the code more readable for new developers here are some suggestions Rename ipcgetdevice dev to ipcfetchconf conf because it only fetches the runtime configuations from kernel Funtion prototype ipcsetdevicestruct wgdevice dev is changed to ipcsetdeviceconst struct wgdevice newconf Change the following IPC function names and parameters which used to be confusing ipcsetdevicedev ipcsetdevicenewconf ipcgetdevicedev interface ipcfetchconfconf interface kernelsetdevicedev kernelsetdevicenewconf kernelgetdevicedevice interface kernelfetchconfconf interface userspacesetdevicedev userspacesetdevicenewconf userspacegetdeviceout interface userspacefetchconfout interface Renamed local variableparameter symbols In showconfmain showmain device conf In ipcfetchconf kernelfetchconf userspacefetchconf dev conf In ipcsetdevice kernelsetdevice userspacesetdevice dev newconf Added function freeconfstruct wgdevice conf Changed function prototypes int ipcsetdevicestruct wgdevice int ipcsetdeviceconst struct wgdevice newconf int kernelsetdevicestruct wgdevice int kernelsetdeviceconst struct wgdevice newconf int userspacesetdevicestruct wgdevice int userspacesetdeviceconst struct wgdevice newconf Note This patch comes with no extra curly braces introduced Liu Qun Fixes glibc ubuntu amd cc O marchnative Wall pedantic stdgnu DFILEOFFSETBITS o extractkeys lresolv extractkeysc tmpccOwy hEo In function printkeypart extractkeysctext x b undefined reference to b ntop extractkeysctext x ca undefined reference to b ntop collect error ld returned exit status Makefile recipe for target extractkeys failed make extractkeys Error 