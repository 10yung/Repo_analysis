It looks like the tests in datashaderteststestrasterpy have been getting skipped on CI because rasterio was not being installed in the test environment This PR adds support for aggregating quadmesh glyphs using cuda The cuda codepath is invoked when the data backing the provided xarrayDataArray is a cupyndarray Im seeing x speedups in both the rectilinear and curvilinear cases Here are some examples CrossTab Tabulate Area brendancol add description here Apply brendancol add description here x add crosstab function x add crosstab tests x add apply function add apply tests verify CI add benchmarks add docs most of the folks I work with in science do not use the Web Mercator but more standard ones due to WMs known inaccuracies see It would be a nice addition to add to the user guide in the Project Points section that there are many different projections possible and provide a link I will try to dig around and see if I can find a good one to use but here is one of the first examples I pulled up Could I please ask how we can save an image with multiple panels For example I can see a nice multipanel image in the documentation below img width altPipeline Datashader documentation Google Chrome src How can we convert a tfImages object into a PNG or SVG file When trying to perform line aggregation on a cuDF and specify an aggregator with a column you get an error python import cudf import datashader as ds nycdf cudfreadparquetDownloadsnyctaxiwideparq cvs dsCanvas cvslinenycdf pickupx pickupy dropoffx dropoffy axis aggdsmeantripdistance developmentdatashaderdatashadercompilerpy in genexpr def makeinfocols return lambda df tuplecapplydf for c in cols developmentdatashaderdatashaderreductionspy in applyself df else nullval return cupyarraydf selfcolumn togpuarrayfillnanullval else return df selfcolumn values miniconda envsrapidsailibpython sitepackagescupycreationfromdatapy in arrayobj dtype copy order subok ndmin return corearrayobj dtype copy order subok ndmin cupycorecorepyx in cupycorecorearray cupycorecorepyx in cupycorecorearray cupycorecorepyx in cupycorecoreconvertobjectwithcudaarrayinterface TypeError zip argument must support iteration cupy version cudf version It would be nice if it were easy to use Datashader as a WMS server dynamically running an aggregation and returning the result using the WMS protocol The geo functions described at are great and it would be nice to have a few more tools for hydrology if anyone knows how to implement them Flow accumulation Flow direction Watershed img width altScreenshot src Description trying to run the examples on a fresh install running version i get the above error which seems to be related to no python i get errors when i try to upgrade because of incompatible versions of dependencies 