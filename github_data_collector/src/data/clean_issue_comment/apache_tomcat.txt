 I had a situation when driver closed connection because of IO error bur connection has been added to the avaialble ones and then returned to another caller The testOn properties were not enabled in that case It looks like the pool can easily check if connection has been closed and dont accept it back WDYT Currently undefined values are returned as an empty string by ParametersgetParameterString though null should be returned Background A query string can contain defined and undefined variable values A variable with a defined value is followed by a eg fooabc where foo is the string abc or bar where the string is empty A variable with an undefined value is not followed by In Java such a value is coded with null and not an empty string because the latter is already the defined value of a string with zero length See also and If TldResourcePath was already registred during parsing of jspconfig section of webxml the implicit TLD map entries derived from TLD files URI have not been added to uriTldResourcePathMap This was not in line with JSP specification section This modification has been done based on the below bugzilla Below are the modifications that has been done during the task orgapachejuliFileHandlercompress orgapachejuliFileHandlerdeleteRotatedFile orgapachecatalinavalves compress orgapachecatalinavalvesdeleteRotatedFile External configurations where you can enable or disable the compression function based on new configurations keys to located in loggingproperties catalinaorgapachejuliAsyncFileHandlercompress true localhostorgapachejuliAsyncFileHandlercompress true managerorgapachejuliAsyncFileHandlercompress true hostmanagerorgapachejuliAsyncFileHandlercompress true This PR combines two things Allows quoted parameters for RewriteValve config and adds a new default method to RewriteMap to allow for more than one parameter Uses a ServiceLoader to make implementations of RewriteMap available in the httpd rewrite module style ala inttoupper It is missing a lot of documentation and a few test cases Tomcat SourcetoImage S I This resource provides a CentOSbased Docker image that enables SourcetoImage building for Tomcat It builds the sources of a webapp and deploys it to a fully functional containerized Tomcat Server The generated image can then easily be run locally or deployed to a Kubernetesbased Server Usage Build an image bash s i build SOURCEURL tomcats i mywebappimage Where SOURCEURL is either the URL to a Git repository or a path to local sources Run it bash docker run p mywebappimage share it for all connections to not have mixed connections multiple driver instances when fallbacking on TCCL Side note the setters of DataSourceProxy should likely recreate the pool when called not sure it is not already the case but looks fishy so a follow up issue can be needed