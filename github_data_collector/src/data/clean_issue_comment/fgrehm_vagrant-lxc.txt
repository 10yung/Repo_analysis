My project requires multiple container environments and each lxc needs to be able to ping with each other I use settings similar to the following configvmdefine lxc do nodeconf nodeconfvmnetwork privatenetwork ip lxcbridgename project end configvmdefine lex do nodeconf nodeconfvmnetwork privatenetwork ip lxcbridgename project end Host can ping each container rootlxclxcvagrantlxcTest ping PING bytes of data bytes from icmpseq ttl time ms bytes from icmpseq ttl time ms but I cant ping from one container to another vagrantlxc ping PING bytes of data Do I need to add other settings to do that I did not do any settings for the project bridge which is directly used I use default lxcbr and match the appropriate IP allows the containers to ping each other I would very appreciate it if you guys can give me some advice or solutions Fixes As per FileRDWR seems to lack FileTRUNC Hence the call from prunecustomizations did nothing since it just overwrite the start of the file which is presumably already untouched but left the VAGRANTBEGINVAGRANTEND block that followed completely untouched By adding FileTRUNC prunecustomizations will cause those tailing blocks to be removed as intended Everything seems to work great except for this one troublesome bug that shows up at the bottom of the image config file cat localsharelxcstretchdefault config Template used to create this container usrsharerubygemsintegrationallgemsvagrantlxc scriptslxctemplate Parameters passed to the template tarball homeboltronicsvagrantdboxessitepointVAGRANTSLASHdebianstretchamd lxcrootfstargz config homeboltronicsvagrantdboxessitepointVAGRANTSLASHdebianstretchamd lxclxcconfig Template script checksum SHA eae a d cd c efa c e For additional config options please look at lxccontainerconf Uncomment the following line to support nesting containers lxcinclude usrsharelxcconfignestingconf Be aware this has security implications Container specific configuration automatically set lxcinclude etclxcdefaultconf lxcidmap u lxcidmap g lxcmountauto procmixed sysro cgroupmixed lxcrootfspath dirhomeboltronicslocalsharelxcstretchdefault rootfs lxcutsname stretchdefault Network configuration automatically set vagrantlxc base box specific configuration Default mount entries lxcmountauto cgroupmixed procmixed sysmixed lxcmountentry sysfsfuseconnections sysfsfuseconnections none bindoptional Default console settings lxcttymax lxcptymax Default capabilities lxccapdrop sysmodule macadmin macoverride systime sysrawio When using LXC with apparmor the container will be confined by default If you wish for it to instead run unconfined copy the following line uncommented to the containers configuration file lxcapparmorprofile unconfined To support container nesting on an Ubuntu host while retaining most of apparmors added security use the following two lines instead lxcapparmorprofile lxccontainerdefaultwithnesting lxchookmount usrsharelxchooksmountcgroups If you wish to allow mounting block filesystems then use the following line instead and make sure to grant access to the block device andor loop devices below in lxccgroupdevicesallow lxcapparmorprofile lxccontainerdefaultwithmounting vagrantlxc container specific configuration VAGRANTBEGIN lxcutsnamestretchdefault lxcmountentrysysfspstore sysfspstore none bindoptional lxcmountentrytmpfs tmp tmpfs nodevnosuidsize G lxcmountentryhomeboltronicsDevelopmentgithubcomsitepointvmconfigimagesstretch vagrant none bindcreatedir VAGRANTEND VAGRANTBEGIN lxcutsnamestretchdefault lxcmountentrysysfspstore sysfspstore none bindoptional lxcmountentrytmpfs tmp tmpfs nodevnosuidsize G lxcmountentryhomeboltronicsDevelopmentgithubcomsitepointvmconfigimagesstretch vagrant none bindcreatedir VAGRANTEND VAGRANTBEGIN lxcutsnamestretchdefault lxcmountentrysysfspstore sysfspstore none bindoptional lxcmountentrytmpfs tmp tmpfs nodevnosuidsize G lxcmountentryhomeboltronicsDevelopmentgithubcomsitepointvmconfigimagesstretch vagrant none bindcreatedir VAGRANTEND Every time the guest is stopped and started it adds a new VAGRANTBEGINVAGRANTEND block entry For a minimal config this doesnt matter too much but some options do not like to be duplicated and cause the machine to fail to boot the second time without manually editing the config file to remove duplicate blocks This is on Debian buster amd using the Debianprovided vagrant and vagrantlxc packages however the vagrantlxc package is currently up to date with the latest stable release The container was created just last week using aptcache policy vagrant vagrantlxc grep B A Installed vagrant Installed dfsg Candidate dfsg vagrantlxc Installed Candidate lxccheckconfig Kernel configuration not found at procconfiggz searching Kernel configuration found at bootconfig amd Namespaces Namespaces enabled Utsname namespace enabled Ipc namespace enabled Pid namespace enabled User namespace enabled Network namespace enabled Control groups Cgroups enabled Cgroup v mount points sysfscgroupsystemd sysfscgroupcpuset sysfscgrouppids sysfscgroupdevices sysfscgroupcpucpuacct sysfscgroupperfevent sysfscgroupnetclsnetprio sysfscgrouprdma sysfscgroupblkio sysfscgroupfreezer sysfscgroupmemory Cgroup v mount points sysfscgroupunified Cgroup v clonechildren flag enabled Cgroup device enabled Cgroup sched enabled Cgroup cpu account enabled Cgroup memory controller enabled Cgroup cpuset enabled Misc Veth pair device enabled loaded Macvlan enabled not loaded Vlan enabled loaded Bridges enabled loaded Advanced netfilter enabled loaded CONFIGNFNATIPV enabled loaded CONFIGNFNATIPV enabled not loaded CONFIGIPNFTARGETMASQUERADE enabled not loaded CONFIGIP NFTARGETMASQUERADE enabled not loaded CONFIGNETFILTERXTTARGETCHECKSUM enabled loaded CONFIGNETFILTERXTMATCHCOMMENT enabled not loaded FUSE for use with lxcfs enabled loaded CheckpointRestore checkpoint restore enabled CONFIGFHANDLE enabled CONFIGEVENTFD enabled CONFIGEPOLL enabled CONFIGUNIXDIAG enabled CONFIGINETDIAG enabled CONFIGPACKETDIAG enabled CONFIGNETLINKDIAG enabled File capabilities Note Before booting a new kernel you can check its configuration usage CONFIGpathtoconfig usrbinlxccheckconfig cat configlxcdefaultconf lxcinclude etclxcdefaultconf lxcidmap u lxcidmap g lxcmountauto procmixed sysro cgroupmixed cat etclxcdefaultconf lxcapparmorprofile generated lxcapparmorallownesting lxcnet type veth lxcnet flags up lxcnet link lxcbr cat Vagrantfile VAGRANTFILEAPIVERSION VagrantconfigureVAGRANTFILEAPIVERSION do config configvmbox sitepointdebianstretchamd configvmboxversion configvmboxdownloadchecksumtype sha configvmboxdownloadchecksum c b ac e b e a e d c cf f b d configvmprovider lxc do lxc lxcprivileged false end end Note that lxcutsname is already set to the correct value in the Container specific configuration automatically set block but seems to be set again unconditionally While probably not great this does not seem related to the cause Im on Arch Linux and Im trying to set up a Vagrant box with a private network This however fails when I try to vagrant up Ive done some digging and the pipework script popped up Most notably this check prevents vagrant up from setting up the private network On systems with LXC this check yields As per I understood that there has been a split in information storage since LXC I could resolve my own issues by writing this patch diff pipework pipeworkpatched Try to find a cgroup matching exactly the provided name Nfind CGROUPMNT name GUESTNAME wc l Nfind CGROUPMNTlxcpayload name GUESTNAME wc l case N in If we didnt find anything try to lookup the container with Docker if DOCKERPID then NSPIDDOCKERPID else NSPIDhead n find CGROUPMNT name GUESTNAME head n tasks NSPIDhead n find CGROUPMNTlxcpayload name GUESTNAME head n tasks NSPID it is an alternative way to get the pid NSPIDlxcinfo n GUESTNAME grep PID grep Eo I intentionally did not send in a PR because Im certain this patch will break the vagrantlxc plugin for systems using LXC Debug info uname a Linux macbook a hardened SMP PREEMPT Wed Oct CEST x GNULinux pacman Qi lxc Name lxc Version cat Vagrantfile Vagrantconfigure do config configvmbox vagrantlxccentos amd configvmsyncedfolder vagrant disabled true configvmprovider lxc do lxc lxcprivileged true Same effect as customize modifyvm id memory for VirtualBox lxccustomize cgroupmemorylimitinbytes M lxccustomize cgroupdevicesallow a lxccustomize mountauto procrw sysrw lxccustomize capdrop nil lxccustomize apparmorprofile unconfined lxcbackingstoreoption fssize G end N Neach do i configvmdefine swarmnodei do node nodevmhostname swarmnodei nodevmnetwork privatenetwork ip i lxcbridgename vlxcbr if i N nodevmprovision ansible do ansible ansibleplaybook addkeyyml ansiblelimit all ansibleextravars myhosts all ansiblegroups swarm swarmnode N end end end end end vagrant up Bringing machine swarmnode up with lxc provider swarmnode Importing base box vagrantlxccentos amd swarmnode Starting container swarmnode Waiting for machine to boot This may take a few minutes swarmnode SSH address swarmnode SSH username vagrant swarmnode SSH auth method private key swarmnode swarmnode Vagrant insecure key detected Vagrant will automatically replace swarmnode this with a newly generated keypair for better security swarmnode swarmnode Inserting generated public key within guest swarmnode Removing insecure key from the guest if its present swarmnode Key inserted Disconnecting and reconnecting using new SSH key swarmnode Machine booted and ready swarmnode Setting up private networks There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG VAGRANTLOGDEBUG vagrant up INFO global Vagrant version INFO global Ruby version INFO global RubyGems version INFO global VAGRANTLOGDEBUG INFO global VAGRANTINSTALLERENV INFO global VAGRANTINSTALLERVERSION INFO global VAGRANTDETECTEDOSarchlinux INFO global VAGRANTEXECUTABLEoptvagrantembeddedgemsgemsvagrant binvagrant INFO global VAGRANTINSTALLEREMBEDDEDDIRoptvagrantembedded WARN global resolv replacement has not been enabled DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsfedorapluginrb INFO manager Registered plugin Fedora guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsatomicpluginrb INFO manager Registered plugin Atomic Host guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsfreebsdpluginrb INFO manager Registered plugin FreeBSD guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsgueststinycorepluginrb INFO manager Registered plugin TinyCore Linux guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestssmartospluginrb INFO manager Registered plugin SmartOS guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsgentoopluginrb INFO manager Registered plugin Gentoo guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsdragonflybsdpluginrb INFO manager Registered plugin DragonFly BSD guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestscoreospluginrb INFO manager Registered plugin CoreOS guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsdarwinpluginrb INFO manager Registered plugin Darwin guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsgueststrisquelpluginrb INFO manager Registered plugin Trisquel guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestspldpluginrb INFO manager Registered plugin PLD Linux guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsnixospluginrb INFO manager Registered plugin NixOS guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsamazonpluginrb INFO manager Registered plugin Amazon Linux guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestslinuxpluginrb INFO manager Registered plugin Linux guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsslackwarepluginrb INFO manager Registered plugin Slackware guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsdebianpluginrb INFO manager Registered plugin Debian guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsbsdpluginrb INFO manager Registered plugin BSDbased guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsaltpluginrb INFO manager Registered plugin ALT Platform guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestssusepluginrb INFO manager Registered plugin SUSE guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestssolaris pluginrb INFO manager Registered plugin Solaris guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsopenbsdpluginrb INFO manager Registered plugin OpenBSD guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsredhatpluginrb INFO manager Registered plugin Red Hat Enterprise Linux guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestselementarypluginrb INFO manager Registered plugin Elementary guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsesxipluginrb INFO manager Registered plugin ESXi guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsmintpluginrb INFO manager Registered plugin Mint guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsnetbsdpluginrb INFO manager Registered plugin NetBSD guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsphotonpluginrb INFO manager Registered plugin VMware Photon guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestswindowspluginrb INFO manager Registered plugin Windows guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsarchpluginrb INFO manager Registered plugin Arch guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestskalipluginrb INFO manager Registered plugin Kali guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsubuntupluginrb INFO manager Registered plugin Ubuntu guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestssolarispluginrb INFO manager Registered plugin Solaris guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestshaikupluginrb INFO manager Registered plugin Haiku guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsomniospluginrb INFO manager Registered plugin OmniOS guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsguestsfuntoopluginrb INFO manager Registered plugin Funtoo guest DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandswinrmpluginrb INFO manager Registered plugin winrm command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsprovisionpluginrb INFO manager Registered plugin provision command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsuploadpluginrb INFO manager Registered plugin upload command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsboxpluginrb INFO manager Registered plugin box command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsglobalstatuspluginrb INFO manager Registered plugin globalstatus command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsportpluginrb INFO manager Registered plugin port command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsdestroypluginrb INFO manager Registered plugin destroy command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsuppluginrb INFO manager Registered plugin up command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandscappluginrb INFO manager Registered plugin cap command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandspowershellpluginrb INFO manager Registered plugin powershell command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsresumepluginrb INFO manager Registered plugin resume command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsstatuspluginrb INFO manager Registered plugin status command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandshaltpluginrb INFO manager Registered plugin halt command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandscloudpluginrb INFO manager Registered plugin vagrantcloud DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandswinrmconfigpluginrb INFO manager Registered plugin winrmconfig command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsreloadpluginrb INFO manager Registered plugin reload command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandssnapshotpluginrb INFO manager Registered plugin snapshot command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsversionpluginrb INFO manager Registered plugin version command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsinitpluginrb INFO manager Registered plugin init command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandspluginpluginrb INFO manager Registered plugin plugin command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsproviderpluginrb INFO manager Registered plugin provider command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsloginpluginrb INFO manager Registered plugin vagrantlogin DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandssshconfigpluginrb INFO manager Registered plugin sshconfig command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandslistcommandspluginrb INFO manager Registered plugin listcommands command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandssuspendpluginrb INFO manager Registered plugin suspend command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandssshpluginrb INFO manager Registered plugin ssh command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsrdppluginrb INFO manager Registered plugin rdp command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandsvalidatepluginrb INFO manager Registered plugin validate command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandshelppluginrb INFO manager Registered plugin help command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandspushpluginrb INFO manager Registered plugin push command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommandspackagepluginrb INFO manager Registered plugin package command DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsfreebsdpluginrb INFO manager Registered plugin FreeBSD host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsgentoopluginrb INFO manager Registered plugin Gentoo host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsdarwinpluginrb INFO manager Registered plugin Mac OS X host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostslinuxpluginrb INFO manager Registered plugin Linux host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsslackwarepluginrb INFO manager Registered plugin Slackware host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsbsdpluginrb INFO manager Registered plugin BSD host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsaltpluginrb INFO manager Registered plugin ALT Platform host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostssusepluginrb INFO manager Registered plugin SUSE host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsredhatpluginrb INFO manager Registered plugin Red Hat Enterprise Linux host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsnullpluginrb INFO manager Registered plugin null host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsvoidpluginrb INFO manager Registered plugin Void host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostswindowspluginrb INFO manager Registered plugin Windows host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginshostsarchpluginrb INFO manager Registered plugin Arch host DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginskernelv pluginrb INFO manager Registered plugin kernel DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginspushesherokupluginrb INFO manager Registered plugin heroku DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginspushesnooppluginrb INFO manager Registered plugin noop DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginspusheslocalexecpluginrb INFO manager Registered plugin localexec DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginspushesftppluginrb INFO manager Registered plugin ftp DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginspushesatlaspluginrb INFO manager Registered plugin atlas DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginssyncedfolderssmbpluginrb INFO manager Registered plugin SMB synced folders DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginssyncedfoldersrsyncpluginrb INFO manager Registered plugin RSync synced folders DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginssyncedfoldersnfspluginrb INFO manager Registered plugin NFS synced folders DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginskernelv pluginrb INFO manager Registered plugin kernel DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionersfilepluginrb INFO manager Registered plugin file DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionerscfenginepluginrb INFO manager Registered plugin CFEngine Provisioner DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionerspuppetpluginrb INFO manager Registered plugin puppet DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionerschefpluginrb INFO manager Registered plugin chef DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionerssaltpluginrb INFO manager Registered plugin salt DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionersshellpluginrb INFO manager Registered plugin shell DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionersansiblepluginrb INFO manager Registered plugin ansible DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovisionersdockerpluginrb INFO manager Registered plugin docker DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb INFO manager Registered plugin VirtualBox provider DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovidershypervpluginrb INFO manager Registered plugin HyperV provider DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginsprovidersdockerpluginrb INFO manager Registered plugin dockerprovider DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommunicatorswinsshpluginrb INFO manager Registered plugin windows ssh communicator DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommunicatorswinrmpluginrb INFO manager Registered plugin winrm communicator DEBUG global Loading core plugin optvagrantembeddedgemsgemsvagrant pluginscommunicatorssshpluginrb INFO manager Registered plugin ssh communicator INFO vagrant vagrant invoked up DEBUG vagrant Creating Vagrant environment INFO environment Environment initialized VagrantEnvironment x c a a INFO environment cwd homeniekvagrantlxccentos INFO environment Home path homeniekvagrantd DEBUG environment Effective local data path homeniekvagrantlxccentos vagrant INFO environment Local data path homeniekvagrantlxccentos vagrant DEBUG environment Creating homeniekvagrantlxccentos vagrant DEBUG manager Enabling localized plugins INFO manager Plugins DEBUG bundler Current generated plugin dependency list DEBUG bundler Generating new builtin set instance DEBUG bundler Generating new plugin set instance Skip gems DEBUG bundler Activating solution set INFO manager Loading plugins DEBUG manager Enabling globalized plugins INFO manager Plugins INFO manager vagrantlxc installed constraint DEBUG bundler Current generated plugin dependency list GemDependency typeruntime namevagrantlxc requirements DEBUG bundler Generating new builtin set instance DEBUG bundler Generating new plugin set instance Skip gems DEBUG bundler Activating solution set vagrantlxc DEBUG bundler Activating gem vagrantlxc INFO manager Loading plugins INFO manager Loading plugin vagrantlxc with default require vagrantlxc INFO manager Registered plugin vagrantlxc DEBUG manager Successfully loaded plugin vagrantlxc INFO loader Set root Pathnamehomeniekvagrantlxccentos Vagrantfile DEBUG loader Populating proc cache for Pathnamehomeniekvagrantlxccentos Vagrantfile DEBUG loader Load procs for pathname homeniekvagrantlxccentos Vagrantfile INFO loader Loading configuration in order home root DEBUG loader Loading from root evaluating DEBUG loader Configuration loaded successfully finalizing and returning DEBUG push finalizing INFO base VBoxManage path VBoxManage INFO subprocess Starting process usrbinVBoxManage version INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout r DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status DEBUG meta Finding driver for VirtualBox version INFO meta Using VirtualBox driver VagrantPluginsProviderVirtualBoxDriverVersion INFO base VBoxManage path VBoxManage DEBUG environment Initial usable provider list virtualbox lxc DEBUG environment Priority sorted usable provider list lxc virtualbox DEBUG environment Preferred provider list DEBUG environment Using provider lxc detected in configuration and usable INFO base VBoxManage path VBoxManage DEBUG meta Finding driver for VirtualBox version INFO meta Using VirtualBox driver VagrantPluginsProviderVirtualBoxDriverVersion INFO base VBoxManage path VBoxManage DEBUG environment Initial usable provider list virtualbox lxc DEBUG environment Priority sorted usable provider list lxc virtualbox DEBUG environment Preferred provider list DEBUG environment Using provider lxc detected in configuration and usable INFO loader Set machineswarmnode Proc x c a ab homeniekvagrantlxccentos Vagrantfile DEBUG loader Populating proc cache for Proc x c a ab homeniekvagrantlxccentos Vagrantfile INFO loader Loading configuration in order home root machineswarmnode DEBUG loader Loading from root cache DEBUG loader Loading from machineswarmnode evaluating DEBUG provisioner Provisioner defined DEBUG loader Configuration loaded successfully finalizing and returning DEBUG push finalizing INFO boxcollection Box found vagrantlxccentos amd lxc INFO environment Running hook environmentpluginsloaded INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action environmentpluginsloaded VagrantActionBuilder x c a a INFO environment Running hook environmentload INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action environmentload VagrantActionBuilder x c a d DEBUG checkpointclient starting plugin check INFO cli CLI up DEBUG checkpointclient plugin check complete DEBUG cli Invoking command class VagrantPluginsCommandUpCommand DEBUG checkpointclient no information received from checkpoint DEBUG command Up each target VM DEBUG command Getting target VMs for command Arguments DEBUG command names swarmnode DEBUG command options providernil DEBUG command Finding machine that match name swarmnode INFO loader Set machineswarmnode Proc x c a ab homeniekvagrantlxccentos Vagrantfile INFO loader Loading configuration in order home root machineswarmnode DEBUG loader Loading from root cache DEBUG loader Loading from machineswarmnode cache DEBUG loader Configuration loaded successfully finalizing and returning DEBUG push finalizing WARN vagrantfile Failed to locate vagrantlxccentos amd with version WARN vagrantfile Performing lookup with inital values vagrantlxccentos amd with version INFO base VBoxManage path VBoxManage DEBUG meta Finding driver for VirtualBox version INFO meta Using VirtualBox driver VagrantPluginsProviderVirtualBoxDriverVersion INFO base VBoxManage path VBoxManage DEBUG environment Initial usable provider list virtualbox lxc DEBUG environment Priority sorted usable provider list lxc virtualbox DEBUG environment Preferred provider list DEBUG environment Using provider lxc detected in configuration and usable INFO environment Getting machine swarmnode lxc INFO environment Uncached load of machine INFO loader Set machineswarmnode Proc x c a ab homeniekvagrantlxccentos Vagrantfile INFO loader Loading configuration in order home root machineswarmnode DEBUG loader Loading from root cache DEBUG loader Loading from machineswarmnode cache DEBUG loader Configuration loaded successfully finalizing and returning DEBUG push finalizing INFO boxcollection Box found vagrantlxccentos amd lxc INFO machine Initializing machine swarmnode INFO machine Provider VagrantLXCProvider INFO machine Box VagrantBox x c a e INFO machine Data dir homeniekvagrantlxccentos vagrantmachinesswarmnode lxc INFO subprocess Starting process usrbinsudo usrbinenv which lxccreate INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout usrbinlxccreate DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status DEBUG lxc Instantiating the container for nil INFO machine New machine ID nil DEBUG lxc Instantiating the container for nil INFO interface Machine metadata provider lxc targetswarmnode INFO command With machine swarmnode VagrantLXCProvider x c a a c loggerLog rLogger x c a a bd fullnamevagrantproviderlxc outputters additivetrue namelxc pathvagrantprovider parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse machineVagrantMachine swarmnode VagrantLXCProvider driverVagrantLXCDriver x c a a containernamenil sudowrapperVagrantLXCSudoWrapper x c a a b wrapperpathnil privilegedtrue loggerLog rLogger x c a a c fullnamevagrantlxcsudowrapper outputters additivetrue namesudowrapper pathvagrantlxc parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse cliVagrantLXCDriverCLI x c a b sudowrapperVagrantLXCSudoWrapper x c a a b wrapperpathnil privilegedtrue loggerLog rLogger x c a a c fullnamevagrantlxcsudowrapper outputters additivetrue namesudowrapper pathvagrantlxc parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse namenil loggerLog rLogger x c a fullnamevagrantproviderlxccontainercli outputters additivetrue namecli pathvagrantproviderlxccontainer parentLog rLogger x c a a bd fullnamevagrantproviderlxc outputters additivetrue namelxc pathvagrantprovider parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse level tracefalse loggerLog rLogger x c a db c fullnamevagrantproviderlxcdriver outputters additivetrue namedriver pathvagrantproviderlxc parentLog rLogger x c a a bd fullnamevagrantproviderlxc outputters additivetrue namelxc pathvagrantprovider parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse level tracefalse customizations caploggerLog rLogger x c a ae fullnamevagrantcapabilityhostvagrantlxcprovider outputters additivetrue nameprovider pathvagrantcapabilityhostvagrantlxc parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse caphostchain lxc Class x c a b x c a d capargs VagrantMachine swarmnode VagrantLXCProvider capcapsvirtualboxVagrantRegistry x c a b c itemsforwardedportsProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb nicmacaddressesProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb publicaddressProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb snapshotlistProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb resultscache hypervVagrantRegistry x c a b itemspublicaddressProc x c a a optvagrantembeddedgemsgemsvagrant pluginsprovidershypervpluginrb snapshotlistProc x c a a f optvagrantembeddedgemsgemsvagrant pluginsprovidershypervpluginrb resultscache dockerVagrantRegistry x c a b itemspublicaddressProc x c a ba f optvagrantembeddedgemsgemsvagrant pluginsprovidersdockerpluginrb proxymachineProc x c a ba e optvagrantembeddedgemsgemsvagrant pluginsprovidersdockerpluginrb resultscache lxcVagrantRegistry x c a afe itemspublicaddressProc x c a d homeniekvagrantdgems gemsvagrantlxc libvagrantlxcpluginrb resultscache DEBUG command Getting target VMs for command Arguments DEBUG command names swarmnode DEBUG command options providernil DEBUG command Finding machine that match name swarmnode INFO loader Set machineswarmnode Proc x c a ab homeniekvagrantlxccentos Vagrantfile INFO loader Loading configuration in order home root machineswarmnode DEBUG loader Loading from root cache DEBUG loader Loading from machineswarmnode cache DEBUG loader Configuration loaded successfully finalizing and returning DEBUG push finalizing WARN vagrantfile Failed to locate vagrantlxccentos amd with version WARN vagrantfile Performing lookup with inital values vagrantlxccentos amd with version INFO base VBoxManage path VBoxManage DEBUG meta Finding driver for VirtualBox version INFO meta Using VirtualBox driver VagrantPluginsProviderVirtualBoxDriverVersion INFO base VBoxManage path VBoxManage DEBUG environment Initial usable provider list virtualbox lxc DEBUG environment Priority sorted usable provider list lxc virtualbox DEBUG environment Preferred provider list DEBUG environment Using provider lxc detected in configuration and usable INFO environment Getting machine swarmnode lxc INFO environment Returning cached machine swarmnode lxc INFO command With machine swarmnode VagrantLXCProvider x c a a c loggerLog rLogger x c a a bd fullnamevagrantproviderlxc outputters additivetrue namelxc pathvagrantprovider parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse machineVagrantMachine swarmnode VagrantLXCProvider driverVagrantLXCDriver x c a a containernamenil sudowrapperVagrantLXCSudoWrapper x c a a b wrapperpathnil privilegedtrue loggerLog rLogger x c a a c fullnamevagrantlxcsudowrapper outputters additivetrue namesudowrapper pathvagrantlxc parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse cliVagrantLXCDriverCLI x c a b sudowrapperVagrantLXCSudoWrapper x c a a b wrapperpathnil privilegedtrue loggerLog rLogger x c a a c fullnamevagrantlxcsudowrapper outputters additivetrue namesudowrapper pathvagrantlxc parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse namenil loggerLog rLogger x c a fullnamevagrantproviderlxccontainercli outputters additivetrue namecli pathvagrantproviderlxccontainer parentLog rLogger x c a a bd fullnamevagrantproviderlxc outputters additivetrue namelxc pathvagrantprovider parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse level tracefalse loggerLog rLogger x c a db c fullnamevagrantproviderlxcdriver outputters additivetrue namedriver pathvagrantproviderlxc parentLog rLogger x c a a bd fullnamevagrantproviderlxc outputters additivetrue namelxc pathvagrantprovider parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse level tracefalse customizations caploggerLog rLogger x c a ae fullnamevagrantcapabilityhostvagrantlxcprovider outputters additivetrue nameprovider pathvagrantcapabilityhostvagrantlxc parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse caphostchain lxc Class x c a b x c a d capargs VagrantMachine swarmnode VagrantLXCProvider capcapsvirtualboxVagrantRegistry x c a b c itemsforwardedportsProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb nicmacaddressesProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb publicaddressProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb snapshotlistProc x c a d optvagrantembeddedgemsgemsvagrant pluginsprovidersvirtualboxpluginrb resultscache hypervVagrantRegistry x c a b itemspublicaddressProc x c a a optvagrantembeddedgemsgemsvagrant pluginsprovidershypervpluginrb snapshotlistProc x c a a f optvagrantembeddedgemsgemsvagrant pluginsprovidershypervpluginrb resultscache dockerVagrantRegistry x c a b itemspublicaddressProc x c a ba f optvagrantembeddedgemsgemsvagrant pluginsprovidersdockerpluginrb proxymachineProc x c a ba e optvagrantembeddedgemsgemsvagrant pluginsprovidersdockerpluginrb resultscache lxcVagrantRegistry x c a afe itemspublicaddressProc x c a d homeniekvagrantdgems gemsvagrantlxc libvagrantlxcpluginrb resultscache INFO interface info Bringing machine swarmnode up with lxc provider Bringing machine swarmnode up with lxc provider INFO batchaction Enabling parallelization by default INFO batchaction Disabling parallelization because only executing one action INFO batchaction Batch action will parallelize false INFO batchaction Starting action VagrantMachine x c a cb up destroyonerrortrue installproviderfalse paralleltrue provisionignoresentinelfalse provisiontypesnil INFO machine Calling action up on provider LXC new VM DEBUG environment Attempting to acquire processlock machineaction e da b fd dd d f d be a DEBUG environment Attempting to acquire processlock dotlock INFO environment Acquired process lock dotlock INFO environment Released process lock dotlock INFO environment Acquired process lock machineaction e da b fd dd d f d be a INFO interface Machine action up start targetswarmnode INFO host Autodetecting host type for VagrantEnvironment homeniekvagrantlxccentos DEBUG host Trying freebsd DEBUG host Trying gentoo DEBUG host Trying darwin DEBUG host Trying slackware DEBUG host Trying alt DEBUG host Trying suse DEBUG host Trying redhat DEBUG host Trying void DEBUG host Trying arch INFO host Detected arch INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionup VagrantActionBuilder x c a a ba INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a e INFO warden Calling IN action VagrantActionBuiltinConfigValidate x c a de INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a db INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a d INFO warden Calling IN action VagrantActionBuiltinCall x c a d INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionup VagrantActionBuilder x c a b f INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a fb INFO warden Calling IN action VagrantActionBuiltinIsState x c a f DEBUG isstate Checking if machine state is notcreated DEBUG isstate Machine state notcreated INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a d INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a d INFO warden Calling OUT action VagrantActionBuiltinIsState x c a f INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a fb INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionup VagrantActionWarden x c a d INFO warden Calling IN action Proc x c a a optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a d b INFO warden Calling IN action VagrantActionBuiltinHandleBox x c a d INFO handlebox Machine already has box HandleBox will not run INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a a INFO warden Calling IN action VagrantLXCActionHandleBoxMetadata x c a INFO interface info Importing base box vagrantlxccentos amd INFO interface info swarmnode Importing base box vagrantlxccentos amd swarmnode Importing base box vagrantlxccentos amd INFO handleboxmetadata Validating box contents INFO handleboxmetadata Setting box options on environment INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a e INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a INFO warden Calling IN action VagrantLXCActionCreate x c a INFO subprocess Starting process usrbinsudo usrbinenv lxccreate version INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcupdateconfig c homeniekvagrantdboxesvagrantlxccentos amd lxclxcconfig INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status DEBUG driver Creating container INFO subprocess Starting process usrbinsudo usrbinenv lxccreate B best template homeniekvagrantdgems gemsvagrantlxc scriptslxctemplate name centos swarmnode fssize G tarball homeniekvagrantdboxesvagrantlxccentos amd lxcrootfstargz config homeniekvagrantdboxesvagrantlxccentos amd lxclxcconfig INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stderr lxccreate centos swarmnode storagebtrfsc btrfscreate Inappropriate ioctl for device Failed to create btrfs subvolume varliblxccentos swarmnode rootfs DEBUG subprocess stderr lxccreate centos swarmnode storagezfsc zfscreate Failed to create zfs dataset zfslxccentos swarmnode lxccreate centos swarmnode DEBUG subprocess stderr lxccreate centos swarmnode storagelvmc dolvmcreate Failed to create logical volume centos swarmnode Volume group lxc not foun lxccreate centos swarmnode storagelvmc lvmcreate Error creating new logical volume lvmdevlxccentos swarmnode of size bytes DEBUG subprocess stdout Unpacking the rootfs DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcconfig lxclxcpath INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout varliblxc DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcupdateconfig c varliblxccentos swarmnode config INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO machine New machine ID centos swarmnode DEBUG lxc Instantiating the container for centos swarmnode INFO subprocess Starting process usrbinsudo usrbinenv lxcls INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout centos swarmnode DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling IN action Proc x c a fa optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a cc INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a c INFO warden Calling IN action VagrantActionBuiltinConfigValidate x c a c INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a c INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a b INFO warden Calling IN action VagrantActionBuiltinBoxCheckOutdated x c a b INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinCall x c a INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionup VagrantActionBuilder x c a b INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a b INFO warden Calling IN action VagrantActionBuiltinIsState x c a e DEBUG isstate Checking if machine state is running INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State STOPPED DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status DEBUG isstate Machine state stopped INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a a INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a a INFO warden Calling OUT action VagrantActionBuiltinIsState x c a e INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a b INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionup VagrantActionWarden x c a bb INFO warden Calling IN action Proc x c a e optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a aa INFO warden Calling IN action VagrantActionBuiltinProvision x c a a INFO provision Checking provisioner sentinel file INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a c c INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a c bd INFO warden Calling IN action VagrantActionBuiltinEnvSet x c a c ba INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a c ab INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a c a INFO warden Calling IN action VagrantActionBuiltinHandleForwardedPortCollisions x c a c DEBUG environment Attempting to acquire processlock fpcollision DEBUG environment Attempting to acquire processlock dotlock INFO environment Acquired process lock dotlock INFO environment Released process lock dotlock INFO environment Acquired process lock fpcollision INFO handleportcollisions Detecting any forwarded port collisions DEBUG handleportcollisions Extra in use DEBUG handleportcollisions Remap DEBUG handleportcollisions Repair true INFO environment Released process lock fpcollision DEBUG environment Attempting to acquire processlock dotlock INFO environment Acquired process lock dotlock INFO environment Released process lock dotlock INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a c INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a f INFO warden Calling IN action VagrantLXCActionPrepareNFSValidIds x c a INFO subprocess Starting process usrbinsudo usrbinenv lxcls INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout centos swarmnode DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a INFO warden Calling IN action VagrantPluginsSyncedFolderNFSActionCleanup x c a DEBUG host Searching for cap nfsprune DEBUG host Checking in arch DEBUG host Checking in linux DEBUG host Found cap nfsprune in linux INFO nfs NFS pruning Valid IDs centos swarmnode DEBUG host Searching for cap nfsprune DEBUG host Checking in arch DEBUG host Checking in linux DEBUG host Found cap nfsprune in linux INFO host Execute capability nfsprune VagrantEnvironment homeniekvagrantlxccentos VagrantUIPrefixed x c a loggerLog rLogger x c a fullnamevagrantuiinterface outputters additivetrue nameinterface pathvagrantui parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse opts stdinIOSTDIN stdoutIOSTDOUT stderrIOSTDERR prefixswarmnode uiVagrantUIBasic x c a e loggerLog rLogger x c a de fullnamevagrantuiinterface outputters additivetrue nameinterface pathvagrantui parentVagrantLogger x c a f da fullnamevagrant outputters Log rStderrOutputter x c a f monmutexThreadMutex x c a e monmutexownerobjectid monownernil moncount namestderr level formatterVagrantUtilLoggingFormatter x c a dd formatterLog rBasicFormatter x c a a e depth outIOSTDERR additivetrue namevagrant path parentLog rRootLogger x c a f d level outputters level tracefalse level tracefalse optscolordefault stdinIOSTDIN stdoutIOSTDOUT stderrIOSTDERR lockThreadMutex x c a centos swarmnode arch INFO linux Pruning invalid NFS entries DEBUG linux Known valid NFS export IDs centos swarmnode DEBUG linux Composite valid NFS export IDs with user centos swarmnode DEBUG linux NFS export IDs to be removed INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a a b INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a a a INFO warden Calling IN action VagrantActionBuiltinSyncedFolderCleanup x c a a a INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a a INFO warden Calling IN action VagrantActionBuiltinSyncedFolders x c a INFO syncedfolders SyncedFolders loading from cache false INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a b c INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a b bd INFO warden Calling IN action VagrantLXCActionPrepareNFSSettings x c a b bb INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a ffcc INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a ffc INFO warden Calling IN action VagrantActionBuiltinSetHostname x c a ffbf INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a ffbd INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a ffb INFO warden Calling IN action VagrantLXCActionWarnNetworks x c a ffb INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a ffae INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a ffa INFO warden Calling IN action VagrantLXCActionForwardPorts x c a ffa INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a e INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a dd INFO warden Calling IN action VagrantLXCActionPrivateNetworks x c a da INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a d INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a d INFO warden Calling IN action VagrantLXCActionBoot x c a ce INFO subprocess Starting process usrbinsudo usrbinenv lxccreate version INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO interface info Starting container INFO interface info swarmnode Starting container swarmnode Starting container INFO driver Starting container DEBUG driver Prunning vagrantlxc customizations INFO subprocess Starting process usrbinsudo usrbinenv lxcconfig lxclxcpath INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout varliblxc DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv cat varliblxccentos swarmnode config INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Template used to create this container homeniekvagrantdgems gemsvagrantlxc scriptslxctemplate Parameters passed to the template tarball homeniekvagrantdboxesvagrantlxccentos amd lxcrootfstargz config homeniekvagrantdboxesvagrantlxccentos amd lxclxcconfig Template script checksum SHA eae a d cd c efa c e For additional config options please look at lxccontainerconf Uncomment the following line to support nesting containers lxcinclude usrsharelxcconfignestingconf Be aware this has security implications Container specific configuration automatically set lxcnet type veth lxcnet link lxcbr lxcnet flags up lxcnet ipv address lxcrootfspath dirvarliblxccentos swarmnode rootfs lxcutsname centos swarmnode Network configuration automatically set vagrantlxc base box specific configuration Taken from the oraclecommonconfin Console settings lxcttydir lxc lxcttymax lxcptymax Mount entries lxcmountauto procmixed sysro Ensure hostname is changed on clone lxchookclone usrsharelxchooksclonehostname Capabilities Uncomment these if you dont run anything that needs the capability and would like the container to run with less privilege Dropping sysadmin disables container root from doing a lot of things that could be bad like remounting lxc fstab entries rw for example but also disables some useful things like being able to nfs mount and things that are already namespaced with nscapable kernel checks like hostname lxccapdrop sysadmin lxccapdrop netraw breaks dhcpping lxccapdrop setgid breaks login initgroupssetgroups lxccapdrop dacreadsearch breaks login pam unixchkpwd lxccapdrop setuid breaks sshdnfs statd lxccapdrop auditcontrol breaks sshd setloginuid failed lxccapdrop auditwrite lxccapdrop macadmin macoverride lxccapdrop sysmodule sysnice syspacct lxccapdrop sysrawio systime Control Group devices all denied except those whitelisted lxccgroupdevicesdeny a Allow any mknod but not readingwriting the node lxccgroupdevicesallow c m lxccgroupdevicesallow b m lxccgroupdevicesallow c rwm devnull lxccgroupdevicesallow c rwm devzero lxccgroupdevicesallow c rwm devfull lxccgroupdevicesallow c rwm devtty lxccgroupdevicesallow c rwm devrandom lxccgroupdevicesallow c rwm devurandom lxccgroupdevicesallow c rwm devtty ptys and lxc console lxccgroupdevicesallow c rwm devptmx pty master Needed by default docker config lxccgroupdevicesallow c rwm devconsole lxccgroupdevicesallow c rwm devtty lxccgroupdevicesallow c rwm devtty lxccgroupdevicesallow c rwm devnettun Blacklist some syscalls which are not safe in privileged containers lxcseccompprofile usrsharelxcconfigcommonseccomp vagrantlxc container specific configuration DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv cp f tmplxcconfig w beic varliblxccentos swarmnode config INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv chown rootroot varliblxccentos swarmnode config INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv cat varliblxccentos swarmnode config INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Template used to create this container homeniekvagrantdgems gemsvagrantlxc scriptslxctemplate Parameters passed to the template tarball homeniekvagrantdboxesvagrantlxccentos amd lxcrootfstargz config homeniekvagrantdboxesvagrantlxccentos amd lxclxcconfig Template script checksum SHA eae a d cd c efa c e For additional config options please look at lxccontainerconf Uncomment the following line to support nesting containers lxcinclude usrsharelxcconfignestingconf Be aware this has security implications Container specific configuration automatically set lxcnet type veth lxcnet link lxcbr lxcnet flags up lxcnet ipv address lxcrootfspath dirvarliblxccentos swarmnode rootfs lxcutsname centos swarmnode Network configuration automatically set vagrantlxc base box specific configuration Taken from the oraclecommonconfin Console settings lxcttydir lxc lxcttymax lxcptymax Mount entries lxcmountauto procmixed sysro Ensure hostname is changed on clone lxchookclone usrsharelxchooksclonehostname Capabilities Uncomment these if you dont run anything that needs the capability and would like the container to run with less privilege Dropping sysadmin disables container root from doing a lot of things that could be bad like remounting lxc fstab entries rw for example but also disables some useful things like being able to nfs mount and things that are already namespaced with nscapable kernel checks like hostname lxccapdrop sysadmin lxccapdrop netraw breaks dhcpping lxccapdrop setgid breaks login initgroupssetgroups lxccapdrop dacreadsearch breaks login pam unixchkpwd lxccapdrop setuid breaks sshdnfs statd lxccapdrop auditcontrol breaks sshd setloginuid failed lxccapdrop auditwrite lxccapdrop macadmin macoverride lxccapdrop sysmodule sysnice syspacct lxccapdrop sysrawio systime Control Group devices all denied except those whitelisted lxccgroupdevicesdeny a Allow any mknod but not readingwriting the node lxccgroupdevicesallow c m lxccgroupdevicesallow b m lxccgroupdevicesallow c rwm devnull lxccgroupdevicesallow c rwm devzero lxccgroupdevicesallow c rwm devfull lxccgroupdevicesallow c rwm devtty lxccgroupdevicesallow c rwm devrandom lxccgroupdevicesallow c rwm devurandom lxccgroupdevicesallow c rwm devtty ptys and lxc console lxccgroupdevicesallow c rwm devptmx pty master Needed by default docker config lxccgroupdevicesallow c rwm devconsole lxccgroupdevicesallow c rwm devtty lxccgroupdevicesallow c rwm devtty lxccgroupdevicesallow c rwm devnettun Blacklist some syscalls which are not safe in privileged containers lxcseccompprofile usrsharelxcconfigcommonseccomp vagrantlxc container specific configuration DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv cp f tmplxcconfig s h varliblxccentos swarmnode config INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv chown rootroot varliblxccentos swarmnode config INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcstart d name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a cb INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a c INFO warden Calling IN action VagrantActionBuiltinWaitForCommunicator x c a c INFO interface output Waiting for machine to boot This may take a few minutes INFO interface output swarmnode Waiting for machine to boot This may take a few minutes swarmnode Waiting for machine to boot This may take a few minutes INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State RUNNING PID DEBUG subprocess stdout CPU use seconds BlkIO use bytes Memory use MiB DEBUG subprocess stdout KMem use MiB Link vethHLD IG TX bytes bytes RX bytes bytes Total bytes bytes DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode DEBUG subprocess stdout State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use bytes DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG DEBUG subprocess stdout TX bytes bytes DEBUG subprocess stdout RX bytes bytes DEBUG subprocess stdout Total bytes bytes DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO machine Calling action sship on provider LXC centos swarmnode INFO interface Machine action sship start targetswarmnode INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a e INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a f d INFO warden Calling IN action VagrantActionBuiltinCall x c a f d INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a bc INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a af INFO warden Calling IN action VagrantActionBuiltinConfigValidate x c a ac INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a aa INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a aa INFO warden Calling OUT action VagrantActionBuiltinConfigValidate x c a ac INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a af INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionWarden x c a c d INFO warden Calling IN action Proc x c a b optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a c INFO warden Calling IN action VagrantLXCActionFetchIpWithLxcInfo x c a c e INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode iH INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO retryable Retryable exception raised VagrantLXCErrorsExecuteError There was an error executing lxcinfo For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG DEBUG subprocess stdout TX bytes bytes RX bytes bytes Total bytes bytes DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG TX bytes bytes DEBUG subprocess stdout RX bytes bytes Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG DEBUG subprocess stdout TX bytes bytes RX bytes bytes Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode iH INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO retryable Retryable exception raised VagrantLXCErrorsExecuteError There was an error executing lxcinfo For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode DEBUG subprocess stdout State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG DEBUG subprocess stdout TX bytes KiB RX bytes KiB Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use vagrant up Bringing machine swarmnode up with lxc provider swarmnode Importing base box vagrantlxccentos amd swarmnode Starting container swarmnode Waiting for machine to boot This may take a few minutes swarmnode SSH address swarmnode SSH username vagrant swarmnode SSH auth method privat MiB DEBUG subprocess stdout Link vethHLD IG TX bytes KiB DEBUG subprocess stdout RX bytes KiB Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode iH INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a fcd INFO warden Calling IN action Proc x c a fc optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a f d INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a f d INFO warden Calling OUT action Proc x c a fc optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a fcd INFO warden Calling OUT action VagrantLXCActionFetchIpWithLxcInfo x c a c e INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a c INFO warden Calling OUT action Proc x c a b optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinCall x c a f d INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a f d INFO interface Machine action sship end targetswarmnode DEBUG ssh Checking key permissions homeniekvagrantdinsecureprivatekey INFO interface detail SSH address INFO interface detail swarmnode SSH address swarmnode SSH address INFO interface detail SSH username vagrant INFO interface detail swarmnode SSH username vagrant swarmnode SSH username vagrant INFO interface detail SSH auth method private key INFO interface detail swarmnode SSH auth method private key swarmnode SSH auth method private key INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode DEBUG subprocess stdout State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout IP DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout Name centos swarmnode DEBUG subprocess stdout State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG TX bytes KiB DEBUG subprocess stdout RX bytes KiB Total bytes KiB DEBUG subprocess stdout IP DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO machine Calling action sship on provider LXC centos swarmnode INFO interface Machine action sship start targetswarmnode INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a fa INFO warden Calling IN action VagrantActionBuiltinCall x c a f DEBUG subprocess stdout CPU use seconds BlkIO use KiB Memory use MiB KMem use MiB Link vethHLD IG TX bytes KiB RX bytes KiB Total bytes KiB INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a e INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a c INFO warden Calling IN action VagrantActionBuiltinConfigValidate x c a c INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a c INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a c INFO warden Calling OUT action VagrantActionBuiltinConfigValidate x c a c INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a c INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionWarden x c a a e INFO warden Calling IN action Proc x c a b optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a ff INFO warden Calling IN action VagrantLXCActionFetchIpWithLxcInfo x c a fd DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode iH INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a cfeb INFO warden Calling IN action Proc x c a cfdf optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a f INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a f INFO warden Calling OUT action Proc x c a cfdf optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a cfeb INFO warden Calling OUT action VagrantLXCActionFetchIpWithLxcInfo x c a fd INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a ff INFO warden Calling OUT action Proc x c a b optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinCall x c a f INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a fa INFO interface Machine action sship end targetswarmnode DEBUG ssh Checking key permissions homeniekvagrantdinsecureprivatekey INFO ssh Attempting SSH connection INFO ssh Attempting to connect to SSH INFO ssh Host INFO ssh Port INFO ssh Username vagrant INFO ssh Password false INFO ssh Key Path homeniekvagrantdinsecureprivatekey DEBUG ssh connectopts authmethods none hostbased publickey configfalse forwardagentfalse sendenvfalse keysonlytrue verifyhostkeynever passwordnil port timeout userknownhostsfile verbosedebug encryption aes ctr aes ctr aes ctr aes cbc aes cbc aes cbc rijndaelcbclysatorliuse blowfishctr blowfishcbc cast ctr cast cbc desctr descbc ideacbc arcfour arcfour arcfour none loggerLogger x c a d level prognamenil defaultformatterLoggerFormatter x c a d datetimeformatnil formatternil logdevLoggerLogDevice x c a d fd shiftperiodsuffixnil shiftsizenil shiftagenil filenamenil devStringIO x c a d c monmutexThreadMutex x c a d f monmutexownerobjectid monownernil moncount keys homeniekvagrantdinsecureprivatekey remoteuservagrant DEBUG ssh NetSSH connection debuglevel log START DEBUG ssh D T DEBUG netsshtransportsession aaf c establishing connection to DEBUG ssh NetSSH connection debuglevel log END INFO ssh SSH not ready VagrantErrorsSSHConnectionRefused SSH connection was refused This usually happens if the VM failed to boot properly Some steps to try to fix this First try reloading your VM with vagrant reload since a simple restart sometimes fixes things If that doesnt work destroy your VM and recreate it with a vagrant destroy followed by a vagrant up If that doesnt work contact a Vagrant maintainer support channels listed on the website for more assistance INFO interface detail Warning Connection refused Retrying INFO interface detail swarmnode Warning Connection refused Retrying swarmnode Warning Connection refused Retrying INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State RUNNING PID DEBUG subprocess stdout IP DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG DEBUG subprocess stdout TX bytes KiB RX bytes KiB Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO machine Calling action sship on provider LXC centos swarmnode INFO interface Machine action sship start targetswarmnode INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a e INFO warden Calling IN action VagrantActionBuiltinCall x c a e INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a f bd INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinConfigValidate x c a INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling OUT action VagrantActionBuiltinConfigValidate x c a INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionWarden x c a c INFO warden Calling IN action Proc x c a e optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a b INFO warden Calling IN action VagrantLXCActionFetchIpWithLxcInfo x c a b INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode iH INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a e b INFO warden Calling IN action Proc x c a e ab optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a dd INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a dd INFO warden Calling OUT action Proc x c a e ab optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a e b INFO warden Calling OUT action VagrantLXCActionFetchIpWithLxcInfo x c a b INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a b INFO warden Calling OUT action Proc x c a e optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinCall x c a e INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a e INFO interface Machine action sship end targetswarmnode DEBUG ssh Checking key permissions homeniekvagrantdinsecureprivatekey INFO ssh Attempting SSH connection INFO ssh Attempting to connect to SSH INFO ssh Host INFO ssh Port INFO ssh Username vagrant INFO ssh Password false INFO ssh Key Path homeniekvagrantdinsecureprivatekey DEBUG ssh connectopts authmethods none hostbased publickey configfalse forwardagentfalse sendenvfalse keysonlytrue verifyhostkeynever passwordnil port timeout userknownhostsfile verbosedebug encryption aes ctr aes ctr aes ctr aes cbc aes cbc aes cbc rijndaelcbclysatorliuse blowfishctr blowfishcbc cast ctr cast cbc desctr descbc ideacbc arcfour arcfour arcfour none loggerLogger x c a a b level prognamenil defaultformatterLoggerFormatter x c a a ac datetimeformatnil formatternil logdevLoggerLogDevice x c a a a shiftperiodsuffixnil shiftsizenil shiftagenil filenamenil devStringIO x c a a be monmutexThreadMutex x c a a monmutexownerobjectid monownernil moncount keys homeniekvagrantdinsecureprivatekey remoteuservagrant DEBUG ssh NetSSH connection debuglevel log START DEBUG ssh D T DEBUG netsshtransportsession a d establishing connection to D T DEBUG netsshtransportsession a d connection established I T INFO netsshtransportserverversion a d b negotiating protocol version D T DEBUG netsshtransportserverversion a d b local is SSH RubyNetSSH x linux D T DEBUG netsshtransportserverversion a d b remote is SSH OpenSSH I T INFO netsshtransportalgorithms a d d sending KEXINIT D T DEBUG socket a d aec queueing packet nr type len D T DEBUG socket a d aec sent bytes D T DEBUG socket a d aec read bytes D T DEBUG socket a d aec received packet nr type len I T INFO netsshtransportalgorithms a d d got KEXINIT from server I T INFO netsshtransportalgorithms a d d negotiating algorithms D T DEBUG netsshtransportalgorithms a d d negotiated kex ecdhsha nistp hostkey sshed encryptionserver aes ctr encryptionclient aes ctr hmacclient hmacsha hmacserver hmacsha compressionclient none compressionserver none languageclient languageserver D T DEBUG netsshtransportalgorithms a d d exchanging keys D T DEBUG socket a d aec queueing packet nr type len D T DEBUG socket a d aec sent bytes D T DEBUG socket a d aec read bytes D T DEBUG socket a d aec received packet nr type len D T DEBUG socket a d aec queueing packet nr type len D T DEBUG socket a d aec sent bytes D T DEBUG socket a d aec received packet nr type len D T DEBUG netsshauthenticationsession a beginning authentication of vagrant D T DEBUG socket a d aec queueing packet nr type len D T DEBUG socket a d aec sent bytes D T DEBUG socket a d aec read bytes D T DEBUG socket a d aec received packet nr type len D T DEBUG netsshauthenticationsession a trying none D T DEBUG socket a d aec queueing packet nr type len D T DEBUG socket a d aec sent bytes D T DEBUG socket a d aec read bytes D T DEBUG socket a d aec received packet nr type len D T DEBUG netsshauthenticationsession a allowed methods publickeygssapikeyexgssapiwithmicpassword D T DEBUG netsshauthenticationmethodsnone a b none failed D T DEBUG netsshauthenticationsession a trying publickey D T DEBUG netsshauthenticationagent ef b connecting to sshagent D T DEBUG netsshauthenticationagent ef b sending agent request len D T DEBUG netsshauthenticationagent ef b received agent packet len D T DEBUG netsshauthenticationagent ef b sending agent request len D T DEBUG netsshauthenticationagent ef b received agent packet len D T DEBUG netsshauthenticationmethodspublickey a c trying publickey dd bb e e abffa ac ed D T DEBUG socket a d aec queueing packet nr type len D T DEBUG socket a d aec sent bytes D T DEBUG socket a d aec read bytes D T DEBUG socket a d aec received packet nr type len D T DEBUG socket a d aec queueing packet nr type len D T DEBUG socket a d aec sent bytes D T DEBUG socket a d aec read bytes D T DEBUG socket a d aec received packet nr type len D T DEBUG netsshauthenticationmethodspublickey a c publickey succeeded dd bb e e abffa ac ed DEBUG ssh NetSSH connection debuglevel log END DEBUG ssh Checking whether SSH is ready DEBUG ssh Reusing SSH connection INFO ssh SSH is ready DEBUG ssh Reusing SSH connection INFO ssh Execute sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode DEBUG subprocess stdout State RUNNING PID DEBUG subprocess stdout IP DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG DEBUG subprocess stdout TX bytes KiB RX bytes KiB Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO machine Calling action sship on provider LXC centos swarmnode INFO interface Machine action sship start targetswarmnode INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a c b INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a ef INFO warden Calling IN action VagrantActionBuiltinCall x c a ef d INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a bfb INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a cfa INFO warden Calling IN action VagrantActionBuiltinConfigValidate x c a cfa INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a cf f INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a cf f INFO warden Calling OUT action VagrantActionBuiltinConfigValidate x c a cfa INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a cfa INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionWarden x c a c INFO warden Calling IN action Proc x c a e optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a f INFO warden Calling IN action VagrantLXCActionFetchIpWithLxcInfo x c a ee INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode iH INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a a INFO warden Calling IN action Proc x c a optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a ef INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a ef INFO warden Calling OUT action Proc x c a optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a a INFO warden Calling OUT action VagrantLXCActionFetchIpWithLxcInfo x c a ee INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a f INFO warden Calling OUT action Proc x c a e optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinCall x c a ef d INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a ef INFO interface Machine action sship end targetswarmnode DEBUG ssh Checking key permissions homeniekvagrantdinsecureprivatekey INFO interface detail Vagrant insecure key detected Vagrant will automatically replace this with a newly generated keypair for better security INFO interface detail swarmnode swarmnode Vagrant insecure key detected Vagrant will automatically replace swarmnode this with a newly generated keypair for better security swarmnode swarmnode Vagrant insecure key detected Vagrant will automatically replace swarmnode this with a newly generated keypair for better security DEBUG ssh Checking whether SSH is ready DEBUG ssh Reusing SSH connection INFO ssh SSH is ready DEBUG ssh Reusing SSH connection INFO ssh Execute sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status INFO guest Autodetecting host type for VagrantMachine swarmnode VagrantLXCProvider DEBUG guest Trying atomic DEBUG ssh Reusing SSH connection INFO ssh Execute grep ostree proccmdline sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying trisquel DEBUG ssh Reusing SSH connection INFO ssh Execute x usrbinlsbrelease usrbinlsbrelease i devnull grep Trisquel sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying elementary DEBUG ssh Reusing SSH connection INFO ssh Execute if test r etcosrelease then source etcosrelease test xelementary xID exit fi if test x usrbinlsbrelease then usrbinlsbrelease i devnull grep qi elementary exit fi if test r etcissue then cat etcissue grep qi elementary exit fi exit sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying mint DEBUG ssh Reusing SSH connection INFO ssh Execute if test r etcosrelease then source etcosrelease test xLinux Mint xID exit fi if test x usrbinlsbrelease then usrbinlsbrelease i devnull grep qi Linux Mint exit fi if test r etcissue then cat etcissue grep qi Linux Mint exit fi exit sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying fedora DEBUG ssh Reusing SSH connection INFO ssh Execute grep Fedora release etcredhatrelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying dragonflybsd DEBUG ssh Reusing SSH connection INFO ssh Execute uname s grep i DragonFly sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying pld DEBUG ssh Reusing SSH connection INFO ssh Execute cat etcpldrelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr cat etcpldrelease No such file or directory DEBUG ssh Exit status DEBUG guest Trying amazon DEBUG ssh Reusing SSH connection INFO ssh Execute grep Amazon Linux etcosrelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying alt DEBUG ssh Reusing SSH connection INFO ssh Execute cat etcaltlinuxrelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr cat etcaltlinuxrelease No such file or directory DEBUG ssh Exit status DEBUG guest Trying kali DEBUG ssh Reusing SSH connection INFO ssh Execute if test r etcosrelease then source etcosrelease test xkali xID exit fi if test x usrbinlsbrelease then usrbinlsbrelease i devnull grep qi kali exit fi if test r etcissue then cat etcissue grep qi kali exit fi exit sudofalse INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying ubuntu DEBUG subprocess stdout Name centos swarmnode State RUNNING DEBUG subprocess stdout PID DEBUG subprocess stdout IP DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG TX bytes KiB RX bytes KiB Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute if test r etcosrelease then source etcosrelease test xubuntu xID exit fi if test x usrbinlsbrelease then usrbinlsbrelease i devnull grep qi ubuntu exit fi if test r etcissue then cat etcissue grep qi ubuntu exit fi exit sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying funtoo DEBUG ssh Reusing SSH connection INFO ssh Execute grep Funtoo etcgentoorelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr grep etcgentoorelease No such file or directory DEBUG ssh Exit status DEBUG guest Trying freebsd DEBUG ssh Reusing SSH connection INFO ssh Execute uname s grep FreeBSD sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying tinycore DEBUG ssh Reusing SSH connection INFO ssh Execute if test r etcosrelease then source etcosrelease test xCore Linux xID exit fi if test x usrbinlsbrelease then usrbinlsbrelease i devnull grep qi Core Linux exit fi if test r etcissue then cat etcissue grep qi Core Linux exit fi exit sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying smartos DEBUG ssh Reusing SSH connection INFO ssh Execute cat etcrelease grep i SmartOS sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr cat etcrelease No such file or directory DEBUG ssh Exit status DEBUG guest Trying gentoo DEBUG ssh Reusing SSH connection INFO ssh Execute grep Gentoo etcgentoorelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr grep etcgentoorelease No such file or directory DEBUG ssh Exit status DEBUG guest Trying coreos DEBUG ssh Reusing SSH connection INFO ssh Execute cat etcosrelease grep IDcoreos cat etcosrelease grep E IDLIKEcoreos sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying darwin DEBUG ssh Reusing SSH connection INFO ssh Execute uname s grep Darwin sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying nixos DEBUG ssh Reusing SSH connection INFO ssh Execute test f runcurrentsystemnixosversion sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying slackware DEBUG ssh Reusing SSH connection INFO ssh Execute cat etcslackwareversion sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr cat etcslackwareversion No such file or directory DEBUG ssh Exit status DEBUG guest Trying debian DEBUG ssh Reusing SSH connection INFO ssh Execute if test r etcosrelease then source etcosrelease test xdebian xID exit fi if test x usrbinlsbrelease then usrbinlsbrelease i devnull grep qi debian exit fi if test r etcissue then cat etcissue grep qi debian exit fi exit sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying suse DEBUG ssh Reusing SSH connection INFO ssh Execute test f etcSuSErelease grep q SUSE etcosrelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying solaris DEBUG ssh Reusing SSH connection INFO ssh Execute grep Solaris etcrelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr grep etcrelease No such file or directory DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute uname sr grep SunOS sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying openbsd DEBUG ssh Reusing SSH connection INFO ssh Execute uname s grep OpenBSD sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Trying redhat DEBUG ssh Reusing SSH connection INFO ssh Execute cat etcredhatrelease sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status INFO guest Detected redhat DEBUG guest Searching for cap insertpublickey DEBUG guest Checking in redhat DEBUG guest Checking in linux DEBUG guest Found cap insertpublickey in linux DEBUG ssh Checking whether SSH is ready DEBUG ssh Reusing SSH connection INFO ssh SSH is ready DEBUG ssh Reusing SSH connection INFO ssh Execute sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Searching for cap removepublickey DEBUG guest Checking in redhat DEBUG guest Checking in linux DEBUG guest Found cap removepublickey in linux INFO ssh Inserting key to avoid password sshrsa AAAAB NzaC yc EAAAADAQABAAABAQC dQjvmhemomln hpjUnsZDa umvSey S JjmSgjecmHPGwnACfGePAPg aRoW WBsU G wOb H IwWwTJN cFw eraGq e qRfL myYQP jJdC x eSrZQAOZT VD o uGcc iAFcl i SzEbM Kt R OqstdloQjNeuVMcYaJ nveBri IVkQhZqXLRCylpcm ByalVSqxd KEqe pffOZ bZTQbAvcOOiOqEL N pcr rIqelecQvXQbA ZgrhKgxZTUmoqdTOhQ jdgOB XZwaEqUuAtDSZx d n WJFJL kpHlq g hj vagrant INFO interface detail Inserting generated public key within guest INFO interface detail swarmnode swarmnode Inserting generated public key within guest swarmnode swarmnode Inserting generated public key within guest DEBUG ssh Checking whether SSH is ready DEBUG ssh Reusing SSH connection INFO ssh SSH is ready INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode DEBUG subprocess stdout State RUNNING PID DEBUG subprocess stdout IP DEBUG subprocess stdout CPU use seconds BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB Link vethHLD IG TX bytes KiB DEBUG subprocess stdout RX bytes KiB Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Searching for cap insertpublickey DEBUG guest Checking in redhat DEBUG guest Checking in linux DEBUG guest Found cap insertpublickey in linux INFO guest Execute capability insertpublickey VagrantMachine swarmnode VagrantLXCProvider sshrsa AAAAB NzaC yc EAAAADAQABAAABAQC dQjvmhemomln hpjUnsZDa umvSey S JjmSgjecmHPGwnACfGePAPg aRoW WBsU G wOb H IwWwTJN cFw eraGq e qRfL myYQP jJdC x eSrZQAOZT VD o uGcc iAFcl i SzEbM Kt R OqstdloQjNeuVMcYaJ nveBri IVkQhZqXLRCylpcm ByalVSqxd KEqe pffOZ bZTQbAvcOOiOqEL N pcr rIqelecQvXQbA ZgrhKgxZTUmoqdTOhQ jdgOB XZwaEqUuAtDSZx d n WJFJL kpHlq g hj vagrant redhat DEBUG ssh Uploading tmpvagrantlinuxinsertpublickey u a w to tmpvagrantinsertpubkey DEBUG ssh Reusing SSH connection DEBUG ssh Ensuring remote directory exists for destination upload DEBUG ssh Reusing SSH connection INFO ssh Execute mkdir p tmp sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Uploading file tmpvagrantlinuxinsertpublickey u a w to remote tmpvagrantinsertpubkey DEBUG ssh Reusing SSH connection INFO ssh Execute mkdir p ssh chmod ssh cat tmpvagrantinsertpubkey sshauthorizedkeys chmod sshauthorizedkeys result rm f tmpvagrantinsertpubkey exit result sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG host Searching for cap setsshkeypermissions DEBUG host Checking in arch DEBUG host Checking in linux DEBUG host Found cap setsshkeypermissions in linux DEBUG host Searching for cap setsshkeypermissions DEBUG host Checking in arch DEBUG host Checking in linux DEBUG host Found cap setsshkeypermissions in linux INFO host Execute capability setsshkeypermissions VagrantEnvironment homeniekvagrantlxccentos Pathnamehomeniekvagrantlxccentos vagrantmachinesswarmnode lxcprivatekey arch INFO interface detail Removing insecure key from the guest if its present INFO interface detail swarmnode Removing insecure key from the guest if its present swarmnode Removing insecure key from the guest if its present DEBUG ssh Checking whether SSH is ready DEBUG ssh Reusing SSH connection INFO ssh SSH is ready DEBUG ssh Reusing SSH connection INFO ssh Execute sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Searching for cap removepublickey DEBUG guest Checking in redhat DEBUG guest Checking in linux DEBUG guest Found cap removepublickey in linux INFO guest Execute capability removepublickey VagrantMachine swarmnode VagrantLXCProvider sshrsa AAAAB NzaC yc EAAAABIwAAAQEA NF iallvQVp WDkTkyrtvp eWW A YVrkz TjGYe gHzIwniNltGEFHzD v I YJ oXevct YeS o HZyN Q qgCgzUFtdOKLv IedplqoPkcmF aYet PkEDo MlTBckFXPITAMzF dJSIFo D HfdOV IAdx O PtixWKn y hMNG zQPyUecp pzC kivAIhyfHilFR RGLGPXQ MWZWFYbAGjyiYJnAmCP NOTd jMZEnDkbUvxhMmBYSdETk rRgmR LOzFUGaHqHDLKLXFIPKcF hrucXzcWyLbIbEgE OHlnVYCzRdK jlqm tehUc c WhQ vagrant insecure public key redhat DEBUG ssh Uploading tmpvagrantlinuxremovepublickey d s to tmpvagrantremovepubkey DEBUG ssh Reusing SSH connection DEBUG ssh Ensuring remote directory exists for destination upload DEBUG ssh Reusing SSH connection INFO ssh Execute mkdir p tmp sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Uploading file tmpvagrantlinuxremovepublickey d s to remote tmpvagrantremovepubkey DEBUG ssh Reusing SSH connection INFO ssh Execute if test f sshauthorizedkeys then grep v x f tmpvagrantremovepubkey sshauthorizedkeys sshauthorizedkeystmp mv sshauthorizedkeystmp sshauthorizedkeys chmod sshauthorizedkeys result fi rm f tmpvagrantremovepubkey exit result sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status INFO interface detail Key inserted Disconnecting and reconnecting using new SSH key INFO interface detail swarmnode Key inserted Disconnecting and reconnecting using new SSH key swarmnode Key inserted Disconnecting and reconnecting using new SSH key DEBUG ssh Checking whether SSH is ready INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout Name centos swarmnode State RUNNING PID DEBUG subprocess stdout IP DEBUG subprocess stdout CPU use seconds DEBUG subprocess stdout BlkIO use KiB DEBUG subprocess stdout Memory use MiB DEBUG subprocess stdout KMem use MiB DEBUG subprocess stdout Link vethHLD IG DEBUG subprocess stdout TX bytes KiB RX bytes KiB Total bytes KiB DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO machine Calling action sship on provider LXC centos swarmnode INFO interface Machine action sship start targetswarmnode INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a ef INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinCall x c a ff INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionBuilder x c a f INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a c INFO warden Calling IN action VagrantActionBuiltinConfigValidate x c a c a INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a c INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a c INFO warden Calling OUT action VagrantActionBuiltinConfigValidate x c a c a INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a c INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action machineactionsship VagrantActionWarden x c a fee INFO warden Calling IN action Proc x c a e optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a fdf INFO warden Calling IN action VagrantLXCActionFetchIpWithLxcInfo x c a fdc INFO subprocess Starting process usrbinsudo usrbinenv lxcinfo name centos swarmnode iH INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stdout DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a ff INFO warden Calling IN action Proc x c a fefa optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a fa INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a fa INFO warden Calling OUT action Proc x c a fefa optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a ff INFO warden Calling OUT action VagrantLXCActionFetchIpWithLxcInfo x c a fdc INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a fdf INFO warden Calling OUT action Proc x c a e optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinCall x c a ff INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a INFO interface Machine action sship end targetswarmnode DEBUG ssh Checking key permissions homeniekvagrantlxccentos vagrantmachinesswarmnode lxcprivatekey INFO ssh Attempting SSH connection INFO ssh Attempting to connect to SSH INFO ssh Host INFO ssh Port INFO ssh Username vagrant INFO ssh Password false INFO ssh Key Path homeniekvagrantlxccentos vagrantmachinesswarmnode lxcprivatekey DEBUG ssh connectopts authmethods none hostbased publickey configfalse forwardagentfalse sendenvfalse keysonlytrue verifyhostkeynever passwordnil port timeout userknownhostsfile verbosedebug encryption aes ctr aes ctr aes ctr aes cbc aes cbc aes cbc rijndaelcbclysatorliuse blowfishctr blowfishcbc cast ctr cast cbc desctr descbc ideacbc arcfour arcfour arcfour none loggerLogger x c a b d level prognamenil defaultformatterLoggerFormatter x c a b datetimeformatnil formatternil logdevLoggerLogDevice x c a b shiftperiodsuffixnil shiftsizenil shiftagenil filenamenil devStringIO x c a b monmutexThreadMutex x c a b e monmutexownerobjectid monownernil moncount keys homeniekvagrantlxccentos vagrantmachinesswarmnode lxcprivatekey remoteuservagrant DEBUG ssh NetSSH connection debuglevel log START DEBUG ssh D T DEBUG netsshtransportsession aa c e establishing connection to D T DEBUG netsshtransportsession aa c e connection established I T INFO netsshtransportserverversion aa c negotiating protocol version D T DEBUG netsshtransportserverversion aa c local is SSH RubyNetSSH x linux D T DEBUG netsshtransportserverversion aa c remote is SSH OpenSSH I T INFO netsshtransportalgorithms aa sending KEXINIT D T DEBUG socket aa c b queueing packet nr type len D T DEBUG socket aa c b sent bytes D T DEBUG socket aa c b read bytes D T DEBUG socket aa c b received packet nr type len I T INFO netsshtransportalgorithms aa got KEXINIT from server I T INFO netsshtransportalgorithms aa negotiating algorithms D T DEBUG netsshtransportalgorithms aa negotiated kex ecdhsha nistp hostkey sshed encryptionserver aes ctr encryptionclient aes ctr hmacclient hmacsha hmacserver hmacsha compressionclient none compressionserver none languageclient languageserver D T DEBUG netsshtransportalgorithms aa exchanging keys D T DEBUG socket aa c b queueing packet nr type len D T DEBUG socket aa c b sent bytes D T DEBUG socket aa c b read bytes D T DEBUG socket aa c b received packet nr type len D T DEBUG socket aa c b queueing packet nr type len D T DEBUG socket aa c b sent bytes D T DEBUG socket aa c b received packet nr type len D T DEBUG netsshauthenticationsession aaaf c beginning authentication of vagrant D T DEBUG socket aa c b queueing packet nr type len D T DEBUG socket aa c b sent bytes D T DEBUG socket aa c b read bytes D T DEBUG socket aa c b received packet nr type len D T DEBUG netsshauthenticationsession aaaf c trying none D T DEBUG socket aa c b queueing packet nr type len D T DEBUG socket aa c b sent bytes D T DEBUG socket aa c b read bytes D T DEBUG socket aa c b received packet nr type len D T DEBUG netsshauthenticationsession aaaf c allowed methods publickeygssapikeyexgssapiwithmicpassword D T DEBUG netsshauthenticationmethodsnone aaae d none failed D T DEBUG netsshauthenticationsession aaaf c trying publickey D T DEBUG netsshauthenticationagent aab ca connecting to sshagent D T DEBUG netsshauthenticationagent aab ca sending agent request len D T DEBUG netsshauthenticationagent aab ca received agent packet len D T DEBUG netsshauthenticationagent aab ca sending agent request len D T DEBUG netsshauthenticationagent aab ca received agent packet len D T DEBUG netsshauthenticationmethodspublickey aab f trying publickey c c cd d b e D T DEBUG socket aa c b queueing packet nr type len D T DEBUG socket aa c b sent bytes D T DEBUG socket aa c b read bytes D T DEBUG socket aa c b received packet nr type len D T DEBUG socket aa c b queueing packet nr type len D T DEBUG socket aa c b sent bytes D T DEBUG socket aa c b read bytes D T DEBUG socket aa c b received packet nr type len D T DEBUG netsshauthenticationmethodspublickey aab f publickey succeeded c c cd d b e DEBUG ssh NetSSH connection debuglevel log END INFO ssh SSH is ready DEBUG ssh Reusing SSH connection INFO ssh Execute sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status INFO interface output Machine booted and ready INFO interface output swarmnode Machine booted and ready swarmnode Machine booted and ready INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a bc INFO warden Calling IN action Proc x c a b optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling IN action VagrantActionBuiltinBeforeTriggerAction x c a INFO warden Calling IN action VagrantPluginsCommandUpStoreBoxMetadata x c a DEBUG storeboxmetadata Writing box metadata file to homeniekvagrantlxccentos vagrantmachinesswarmnode lxcboxmeta INFO warden Calling IN action VagrantActionBuiltinAfterTriggerAction x c a aae INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a aae INFO warden Calling OUT action VagrantPluginsCommandUpStoreBoxMetadata x c a INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a INFO warden Calling OUT action Proc x c a b optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb lambda INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a bc INFO warden Calling OUT action VagrantActionBuiltinWaitForCommunicator x c a c INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a c INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a cb INFO warden Calling OUT action VagrantLXCActionBoot x c a ce INFO warden Calling OUT action VagrantActionBuiltinBeforeTriggerAction x c a d INFO warden Calling OUT action VagrantActionBuiltinAfterTriggerAction x c a d INFO interface output Setting up private networks INFO interface output swarmnode Setting up private networks swarmnode Setting up private networks INFO driver Configuring network interface for centos swarmnode using and bridge vlxcbr INFO driver Checking whether bridge vlxcbr exists INFO driver Creating the bridge vlxcbr INFO subprocess Starting process usrbinsudo usrbinenv brctl addbr vlxcbr INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO driver Checking whether the bridge vlxcbr has an IP INFO driver Adding to the bridge vlxcbr INFO subprocess Starting process usrbinsudo usrbinenv ip addr add dev vlxcbr INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv ip link set vlxcbr up INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode INFO subprocess Command not in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stderr Found more than one container matching centos swarmnode DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status ERROR warden Error occurred There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO warden Beginning recovery process INFO warden Calling recover VagrantActionBuiltinHandleForwardedPortCollisions x c a c INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO warden Beginning recovery process INFO warden Calling recover VagrantActionBuiltinCall x c a INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Calling recover VagrantActionBuiltinCall x c a d INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO environment Released process lock machineaction e da b fd dd d f d be a INFO environment Running hook environmentunload INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action environmentunload VagrantActionBuilder x c a ERROR vagrant Vagrant experienced an error Details ERROR vagrant VagrantLXCErrorsExecuteError There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG ERROR vagrant There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG ERROR vagrant homeniekvagrantdgems gemsvagrantlxc libvagrantlxcsudowrapperrb in block in execute optvagrantembeddedgemsgemsvagrant libvagrantutilretryablerb in retryable homeniekvagrantdgems gemsvagrantlxc libvagrantlxcsudowrapperrb in execute homeniekvagrantdgems gemsvagrantlxc libvagrantlxcsudowrapperrb in run homeniekvagrantdgems gemsvagrantlxc libvagrantlxcdriverrb in configureprivatenetwork homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionprivatenetworksrb in block in configureprivatenetworks homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionprivatenetworksrb in each homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionprivatenetworksrb in find homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionprivatenetworksrb in configureprivatenetworks homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionprivatenetworksrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionforwardportsrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionwarnnetworksrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinsethostnamerb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionpreparenfssettingsrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinsyncedfoldersrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinsyncedfoldercleanuprb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant pluginssyncedfoldersnfsactioncleanuprb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionpreparenfsvalididsrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinhandleforwardedportcollisionsrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinenvsetrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinprovisionrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in block in finalizeaction optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuilderrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionrunnerrb in block in run optvagrantembeddedgemsgemsvagrant libvagrantutilbusyrb in busy optvagrantembeddedgemsgemsvagrant libvagrantactionrunnerrb in run optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltincallrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinboxcheckoutdatedrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinconfigvalidaterb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in block in finalizeaction optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactioncreaterb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call homeniekvagrantdgems gemsvagrantlxc libvagrantlxcactionhandleboxmetadatarb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinhandleboxrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in block in finalizeaction optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuilderrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionrunnerrb in block in run optvagrantembeddedgemsgemsvagrant libvagrantutilbusyrb in busy optvagrantembeddedgemsgemsvagrant libvagrantactionrunnerrb in run optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltincallrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinconfigvalidaterb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionbuilderrb in call optvagrantembeddedgemsgemsvagrant libvagrantactionrunnerrb in block in run optvagrantembeddedgemsgemsvagrant libvagrantutilbusyrb in busy optvagrantembeddedgemsgemsvagrant libvagrantactionrunnerrb in run optvagrantembeddedgemsgemsvagrant libvagrantmachinerb in actionraw optvagrantembeddedgemsgemsvagrant libvagrantmachinerb in block in action optvagrantembeddedgemsgemsvagrant libvagrantenvironmentrb in lock optvagrantembeddedgemsgemsvagrant libvagrantmachinerb in call optvagrantembeddedgemsgemsvagrant libvagrantmachinerb in action optvagrantembeddedgemsgemsvagrant libvagrantbatchactionrb in block levels in run INFO interface error There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode For more information on the failure enable detailed logging by setting the environment variable VAGRANTLOG to DEBUG INFO interface Machine errorexit VagrantLXCErrorsExecuteError There was an error executing sudo usrbinenv homeniekvagrantdgems gemsvagrantlxc scriptspipework vlxcbr centos swarmnode n nFor more information on the failure enable detailed logging by setting nthe environment variable VAGRANTLOG to DEBUG Fix catchall regex to avoid privilege escalation Related to issue Hello I use vagrantlxc for a while and we found a privilege escalation in the lxcwrapper which may cause a risk for the host system If you want to restrict access to root user for a user by using sudo pathtolxcwrapper there is a privilege escalation which result in a root shell Before releasing the privilege escalation i would like to help fix the issue Does someone can help me PM me Given following Vagrantfile Vagrantconfigure do config configvmbox debianstretch configvmhostname kitchen configvmdefine kitchen do node nodevmprovider lxc do lxc lxccontainername machine lxcbackingstore best lxcfetchiptries end end end Im unable to vagrant up The result Bringing machine kitchen up with lxc provider kitchen Importing base box debianstretch kitchen Checking if box debianstretch version is up to date kitchen Setting up mount entries for shared folders kitchen vagrant homestanislawprojectsscoutkitchen kitchen Starting container kitchen Waiting for machine to boot This may take a few minutes kitchen SSH address kitchen SSH username vagrant kitchen SSH auth method private key kitchen kitchen Vagrant insecure key detected Vagrant will automatically replace kitchen this with a newly generated keypair for better security kitchen kitchen Inserting generated public key within guest kitchen Removing insecure key from the guest if its present kitchen Key inserted Disconnecting and reconnecting using new SSH key kitchen Machine booted and ready kitchen Setting hostname The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details Going into the container I can find some relevant information in journal Apr stretch dbus system Activating via systemd service nameorgfreedesktophostname unitdbusorgfreedesktophostname service Apr stretch systemd systemdudevdservice Cannot add dependency job ignoring Unit systemdudevdservice is masked Apr stretch systemd systemdudevdservice Cannot add dependency job ignoring Unit systemdudevdservice is masked Apr stretch systemd Failed to set devicesallow on systemslicesystemdhostnamedservice Operation not permitted Apr stretch systemd Failed to set devicesallow on systemslicesystemdhostnamedservice Operation not permitted Apr stretch systemd Starting Hostname Service Subject Unit systemdhostnamedservice has begun startup DefinedBy systemd Support Unit systemdhostnamedservice has begun starting up Apr stretch systemd runuser mount Failed to reset deviceslist Operation not permitted Apr stretch dbus system Successfully activated service orgfreedesktophostname Apr stretch systemd Started Hostname Service Subject Unit systemdhostnamedservice has finished startup DefinedBy systemd Support Unit systemdhostnamedservice has finished starting up The startup result is done Apr kitchen systemd Starting of syssubsystemnetdeviceseth device not supported Subject Unit syssubsystemnetdeviceseth device has failed DefinedBy systemd Support Unit syssubsystemnetdeviceseth device has failed The result is unsupported Apr kitchen systemd Dependency failed for ifup for eth Subject Unit ifupeth service has failed DefinedBy systemd Support Unit ifupeth service has failed The result is dependency Apr kitchen systemd ifupeth service Job ifupeth servicestart failed with result dependency Apr kitchen sudo pamunixsudosession session closed for user root Apr kitchen sshd pamunixsshdsession session closed for user vagrant Apr kitchen systemdlogind Removed session Subject Session has been terminated DefinedBy systemd Support Documentation I think the Apr kitchen systemd Starting of syssubsystemnetdeviceseth device not supported is the root cause I remember vagrantlxc working ok on Debian The vagrant up debug log cut to the setting hostname part kitchen Setting hostname DEBUG ssh Checking whether SSH is ready DEBUG ssh Reusing SSH connection INFO ssh SSH is ready DEBUG ssh Reusing SSH connection INFO ssh Execute sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG guest Searching for cap changehostname DEBUG guest Checking in debian DEBUG guest Found cap changehostname in debian INFO guest Execute capability changehostname VagrantMachine kitchen VagrantLXCProvider kitchen debian DEBUG ssh Reusing SSH connection INFO ssh Execute hostname f grep kitchen sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute Set the hostname echo kitchen etchostname Prepend ourselves to etchosts grep w kitchen etchosts if grep w etchosts then sed i s s tkitchen tkitchen etchosts else sed i i tkitchen tkitchen etchosts fi Update mailname echo kitchen etcmailname sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute command v hostnamectl hostnamectl sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute hostnamectl sethostname kitchen sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute ps o comm grep systemd sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute systemctl q isactive systemdnetworkdservice sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute systemctl q isactive NetworkManagerservice sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute sbinip o addr grep v LOOPBACK awk print sed s sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute cat procnetdev grep E az awk print sed s sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG ssh Reusing SSH connection INFO ssh Execute sbinip o addr grep LOOPBACK awk print sed s sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG networkinterfaces loopback interfaces lo DEBUG networkinterfaces Unsorted list eth if eth DEBUG networkinterfaces Sorted list eth if eth DEBUG networkinterfaces Ethernet preferred sorted list eth eth if DEBUG ssh Reusing SSH connection INFO ssh Execute ps o comm grep systemd sudofalse DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh Exit status DEBUG changehostname Attempting to restart networking with systemctl DEBUG changehostname Restarting interface eth on guest kitchen DEBUG ssh Reusing SSH connection INFO ssh Execute systemctl stop ifupeth servicesystemctl start ifupeth service sudotrue DEBUG ssh stderr mesg ttyname failed Inappropriate ioctl for device DEBUG ssh stderr e d b f e c d b vagrantssh DEBUG ssh stderr A dependency job for ifupeth service failed See journalctl xe for details DEBUG ssh Exit status ERROR warden Error occurred The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details INFO warden Beginning recovery process INFO warden Calling recover VagrantActionBuiltinHandleForwardedPortCollisions x INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details INFO warden Beginning recovery process INFO warden Calling recover VagrantActionBuiltinCall x a INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Calling recover VagrantActionBuiltinCall x a ef INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete ERROR warden Error occurred The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO warden Beginning recovery process INFO warden Recovery complete INFO environment Released process lock machineaction c c ca fd c a f INFO environment Running hook environmentunload INFO runner Preparing hooks for middleware sequence INFO runner hooks defined INFO runner Running action environmentunload VagrantActionBuilder x f cfc f ERROR vagrant Vagrant experienced an error Details ERROR vagrant VagrantErrorsVagrantError The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details ERROR vagrant The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details ERROR vagrant optvagrantembeddedgems gemsvagrant pluginscommunicatorssshcommunicatorrb in execute optvagrantembeddedgems gemsvagrant pluginscommunicatorssshcommunicatorrb in sudo optvagrantembeddedgems gemsvagrant pluginsguestsdebiancapchangehostnamerb in block in restarteachinterface optvagrantembeddedgems gemsvagrant pluginsguestsdebiancapchangehostnamerb in each optvagrantembeddedgems gemsvagrant pluginsguestsdebiancapchangehostnamerb in restarteachinterface optvagrantembeddedgems gemsvagrant pluginsguestsdebiancapchangehostnamerb in changehostname optvagrantembeddedgems gemsvagrant libvagrantcapabilityhostrb in call optvagrantembeddedgems gemsvagrant libvagrantcapabilityhostrb in capability optvagrantembeddedgems gemsvagrant libvagrantguestrb in capability optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinsethostnamerb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call homestanislawvagrantdgems gemsvagrantlxc libvagrantlxcactionpreparenfssettingsrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinsyncedfoldersrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinsyncedfoldercleanuprb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant pluginssyncedfoldersnfsactioncleanuprb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call homestanislawvagrantdgems gemsvagrantlxc libvagrantlxcactionpreparenfsvalididsrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinhandleforwardedportcollisionsrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinenvsetrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinprovisionrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in block in finalizeaction optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuilderrb in call optvagrantembeddedgems gemsvagrant libvagrantactionrunnerrb in block in run optvagrantembeddedgems gemsvagrant libvagrantutilbusyrb in busy optvagrantembeddedgems gemsvagrant libvagrantactionrunnerrb in run optvagrantembeddedgems gemsvagrant libvagrantactionbuiltincallrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinboxcheckoutdatedrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinconfigvalidaterb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in block in finalizeaction optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call homestanislawvagrantdgems gemsvagrantlxc libvagrantlxcactioncreaterb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call homestanislawvagrantdgems gemsvagrantlxc libvagrantlxcactionhandleboxmetadatarb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinhandleboxrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in block in finalizeaction optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuilderrb in call optvagrantembeddedgems gemsvagrant libvagrantactionrunnerrb in block in run optvagrantembeddedgems gemsvagrant libvagrantutilbusyrb in busy optvagrantembeddedgems gemsvagrant libvagrantactionrunnerrb in run optvagrantembeddedgems gemsvagrant libvagrantactionbuiltincallrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinaftertriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinconfigvalidaterb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuiltinbeforetriggerrb in call optvagrantembeddedgems gemsvagrant libvagrantactionwardenrb in call optvagrantembeddedgems gemsvagrant libvagrantactionbuilderrb in call optvagrantembeddedgems gemsvagrant libvagrantactionrunnerrb in block in run optvagrantembeddedgems gemsvagrant libvagrantutilbusyrb in busy optvagrantembeddedgems gemsvagrant libvagrantactionrunnerrb in run optvagrantembeddedgems gemsvagrant libvagrantmachinerb in actionraw optvagrantembeddedgems gemsvagrant libvagrantmachinerb in block in action optvagrantembeddedgems gemsvagrant libvagrantenvironmentrb in lock optvagrantembeddedgems gemsvagrant libvagrantmachinerb in call optvagrantembeddedgems gemsvagrant libvagrantmachinerb in action optvagrantembeddedgems gemsvagrant libvagrantbatchactionrb in block levels in run INFO interface error The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details The following SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed systemctl stop ifupeth servicesystemctl start ifupeth service Stdout from the command Stderr from the command A dependency job for ifupeth service failed See journalctl xe for details INFO interface Machine errorexit VagrantErrorsVagrantError The following SSH command responded with a nonzero exit status nVagrant assumes that this means the command failed n nsystemctl stop ifupeth servicesystemctl start ifupeth service n nStdout from the command n n n nStderr from the command n nA dependency job for ifupeth service failed See journalctl xe for details n How do I get this working EDIT After some investigation I found that in the Vagrant itself the hostname change changehostnamerb logic has changed to something that apparently doesnt work under LXC EDIT vagrant works vagrant does not On Opensuse Tumbleweed I could not set a static ip with a CentOS container Here are the relevant info I think lsbrelease a LSB Version core noarchcore noarchcore noarchcore x core x core x desktop amd desktop noarchgraphics amd graphics noarchgraphics amd graphics noarchgraphics amd graphics noarch Distributor ID openSUSE Description openSUSE Tumbleweed Release Codename na sudo lxcinfo version vagrant version Vagrant vagrant plugin list vagrantcachier global vagrantlibvirt global vagrantlxc global Using the following Vagrantfile and starting the container with debug Vagrantconfigure do config configvmdefine test primary true do test test vmhostname test test vmprovider lxc do lxc lxccustomize networkipv end end end REDIRLOG LXCSTARTLOGFILEtmplxcstartlog VAGRANTLOGdebug vagrant up providerlxc test INFO global Vagrant version INFO global Ruby version INFO global RubyGems version INFO global VAGRANTLOGdebug Started container gets the DHCP ip address not the one I give vagrant ssh Last login Wed Mar from gateway vagranttest ip a lo LOOPBACKUPLOWERUP mtu qdisc noqueue state UNKNOWN group default qlen linkloopback brd inet scope host lo validlft forever preferredlft forever inet scope host validlft forever preferredlft forever eth if BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue state UP group default qlen linkether aac ce e brd ffffffffffff linknetnsid inet brd scope global dynamic eth validlft sec preferredlft sec inet fe a c fffece e scope link validlft forever preferredlft forever Full debug output is attached vagrantoutputtxt Instead if I start the container with the following config Vagrantconfigure do config configvmdefine test primary true do test test vmhostname test test vmprovider lxc do lxc lxccustomize networktype veth lxccustomize networklink lxcbr lxccustomize networkipv end end end A new interface is created inside the container with the correct ip address set vagrant ssh Last login Wed Mar from gateway vagranttest ip a lo LOOPBACKUPLOWERUP mtu qdisc noqueue state UNKNOWN group default qlen linkloopback brd inet scope host lo validlft forever preferredlft forever inet scope host validlft forever preferredlft forever eth if BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue state UP group default qlen linkether aeac cf brd ffffffffffff linknetnsid inet brd scope global dynamic eth validlft sec preferredlft sec inet fe acac fffe cf scope link validlft forever preferredlft forever eth if BROADCASTMULTICAST mtu qdisc noop state DOWN group default qlen linkether a df cda a brd ffffffffffff linknetnsid inet brd scope global eth validlft forever preferredlft forever How can I get the static ip working on primary interface On Opensuse Tumbleweed I could not get private networking to work with a CentOS container Here are the relevant info I think lsbrelease a LSB Version core noarchcore noarchcore noarchcore x core x core x desktop amd desktop noarchgraphics amd graphics noarchgraphics amd graphics noarchgraphics amd graphics noarch Distributor ID openSUSE Description openSUSE Tumbleweed Release Codename na sudo lxcinfo version vagrant version Vagrant vagrant plugin list vagrantcachier global vagrantlibvirt global vagrantlxc global Using the following Vagrantfile and starting the container with debug Vagrantconfigure do config configvmdefine test primary true do test test vmhostname test test vmnetwork privatenetwork ip lxcbridgename vlxcbr end end REDIRLOG LXCSTARTLOGFILEtmplxcstartlog VAGRANTLOGdebug vagrant up providerlxc test INFO global Vagrant version INFO global Ruby version INFO global RubyGems version INFO global VAGRANTLOGdebug INFO interface output Setting up private networks INFO interface output test Setting up private networks test Setting up private networks INFO driver Configuring network interface for oyastest using and bridge vlxcbr INFO driver Checking whether bridge vlxcbr exists INFO driver Creating the bridge vlxcbr INFO subprocess Starting process usrbinsudo usrlocalbinvagrantlxcwrapper brctl addbr vlxcbr INFO subprocess Vagrant not running in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO driver Checking whether the bridge vlxcbr has an IP INFO driver Adding to the bridge vlxcbr INFO subprocess Starting process usrbinsudo usrlocalbinvagrantlxcwrapper ip addr add dev vlxcbr INFO subprocess Vagrant not running in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrlocalbinvagrantlxcwrapper ip link set vlxcbr up INFO subprocess Vagrant not running in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO subprocess Starting process usrbinsudo usrlocalbinvagrantlxcwrapper homeebayervagrantdgems gemsvagrantlxc scriptspipework vlxcbr oyastest INFO subprocess Vagrant not running in installer restoring original environment DEBUG subprocess Selecting on IO DEBUG subprocess stderr homeebayervagrantdgems gemsvagrantlxc scriptspipework line Address command not found DEBUG subprocess Waiting for process to exit Remaining to timeout DEBUG subprocess Exit status INFO warden Calling OUT action VagrantLXCActionPrivateNetworks x e I can see that new bridge is created and got the default ip address but state is down ip a lxcbr BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue state UP group default qlen linkether e brd ffffffffffff inet scope global lxcbr validlft forever preferredlft forever inet fe efffe scope link validlft forever preferredlft forever vlxcbr NOCARRIERBROADCASTMULTICASTUP mtu qdisc noqueue state DOWN group default qlen linkether e cb brd ffffffffffff inet scope global vlxcbr validlft forever preferredlft forever inet fe fffe a e scope link validlft forever preferredlft forever veth pl if NOCARRIERBROADCASTMULTICASTUP mtu qdisc noqueue master vlxcbr state LOWERLAYERDOWN group default qlen linkether e cb brd ffffffffffff linknetnsid sudo brctl show vlxcbr e cb no veth pl And interface inside the container is created but without an ip address vagrant ssh vagranttest ip a lo LOOPBACKUPLOWERUP mtu qdisc noqueue state UNKNOWN group default qlen linkloopback brd inet scope host lo validlft forever preferredlft forever inet scope host validlft forever preferredlft forever eth if BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue state UP group default qlen linkether effa fc fd brd ffffffffffff linknetnsid inet brd scope global dynamic eth validlft sec preferredlft sec inet fe cffa fffefc fd scope link validlft forever preferredlft forever eth if BROADCASTMULTICAST mtu qdisc noop state DOWN group default qlen linkether ba fd brd ffffffffffff linknetnsid If I ssh into container and set the interface to up and give an ip address it works vagrant ssh vagranttest sudo ip l set up dev eth vagranttest sudo ip addr add dev eth vagranttest ip a lo LOOPBACKUPLOWERUP mtu qdisc noqueue state UNKNOWN group default qlen linkloopback brd inet scope host lo validlft forever preferredlft forever inet scope host validlft forever preferredlft forever eth if BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue state UP group default qlen linkether effa fc fd brd ffffffffffff linknetnsid inet brd scope global dynamic eth validlft sec preferredlft sec inet fe cffa fffefc fd scope link validlft forever preferredlft forever eth if BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue state UP group default qlen linkether ba fd brd ffffffffffff linknetnsid inet scope global eth validlft forever preferredlft forever inet fe b fdfffe scope link validlft forever preferredlft forever And bridge and new interface status are fixed on the host after that ip a vlxcbr BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue state UP group default qlen linkether e cb brd ffffffffffff inet scope global vlxcbr validlft forever preferredlft forever inet fe fffe a e scope link validlft forever preferredlft forever veth pl if BROADCASTMULTICASTUPLOWERUP mtu qdisc noqueue master vlxcbr state UP group default qlen linkether e cb brd ffffffffffff linknetnsid inet fe fffe e cb scope link validlft forever preferredlft forever How can I further debug this Is there some prestart tasks that I should do on the host My lxc and lxcnet configs are like this sudo grep i bridge etcdefaultlxc USELXCBRIDGEtrue overridden in lxcnet sudo cat etclxcdefaultconf lxcnetworktype empty lxcnetworktype veth lxcnetworklink lxcbr lxcnetworkflags up It appears that packer supports exporting Vagrant boxes for LXC but it isnt clear what the inputs are and how theyre used Can I build a box using QEMU and then export it using the vagrant postprocessor with lxc as the type That is how I handle generating docker boxes Is there a guide somewhere For reference this page lists LXC as a valid vagrant type for the post processor And these rather old non conclusive issues discuss support But I couldnt find anything recent or definitive Nor could I find a guide on how to use to generate base boxes