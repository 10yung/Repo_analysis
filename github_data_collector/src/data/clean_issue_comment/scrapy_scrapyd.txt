usrlocalbinscrapyddeploy ScrapyDeprecationWarning Module scrapyutilshttp is deprecated Please import from w libhttp instead Scrapy Twisted library requires Python which causes the travis build to fail ImportError Twisted on Python requires Python or later heres an example Hello Could someone pls review this PR about Thank you VideoManage videoscrapy gitmaster scrapyd Unhandled Error Traceback most recent call last File UsersallranvirtualenvVideoManagelibpython sitepackagestwistedapplicationapppy line in run runAppconfig File UsersallranvirtualenvVideoManagelibpython sitepackagestwistedscriptstwistdpy line in runApp runnerrun File UsersallranvirtualenvVideoManagelibpython sitepackagestwistedapplicationapppy line in run selfapplication selfcreateOrGetApplication File UsersallranvirtualenvVideoManagelibpython sitepackagestwistedapplicationapppy line in createOrGetApplication application getApplicationselfconfig passphrase exception caught here File UsersallranvirtualenvVideoManagelibpython sitepackagestwistedapplicationapppy line in getApplication application serviceloadApplicationfilename style passphrase File UsersallranvirtualenvVideoManagelibpython sitepackagestwistedapplicationservicepy line in loadApplication application sobloadValueFromFilefilename application File UsersallranvirtualenvVideoManagelibpython sitepackagestwistedpersistedsobpy line in loadValueFromFile evalcodeObj d d File UsersallranvirtualenvVideoManagelibpython sitepackagesscrapydtxapppy line in module from scrapyd import getapplication builtinsImportError cannot import name getapplication from scrapyd UsersallranvirtualenvVideoManagelibpython sitepackagesscrapydinitpy Failed to load application cannot import name getapplication from scrapyd UsersallranvirtualenvVideoManagelibpython sitepackagesscrapydinitpy curl d projectScrapy d jobda f ed bf e a d ac nodename e d a e a status ok prevstate running ButThe mission has not been stopped scrapyweb v it always happendwhen i open the scrapyd serviceand after some time if i do a request by the apiit raise the exceptionrequestsexceptionsReadTimeout However if i restart the service or just press ctrlc it works again Im adding some customization to this project on my own fork to support MondoDB jobs and queues However Ive encountered an issue where messages get lost if the spawnprocess function fails for whatever reason likely memory or not enough resources Could someone give me some pointers as of what would be best practice to handle such errors As of now Ive added a stack to ensure that all messages get addressed python def waitforprojectself slot poller selfappgetComponentIPoller if not selfstack pollernextaddCallbackselfspawnprocess slot else message selfstackpop selfspawnprocessmessage slot def spawnprocessself message slot selfstackappendmessage msg nativestringifydictmessage keysonlyFalse project msg project args sysexecutable m selfrunner crawl args getcrawlargsmsg e selfappgetComponentIEnvironment env egetenvironmentmsg slot env nativestringifydictenv keysonlyFalse pp ScrapyProcessProtocolslot project msg spider msg job env ppdeferredaddBothselfprocessfinished slot reactorspawnProcesspp sysexecutable argsargs envenv selfprocesses slot pp selfstackpop This PR use projectprioritymap to store priority timestamp as value so as to respect both job priorities across projects and the FIFO principle See also issue and PR removependingjobs off