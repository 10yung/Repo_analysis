Hello jbarlow I have this issue im using Ocrmypdf with alfresco Ocrmypdf work well manually using the command but when I use it with alfresco OCR action doesnt work this is the log Caused by javalangRuntimeException orgalfrescoservicecmrrepositoryContentIOException Failed to perform OCR transformation Execution result os Linux command usrlocalbinocrmypdf verbose forceocr l eng optalfrescocommunitytomcattempAlfrescoOCRTransformWorkersource pdf optalfrescocommunitytomcattempAlfrescoOCRTransformWorkersource ocrpdf succeeded false exit code out err Traceback most recent call last File usrlocalbinocrmypdf line in from ocrmypdfmain import run File rootlocallibpython sitepackagesocrmypdfinitpy line in from api import Verbosity at eskeensoftalfrescoocrOCRExtractActionexecuteImplInternalOCRExtractActionjava at eskeensoftalfrescoocrOCRExtractActionaccess OCRExtractActionjava at eskeensoftalfrescoocrOCRExtractAction executeOCRExtractActionjava at eskeensoftalfrescoocrOCRExtractAction executeOCRExtractActionjava at orgalfrescorepotransactionRetryingTransactionHelperdoInTransactionRetryingTransactionHelperjava at eskeensoftalfrescoocrOCRExtractActionexecuteInNewTransactionOCRExtractActionjava at eskeensoftalfrescoocrOCRExtractActionaccess OCRExtractActionjava at eskeensoftalfrescoocrOCRExtractActionExtractOCRTaskrunOCRExtractActionjava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava thankx for your help Hi and thanks a lot for OCRmyPDF Id like to offer a few spelling corrections Also Ive made two links HTTPS and added instructions for Arch Linux Describe the issue When running OCR on a PDF I am consistently getting a fatal error that prevents completion I ran bash ocrmypdf feynmaninpdf feynmanoutpdf and the following occurred INFO Start processing pages concurrent WARNING tesseract lots of diacritics possibly poor OCR ERROR An exception occurred while executing the pipeline Traceback most recent call last File usrlibpython distpackagespikepdfmodelsmetadatapy line in loadfrom selfxmp parseBytesIOdata File srclxmletreepyx line in lxmletreeparse File srclxmlparserpxi line in lxmletreeparseDocument File srclxmlparserpxi line in lxmletreeparseMemoryDocument File srclxmlparserpxi line in lxmletreeparseDoc File srclxmlparserpxi line in lxmletreeBaseParserparseDoc File srclxmlparserpxi line in lxmletreeParserContexthandleParseResultDoc File srclxmlparserpxi line in lxmletreehandleParseResult File srclxmlparserpxi line in lxmletreeraiseParseError File string line lxmletreeXMLSyntaxError xmlParseCharRef invalid xmlChar value line column During handling of the above exception another exception occurred Traceback most recent call last File usrlibpython distpackagespikepdfmodelsmetadatapy line in loadfrom selfxmp parseBytesIOdata File srclxmletreepyx line in lxmletreeparse File srclxmlparserpxi line in lxmletreeparseDocument File srclxmlparserpxi line in lxmletreeparseMemoryDocument File srclxmlparserpxi line in lxmletreeparseDoc File srclxmlparserpxi line in lxmletreeBaseParserparseDoc File srclxmlparserpxi line in lxmletreeParserContexthandleParseResultDoc File srclxmlparserpxi line in lxmletreehandleParseResult File srclxmlparserpxi line in lxmletreeraiseParseError File string line lxmletreeXMLSyntaxError xmlParseCharRef invalid xmlChar value line column The above exception was the direct cause of the following exception Traceback most recent call last File usrlibpython distpackagesocrmypdfsyncpy line in runpipeline execconcurrentcontext File usrlibpython distpackagesocrmypdfsyncpy line in execconcurrent pdf postprocesspdf context File usrlibpython distpackagesocrmypdfsyncpy line in postprocess pdfout metadatafixuppdfout context File usrlibpython distpackagesocrmypdfpipelinepy line in metadatafixup with pdfopenmetadata as meta File usrlibpython distpackagespikepdfmodelsmetadatapy line in wrapper selfload File usrlibpython distpackagespikepdfmodelsmetadatapy line in load selfloadfromdata File usrlibpython distpackagespikepdfmodelsmetadatapy line in loadfrom raise PdfError from e pikepdfqpdfPdfError To Reproduce I was attempting to run OCR on an input PDF I have successfully done OCR on other PDFs before so something about this one There is Plenty of Room at The Bottom FeynmanENGINEEERING and Science CALTECH pdf trips the program up for me The command I used was bash ocrmypdf feynmaninpdf feynmanoutpdf Example file There is Plenty of Room at The Bottom FeynmanENGINEEERING and Science CALTECH pdf x This is the input file x The file contains no personal or confidential information x I am the copyright holder for this file I permit this file to be included in the OCRmyPDF test suite under the CCBYSA license I am not the copyright holder but this file is available under a free software license Expected behavior A clear and concise description of what you expected to happen Include screenshots if applicable System OS Ubuntu OCRmyPDF Version dfsg Use loggingFilter to insert context mainly page number and temporary folder location since that serves a job ID into the log data by pulling from thread local storage in execpagesync Thread local storage would work even when the worker is a process This should make it finally possible to remove all cases of passing log parameters the last vestige of ruffus while allowing individual modules to do no more than log logginggetLogger at top Can then remove PickableLoggerMixin etc and manual management job context Would need major rev bump oversample deskew for example will increase the size of output images Its always worked this way but this isnt strictly necessary to enlarge output images It would make sense to run the image processing with oversampling too so those tools can work on the oversampled images We could reduce images back to their input DPI after showing them to Tesseract VECTORPAGEDPI check does not consider whether there is printable text on the page when asking if we should scale up rasterizing resolution causing text to be rendered at low resolution when using forceocr See for example ICCs version pdfpdf text DPI images Hey it would be nice to sho the pathtofile in the terminal to know how long the scan needs to Finnish the task Sometime it seems to lag and I am not sure if I should kill the process are there any clues In acrobat there is the possibility to set actions how pdf viewers should act when opening a file like showing the title or the file name or showing the table of content or showing a certain page instead of page or adjusting the window size Is it possible to include switches into ocrmypdf to select especially the first two actions Is there an alternative method in linux without using acrobat Thanks Hello Thanks for this wonderful tool I am working on Nonreadable to Readable conversion While running the ocrmypdf command the log shows an following warning Scan pages OCR pages WARNING Logging before flag parsing goes to stderr W tesseractpy tesseract lots of diacritics possibly poor OCR OCR pages JPEGs image images JBIG item items From the above commands ocrmypdf does not convert the page number because of the quality of image So I wanted to know is there any way to save the Possibly Poor OCR page number while running ocrmypdf I also tried with ocrmypdfconfigurelogging Hi there was a thread with the same problem that is closed meanwhile and did not solve my problem I try to install ocrmypdf on ubuntu LTS subsystem for Windows I run into srcqpdfannotationcpp fatal error qpdfConstantsh No such file or directory include qpdfConstantsh compilation terminated and subsequent errors What can I do 