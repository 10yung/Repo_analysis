hello everybody I am using XMPPFramework and i cant connect to the server I have this error streamerror xmlnsstream connectiontimeout xmlnsurnietfparamsxmlnsxmppstreams text xmlnsurnietfparamsxmlnsxmppstreams langenIdle connection this is my code import UIKit import XMPPFramework class ViewController UIViewController XMPPStreamDelegate var streamXMPPStream var xmppRoster XMPPRoster override func viewDidLoad superviewDidLoad Do any additional setup after loading the view typically from a nib let xmppRosterStorage XMPPRosterCoreDataStorage xmppRoster XMPPRosterrosterStorage xmppRosterStorage stream XMPPStream streamaddDelegateself delegateQueue main xmppRosteractivatestream streamhostPort streammyJID XMPPJIDstring emadchatmyaddressnet do printstart connect try streamconnectwithTimeout printrequest sent catch printcatch let button UIButton buttonbackgroundColor UIColorred buttonsetTitleSendMessage for normal buttonframe CGRectx y width viewboundswidth height buttonaddTargetself action selectorselfsendMessage for touchUpInside selfviewaddSubviewbutton objc func sendMessage let message Yo let senderJID XMPPJIDstring emad chatmyaddressnet let msg XMPPMessagetype chat to senderJID msgaddBodymessage streamsendmsg func xmppStreamWillConnectsender XMPPStream printwill connect func xmppStreamConnectDidTimeout sender XMPPStream printtimeout func xmppStreamDidConnectsender XMPPStream printconnected do try senderauthenticatewithPassword catch printcatch func xmppStreamDidAuthenticate sender XMPPStream printauth done sendersendXMPPPresence func xmppStream sender XMPPStream didNotAuthenticate error DDXMLElement printdint not auth printerror func xmppStreamsender XMPPStream didReceivePresence presence XMPPPresence printpresence let presenceType presencetype let username sendermyJIDuser let presenceFromUser presencefromuser if presenceFromUser username if presenceType available printavailable else if presenceType subscribe selfxmppRostersubscribePresencetoUser presencefrom else printpresence type printpresenceType func xmppStreamsender XMPPStream didSendMessage message XMPPMessage printsent private func xmppStreamsender XMPPStream didFailToSendIQ iq XMPPIQ error NSError printerror func xmppStream sender XMPPStream didReceiveError error DDXMLElement print error private func xmppStreamsender XMPPStream didFailToSendMessage message XMPPMessage error NSError printfail override func didReceiveMemoryWarning superdidReceiveMemoryWarning Dispose of any resources that can be recreated func xmppStreamsender XMPPStream didReceiveMessage message XMPPMessage printmessage I have problem with the first step connecting to server when working with openfire I ran into an issue of service unavailability Please check the following SO post for reference I had to make some adjustments Though everyone should know about it I want to change the default xmpp host port at my region the service provider blocks port for g connection My xmpp server prosody is running on port but when i tried to change the xmpp stream host port to i got this error Error DomainNSPOSIXErrorDomain Code Connection refused UserInfoNSLocalizedDescriptionConnection refused NSLocalizedFailureReasonError in connect function The problem is I actually capture the packets coming to my server on port and there is no packet coming from my iphone But if I capture the packets on port there are packets that come from the iphone testing with wifi not g So for some reason the packets from port is sent to the server while the packets from port is blocked Have anyone came across this problem Every time when I m signing into the app or reinstalling app I didn t receive group message history I have searched a lot for message archiving in MUC for iOS Ejabberd doesn t provide me old messages of the group although I configured setting into the YML file as mentioned below snippet modmam modmam default always dbtype sql usermucsubfrommucarchivetrue modmuc host conferenceHOST access allow accessadmin allow admin accesscreate muccreate accesspersistent muccreate maxuserconferences maxroomsdiscoitems dbtype sql historysize defaultroomoptions allowsubscription true mam true membersonly true persistent false I have kept a history size of It means at least messages must be fetched every time when I login into the app or reinstall the app but I could not receive messages everytime after reinstalling the app I m using RobbiehansonXMPPFramework for iOS to implement XMPP based chat I also performed MucSub based MUC to sendreceive messages The scenario which I have performed I m part of one MUC group The member of the associated group sent Messages into the group I have received all those messages when I m online Now I am logged out from the group Deleted the app from the device and reinstalled it into the device with the same login credentials At this time I could not see the messages which I received earlier Here I would like to get all Messages even after reinstalling the app into the iOS device I have searched on various Stack overflow questions but none of them are helpful to me Your help will be appreciated need swift package support please i tried to fork and add but couldnt achieve Hi I am getting a crash setupReadAndWriteSourcesForNewlyConnectSocked present in GCDAsyncSocket Can you please let me know how can I handle it or its an issue from your side Here is the crash log that I have got on crashlytics img width alt src Hello Team Is there any way to back up chat on server and while restore it should be back to the origin stage Is there any feature for this is available in XMPP Please share suggestions if any I have used Robbiehanson XMPP Framework My issue is im trying to authenticate user after did connect in xmppStreamDidConnect method and its always return failure xmlnsurnietfparamsxmlnsxmppsaslnotauthorizednotauthorizedtext langenInvalid username or passwordtextfailure this error im sure my user name password is correct I have used Robbiehanson XMPP Framework My issue is when I fire presence query to join a group it takes to much time for processing as it fetches messages and members along with their affiliations which is an internal library call As and when the number of groups and its respective messages get increased the more time it takes for processing How can I manage to fetch all the messages without firing presence Note I had implemented multicast where the performance was not an issue but using the same I couldn t manage the unread count So I had to switch to explicit presence calls for every group import UIKit import XMPPFramework class TestingViewController UIViewController var serverIp var xmppStream XMPPStream var xmppRosterStorage XMPPRosterCoreDataStorage var xmppRoster XMPPRoster var xmppvCardTempModule XMPPvCardTempModule var xmppvCardStorage XMPPvCardCoreDataStorage var hostName String var userJID XMPPJID var hostPort UInt var password String var callbacks CallbacksWrapper override func viewDidLoad superviewDidLoad xmppStream XMPPStream hostName serverIp hostPort password azeqsdwxc userJID XMPPJIDstring samwinsality userJID userJID selfxmppStreamhostName hostName selfxmppStreamhostPort hostPort selfxmppStreamstartTLSPolicy XMPPStreamStartTLSPolicyallowed selfxmppStreammyJID userJID selfxmppStreamaddDelegateself delegateQueue DispatchQueuemain func createProfile let profile Profileshared profileid UUIDuuidString let username sam profilejid usernamewinsality profileUserName username profileimage UIImagenamed DefaultUser profilepassword azeqsdwxc profileupdateProfile func sendMsgreceiver String textmsg String printwe are trying to send msg toreceiver let user XMPPJIDstring receiver let msg XMPPMessagetype chat to user msgaddBodytextmsg selfxmppStreamsendmsg IBAction func MeButtonPushed sender Any connect func connect if selfxmppStreamisConnected return try selfxmppStreamconnectwithTimeout XMPPStreamTimeoutNone func UpdateVcardprofile Profile Bool printinside the update vcard func if selfxmppStreamisAuthenticated selfxmppvCardStorage XMPPvCardCoreDataStoragesharedInstance selfxmppvCardTempModule XMPPvCardTempModuleinitvCardStorage selfxmppvCardStorage selfxmppvCardTempModuleactivateselfxmppStream var myVcardTemp selfxmppvCardTempModulemyvCardTemp let vCardXML DDXMLElementname vCard stringValue vcardtemp if myVcardTemp nil myVcardTemp XMPPvCardTempvCardTempfrom vCardXML myVcardTempnickname profileUserName let image profileimage myVcardTempphoto imagejpegDatacompressionQuality selfxmppvCardTempModuleupdateMyvCardTempmyVcardTemp selfxmppvCardTempModuledeactivate printnew vcard updated thank you else printold nickname is myVcardTempnickname myVcardTempnickname profileUserName let image profileimage myVcardTempphoto imagejpegDatacompressionQuality selfxmppvCardTempModuleupdateMyvCardTempmyVcardTemp selfxmppvCardTempModuledeactivate printtrying to parse vcard here selfsendMsgreceiver iori textmsg hello my mate return true else return false extension TestingViewController XMPPStreamDelegate func xmppStream sender XMPPStream didReceive iq XMPPIQ Bool printwe recieved an iq from xmpp iq let friendvcard XMPPvCardTempvCardTempCopyfrom iq iffriendvcard nil let userInfo jid iqfromnicknamefriendvcardnicknamephoto friendvcardphoto as String Any printwe recieved an iq from xmpp friendvcardnickname return true func xmppStreamDidConnect stream XMPPStream printStream Connected ifstreamisAuthenticated streamisConnecting try streamauthenticatewithPassword selfpassword else printconnected but already authenticated func xmppStreamDidAuthenticate sender XMPPStream selfxmppStreamsendXMPPPresence printStream Authenticated let profile Profileshared selfUpdateVcardprofile profile func xmppStream sender XMPPStream didNotAuthenticate error DDXMLElement printStream Fail to Authenticate func xmppStreamDidDisconnect sender XMPPStream withError error Error printthere was a disconnection i believe sorry func xmppStream sender XMPPStream didReceive message XMPPMessage printthe message is frommessagefrombareJIDbare printthe message body ismessagebody func xmppStream sender XMPPStream didReceive presence XMPPPresence let presenceType presencetype let myUsername sendermyJIDuser let presenceFromUser presencefromuser let userInfo text presenceTypesenderUserName presenceFromUser printDid receive presence from presenceFromUser 