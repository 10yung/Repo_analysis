 Hi I get an error when I use a POST request The error is here curlsetoptthishandle CURLOPTENCODING Location libraryRequestsTransportcURLphp Line When I removed this line all the POST request works I tested it in Windows Curl and PHP Ubuntu Curl and PHP Additional information When I execute curl curlversion My curl versionnumber is Regards Some sites require POST requests to be sent as multipartformdata When passing an array as POSTdata cURL defaults to multipartformdata but Requests will flatten and urlencode it To avoid this I check if a ContentType header containing multipartformdata is set in the arguments to Requestspost I have implemented this for both cURL and fsockopen This PR consolidates the work done by dd in PR and soulseekah in PR which both addressed the same issue Fixes Closes Closes Looks like these have never run as they werent included in any of the testsuites This PR is part of a series to introduce code style checking to the repo This PR is part of a series to introduce code style checking to the repo This test should work fine without the vardump This PR is part of a series to introduce code style checking to the repo Use PHP native comment style rather than Perl comment style and align the start of the comments with the code This PR is part of a series to introduce code style checking to the repo Fix whitespace issues Dont use space indentation Dont use inline tabs Dont use precision alignment No multiple consecutive blank lines One space or a new line on either side of a concatenation operator Always have a space or new line before and after each operator with the exception of the boolean not and the spread operator No space between the boolean not and what it applies to Note This is the opposite of WPCS but in line with the majority of uses of the operator in this repo Always have a space or new line after a comma Dont use horizontal alignment within single line arrays One space between the close parenthesis and the opening curly of function declarations No space on the inside of function call function declaration array control structure or arbitrary parentheses Note This is the opposite of WPCS but in line with the majority of code in this repo Also note for arrays this wont be enforced as there is no sniff available for this but the current codebase has been fixed where necessary Multiline function calls should have each parameter on a new line There should be one space between a control structure keyword and its opening parenthesis For multipart control structures ifelse trycatch the next keyword should be on a new line Note This is the opposite of WPCS but in line with the majority of code in this repo Also note This will not be enforced as there is no sniff for it but is in line with the prevailing code style in the repo End each file with a new line character Looks like this code is never used anywhere and it causes issues with PHPUnit crossversion compatibility as the PHPUnit Util Test class has become final