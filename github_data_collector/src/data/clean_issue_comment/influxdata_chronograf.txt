Hello Following influxdatainfluxdb that has been closed but not fixed I can reproduce it with InfluxDB RHEL When I do a simple query it is working as expected and the result is the following one Query works SELECT lastusedmemory AS AB FROM redis where usedmemory Results time AB Now same query but with an alias Query not works SELECT lastusedmemory AS AB FROM redis where AB Results no results empty response Another query not works try to convertforce to integer SELECT lastusedmemory AS AB FROM redis where ABinteger Results no results empty response Query all fields seems to be ok SHOW FIELD KEYS Results maxmemory integer The goal is to execute this query SELECT lastusedmemory lastmaxmemory AS ratio FROM redis WHERE ratio XX replace XX by integer Thank you very much removes unusedoutdated docs removes unused functions from layouts and protoboards LayoutsStore defined Add Delete Update but they were only used for testing fixed the interface remove v related code some additional logic for a new dashboard and cell type was added but never integrated nor finished dashboards or cells would cause a panic if GETing so i pulled that all out fixed a bug in filestore filestore would silently allow adding some new resources to the filesystem if a failure to bolt occurred This would result in an unexpected state where the db does not contain all a users additions Since this is not great for single instance and is terrible for a horizontally scaled system functionality to silently add to the fs has been stripped out users can still update or delete as before removes some slides for a presentation Addresses While exploring data a user was unable to send the query to a dashboard a workaround could be to copy the query navigate to the desired dashboard add a cell then paste the query into that cell What browser are you using name and version Safari What operating system are you using macOS Mojave Please describe what you were trying to do when you encountered this error I was trying to add a second query to a graph with Table as visualization type value value value value ia Wa Va wi ki Ha enqueueSetState L o promiseReactionJob native code Addresses strips out a lot of migration logic because there is a clear migration path if people are still using a year old version of chronograf they can upgrade to anything more recent up to the x line and then onto x moves the majority of the storage logic into the generic kv layer as a precursor to implementing other kv stores etcd for now kvboltgo kvgo strips out some unused code about roles removes an unused function in serverservicesgo Migration removal reasoning Origins of migration code Migrations were added with meaning they are meant to support the x line the last release of which was in Oct Logic behind removing x line is four minor versions behind the current version x meaning users have had opportunities throughout minor versions and years to migrate away from the x line Seems like minor versions and years is sufficient to justify endoflifeing the x line What browser are you using name and version Vivaldi Stable channel bit What operating system are you using Windows Enterprise LTSC build to run browser to access Chronograf centosrelease el centosx to run TICK stack Please describe what you were trying to do when you encountered this error Executing following query handwritten into Chronograf Explore sql SELECT COUNT FROM databasenametwohoursmeasurementname With this query I was trying to get number of rows in measurement which seemed to be really hard to figure out Error Invalid size returned for cell of value NaN at ivalue at ivalue at rvalue at fvalue at fvalue at Ba at ja at a at oo at uo Chronograf version Installation method built from source Related issues Related PRs This is a reopening of which was reported fixed in through As of Chronograf I still see the old behavior the alert builder GUI rejects messages with valid Go templates such as CI ID with index Tags ciid else Unknown end CI ID if index Tags ciid index Tags ciid else Unknown end of Tags len Tags The messages pass validation if one removes and len respectively The validators aversion to and is a bit harder to reproduce than the other two tends to be accepted in simple expressions but rejected in complex ones In none of the above examples do I see the parse error added in all triggering strings return Please correct templates in alert message I do see the parse error if I reproduce the demo from ie closing with instead of confirming that Im using the new code at least some of the time When using Oath and including a src file with organization set to Default The UI still ask for connection details An example src file id name telegraf username telegraf password secretpassword url type influx insecureSkipVerify true default true telegraf telegraf organization Default I also see someone else on github that has the same problem there doesnt seem to be a way with oath to avoid getting the start up screen asking for connection details because you cant configure the Default Organization Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details