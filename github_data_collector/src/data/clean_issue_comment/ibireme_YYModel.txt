 YYClassPropertyInfo type encoding type YYEncodingType type case R type YYEncodingTypePropertyReadonly break case C type YYEncodingTypePropertyCopy break case type YYEncodingTypePropertyRetain break case N type YYEncodingTypePropertyNonatomic break case D type YYEncodingTypePropertyDynamic break case W type YYEncodingTypePropertyWeak break case G type YYEncodingTypePropertyCustomGetter if attrs i value getter NSSelectorFromString NSString stringWithUTF Stringattrs i value break YYModelPropertyMeta if metatype YYEncodingTypeMask YYEncodingTypeObject metansType YYClassGetNSTypepropertyInfocls convert string type failure like that type cfg pos ct pos ct pos ct pos ct break bug libobjcAdylib objcretain WoZaiJia ModelToJSONObjectRecursiveblockinvoke NSObjectYYModelm CoreFoundation NSDictionaryM enumerateKeysAndObjectsWithOptionsusingBlock blockinvoke CoreFoundation NSDictionaryM enumerateKeysAndObjectsWithOptionsusingBlock WoZaiJia ModelToJSONObjectRecursive NSObjectYYModelm WoZaiJia NSObjectYYModel yymodelToJSONObject NSObjectYYModelm Hello bireme Here is the reason why this pull request happened I have a model like this interface HWPerson NSObject NSSecureCoding property nonatomic copy NSString firstName property nonatomic copy NSString lastName property nonatomic assign NSInteger age property nonatomic strong NSURL avatarURL end implementation HWPerson BOOLsupportsSecureCoding return YES voidencodeWithCoderNSCoder aCoder self yymodelEncodeWithCoderaCoder instancetypeinitWithCoderNSCoder aDecoder return self yymodelInitWithCoderaDecoder end Id like to use NSSecureCoding rather than NSCoding Then something unexpected happened I can NSKeyedArchiver to save this model to disk successfully but I cannot read and unarchive it from the disk Theres an error After debug I found it is because the NSURL property This property cannot be unarchived in yymodelInitWithCoder with method decodeObjectforKey We have to use decodeObjectOfClassforKey Here is the example code to save and read this mode voidsave HWPerson person HWPerson alloc init personfirstName will personlastName chen personage personavatarURL NSURL URLWithString if availableiOS NSError error nil NSData personData NSKeyedArchiver archivedDataWithRootObjectperson requiringSecureCodingYES error error if personData NSLogArchiver Failed errorlocalizedDescription error nil BOOL result personData writeToFile self filePath options error error if result NSLogWrite to File Failed errorlocalizedDescription else BOOL result NSKeyedArchiver archiveRootObjectperson toFile self filePath if result NSLogWrite to File Failed voidread if availableiOS NSError error nil NSData data NSData dataWithContentsOfFile self filePath HWPerson person NSKeyedUnarchiver unarchivedObjectOfClassHWPersonclass fromDatadata error error if person NSLogRead from File Failed errorlocalizedDescription else NSLog is ld personfirstName personlastName personage NSLogAvatar URL personavatarURL else HWPerson person NSKeyedUnarchiver unarchiveObjectWithFile self filePath if person NSLogRead from File Failed else NSLog is ld personfirstName personlastName personage NSLogAvatar URL personavatarURL int arry id name wangzi dataArry object object modelCustomClassForDictionary class 