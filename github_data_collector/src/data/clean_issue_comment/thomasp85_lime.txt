Dear lime contributors thanks for your awesome work on this repository Alas I got an error that took me several days to figure out and is reproducible explanationlime limeexplain x localobs explainer explainerlime nfeatures Error in function rownames NULL checkrows FALSE checknames TRUE arguments imply differing number of rows Fortunately I reached a point that I not only could narrow down the location of the source code but also the conditions that trigger it but not completely so I hope you figure out the last mile The condition that triggers it is a column in the cases argument of permutecases that has zero variance and is integer in my case it is column reviewsnumHelpful Classes tbldf tbl and dataframe obs of variables reviewsdoRecommend Factor w levels FALSETRUE reviewsnumHelpful int reviewsrating int anger num This column leads to an empty output within the permutecasesdataframe function in the lines identfying the bin ifelse statement else if isnumericcases i bincontinuous bin sampleseqalongfeaturedistribution i nrows TRUE asnumericfeaturedistribution i diffbincuts i bin runifnrows bincuts i bin which can be seen here Factor w levels int int num I disentangled the type conversion to dataframe and thus found that this throws the above error perms asdataframeperms stringsAsFactors FALSE The featuredistribution gives FALSE TRUE This is wrong This result should come from the only factor ie the first column and thus rendered by featuredistribution Consequently the next line diffbincuts bin always returns NULL which leads to an empty return value integer So far I could narrow the root cause to this point but I am clueless what diffbincuts bin means and how this can be prevented Update I found a potential reason for this apparent index problem The feature distribution includes the target variable outcome as first list item and thus all indeces are wrong by offset outcome reviewsdoRecommend FALSE TRUE reviewsnumHelpful anger However the target variable is inevitable because the documentation for lime specifies x The training data used for training the model that should be explained So the training data including the target not the features excluding the target must be fed into limelime Now I wonder Is this a problem inlimelime or permutatecases Can you fix this Tricky Hi All I am using lime and with GBM it works fine though had to create modeltypegbm and predictmodelgbm as there is no direct support for GBM and new observation is actually on same training data but EXACTLY with the same data when I am trying apply to RandomForest and CRF another version of RandomForest the following error is showing up Any explanationsolution will be highly appreciated Note The data and model details are copyrighted so can not publish any detail but open for question and can provide some generic informationif required without divulging any company specific information For testingnew data I have used couple of rows of the same training data for simplification purpose The ACTUAL train and test data surely contains NA value factor value numeric values but in this case there is NO NA values within the data and convertedcurated all data types to numeric in type and class For GBM also when I use test data it fails currently train and test data DOES NOT contains NA all data is numeric The following is the error message which is generic explanation explainlocalobs explainer nlabels nfeatures Error in glmfitx xfit y y weights weights family gaussian NANaNInf in y In addition Warning messages In gowerworkx x y y pairx pairx pairy pairy n NULL skipping variable with zero or nonfinite range In gowerworkx x y y pairx pairx pairy pairy n NULL skipping variable with zero or nonfinite range In gowerworkx x y y pairx pairx pairy pairy n NULL skipping variable with zero or nonfinite range In gowerworkx x y y pairx pairx pairy pairy n NULL skipping variable with zero or nonfinite range In gowerworkx x y y pairx pairx pairy pairy n NULL skipping variable with zero or nonfinite range In gowerworkx x y y pairx pairx pairy pairy n NULL skipping variable with zero or nonfinite range In Opsfactory mu not meaningful for factors In Opsfactoreta offset not meaningful for factors In Opsfactory mu not meaningful for factors Thank you for developing and maintaining this package Right now we are developing a multiinput keras model and we want to use lime to explain it The model structure is like following The main input is a sequence data and the aux input is a profile data Im wondering does lime currently support multiinput keras models or is there any way that I can work around it Thank you so much I have issue with model explamation lime try demo in limedemotextclassificationexplanationR it game me error results limesentencestoexplain bst getfeaturesmatrix keepwordposition falsecases sentencestoexplain nlabels nfeatures Error in evallhs parent parent attempt to apply nonfunction Can you please suggest Thanks Ive successfully installed Lime and glmnet in R but when I try loading it i receive an error requirelime Loading required package lime Error package or namespace load failed for lime object coefcvglmnet is not exported by namespaceglmnet Searched online and cant seem to find a solution for this This is my sessioninfo sessionInfo R version Platform x w mingw x bit Running under Windows x build Matrix products default locale LCCOLLATEEnglishAustralia LCCTYPEEnglishAustralia LCMONETARYEnglishAustralia LCNUMERICC LCTIMEEnglishAustralia attached base packages stats graphics grDevices utils datasets methods base other attached packages glmnet Matrix loaded via a namespace and not attached Rcpp rstudioapi magrittr tidyselect munsell colorspace lattice R rlang foreach dplyr tools grid gtable iterators lazyeval assertthat tibble crayon purrr ggplot codetools shape glue compiler pillar scales pkgconfig Ive updated all my packages glmnet loads successfully libraryglmnet Loaded glmnet nlabel should be nlabels Is there any easy solution provided by lime to reinject the original values in the results explainer table and plots when a normalization was applied to the dataset like stepcenter stepscale from the recipes package Thank you installpackagesEpi Installing package into homekrishnaRx pclinuxgnulibrary as lib is unspecified Warning in installpackages dependency cmprsk is not available trying URL Content type applicationxgzip length bytes MB downloaded MB ERROR dependency cmprsk is not available for package Epi removing homekrishnaRx pclinuxgnulibrary Epi Warning in installpackages installation of package Epi had nonzero exit status The downloaded source packages are in tmpRtmpkHYhuWdownloadedpackages Pull request for issue Adding distance to Gowers Distance function to include feature importance from the model in calculating distances Is it possible to add feature importance of the model that needs to be explained as weights to gowerdist This would ensure that features that are not important in the model that lime is trying to explain are not important in the lime explanation Of course these weights could be set to NULL or ones to not influence the gowerdist function 