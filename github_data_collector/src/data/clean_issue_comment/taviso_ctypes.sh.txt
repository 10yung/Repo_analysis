Hello Im having issues trying to build on macOS I use the latest version of bash not the outdated version macOS comes with so it should support bash plugins bash version GNU bash version release x appledarwin Running configure gives me configure WARNING elfutils is not available struct support will not be available checking whether bash symbols are exported no configure error in codectypessh configure error unable to build a test extension See configlog for more details In configlog I see configure checking whether bash symbols are exported configure gcc o conftest g O Iinclude shared fPIC conftestc lelf Undefined symbols for architecture x numshellbuiltins referenced from conftestfunction in conftestefa eo ld symbols not found for architecture x clang error linker command failed with exit code use v to see invocation configure configure failed program was confdefsh include builtinsh int conftestfunctionWORDLIST list exitnumshellbuiltins EXITSUCCESS EXITFAILURE struct builtin confteststruct name conftest function conftestfunction flags BUILTINENABLED longdoc NULL shortdoc NULL handle NULL configure result no configure error in codectypessh configure error unable to build a test extension See configlog for more details I dont know if this has something to do with includebuiltinsh since that what defines the extern of numshellbuiltins The only other thing I can think of is not having struct support since I dont have elfutils installed I dont think it builds for macOS and the code it tries to compile has a struct I might be barking up the wrong tree though I dont know how to resolve this myself Thank you for your time Id love to use ctypessh in my embedded platforms but they all use Busybox and ash Almquist Shell due to size constraints Have you considered supporting Busyboxs ash I think it would be great to be able to have the ctypessh capability on the embedded platform to marry shell scripting and the compiled code but without the bloat of full bash Regardless of what you decide Ill probably look into it downstream Heres what I needed to install before ctypessh would compile and pass all test in tests folder mandatory to built ctypessh without Structs sudo apt install autoconf libffidev libltdldev automake libtool above are mandatory for autogensh to build configure mandatory to build ctypessh with Structs sudo apt install libdwdev libelfdev The build script states that the failure is a lack of elfutils when actually its a lack of libdwflh The error would be much more helpful if it reported what the actual failure was instead of reporting the name of a package which it mistakenly assumes will bring in whats missing I dont understand why this doesnt work dlopen libcryptoso x ae d sizeof am ctx SHACTX bash sizeof warning SHACTX could not be found check help struct for more Note that I need a because its a typedef not a struct But if I do this cat testc include opensslshah SHACTX x gcc o testso testc ggdb shared fPIC dlopen testso x ed sizeof am ctx SHACTX I suspect some dwarf cu import logic that I havent seen before is in there Ill have to go through the dwarfdump output and track it down README reads You can overload the prefix path by defining the PREFIX environment variable before installing PREFIXHOME make install However with the advent of autotoolsbased build system this no longer works I didnt have time to build some data file that automatically includes DWARF data for common UNIX types for lets do that for It would be nice if there was a way to automatically import simple macros and enum values like SOCKRAW EXITSUCCESS and so on Also need to make sure tests work on bit Great tool Would be nice to have also in zsh The macro ACINIT supports that the needed version information is determined by specific macro calls before Would you like to reuse anything from the current autoconf approach for your build specification 