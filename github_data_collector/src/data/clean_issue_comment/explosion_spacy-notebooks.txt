Fixing infinite loop in tokenstoroot function Hello Using the code from I think it is not loading right now I was attempting to run the tutorial on my own collection of documents with the following three functions def punctspacetoken helper function to eliminate tokens that are pure punctuation or whitespace return tokenispunct or tokenisspace def linereviewfilename generator function to read in reviews from the file and unescape the original line breaks in the text with openfilename as f for review in f yield reviewreplace n n def lemmatizedsentencecorpusfilename generator function to use spaCy to parse reviews lemmatize the text and yield sentences for parsedreview in nlppipelinereviewfilename batchsize nthreads for sent in parsedreviewsents yield u join tokenlemma for token in sent if not punctspacetoken Called with the following time with openrCusersUserDownloadsunigramsentencesalltxt w as f for sentence in lemmatizedsentencecorpusCusersUserDownloadsallbillstxt fwritesentence n Which leads to a kernel crash in Jupyter I have tried several different configs of batch size and threads all leading to kernel crashes spacyversion Windows Python calling the above cell rapidly leads to CPU usage and GB memory usage I will admit my allbillstxt is a little unusual or so lines average document length k characters What other information can I provide that may be useful Edit judging from I imagine it has something to do with document length That issue didnt get resolved exactly so it is hard to judge Hello I have created a new notebook called featuresipynb of code taken from linguistic features I have also update the lightningtouripynb to the one on the website However about half of the examples are slow or do not work I am submitting a pull request for lightningtouripynb to see if yall can figure out what is going wrong I have also created a new folder called examples The only example that does not work in the training folder is nermultitaskobjectiveipynb The error message is at the top of the notebook Since all the already existing spaCy notebook examples are picked up a nice next step would be to make notebooks out of the examples Applying some of these on small datasets would also be a nice way to show them off Edit Noticed this is already mentioned in the readme Still leaving it here so contributors have a direction to go in