Adds Antibody to the shell managers the README gives zshnvm installation instructions for Second commit is conceivably more controversial it reorders the managers alphabetically Could cut that one out if necessary This PR adds autocompletion to the zshnvm plugin based on the official nvm plugin nvm file Closes Would it be interesting to add autocompletion to zshnvm just like the default nvm plugin has If interested I can try to make a PR for this Right now NVMAUTOUSEtrue will not get applied on the initial call of nvmnpmnodeyarn and only work on subsequent session directory changes This PR makes NVMAUTOUSEtrue go into effect at the first invocation when NVMLAZYLOADtrue Note Im good enough at tinkering in shell scripts but totally could be doing something dumb here Thanks for taking a look and making a great plugin Arch linux zsh with zgen tmux nvm v via zshnvm Deleted system nodejs and npm packages deleted npmrc and removed nvm sourcing from zshrc since its handled by zshnvm Had issues with nvm for months so only used system nodenpm until recently Now that latest icu httpparser libs used by other packages break node I need to constantly downgradereupgrade the libs to switch between node which is too much hassle so I tried to come back to nvm and spent the morning trying to solve this nvm is not compatible with the npm config prefix option currently set to error Deleted archlinux nvm package installed zgen load lukechildszshnvm console PATHnvmversionsnodev binPATH node segmentation fault core dumped PATHnvmversionsnodev binPATH node homedorinvmversionsnodev binnode version v which node homedorinvmversionsnodev binnode nvm current none nvm ls v default v v node stable v default stable v nvm use v nvm is not compatible with the npm config prefix option currently set to Run nvm use deleteprefix v to unset it which node node not found nvm use deleteprefix v which node homedorinvmversionsnodev binnode node version v node help segmentation fault core dumped node help homedorinvmversionsnodev binnode help Usage node options e script scriptjs arguments node inspect scriptjs arguments Options npm version segmentation fault core dumped npm version which npm homedorinvmversionsnodev binnpm homedorinvmversionsnodev binnpm version segmentation fault core dumped homedorinvmversionsnodev binnpm version ls lh nvmversionsnodev bin total M rwxrxrx dori dori M Oct node lrwxrwxrwx dori dori Oct npm libnodemodulesnpmbinnpmclijs lrwxrwxrwx dori dori Oct npx libnodemodulesnpmbinnpxclijs ls lh nvmversionsnodev libnodemodulesnpmbinnpm rwxrxrx dori dori Aug homedorinvmversionsnodev libnodemodulesnpmbinnpm vim homedorinvmversionsnodev libnodemodulesnpmbinnpm set echo homedorinvmversionsnodev libnodemodulesnpmbinnpm version NODE node NPMCLIJS homedorinvmversionsnodev libnodemodulesnpmbinnodemodulesnpmbinnpmclijs version homedorinvmversionsnodev libnodemodulesnpmbinnpm line Segmentation fault core dumped NODEEXE NPMCLIJS ls homedorinvmversionsnodev libnodemodulesnpmbinnodemodulesnpmbinnpmclijs ls cannot access homedorinvmversionsnodev libnodemodulesnpmbinnodemodulesnpmbinnpmclijs No such file or directory ls homedorinvmversionsnodev libnodemodulesnpmbinnpmclijs homedorinvmversionsnodev libnodemodulesnpmbinnpmclijs From this I understand that NPMCLIJS has a duplicated nodemodulesnpmbin in its path console sed i snodemodules npm bin g homedorinvmversionsnodev libnodemodulesnpmbinnpm homedorinvmversionsnodev libnodemodulesnpmbinnpm version NODE node NPMCLIJS homedorinvmversionsnodev libnodemodulesnpmbinnpmclijs version homedorinvmversionsnodev libnodemodulesnpmbinnpm line Segmentation fault core dumped NODEEXE NPMCLIJS homedorinvmversionsnodev binnode homedorinvmversionsnodev libnodemodulesnpmbinnpmclijs version homedorinvmversionsnodev binnpm version segmentation fault core dumped homedorinvmversionsnodev binnpm version usrbinenv node segmentation fault core dumped usrbinenv node usrbinenv npm segmentation fault core dumped usrbinenv npm So the problem is with usrbinenv I dont know how to debug this further details summarymore detailssummary console nvm debug nvm version v SHELL binzsh SHLVL HOME homedori NVMDIR HOMEnvm PATH NVMDIRversionsnodev binHOMErvmgemsruby binHOMErvmgemsruby globalbinHOMErvmrubiesruby binoptgooglecloudsdkbinvendorbinnodemodulesbinHOMEpubcachebinHOMEProjectspersonalflutterflutterbinoptgenymotiontoolsHOMEcargobinusrlibjvmjava openjdkjrebinoptandroidsdktoolsbinoptandroidsdkemulatorHOMEgemruby binHOMEbinoptgooglecloudsdkbinvendorbinnodemodulesbinHOMEpubcachebinHOMEProjectspersonalflutterflutterbinoptgenymotiontoolsHOMEcargobinusrlibjvmjava openjdkjrebinoptandroidsdktoolsbinoptandroidsdkemulatorHOMEgemruby binHOMEbinHOMErvmgemsruby binHOMErvmgemsruby globalbinHOMErvmrubiesruby binoptgooglecloudsdkbinvendorbinnodemodulesbinHOMEpubcachebinHOMEProjectspersonalflutterflutterbinoptgenymotiontoolsHOMEcargobinusrlibjvmjava openjdkjrebinoptandroidsdktoolsbinoptandroidsdkemulatorHOMEgemruby binHOMEbinoptgooglecloudsdkbinusrlocalsbinusrlocalbinusrbinusrlibjvmdefaultbinusrbinsiteperlusrbinvendorperlusrbincoreperloptanacondabinHOMEfzfbinHOMEProjects rdpartphalcondevtoolsHOMErvmbinoptanacondabinusrlibjvmdefaultbinusrbinsiteperlusrbinvendorperlusrbincoreperloptanacondabinHOMEProjects rdpartphalcondevtools PREFIX NPMCONFIGPREFIX NVMNODEJSORGMIRROR NVMIOJSORGMIRROR shell version zsh x pclinuxgnu uname a Linux arch ARCH SMP PREEMPT Wed Jan UTC x GNULinux OS version Arch Linux curl usrbincurl curl x pclinuxgnu libcurl OpenSSL a zlib libidn libpsl libidn libssh nghttp wget usrbinwget GNU Wget built on linuxgnu git usrbingit git version grep grep aliased to grep colorauto excludedirbzrCVSgithgsvn grep colorauto excludedirbzrCVSgithgsvn grep GNU grep awk usrbinawk GNU Awk API GNU MPFR GNU MP sed usrbinsed sed GNU sed cut usrbincut cut GNU coreutils basename usrbinbasename basename GNU coreutils rm usrbinrm rm GNU coreutils mkdir usrbinmkdir mkdir GNU coreutils xargs usrbinxargs xargs GNU findutils nvm current none which node NVMDIRversionsnodev binnode which iojs iojs not found which npm NVMDIRversionsnodev binnpm npm config get prefix npm root g nvm deactivate homedorinvmbin removed from PATH nvm debug nvm version v SHELL binzsh SHLVL HOME homedori NVMDIR HOMEnvm PATH HOMErvmgemsruby binHOMErvmgemsruby globalbinHOMErvmrubiesruby binoptgooglecloudsdkbinvendorbinnodemodulesbinHOMEpubcachebinHOMEProjectspersonalflutterflutterbinoptgenymotiontoolsHOMEcargobinusrlibjvmjava openjdkjrebinoptandroidsdktoolsbinoptandroidsdkemulatorHOMEgemruby binHOMEbinoptgooglecloudsdkbinvendorbinnodemodulesbinHOMEpubcachebinHOMEProjectspersonalflutterflutterbinoptgenymotiontoolsHOMEcargobinusrlibjvmjava openjdkjrebinoptandroidsdktoolsbinoptandroidsdkemulatorHOMEgemruby binHOMEbinHOMErvmgemsruby binHOMErvmgemsruby globalbinHOMErvmrubiesruby binoptgooglecloudsdkbinvendorbinnodemodulesbinHOMEpubcachebinHOMEProjectspersonalflutterflutterbinoptgenymotiontoolsHOMEcargobinusrlibjvmjava openjdkjrebinoptandroidsdktoolsbinoptandroidsdkemulatorHOMEgemruby binHOMEbinoptgooglecloudsdkbinusrlocalsbinusrlocalbinusrbinusrlibjvmdefaultbinusrbinsiteperlusrbinvendorperlusrbincoreperloptanacondabinHOMEfzfbinHOMEProjects rdpartphalcondevtoolsHOMErvmbinoptanacondabinusrlibjvmdefaultbinusrbinsiteperlusrbinvendorperlusrbincoreperloptanacondabinHOMEProjects rdpartphalcondevtools PREFIX NPMCONFIGPREFIX NVMNODEJSORGMIRROR NVMIOJSORGMIRROR shell version zsh x pclinuxgnu uname a Linux arch ARCH SMP PREEMPT Wed Jan UTC x GNULinux OS version Arch Linux curl usrbincurl curl x pclinuxgnu libcurl OpenSSL a zlib libidn libpsl libidn libssh nghttp wget usrbinwget GNU Wget built on linuxgnu git usrbingit git version grep grep aliased to grep colorauto excludedirbzrCVSgithgsvn grep colorauto excludedirbzrCVSgithgsvn grep GNU grep awk usrbinawk GNU Awk API GNU MPFR GNU MP sed usrbinsed sed GNU sed cut usrbincut cut GNU coreutils basename usrbinbasename basename GNU coreutils rm usrbinrm rm GNU coreutils mkdir usrbinmkdir mkdir GNU coreutils xargs usrbinxargs xargs GNU findutils nvm current none which node node not found which iojs iojs not found which npm npm not found npm config get prefix npm may be found in the following packages communitynpm usrbinnpm communitynpm usrlibnodemodulesnpmbinnpm npm root g npm may be found in the following packages communitynpm usrbinnpm communitynpm usrlibnodemodulesnpmbinnpm echo PREFIX echo NPMCONFIGPREFIX setopt alwaystoend autocd autopushd noclobber completeinword extendedglob extendedhistory noflowcontrol histexpiredupsfirst histignoredups histignorespace histverify incappendhistory interactive interactivecomments kshglob login longlistjobs monitor promptsubst pushdignoredups pushdminus sharehistory shinstdin zle details Related issues This solves per my speculation Simply add export NVMCACHELOADtrue in addition to lazy loading before the plugin is loaded into your plugin manager and it will cache the most recently used NVM path and preload it into PATH It strips it back out before sourcing NVM which then adds in a fresh path Negligible overhead load bash completion right after loading nvm Remove the origin in the end of the check of the latest version in the repo ohmyzsh doesnt have to be installed in the home directory nvm install nightly Version node not found try nvm lsremote to browse available versions Clearing mirror cache Done Let me know if you need any more information