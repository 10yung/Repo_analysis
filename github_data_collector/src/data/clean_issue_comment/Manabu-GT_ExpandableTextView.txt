The following sample code provided doesnt output anything on the screen or the studio live preview Versions expandableTextView gradle xml commssquareandroidexpandabletextviewExpandableTextView xmlnsexpandableTextView androidididexpandtextview androidlayoutwidthmatchparent androidlayoutheightwrapcontent expandableTextViewmaxCollapsedLines expandableTextViewanimDuration TextView androidididexpandabletext androidlayoutwidthmatchparent androidlayoutheightwrapcontent androidlayoutmarginLeft dp androidlayoutmarginRight dp androidtextSize sp androidtextasdkjbaskjda nsadasdasdas nasdasdasdasd nasdasdasdas nasdas nadsas nadsas androidtextColor ImageButton androidididexpandcollapse androidlayoutwidthwrapcontent androidlayoutheightwrapcontent androidpadding dp androidlayoutgravityendbottom androidbackgroundandroidcolortransparent commssquareandroidexpandabletextviewExpandableTextView While the Text is collapsed I cannot add the three dots while view is collapsed Is it possible to add the three dots in the view Migrate to AndroidX This is the issue Caused by javalangClassCastException androidxappcompatwidgetAppCompatTextView cannot be cast to commssquareandroidexpandabletextviewExpandableTextView According to debug I think that the number of rows that get the textview is incorrect The number of rows obtained before the superonMeasure method is correct may be but the number of rows obtained after this is less Up Above from Google Translate the following is the original debug textview superonMeasure padding margin shit