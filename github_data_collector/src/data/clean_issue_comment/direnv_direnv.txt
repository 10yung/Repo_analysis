I cannot find any environment variable for doing this I know that I can specifically deny a specific env from loading but that implies mutations of the configuration which I do not want to change my direnv configuration I would have expected something like bash export DIRENVDISABLE cd myprojectwhoseenvisallowed Nothing I tried something like this in my bashrc sh if command v direnv devnull DIRENVDISABLEnull then eval direnv hook bash fi however I cannot disable it temporarily as follow bash export DIRENVDISABLE cd myprojectwhoseenvisallowed Nothing unset DIRENVDISABLE cd myprojectwhoseenvisallowed Loading env I feel that there should be possibilities DIRENVDISABLE to disable to whole hook no printing that the env is denied and that one can allow it and another var such as DIRENVDENYALL which would have the same effect as if all env were denied Its often a case that locally developer has different environment variables depending if just running the app or running tests like eg database url Ruby dotenv allows you to have multiple different env files with environment name suffix like envlocal envdevelopment or envtestlocal It would be really helpful if I could somehow dynamically switch between dotenv files depending on some defined context or at least easy way to make a switch with a command Or maybe its already possible somehow Describe the bug Hi I am using direnv installed under WSL from nix repos and I try to use it with git repo cloned under windows with windows line endings When direnv loads the envs it leaves the r carriege return character at end of their values To Reproduce create file under windows with windows line endings rn eg envrc with export SOMETHINGlocal allow direnv under WSL for that directory echo SOMETHING hexdump c l o c a l r n Expected behavior I would expect to see echo SOMETHING hexdump c l o c a l n Environment OS Windows WSL with Ubuntu LTS Shell bash Direnv version Is your feature request related to a problem Please describe Id like to have an integrated solution to activate a projectlocal Conda environment Describe the solution youd like Id like to include a new layout description in the direnv stdlib Usage layout localanaconda pathtoenv pathtoenvironmentyml Loads a conda virutal environment under pathtoenv If the environement doesnt exist create it using the description in pathtoenvironmentyml layoutlocalanaconda local envpathPWDcondaenv if n then envpath fi if d envpath then source activate envpath else local envparentdirname envpath local envymlenvparentenvironmentyml if n then envyml fi conda env create p envpath f envyml source activate envpath fi Describe alternatives youve considered My current solution is to integrate the proposed layour in direnvrc Im not sure why we need to create the layoutpythonvenv bash function ourselves as per Would it be possible to provide layout pythonvenv by default As its probably superior to layout python for modern usecases Regarding I have no idea why this version is needed All I needed to do after installing fishnvm was to set this fish set gx NODEVERSIONS confignvm set gx NODEVERSIONPREFIX And in a project dir sh codetest cat nvmrc codetest cat envrc use node And then everything works Under some circumstances eg when called from a python subprocess direnv export json does not produce output Here is an xonshsession basically a python shell that illustrates the problem python confusjcgbx develcuda direnv export json direnv unloading DIRENVDIFF null DIRENVDIR null DIRENVWATCHES null PATH homeconfuslocalbinhomeconfusbinhomeconfusbinhomeconfuslocalbinhomeconfusconfigyadmdotfilesbinusrlocalsbinusrlocalbinusrsbinusrbinsbinbinusrgamesusrlocalgamessnapbin VIRTUALENV null python confusjcgbx develcuda import subprocess subprocesscheckoutputdirenv export jsonsplit b Is there a way to force output or debug why there is none I assume some environmentvariable is not set right Is the output only printed if there are DIRENV VIRTUALENV PATH SHELL or HOME variables in the environment If that is intended Id like to make a command line flag to force of output a feature request details Environment OS eg macOS Mojave Ubuntu Shell xonsh Direnv version Environment diff of subprocess call vs xonshcall a aNone AUTOPUSHD AUTOSUGGEST AUTOSUGGESTINCOMPLETIONS BASHCOMPLETIONSusrsharebashcompletionbashcompletion a BOTTOMTOOLBAR a COMPLETIONSCONFIRM a DIRENVDIFFeJzUkl vmzAYhfLrwNuoEkGd BgkKYsI XNxZg GCIRgCpMpn pszbRO S vk Pkey OgAqoL CpIRuoAKZlQeEhYFDMyyjIYZgx Sbjf YEKOSxVkCh AUpGziLKf aml Da Jhu e iGKb oSFJTmvshcBZUry wGQH jXD Ux gw HAyoQbm j ERzGLUkgEFDsjgGo erYYebHMFVEDnPT z E tK q tDyHhhI RQRkpBJ ttQEtpizdOfK VyKC O LAVvEe zju nPJ HOZv q sDV qudkziROrtubSfseRVGdZd Z uZwgN kRQpOks hQsfZEFU fLeVNTyVg bW XaMGZ Dl W mpZU Q tj HybNfHbXo pkUhrsvrad shZayXoWV OPsHHJIZ hJNw gp PXOAaP tb bChRJVlN gtXQpCUTZHEqfvqX jUrozAxvHQWltg x DA fItAAD ZHzc DIRENVDIRhomejandevelcudaatdiff DIRENVWATCHESeJxszsFKxDAQBuB ybnsmHTTmendoBdPAyTP k I WwXx b LvsDH YTXq fwhzosl Bn ZSwYGFF MrJdWK wHruHIbxspbcrwhwzR lnTTyE cw O EBePJtre DStuxHmTLsn RIsWpRhFF TIxZ HN gkZpqAc I mDNYoFMUgUu ZCru qjzZjbd AgAA mNUXI c HISTFILEhomeconfusconfigyadmdotfilesbashhistory HISTFILEhomeconfusbashhistory a LOADEDRCFILESFalseFalseTrue c LSCOLORS LSCOLORSbd ca cd di do ex ln mh or ow pi rs sg so st su tw a OLDPWDhomeconfusdevelcudaatdiff a promptendNOCOLOR PROMPTretcodecolor NOCOLOR shelldateNOCOLOR FAINTBLUE NOCOLORenvnameBOLDGREENuserhostnameFAINTITALICBLUE cwdFAINTBLUE BOLDBLUEretcodecolorretcode a RIGHTPROMPT branchcolorgitstatus NOCOLOR a SHELLTYPEprompttoolkit a THREADSUBPROCS a VIRTUALENVhomeconfusdevelcudaatdiffdirenvpython a XONSHAUTOPAIR XONSHCOLORSTYLEmonokai XONSHGITSTATUSSTASHED XONSHHISTORYMATCHANYWHERE XONSHHISTORYSIZE commands XONSHINTERACTIVETrue XONSHLOGIN XONSHRCetcxonshrchomeconfusconfigxonshrcxshhomeconfusxonshrc XONSHSTDERRPOSTFIXNOCOLOR XONSHSTDERRPREFIXBOLDRED XONSHSTORESTDOUT XONSHTRACEBACKLOGFILEtmpxonshtracebackslog XONSHVERSION ZDATAhomeconfusconfigyadmdotfilesxonshztxt details Describe the bug Unable to change PS using direnv following the instructions at direnv wiki on PS To Reproduce I have the following relevant entries in my files bashrc DEFAULTPS ppwd u h wgitps s add some more things to DEFAULTPS conditionally DEFAULTPS PS CUSTOMPS DEFAULTPS optional bashrc file extensions for f in bashrc do test s f f true done eval direnv hook bash envrc export KUBECONFIGconfigkubehomelabyaml export KUBEPS ENABLEDon export CUSTOMPS kubeps PATHadd scripts I have allowed the latest version of the envrc with direnv allow However when changing to the directory the custom PS value is not set although the values seems to be right cd homerobertsourcesossslingcloudnative direnv loading envrc direnv export CUSTOMPS KUBEPS ENABLED KUBECONFIG PATH echo PS ppwd u h wgitps skubeps echo CUSTOMPS kubeps I am not sure how the solution in the wiki is supposed to work as apparently the value of PS is set to the DEFAULTPS when the bashrc file is loaded the first time and is not reevaluated as part of the direnv hook Expected behavior PS should be set Environment OS openSUSE Tumbleweed Shell bash x Direnv version direnv x Describe the bug danbst writes in Ive intalled NixOS module as per doc to enable direnv Then cloned lorri entered dir but instead of installing lorri ive run direnv allow It started to download stuff but when it started compiling Rust I decided to C it But I couldnt After interrupt it restarted install of Rust until I killed terminal Recording Profpatsch writes direnv evaluates envrc on each new shell prompt If that contains a longrunning blocking process it will restart it after each CtrlC as of its design If you haven t installed lorri we fall back to direnvs default use nix support To Reproduce Have an envrc file which does a longrunning action try sleep direnv allow hit Ctrlc Expected behavior I m not actually sure what the expected behavior is here and if this is a bug at all Maybe we should print something Also I can t reproduce the exact same behavior in fish it seems to be dependent on which shell integration the user uses Environment OS any Shell not sure Direnv version 