Creating a new file and not adding it to git results in a version without SNAPSHOT suffix uncommittedSignifier SNAPSHOTdirty etc is not applied if the only change is the creation of new files Without adding them to git they are not considered uncommitted changes from hasUncommittedChanges documentation true if any tracked file is changed Running a build in a directory containing nontracked files should result in SNAPSHOT suffix or at least it should be configurable The sources used for such build do not match sources committed in the repository gradleandroidgitversion can be configured untrackedIsDirty jgitvermavenplugin with dirty marker enabled using useDirty option considers presence of untracked files a dirty state jgitvermavenplugin uses statusisClean rather than hasUncommitedChanges isClean considers untracked files fixes Giving a colour for the branch enhances the readability It helps to better distinguish between project name and branch name Screenshot If cloning a repo on GitHub with HTTPS the remote URL is formatted like which is not picked up by the automatic scmInfo detection in A workaround is to add the following to buildSettings diff scmInfo case Someinfo Someinfo case None import scalasysprocess val identifier val GitHubHttps s try val remote Listgit lsremote geturl origintrim remote match case GitHubHttpsuser repo Some ScmInfo urls sscmgit Somesscmgitgitgithubcomuserrepogit case None catch case NonFatal None This issue was discovered while publishing a Sonatype release via GitHub Actions with the following error message error Failed to close the repository error Activity close started T Z stopped T Z error Failed pomstaging failureMessageInvalid POM comgeirssonsbtcirelease sbtcirelease pom SCM URL missing error javalangException Failed to close the repository error Use last for the full log It appears that GitHub Actions clone the repository with the HTTPS remote instead of SSH remote Hi all I am using and and would like to assign the value of gitgitTagToVersionNumber to my docker container I tried gituseGitDescribe true Docker dockerAlias DockerAliasNone Somezerocoder packageName in Dockervalue gitgitTagToVersionNumbervalue it does not work because the type of the last argument of DockerAlias does not match How to get the value gitgitTagToVersionNumber I also tried gituseGitDescribe true gitformattedShaVersion gitgitTagToVersionNumbervaluetag Docker dockerAlias DockerAliasNone Somezerocoder packageName in Dockervalue gitgitDescribedVersionvalue But it does not supply the desired value I would like to tag my docker container for example with v g d cd Thanks Adds a useConsoleForROGit setting and useReadableConsoleGit util so that the plugin can be used with worktrees Usage import comtypesafesbtSbtGit useReadableConsoleGit i have tags v v Now I need to bump release versions to I set gitbaseVersion sbt and sbtrelease continues to bump the last tag version instead Expected next version to be introduced an enhancement which will pick the newest version from tags if there are multiple tags on the same commit Sadly the algorithm deciding which version is the newest one does not implement the same logic used by Maven See and The following project demonstrates a situation in which the version which is chose is not the one which was intended cat projectpluginssbt addSbtPlugincomtypesafesbt sbtgit cat buildsbt enablePluginsGitVersioning gitgitTagToVersionNumber Somefilter matches git tag git tag alpha sbt version info alpha Im suggesting to use the same logic implemented by Maven I am using these versions git sbt scala sbtgit Running sbt version on my project returns me the version as expected info Set current project to projectapiScala in build fileCcygwin homeusersourcecodeprojectapiapiscala info Packaging C cygwin home user sourcecode projectapi apiscala target scala projectapiscala gc ba SNAPSHOTsourcesjar info Done packaging git describe bash gc ba but running the build on TeamCity our build server the version is missing the SNAPSHOT suffix Step info Set current project to tradingapiScala in build fileDTeamCitybuildAgent workprojectapiapiscala Step Plugin sbtteamcitylogger was loaded Step TeamCity version build Step success Total time s completed Step success Total time s completed Step success Total time s completed Step Scala compiler m s Step info Packaging D TeamCity buildAgent work projectapi apiscala target scala projectapiscala gc ba sourcesjar Step Packaging D TeamCity buildAgent work projectapi apiscala target scala projectapiscala gc ba sourcesjar Step info Done packaging How can this be caused and fixed This fixes an edge case where theres multiple tags and some staged changes which lead to one of them being a SNAPSHOT which makes sorting fail