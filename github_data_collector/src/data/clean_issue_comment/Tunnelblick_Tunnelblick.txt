Describe the bug All of the Openvpn binarys shipped with Tunnelblick beta build do no load pkcs libraries To Reproduce Steps to reproduce the behavior ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl uopenvpn showpkcs ids usrlocallibopenscpkcs so Tue Jan PKCS Cannot add provider usrlocallibopenscpkcs so CKRFUNCTIONFAILED Tue Jan Exiting due to fatal error Expected behavior openvpn should load the pkcs library and display the pkcs ids The version shipped by homebrew works as follows usrlocalsbinopenvpn showpkcs ids usrlocallibopenscpkcs so Please enter XXXXXX token PIN or cancel The following objects are available for use Each object shown below may be used as parameter to pkcs id option please remember to use single quote mark Certificate DN CNXXXXXX emailAddressXXXXXXXXXXXNET Serial ABC Serialized id pivIIPKCS x x emulatedXXXXXXXXXXXXXX Certificate DN CNXXXXXXXXXXXNET OUXX OSelfsigned Serial ABCD Serialized id pivIIPKCS x x emulatedXXXXXXXXXXXXXX Certificate DN emailAddressXXXXXXXXXXXNET Serial ABCDED Serialized id pivIIPKCS x x emulatedXXXXXXXXXXXXXX Certificate DN CNXXXXXXXXXXXNET OUXX OSelfsigned Serial DEADBEEF Serialized id pivIIPKCS x x emulatedXXXXXXXXXXXXXX Certificate DN CNXXXXXXXXXXXNET OUXX OSelfsigned Serial DEADBEEF Serialized id pivIIPKCS x x emulatedXXXXXXXXXXXXXX Client usrlocalsbinopenvpn version OpenVPN x appledarwin SSL OpenSSL LZO LZ PKCS MHRECVDA AEAD built on Nov library versions OpenSSL d Sep LZO Originally developed by James Yonan Copyright C OpenVPN Inc salesopenvpnnet Compile time defines enableasyncpushno enablecompstubno enablecryptoyes enablecryptoofbcfbyes enabledebugno enabledefauthyes enabledependencytrackingno enabledlopenunknown enabledlopenselfunknown enabledlopenselfstaticunknown enablefastinstallneedless enablefragmentyes enableiproute no enablelibtoollockyes enablelz yes enablelzoyes enablemanagementyes enablemultihomeyes enablepamdlopenno enablepedanticno enablepfyes enablepkcs yes enablepluginauthpamyes enableplugindownrootyes enablepluginsyes enableportshareyes enableselinuxno enableserveryes enablesharedyes enablesharedwithstaticruntimesno enablesilentrulesno enablesmallno enablestaticyes enablestrictno enablestrictoptionsno enablesystemdno enablewerrorno enablewin dllyes enablex altusernameno withaixsonameaix withcryptolibraryopenssl withgnuldno withmemcheckno withsysrootno Screenshots Additional context Is it possible to use an external openvpn binary as workaround Diagnostic information franziskadgilib mfg for I in ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn do echo e n nI I version echo I showpkcs ids LibraryOpenSClibopenscpkcs so done ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn libressl openvpn OpenVPN x appledarwin SSL OpenSSL LZO PKCS MH IPv built on Dec library versions LibreSSL LZO Originally developed by James Yonan Copyright C OpenVPN Technologies Inc salesopenvpnnet Compile time defines enablecryptoyes enablecryptoofbcfbyes enabledebugno enabledefauthyes enabledependencytrackingno enabledlopenunknown enabledlopenselfunknown enabledlopenselfstaticunknown enablefastinstallneedless enablefragmentyes enablehttpproxyyes enableiproute no enablelibtoollockyes enablelzoyes enablelzostubno enablemanagementyes enablemultiyes enablemultihomeyes enablepamdlopenno enablepasswordsaveyes enablepedanticno enablepfyes enablepkcs yes enablepluginauthpamno enableplugindownrootyes enablepluginsyes enableportshareyes enableselinuxno enableserveryes enablesharedyes enablesharedwithstaticruntimesno enablesmallno enablesocksyes enablesslyes enablestaticyes enablestrictno enablestrictoptionsno enablesystemdno enablewin dllyes enablex altusernameno withaixsonameaix withcryptolibraryopenssl withgnuldno withmemcheckno withplugindirlibdiropenvpnplugins withsysrootno Tue Jan PKCS Cannot add provider LibraryOpenSClibopenscpkcs so CKRFUNCTIONFAILED Tue Jan Exiting due to fatal error ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl uopenvpn OpenVPN x appledarwin SSL OpenSSL LZO PKCS MH IPv built on Dec library versions OpenSSL u Dec LZO Originally developed by James Yonan Copyright C OpenVPN Technologies Inc salesopenvpnnet Compile time defines enablecryptoyes enablecryptoofbcfbyes enabledebugno enabledefauthyes enabledependencytrackingno enabledlopenunknown enabledlopenselfunknown enabledlopenselfstaticunknown enablefastinstallneedless enablefragmentyes enablehttpproxyyes enableiproute no enablelibtoollockyes enablelzoyes enablelzostubno enablemanagementyes enablemultiyes enablemultihomeyes enablepamdlopenno enablepasswordsaveyes enablepedanticno enablepfyes enablepkcs yes enablepluginauthpamno enableplugindownrootyes enablepluginsyes enableportshareyes enableselinuxno enableserveryes enablesharedyes enablesharedwithstaticruntimesno enablesmallno enablesocksyes enablesslyes enablestaticyes enablestrictno enablestrictoptionsno enablesystemdno enablewin dllyes enablex altusernameno withaixsonameaix withcryptolibraryopenssl withgnuldno withmemcheckno withplugindirlibdiropenvpnplugins withsysrootno Tue Jan PKCS Cannot add provider LibraryOpenSClibopenscpkcs so CKRFUNCTIONFAILED Tue Jan Exiting due to fatal error ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl uopenvpn OpenVPN x appledarwin SSL OpenSSL LZO LZ PKCS MHRECVDA AEAD built on Dec library versions OpenSSL u Dec LZO Originally developed by James Yonan Copyright C OpenVPN Inc salesopenvpnnet Compile time defines enableasyncpushno enablecompstubno enablecryptoyes enablecryptoofbcfbyes enabledebugno enabledefauthyes enabledependencytrackingno enabledlopenunknown enabledlopenselfunknown enabledlopenselfstaticunknown enablefastinstallneedless enablefragmentyes enableiproute no enablelibtoollockyes enablelz yes enablelzoyes enablemanagementyes enablemultihomeyes enablepamdlopenno enablepedanticno enablepfyes enablepkcs yes enablepluginauthpamno enableplugindownrootyes enablepluginsyes enableportshareyes enableselinuxno enableserveryes enablesharedyes enablesharedwithstaticruntimesno enablesmallno enablesslyes enablestaticyes enablestrictno enablestrictoptionsno enablesystemdno enablewerrorno enablewin dllyes enablex altusernameno withaixsonameaix withcryptolibraryopenssl withgnuldno withmemcheckno withsysrootno Tue Jan PKCS Cannot add provider LibraryOpenSClibopenscpkcs so CKRFUNCTIONFAILED Tue Jan Exiting due to fatal error ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl dopenvpn OpenVPN x appledarwin SSL OpenSSL LZO LZ MHRECVDA AEAD built on Dec library versions OpenSSL d Sep LZO Originally developed by James Yonan Copyright C OpenVPN Inc salesopenvpnnet Compile time defines enableasyncpushno enablecompstubno enablecryptoyes enablecryptoofbcfbyes enabledebugno enabledefauthyes enabledependencytrackingno enabledlopenunknown enabledlopenselfunknown enabledlopenselfstaticunknown enablefastinstallneedless enablefragmentyes enableiproute no enablelibtoollockyes enablelz yes enablelzoyes enablemanagementyes enablemultihomeyes enablepamdlopenno enablepedanticno enablepfyes enablepkcs no enablepluginauthpamno enableplugindownrootyes enablepluginsyes enableportshareyes enableselinuxno enableserveryes enablesharedyes enablesharedwithstaticruntimesno enablesmallno enablesslyes enablestaticyes enablestrictno enablestrictoptionsno enablesystemdno enablewerrorno enablewin dllyes enablex altusernameno withaixsonameaix withcryptolibraryopenssl withgnuldno withmemcheckno withsysrootno Options error Unrecognized option or missing or extra parameters in CMDLINE showpkcs ids Use help for more information ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn git b openssl uopenvpn OpenVPN git b x appledarwin SSL OpenSSL LZO LZ PKCS MHRECVDA AEAD built on Dec library versions OpenSSL u Dec LZO Originally developed by James Yonan Copyright C OpenVPN Inc salesopenvpnnet Compile time defines enableasyncpushno enablecompstubno enablecryptoyes enablecryptoofbcfbyes enabledebugno enabledefauthyes enabledependencytrackingno enabledlopenunknown enabledlopenselfunknown enabledlopenselfstaticunknown enablefastinstallneedless enablefragmentyes enableiproute no enablelibtoollockyes enablelz yes enablelzoyes enablemanagementyes enablemultihomeyes enablepamdlopenno enablepasswordsaveyes enablepedanticno enablepfyes enablepkcs yes enablepluginauthpamno enableplugindownrootyes enablepluginsyes enableportshareyes enableselinuxno enableserveryes enablesharedyes enablesharedwithstaticruntimesno enablesmallno enablesslyes enablestaticyes enablestrictno enablestrictoptionsno enablesystemdno enablewerrorno enablewin dllyes enablex altusernameno withaixsonameaix withcryptolibraryopenssl withgnuldno withmemcheckno withsysrootno Tue Jan PKCS Cannot add provider LibraryOpenSClibopenscpkcs so CKRFUNCTIONFAILED Tue Jan Exiting due to fatal error ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn git b openssl dopenvpn OpenVPN git b x appledarwin SSL OpenSSL LZO LZ MHRECVDA AEAD built on Dec library versions OpenSSL d Sep LZO Originally developed by James Yonan Copyright C OpenVPN Inc salesopenvpnnet Compile time defines enableasyncpushno enablecompstubno enablecryptoyes enablecryptoofbcfbyes enabledebugno enabledefauthyes enabledependencytrackingno enabledlopenunknown enabledlopenselfunknown enabledlopenselfstaticunknown enablefastinstallneedless enablefragmentyes enableiproute no enablelibtoollockyes enablelz yes enablelzoyes enablemanagementyes enablemultihomeyes enablepamdlopenno enablepasswordsaveyes enablepedanticno enablepfyes enablepkcs no enablepluginauthpamno enableplugindownrootyes enablepluginsyes enableportshareyes enableselinuxno enableserveryes enablesharedyes enablesharedwithstaticruntimesno enablesmallno enablesslyes enablestaticyes enablestrictno enablestrictoptionsno enablesystemdno enablewerrorno enablewin dllyes enablex altusernameno withaixsonameaix withcryptolibraryopenssl withgnuldno withmemcheckno withsysrootno Options error Unrecognized option or missing or extra parameters in CMDLINE showpkcs ids git b Use help for more information franziskadgilib mfg Describe the bug This is a feature request not a bug Expected behavior VPN details Configurations OpenVPN Version Instead of selecting from the dropdown list I can choose a OpenVPN version from the file system Tunnelblick will warn me that it was tampered if I just copy the modified OpenVPN exe to ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl dopenvpn Describe the bug IPv is not being disabled when I connect to my VPN even though I have the option checked and I connect to the server through IPv After reading clientuptunnelblicksh this seems to be happening because foreignoption is not defined Adding dhcpoption DNS or in fact any valid or invalid entry that leads to that Bash variable being defined makes Tunnelblick disable IPv as expected To Reproduce Here is my redacted client config client dev tun proto tcp remote serverhostipv serverport nobind persistkey persisttun compress lzo verb BEGIN CERTIFICATE When I try to connect I get the following in logs Tunnelblick NOTE No network configuration changes need to be made Tunnelblick WARNING Will NOT monitor for other network configuration changes Tunnelblick WARNING Will NOT disable IPv settings IPv is not disabled even though it should When I add the foreign option as I mentioned above this message doesnt show anymore Describe the bug Sometimes I was not able to connect to the VPN and a system restart is needed then the connection works Diagnostic information Tunnelblick macOS C Tunnelblick build Admin user git commit d d acbb bb f a Configuration vpnservicescompanycom Sanitized condensed configuration file for UserspzhouLibraryApplication SupportTunnelblickConfigurationsvpnservicescompanycomtblk client dev tun proto udp remote vpnservicescompanycom tlsversionmin tlscipher TLSECDHERSAWITHAES GCMSHA TLSECDHEECDSAWITHAES GCMSHA TLSECDHERSAWITHAES GCMSHA TLSDHERSAWITHAES CBCSHA cipher AES CBC auth SHA keydirection resolvretry infinite nobind persistkey persisttun mutereplaywarnings remotecerttls server compress lzo verb authuserpass user nobody group nobody tlsauth Securityrelated lines omitted tlsauth ca Securityrelated lines omitted ca cert Securityrelated lines omitted cert key Securityrelated lines omitted key Files in vpnservicescompanycomtblk ContentsResourcesconfigovpn Configuration preferences useDownRootPlugin keychainHasUsernameAndPassword notOKToCheckThatIPAddressDidNotChangeAfterConnection alwaysShowLoginWindow lastConnectionSucceeded Wildcard preferences notOKToCheckThatIPAddressDidNotChangeAfterConnection Program preferences launchAtNextLogin tunnelblickVersionHistory build lastLaunchTime lastLanguageAtLaunchWasRTL connectionWindowDisplayCriteria showWhenConnecting maxLogDisplaySize lastConnectedDisplayName vpnservicescompanycom keyboardShortcutIndex updateCheckAutomatically NSWindow Frame ConnectingWindow detailsWindowFrameVersion detailsWindowFrame detailsWindowLeftFrame detailsWindowViewIndex detailsWindowConfigurationsTabIdentifier log leftNavSelectedDisplayName vpnservicescompanycom haveDealtWithOldTunTapPreferences haveDealtWithOldLoginItem haveDealtWithAfterDisconnect SUEnableAutomaticChecks SUScheduledCheckInterval SULastCheckTime SUHasLaunchedBefore WebKitDefaultFontSize WebKitStandardFont Times Tunnelblick Log Tunnelblick macOS C Tunnelblick build Tunnelblick Attempting connection with vpnservicescompanycom using shadow copy Set nameserver monitoring connection Tunnelblick openvpnstart start vpnservicescompanycomtblk ptADGNWradsgnw openssl t Tunnelblick openvpnstart starting OpenVPN OpenVPN x appledarwin SSL OpenSSL LZO LZ PKCS MHRECVDA AEAD built on Sep library versions OpenSSL t Sep LZO MANAGEMENT TCP Socket listening on AFINET Need hold release from management interface waiting Tunnelblick openvpnstart log Warning Tunnelblick is using openvpndownrootso so the routepredown script will not be used You can override this by providing a custom routepredown script which may be a copy of Tunnelblicks standard routepredown script in a Tunnelblick VPN Configuration However that script will not be executed as root unless the user and group options are removed from the OpenVPN configuration file If the user and group options are removed then you dont need to use a custom routepredown script OpenVPN started successfully Command used to start OpenVPN one argument per displayed line ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl topenvpn daemon log LibraryApplication SupportTunnelblickLogsSUsersSpzhouSLibrarySApplication SupportSTunnelblickSConfigurationsSvpnservicescompanycomtblkSContentsSResourcesSconfigovpn openvpnlog cd LibraryApplication SupportTunnelblickUserspzhouvpnservicescompanycomtblkContentsResources machinereadableoutput setenv IVGUIVER nettunnelblicktunnelblick build verb config LibraryApplication SupportTunnelblickUserspzhouvpnservicescompanycomtblkContentsResourcesconfigovpn setenv TUNNELBLICKCONFIGFOLDER LibraryApplication SupportTunnelblickUserspzhouvpnservicescompanycomtblkContentsResources verb cd LibraryApplication SupportTunnelblickUserspzhouvpnservicescompanycomtblkContentsResources management LibraryApplication SupportTunnelblickkinlbiedhkpiohgadogcplhcohhgdlgbdcncpbjbmip managementquerypasswords managementhold scriptsecurity routeup ApplicationsTunnelblickappContentsResourcesclientuptunnelblicksh d f m w ptADGNWradsgnw plugin ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl topenvpndownrootso ApplicationsTunnelblickappContentsResourcesclientdowntunnelblicksh d f m w ptADGNWradsgnw MANAGEMENT Client connected from AFINET MANAGEMENT CMD pid MANAGEMENT CMD authretry interact MANAGEMENT CMD state on MANAGEMENT CMD state MANAGEMENT CMD bytecount Tunnelblick Established communication with OpenVPN Tunnelblick INFOOpenVPN Management Interface Version type help for more info MANAGEMENT CMD hold release Tunnelblick Obtained VPN username and password from the Keychain MANAGEMENT CMD username Auth usernameadcompanycom MANAGEMENT CMD password NOTE the current scriptsecurity setting may allow this configuration to call userdefined scripts PLUGININIT POST ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl topenvpndownrootso ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl topenvpndownrootso ApplicationsTunnelblickappContentsResourcesclientdowntunnelblicksh d f m w ptADGNWradsgnw interceptedPLUGINUPPLUGINDOWN Outgoing Control Channel Authentication Using bit message hash SHA for HMAC authentication Incoming Control Channel Authentication Using bit message hash SHA for HMAC authentication MANAGEMENT STATE RESOLVE TCPUDP Preserving recently used remote address AFINET Socket Buffers R S UDP link local not bound UDP link remote AFINET NOTE UIDGID downgrade will be delayed because of client pull or updelay MANAGEMENT STATE WAIT write UDP Cant assign requested address code write UDP Cant assign requested address code write UDP Cant assign requested address code write UDP Cant assign requested address code write UDP Cant assign requested address code TLS Error TLS key negotiation failed to occur within seconds check your network connectivity TLS Error TLS handshake failed SIGUSR softtlserror received process restarting MANAGEMENT STATE RECONNECTINGtlserror MANAGEMENT CMD hold release NOTE the current scriptsecurity setting may allow this configuration to call userdefined scripts MANAGEMENT STATE RESOLVE TCPUDP Preserving recently used remote address AFINET Socket Buffers R S UDP link local not bound UDP link remote AFINET MANAGEMENT STATE WAIT write UDP Cant assign requested address code MANAGEMENT CMD hold release write UDP Cant assign requested address code write UDP Cant assign requested address code write UDP Cant assign requested address code Tunnelblick Disconnecting VPN Details window disconnect button pressed Tunnelblick Disconnecting using kill eventwait Interrupted system call code PLUGINCLOSE ApplicationsTunnelblickappContentsResourcesopenvpnopenvpn openssl topenvpndownrootso SIGTERM hard received process exiting MANAGEMENT STATE EXITINGSIGTERM Tunnelblick Expected disconnection occurred Down log Tunnelblick Tunnelblick Start of output from clientdowntunnelblicksh Tunnelblick Restored StateDNS Tunnelblick Removed SetupDNS Tunnelblick Removed StateSMB Tunnelblick Restored DNS and SMB settings Tunnelblick Reenabled IPv automatic for USB LAN Tunnelblick Reenabled IPv automatic for WiFi Tunnelblick Reenabled IPv automatic for iPhone USB Tunnelblick Reenabled IPv automatic for Bluetooth PAN Tunnelblick Reenabled IPv automatic for Thunderbolt Bridge Tunnelblick End of output from clientdowntunnelblicksh Tunnelblick Previous down log Tunnelblick Tunnelblick Start of output from clientdowntunnelblicksh Tunnelblick Restored StateDNS Tunnelblick Removed SetupDNS Tunnelblick Removed StateSMB Tunnelblick Restored DNS and SMB settings Tunnelblick Reenabled IPv automatic for USB LAN Tunnelblick Reenabled IPv automatic for WiFi Tunnelblick Reenabled IPv automatic for iPhone USB Tunnelblick Reenabled IPv automatic for Bluetooth PAN Tunnelblick Reenabled IPv automatic for Thunderbolt Bridge Tunnelblick End of output from clientdowntunnelblicksh Tunnelblick Network services An asterisk denotes that a network service is disabled USB LAN WiFi iPhone USB Bluetooth PAN Thunderbolt Bridge WiFi Power en On ifconfig output lo flags UPLOOPBACKRUNNINGMULTICAST mtu options RXCSUMTXCSUMTXSTATUSSWTIMESTAMP inet netmask xff inet prefixlen inet fe lo prefixlen scopeid x nd options PERFORMNUDDAD gif flags POINTOPOINTMULTICAST mtu stf flags mtu en flags UPBROADCASTSMARTRUNNINGSIMPLEXMULTICAST mtu ether acde inet fe aede fffe en prefixlen scopeid x nd options PERFORMNUDDAD media autoselect baseTX fullduplex status active ap flags BROADCASTSIMPLEXMULTICAST mtu options CHANNELIO ether a e c d media autoselect status inactive en flags UPBROADCASTSMARTRUNNINGSIMPLEXMULTICAST mtu options CHANNELIO ether a e c d inet fe d af fab en prefixlen secured scopeid x inet netmask xfffffe broadcast nd options PERFORMNUDDAD media autoselect status active en flags UPBROADCASTSMARTRUNNINGPROMISCSIMPLEXMULTICAST mtu options TSO TSO CHANNELIO ether e media autoselect fullduplex status inactive en flags UPBROADCASTSMARTRUNNINGPROMISCSIMPLEXMULTICAST mtu options TSO TSO CHANNELIO ether e media autoselect fullduplex status inactive bridge flags UPBROADCASTSMARTRUNNINGSIMPLEXMULTICAST mtu options RXCSUMTXCSUMTSO TSO ether e Configuration id priority hellotime fwddelay maxage holdcnt proto stp maxaddr timeout root id priority ifcost port ipfilter disabled flags x member en flags LEARNINGDISCOVER ifmaxaddr port priority path cost member en flags LEARNINGDISCOVER ifmaxaddr port priority path cost nd options PERFORMNUDDAD media unknown type status inactive p p flags UPBROADCASTRUNNINGSIMPLEXMULTICAST mtu options CHANNELIO ether e c d media autoselect status inactive awdl flags UPBROADCASTRUNNINGPROMISCSIMPLEXMULTICAST mtu options CHANNELIO ether a cb f inet fe a cfffeb f awdl prefixlen scopeid xb nd options PERFORMNUDDAD media autoselect status active llw flags UPBROADCASTSMARTRUNNINGSIMPLEXMULTICAST mtu options CHANNELIO ether a cb f inet fe a cfffeb f llw prefixlen scopeid xc nd options PERFORMNUDDAD media autoselect status active utun flags UPPOINTOPOINTRUNNINGMULTICAST mtu inet fe a d e ab utun prefixlen scopeid xd nd options PERFORMNUDDAD utun flags UPPOINTOPOINTRUNNINGMULTICAST mtu inet fe eb d e utun prefixlen scopeid xe nd options PERFORMNUDDAD NonApple kexts that are loaded Index Refs Address Size Wired Name Version UUID Linked Against Quit Log applicationShouldTerminate termination because of Quit delayed until shutdownTunnelblick finishes shutDownTunnelblick started shutDownTunnelblick Starting cleanup cleanup Entering cleanup synchronized user defaults shutDownTunnelblick Cleanup finished Finished shutting down Tunnelblick allowing termination Console Log Tunnelblick Cleared expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Tunnelblick Set expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Tunnelblick Sparkle Verified appcast signature Tunnelblick cleanup Entering cleanup Tunnelblick synchronized user defaults Tunnelblick Set expect disconnect ALL Tunnelblick Finished shutting down Tunnelblick allowing termination Tunnelblick Tunnelblick macOS Tunnelblick build Tunnelblick Sparkle Tunnelblick Tunnelblick Sparkle Verified appcast signature Tunnelblick Cleared expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Tunnelblick Set expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Tunnelblick Cleared expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Tunnelblick Set expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Tunnelblick Sparkle Verified appcast signature Tunnelblick Cleared expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Tunnelblick Set expect disconnect SLibrarySApplication SupportSTunnelblickSUsersSpzhouSvpnDservicesDgeophyDcomDtblkSContentsSResources Im trying to create a MacPorts port of Tunnelblick See The xcodebuild is failing to find the header SparkleSUUpdaterh Yet the build process creates this file find optlocalportsaquatunnelblickworkTunnelblick name SUUpdaterh optlocalportsaquatunnelblickworkTunnelblick thirdpartybuildsparkleSparkleSUUpdaterh This appears to be a simple missing I flag somewhere for clang but Im not sure where Error infobuild ApplicationsXcodeappContentsDeveloperToolchainsXcodeDefaultxctoolchainusrbinclang x objectivec target x applemacos fmessagelength fdiagnosticsshownoteincludestack fmacrobacktracelimit gmodules Wnotrigraphs fpascalstrings Os fnocommon Wmissingfieldinitializers Wnomissingprototypes Wnoreturntype Wunreachablecode Wnoimplicitatomicproperties Wnoobjcinterfaceivars Wnoarcrepeateduseofweak Wimplicitretainself Wduplicatemethodmatch Wnoformat Wmissingbraces Wparentheses Wswitch Wunusedfunction Wunusedlabel Wunusedparameter Wnounusedvariable Wunusedvalue Wemptybody Wuninitialized Wnounknownpragmas Wnoshadow Wnofourcharconstants Wnoconversion Wconstantconversion Wintconversion Wboolconversion Wenumconversion Wnofloatconversion Wnonliteralnullconversion Wobjcliteralconversion Wsigncompare Wnoshorten to Wnopointersign Wnonewlineeof Wnoselector Wnostrictselectormatch Wundeclaredselector Wdeprecatedimplementations DOBJCOLDDISPATCHPROTOTYPES isysroot LibraryDeveloperCommandLineToolsSDKsMacOSX sdk fasmblocks fstrictaliasing Wnoprotocol Wnodeprecateddeclarations g fvisibilityhidden Wnosignconversion Winfiniterecursion Wcomma Wblockcaptureautoreleasing Wstrictprototypes Wnosemicolonbeforemethodbody iquote optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildTunnelblickgeneratedfileshmap IoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildTunnelblickowntargetheadershmapinfobuild ApplicationsXcodeappContentsDeveloperToolchainsXcodeDefaultxctoolchainusrbinclang x objectivec target x applemacos fmessagelength fdiagnosticsshownoteincludestack fmacrobacktracelimit gmodules Wnotrigraphs fpascalstrings Os fnocommon Wmissingfieldinitializers Wnomissingprototypes Wnoreturntype Wunreachablecode Wnoimplicitatomicproperties Wnoobjcinterfaceivars Wnoarcrepeateduseofweak Wimplicitretainself Wduplicatemethodmatch Wnoformat Wmissingbraces Wparentheses Wswitch Wunusedfunction Wunusedlabel Wunusedparameter Wnounusedvariable Wunusedvalue Wemptybody Wuninitialized Wnounknownpragmas Wnoshadow Wnofourcharconstants Wnoconversion Wconstantconversion Wintconversion Wboolconversion Wenumconversion Wnofloatconversion Wnonliteralnullconversion Wobjcliteralconversion Wsigncompare Wnoshorten to Wnopointersign Wnonewlineeof Wnoselector Wnostrictselectormatch Wundeclaredselector Wdeprecatedimplementations DOBJCOLDDISPATCHPROTOTYPES isysroot LibraryDeveloperCommandLineToolsSDKsMacOSX sdk fasmblocks fstrictaliasing Wnoprotocol Wnodeprecateddeclarations g fvisibilityhidden Wnosignconversion Winfiniterecursion Wcomma Wblockcaptureautoreleasing Wstrictprototypes Wnosemicolonbeforemethodbody iquote optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildTunnelblickgeneratedfileshmap IoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildTunnelblickowntargetheadershmap IoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildReleaseinclude IoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildDerivedSourcesnormalx IoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildDerivedSourcesx IoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildDerivedSources Wall Wextra Wstrictoverflow FoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildRelease FoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick thirdparty FoptlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick thirdpartyproductssparkle include optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildSharedPrecompiledHeadersSharedPrecompiledHeaders TunnelblickPrefixpch MMD MT dependencies MF optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildObjectsnormalx MenuControllerd serializediagnostics optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildObjectsnormalx MenuControllerdia c optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickMenuControllerm o optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickbuildTunnelblickbuildReleaseTunnelblickbuildObjectsnormalx MenuControllero infobuild optlocalvarmacportsbuildoptlocalportsaquatunnelblicktunnelblickworkTunnelblick tunnelblickMenuControllerm fatal error SparkleSUUpdaterh file not found infobuild import SparkleSUUpdaterh infobuild Upon connection to my VPN I am given two message windows One that the DNS is not routed through the VPN and another soon after that my public IP address has not changed This then times out all network connections and does not work This isnt a problem with the VPN as it connects and works on a different network or even on the wired connection on that network I have a feeling it may be due to the fact Tunnelblick isnt passing information correctly as the router IP is also I havent had this problem on my phone where the VPN works and it is on the same network different profile with the same router I even tried that same profile disconnected on the phone but I cane up with the same results Is it possible that this is an issue with my setup or one within Tunnelblick PS The ethernet is on a xx subnet and works fine or any normal xx network works fine as well Reproduction Instructions Maybe Get on a network where you are on a xx subnet with the router being Connect to a vpn DNS and IP change warnings appear No usable internet connection Everything times out Hi Guys I use as default configuration custom dns on mac Catalina Google Public DNS When I connect to the VPN and disconnect tunneblick does not restore Google DNS but So I need to update manually to Google DNS in network settings each time Im using the VPN How to fix the problem and restore Google DNS when disconnecting VPN Thanks Hi all I can not reconnect TunnelBlick after my computer put as sleep After open my TunnelBlick windows show Waiting for password and stuck there I did save user name password in the keychain already but its still showing Waiting for password I have to go VPN Details Delete Configurations in Keychain again and always save user name password in keychain during connect but the issue still remains after my computer put as sleep Here is the Log Tunnelblick openvpnstart starting OpenVPN OpenVPN x appledarwin SSL OpenSSL LZO PKCS MH IPv built on Sep library versions OpenSSL j Sep LZO MANAGEMENT TCP Socket listening on AFINET Need hold release from management interface waiting MANAGEMENT Client connected from AFINET MANAGEMENT CMD pid MANAGEMENT CMD state on MANAGEMENT CMD state MANAGEMENT CMD bytecount MANAGEMENT CMD hold release Tunnelblick Established communication with OpenVPN Tunnelblick Obtained VPN username and password from the Keychain MANAGEMENT CMD username Auth MANAGEMENT CMD password Describe the bug I would like to confirm that the gpg key fingerprint DF A C FB FF F D E BB E is authentic and corresponds to the key used to sign release signatures This is challenging today as there are only weak indicators that this key is the correct key rather than an imposter To Reproduce gpg verify Tunnelblick build dmgasc gpg assuming signed data in Tunnelblick build dmg gpg Signature made Wed Sep CEST gpg using RSA key B D F D A E A F A FF A B DC FD C gpg Good signature from Tunnelblick Security tunnelblicksecurityprotonmailcom unknown gpg WARNING This key is not certified with a trusted signature gpg There is no indication that the signature belongs to the owner Primary key fingerprint DF A C FB FF F D E BB E Subkey fingerprint B D F D A E A F A FF A B DC F D C Expected behavior Key used to sign releases should be crosssigned with multiple other pgp keys in the Web Of Trust This would allow users to establish its authenticity if they are not able to meet devs in person to verify the key which is MUCH stronger Other inferior ways to establish authenticity keybaseio verify the github account and tunnelblicknet domain using this key Sign commits to the project over a long period of time Add the key fingerprint to the project readme weak Confirm the fingerprint here in this issue weak difficult for users to find Note The fingerprint being listed on helps but means we need to trust your host certificate authorities etc So not particularly robust It would be nice if Tunnelblick included OpenConnect as a backend so that we could use Tunnelblick to connect to Cisco AnyConnect servers OpenConnect even mentions it theirself that its something they hope for