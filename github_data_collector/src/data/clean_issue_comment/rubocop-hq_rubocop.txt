The motivating use case for this in our codebase is to switch Sorbet sig declarations from doend to Syntax highlight for doend on type signatures are distracting Braces are less distracting Currently the first is enforced by linecountbased which we want for all other methods Before submitting the PR make sure the following are checked x Wrote good commit messages Commit message starts with Fix issuenumber if the related issue exists x Feature branch is uptodate with master if not rebase it x Squashed related commits together x Added tests x Added an entry to the Changelog if the new code introduces userobservable changes See changelog entry format x The PR relates to only one subject with a clear title and description in grammatically correct complete sentences x Run bundle exec rake default It executes all tests and RuboCop for itself and generates the documentation Shortens long lines by inserting a line break into blocks like this rb original foobar baz batbatbatbatbatbatbatbatbaz autocorrected after this PR foobar baz batbatbatbatbatbatbatbatbaz autocorrected after other block alignment cops run just one example final output depends on config foobar do baz batbatbatbatbatbatbatbatbaz end Before submitting the PR make sure the following are checked x Wrote good commit messages Commit message starts with Fix issuenumber if the related issue exists x Feature branch is uptodate with master if not rebase it x Squashed related commits together x Added tests x Added an entry to the Changelog if the new code introduces userobservable changes See changelog entry format x The PR relates to only one subject with a clear title and description in grammatically correct complete sentences x Run bundle exec rake default It executes all tests and RuboCop for itself and generates the documentation Tension Hello We have withfixedindentation option for LayoutArgumentAlignment and LayoutParameterAlignment So we can write our code this way ruby foo bar baz ruby methodcalla b And we in our company decided to use this style with withfixedindentation for all alignments But we cant use this this option for LayoutArrayAlignment because it doesnt support this flag We want to write multiline arrays in this style ruby array a b in order to have the same style of code in whole project in all cases Changes Ive used these cops as examples Extended exciting LayoutArrayAlignment So now it supports withfixedindentation Tests I took the old tests Moved them to context when aligned with first parameter when withfirstparameter Created context when aligned with fixed indentation when withfixedindentation and wrote the same tests as for withfirstparameter Added tests with case when the first element on the new line to both contexts Ex it is okay for both options ruby array a b c d Basic Checklist Before submitting the PR make sure the following are checked x Wrote good commit messages x Commit message starts with Fix issuenumber if the related issue exists x Feature branch is uptodate with master if not rebase it x Squashed related commits together x Added tests x Added an entry to the Changelog if the new code introduces userobservable changes See changelog entry format x The PR relates to only one subject with a clear title and description in grammatically correct complete sentences x Run bundle exec rake default It executes all tests and RuboCop for itself and generates the documentation I came across this while cleaning up tests We have made similar changes to this in the past The extra context makes it a little easier to quickly identify which method contains the offense Fixes This PR fixes the following error when processing a regexp with a line break at the start of capture parenthesis console cat examlerb pattern string bundle exec rubocop d snip An error occurred while VariableForce cop was inspecting Userskoicsrcgithubcomkoicrubocopissues examlerb end pattern with unmatched parenthesis Userskoicsrcgithubcomrubocophqrubocoplibrubocopcopvariableforcerb in initialize Userskoicsrcgithubcomrubocophqrubocoplibrubocopcopvariableforcerb in new Userskoicsrcgithubcomrubocophqrubocoplibrubocopcopvariableforcerb in regexpcapturednames Userskoicsrcgithubcomrubocophqrubocoplibrubocopcopvariableforcerb in processregexpnamedcaptures Userskoicsrcgithubcomrubocophqrubocoplibrubocopcopvariableforcerb in processnode Userskoicsrcgithubcomrubocophqrubocoplibrubocopcopvariableforcerb in investigate Before submitting the PR make sure the following are checked x Wrote good commit messages x Commit message starts with Fix issuenumber if the related issue exists x Feature branch is uptodate with master if not rebase it x Squashed related commits together x Added tests x Added an entry to the Changelog if the new code introduces userobservable changes See changelog entry format x The PR relates to only one subject with a clear title and description in grammatically correct complete sentences x Run bundle exec rake default It executes all tests and RuboCop for itself and generates the documentation Error occurs with code below ruby blah x blah Works ruby singleline blah ruby nocapture x blah Expected behavior No errors Actual behavior An error occurred while VariableForce cop Steps to reproduce the problem ruby vc testrb ruby p revision x linux Syntax OK bundle exec rubocop testrb For testrubocop configuration from testrubocoprubocopyml Default configuration from gemsrubocop configdefaultyml Inspecting file Scanning testrubocoptestrb An error occurred while VariableForce cop was inspecting testrubocoptestrb end pattern with unmatched parenthesis gemsrubocop librubocopcopvariableforcerb in initialize gemsrubocop librubocopcopvariableforcerb in new gemsrubocop librubocopcopvariableforcerb in regexpcapturednames gemsrubocop librubocopcopvariableforcerb in processregexpnamedcaptures gemsrubocop librubocopcopvariableforcerb in processnode gemsrubocop librubocopcopvariableforcerb in block in processchildren gemsrubocop librubocopastnoderb in block in eachchildnode gemsrubocop librubocopastnoderb in each gemsrubocop librubocopastnoderb in eachchildnode gemsrubocop librubocopcopvariableforcerb in processchildren gemsrubocop librubocopcopvariableforcerb in processnode gemsrubocop librubocopcopvariableforcerb in investigate gemsrubocop librubocopcopcommissionerrb in block levels in invokecustomprocessing gemsrubocop librubocopcopcommissionerrb in withcoperrorhandling gemsrubocop librubocopcopcommissionerrb in block in invokecustomprocessing gemsrubocop librubocopcopcommissionerrb in each gemsrubocop librubocopcopcommissionerrb in invokecustomprocessing gemsrubocop librubocopcopcommissionerrb in investigate gemsrubocop librubocopcopteamrb in investigate gemsrubocop librubocopcopteamrb in offenses gemsrubocop librubocopcopteamrb in inspectfile gemsrubocop librubocoprunnerrb in inspectfile gemsrubocop librubocoprunnerrb in block in doinspectionloop gemsrubocop librubocoprunnerrb in block in iterateuntilnochanges gemsrubocop librubocoprunnerrb in loop gemsrubocop librubocoprunnerrb in iterateuntilnochanges gemsrubocop librubocoprunnerrb in doinspectionloop gemsrubocop librubocoprunnerrb in block in fileoffenses gemsrubocop librubocoprunnerrb in fileoffensecache gemsrubocop librubocoprunnerrb in fileoffenses gemsrubocop librubocoprunnerrb in processfile snip file inspected no offenses detected error occurred An error occurred while VariableForce cop was inspecting testrubocoptestrb Errors are usually caused by RuboCop bugs Please report your problems to RuboCops issue tracker Mention the following information in the issue report using Parser running on ruby x linux Finished in seconds RuboCop version bundle exec rubocop V using Parser running on ruby x linux Is your feature request related to a problem Please describe We in our company decided to use LayoutArgumentAlignment and LayoutParameterAlignment with withfixedindentation Also we would like to use this flag for LayoutArrayAlignment too but this cop doesnt support withfixedindentation Describe the solution youd like I think it would be cool to add withfixedindentation flag for LayoutArrayAlignment as for LayoutArgumentAlignment and LayoutParameterAlignment Describe alternatives youve considered I dont see any alternatives Additional context We would like to write arrays this way ruby array Is your feature request related to a problem Please describe On a large internal codebase its not possible to gradually move all developers between versions of Rubocop without getting Warning unrecognized cop on renamed cops used in rubocopyml files eg LayoutIndentHash was renamed to LayoutIndentFirstHashElement The obvious solution for rubocopyml to contain BOTH blocks at once LayoutIndentHash Enabled false LayoutIndentFirstHashElement Enabled false Any early upgraders will get the renamed cop warning Any late upgraders will get Warning unrecognized cop Describe the solution youd like Provide a configurable way to temporarily suppress the warnings for certain obsolete or unrecognized cops SuppressObsoleteCop list of obsolete cops to NOT give warnings for SuppressUnrecognizedCop list of unrecognized cops to NOT give warnings for I realize that everybody will have to upgrade to a new enough rubocop that has this suppression feature first but hopefully it will reduce future cases of obsolete cop in the meantime Alternate solutions Ways to mark parts of the config to be used in certain versions of Rubocop only This is probably going to end up much too complex and old versions of Rubocop might break anyway on it Accept obsolete names transparently and run the check by the new name name This provides maximum compatibility with old versions This only works for straight rename of Cops and not other changes to the Cops pp is standard parameter name for PrettyPrint Before submitting the PR make sure the following are checked x Wrote good commit messages Commit message starts with Fix issuenumber if the related issue exists Feature branch is uptodate with master if not rebase it Squashed related commits together Added tests Added an entry to the Changelog if the new code introduces userobservable changes See changelog entry format The PR relates to only one subject with a clear title and description in grammatically correct complete sentences Run bundle exec rake default It executes all tests and RuboCop for itself and generates the documentation Given the following example Rubocops StyleIdenticalConditionalBranches flags that the repeated statement should be hoisted out of the conditional But to do so would change the logic of the program ruby frozenstringliteral true class SideEffectClass attrreader animal def shoulddosomething animal rand Dog Cat rand end end sideeffect SideEffectClassnew if sideeffectshoulddosomething animal sideeffectanimal puts animal should do something else animal sideeffectanimal puts animal should not do something end Expected behavior Rubocop should not flag this code Actual behavior rubocop Inspecting file C Offenses errorrb C StyleDocumentation Missing toplevel class documentation comment class SideEffectClass errorrb C StyleIdenticalConditionalBranches Move animal sideeffectanimal out of the conditional animal sideeffectanimal errorrb C StyleIdenticalConditionalBranches Move animal sideeffectanimal out of the conditional animal sideeffectanimal file inspected offenses detected Steps to reproduce the problem See above RuboCop version rubocop v 