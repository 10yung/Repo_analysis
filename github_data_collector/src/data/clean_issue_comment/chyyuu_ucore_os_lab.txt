The missing resulted in the problem that make grade was not able to get full mark in lab kdebugc printstackframevoid uint tcalling arguments the contents in address uint tebp args When running make qemu for lab it fails with the following error switch to user mode page fault at xc UR protection fault not valid addr c and can not find it in vma trapframe at xc fb edi x c esi x ebp xc fa oesp xc fd ebx x edx xc f ecx x eax x e ds x es x fs x gs x trap x e Page Fault err x eip xc cs x b flag x PFSFIFIOPL esp x f ss x kernel panic at kerntraptrapc handle pgfault failed invalid parameter This happens when lab switchtest is invoked I noticed that in lab answers lab switchtest is commented I wonder why switching between userkernel mode cause error in lab BTW in order to make sure that the problem is not caused by my own lab code I completed the kerneluser mode switch part in lab answer code The same error occurs Ive tried running make grade for lab lab the lab codesanswers not my own code and they all fails with Error Platform macOs Catalina lab result Check Output s check ring no qemuout check switch to ring no qemuout check switch to ring no qemuout check ticks no qemuout Total Score make grade Error lab result Check PMM s check pmm no qemuout check page table no qemuout check ticks no qemuout Total Score make grade Error lab result Check SWAP s check pmm no qemuout check page table no qemuout check vmm no qemuout check swap page fault no qemuout check ticks no qemuout Total Score make grade Error Lab RPL DPL kernmmdefaultpmmc LAB EXERCISE YOUR CODE you should rewrite functions defaultinit defaultinitmemmap defaultallocpages defaultfreepages cc arm x x intel at t Replace BBL by OpenSBI Fix ecall SYSEXEC in SMode due to BBL OpenSBI Update README Fix sfencevm sfencevma Switch to riscv toolchain Replace BBL by OpenSBI Fix ecall SYSEXEC in SMode due to BBL OpenSBI Add Travis CI build pass Update README f BIOS virtualization enable virtualization 