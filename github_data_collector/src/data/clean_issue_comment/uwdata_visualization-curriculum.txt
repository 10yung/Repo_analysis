This Altair tutorial is easily the most comprehensive one I have ever seen and such a great primer for beginners like me However there is a tricky task in one of those notebooks which Im running into Putting into action what weve learned so far can you modify the movie scatter plot above the one with the dynamic query over years to include a rule mark that shows the average IMDB or Rotten Tomatoes rating for the data contained within the year interval selection Heres my approach to the problem python brush altselectioninterval encodings x limit selection to xaxis year values dynamic query histogram years altChartmoviesmarkbaraddselection brush encode altXyearReleaseDateT titleFilms by Release Year altYcountQ titleNone properties width height scatter plot modify opacity based on selection ratings altChartmoviesmarkcircleencode xRottenTomatoesRatingQ yIMDBRatingQ tooltipTitleN opacityaltconditionbrush altvalue altvalue properties width height ratingsmean altChartmoviesmarkrulecoloraaaencode ymeanIMDBRatingQ transformfilter brush altvconcatyears ratingsratingsmeanpropertiesspacing which throws me Javascript Error Undefined data set name concat layer main Since the error does not have any traceback I have no idea how to troubleshoot and get stuck Could you please help me with that Hi I took the freedom to add those great Notebooks to Nextjournal It has a nice way to publish notebooks and remembers all installed software so all notebooks just run If you already have an account I can also transfer the ownership of those notebooks to you Best Simon like in The current example in the notebook doesnt make it clear which variable is which mark Its ok for people who follow the tutorial as they created it themselves but once they copy this example to create charts and share with other audience it would be confusing 