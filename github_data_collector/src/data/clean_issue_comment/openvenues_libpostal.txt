Currently its not possible to have multiple instances of libpostal in one process Even worst if you want to change the datadir youre changing it for everything It also brings multithreading conflicts Wouldnt it be possible to returns objects and expect this object in all functions using this object instead Having an instance for each kind would prevent all the previously mentioned issues but would also make it more clear in the API which function is using which initializer What do you think PS it would pretty simple to prevent freeing a context whereas some children of this context are still running For example not being able to use libpostalsetup as long as all children generated by libpostalsetupparser or libpostalsetuplanguageclassifier are not freed I am trying to install postal package using pip install postal I am following the steps mentioned in link I have installed Visual Studio C Build Tools and MSYS and performed the step mentioned in above link git clone cd libpostal cp rf windows bootstrapsh configure datadir some dir with a few GB of space make j make install Please find the logs I am getting while installing the postal package in python base C Users Praveenpip install postal Collecting postal Using cached Requirement already satisfied six in c programdata anaconda lib sitepackages from postal Building wheels for collected packages postal Building wheel for postal setuppy error ERROR Command errored out with exit status command C ProgramData Anaconda pythonexe u c import sys setuptools tokenize sysargv C Users Praveen AppData Local Temp pipinstall sens xe postal setuppy fileC Users Praveen AppData Local Temp pipinstall sens xe postal setuppyfgetattrtokenize open openfilecodefreadreplace r n nfcloseexeccompilecode file exec bdistwheel d C Users Praveen AppData Local Temp pipwheele vpt y pythontag cp cwd C Users Praveen AppData Local Temp pipinstall sens xe postal Complete output lines running bdistwheel running build running buildpy creating build creating build libwinamd creating build libwinamd postal copying postal dedupepy build libwinamd postal copying postal expandpy build libwinamd postal copying postal neardupepy build libwinamd postal copying postal normalizepy build libwinamd postal copying postal parserpy build libwinamd postal copying postal tokenizepy build libwinamd postal copying postal tokentypespy build libwinamd postal copying postal initpy build libwinamd postal creating build libwinamd postal tests copying postal tests testexpandpy build libwinamd postal tests copying postal tests testparserpy build libwinamd postal tests copying postal tests testneardupespy build libwinamd postal tests copying postal tests initpy build libwinamd postal tests creating build libwinamd postal utils copying postal utils encodingpy build libwinamd postal utils copying postal utils enumpy build libwinamd postal utils copying postal utils omittedpy build libwinamd postal utils copying postal utils initpy build libwinamd postal utils copying postal pyutilsh build libwinamd postal running buildext building postalexpand extension creating build tempwinamd creating build tempwinamd Release creating build tempwinamd Release postal C Program Files x Microsoft Visual Studio BuildTools VC Tools MSVC bin HostX x clexe c nologo Ox W GL DNDEBUG MD Iusrlocalinclude IC ProgramData Anaconda include IC ProgramData Anaconda include IC Program Files x Microsoft Visual Studio BuildTools VC Tools MSVC include IC Program Files x Windows Kits include ucrt IC Program Files x Windows Kits include shared IC Program Files x Windows Kits include um IC Program Files x Windows Kits include winrt IC Program Files x Windows Kits include cppwinrt Tcpostalpyexpandc Fobuild tempwinamd Release postalpyexpandobj stdc cl Command line warning D ignoring unknown option stdc pyexpandc postalpyexpandc fatal error C Cannot open include file libpostallibpostalh No such file or directory error command C Program Files x Microsoft Visual Studio BuildTools VC Tools MSVC bin HostX x clexe failed with exit status ERROR Failed building wheel for postal Running setuppy clean for postal Failed to build postal Installing collected packages postal Running setuppy install for postal error ERROR Command errored out with exit status command C ProgramData Anaconda pythonexe u c import sys setuptools tokenize sysargv C Users Praveen AppData Local Temp pipinstall sens xe postal setuppy fileC Users Praveen AppData Local Temp pipinstall sens xe postal setuppyfgetattrtokenize open openfilecodefreadreplace r n nfcloseexeccompilecode file exec install record C Users Praveen AppData Local Temp piprecordk kr uk installrecordtxt singleversionexternallymanaged compile cwd C Users Praveen AppData Local Temp pipinstall sens xe postal Complete output lines running install running build running buildpy creating build creating build libwinamd creating build libwinamd postal copying postal dedupepy build libwinamd postal copying postal expandpy build libwinamd postal copying postal neardupepy build libwinamd postal copying postal normalizepy build libwinamd postal copying postal parserpy build libwinamd postal copying postal tokenizepy build libwinamd postal copying postal tokentypespy build libwinamd postal copying postal initpy build libwinamd postal creating build libwinamd postal tests copying postal tests testexpandpy build libwinamd postal tests copying postal tests testparserpy build libwinamd postal tests copying postal tests testneardupespy build libwinamd postal tests copying postal tests initpy build libwinamd postal tests creating build libwinamd postal utils copying postal utils encodingpy build libwinamd postal utils copying postal utils enumpy build libwinamd postal utils copying postal utils omittedpy build libwinamd postal utils copying postal utils initpy build libwinamd postal utils copying postal pyutilsh build libwinamd postal running buildext building postalexpand extension creating build tempwinamd creating build tempwinamd Release creating build tempwinamd Release postal C Program Files x Microsoft Visual Studio BuildTools VC Tools MSVC bin HostX x clexe c nologo Ox W GL DNDEBUG MD Iusrlocalinclude IC ProgramData Anaconda include IC ProgramData Anaconda include IC Program Files x Microsoft Visual Studio BuildTools VC Tools MSVC include IC Program Files x Windows Kits include ucrt IC Program Files x Windows Kits include shared IC Program Files x Windows Kits include um IC Program Files x Windows Kits include winrt IC Program Files x Windows Kits include cppwinrt Tcpostalpyexpandc Fobuild tempwinamd Release postalpyexpandobj stdc cl Command line warning D ignoring unknown option stdc pyexpandc postalpyexpandc fatal error C Cannot open include file libpostallibpostalh No such file or directory error command C Program Files x Microsoft Visual Studio BuildTools VC Tools MSVC bin HostX x clexe failed with exit status ERROR Command errored out with exit status C ProgramData Anaconda pythonexe u c import sys setuptools tokenize sysargv C Users Praveen AppData Local Temp pipinstall sens xe postal setuppy fileC Users Praveen AppData Local Temp pipinstall sens xe postal setuppyfgetattrtokenize open openfilecodefreadreplace r n nfcloseexeccompilecode file exec install record C Users Praveen AppData Local Temp piprecordk kr uk installrecordtxt singleversionexternallymanaged compile Check the logs for full command output I have downloaded the complete libpostal package from this directory but still not able to find the executable file and not able to provide the exact directory which will keep DAT trained file Using below command configure datadir some dir with a few GB of space So after going inside the code I realized that labels and values were actually suppose to work together aka labels works with values Therefore why not returning an array of a struct pairing the two elements together It took me a while to understand how to use it and I cant its been a nice moment Still glad that this library exists though and hope itll only get better Hi Theres an open PR to make a conda package from libpostal Unfortunately its abandoned but Id like to pick it up and finish it Just want to check is this ok for you Ill be the maintainer should not be work from your side afaik Hi guys I am not familiar with libpostal Does it support to convert a normalized address to a free text eg housenumber road sansome st city san francisco state ca Sansome St San Francisco CA Hi I was checking out libpostal and saw something that could be improved My country is United States Heres how Im using libpostal Parsing addresses into their components for normalization Heres what I did Attempted to parse some addresses but found that the housenumber component was not properly parsed into the address components but remained in the road component NOTE The addresses I am putting below have been slightly changed as they come from our customer data the house and unit numbers were changed but the same behavior is exhibited for both the anonymized data as well as the actual data Heres what I got Riverlook Pkwy SE Unit Marietta GA road riverlook pkwy se unit unit city marietta state ga postcode Guibor Ct NW Kennesaw GA road guibor ct nw city kennesaw state ga postcode Heres what I was expecting Riverlook Pkwy SE Unit Marietta GA housenumber road riverlook pkwy se unit unit city marietta state ga postcode Guibor Ct NW Kennesaw GA housenumber road guibor ct nw city kennesaw state ga postcode Note that if I change the house number for these addresses to be a different length I do get what I would expect Riverlook Pkwy SE Unit Marietta GA housenumber road riverlook pkwy se unit unit city marietta state ga postcode Guibor Ct NW Kennesaw GA housenumber road guibor ct nw city kennesaw state ga postcode For parsing issues please answer yes or no to all that apply Does the input address exist in OpenStreetMap No the nonanonymized versions of these addresses are real and do exist though Do all the toponyms exist in OSM city state region names etc yes citystate If the address uses a rareuncommon format does changing the order of the fields yield the correct result I dont believe these to be in an unusual format but changing the house number digit length does appear to work as expected If the address does not contain city region etc does adding those fields to the input improve the result na If the address contains apartmentfloorsubbuilding information or uncommon formatting does removing that help Is there any minimum form of the address that gets the right parse No Riverlook Pkwy SE Marietta GA road riverlook pkwy se city marietta state ga postcode Heres what I think could be improved Overall this is a wonderful library but it would be great to have these small issues fixed Hi Team I am using libpostal to expand address I ran into a case where libpostal doesnt do any sort of expanding Here is the example and how to reproduce example address S J St Fl Tacoma WA US when I run the following command srclibpostal S J St Fl Tacoma WA US The results that I get back are s j st fl tacoma wa us s j st fl tacoma wa us s j st fl tacoma wa us s j st fl tacoma wa us s j st fl tacoma wa us s j st fl tacoma wa us s j st fl tacoma wa us s j st fl tacoma wa us It doesnt seem to be doing any sort of expanding and is returning multiple copies any help would be greatly appreciated Thanks Hi I was checking out libpostal and saw something that could be improved My country is India Heres how Im using libpostal I have created a libpostal API which I am using in my java code API uses below maven dependency orgbytedeco libpostalplatform alpha Heres what I did I have deployed my code on an AWS machine Heres what I got When the service is running after a few days or few requests the service went down with the attached error I have to redeploy it again to make it work But if the issue persists Itll be a problem for me to always check and redeploy it Heres what I was expecting I am expecting my service to be running until I stop it Attaching the log file for the error hserrpid log Core Dump coredumplog Hi I tried making libpostal work with C but after compilation of libpostal into a dll and trying to load it via C code it shows this error Could not copy the file libpostaldll because it was not found I wasnt able to find anything on the web about this error Let me know how to fix it Hi I was checking out libpostal and saw something that could be improved I am testing a Korean address Heres how Im using libpostal I have created a libpostal API which I am using in my java code API uses below maven dependency dependency groupIdorgbytedecogroupId artifactIdlibpostalplatformartifactId version alpha version dependency Heres what I did Address passed to libpostal GRAND HYATT INCHEON Yeongjonghaeannamro Beongil Junggu Incheon Korea Heres what I got house grand hyatt incheon housenumber road yeongjonghaeannamro beongil citydistrict junggu city incheon postcode city korea Heres what I was expecting city incheon But I got two cities Incheon and Korea Korea is a country For parsing issues please answer yes or no to all that apply Does the input address exist in OpenStreetMap No Do all the toponyms exist in OSM city state region names etc Dont know If the address uses a rareuncommon format does changing the order of the fields yield the correct result Yes Example Address GRAND HYATT INCHEON Yeongjonghaeannamro Beongil Junggu Incheon Korea Result house grand hyatt incheon housenumber road yeongjonghaeannamro beongil junggu postcode city incheon country korea If the address does not contain city region etc does adding those fields to the input improve the result If the address contains apartmentfloorsubbuilding information or uncommon formatting does removing that help Is there any minimum form of the address that gets the right parse Heres what I think could be improved Korean addresses 