Can we have a separate package for the native version instead of using native This causes the package to always show up as outdated when running yarn outdated img width altScreen Shot at am src It also causes the nonnative version from installing by default if there isnt a lock file Thanks I would love to see a feature where the queue retried all items in the queue every time I find that when one request fails all the following requests arent retried Ex Send request get a error at the service level Next queued requests are not run until the above request is eventually resolved Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details TypeScript issue with discard function returning a Promiseboolean The app is running fine with no issues so far but I was wondering if this is of any concern thanks Version reduxofflinereduxoffline native js Type error any action OfflineAction retries number Promiseboolean is not assignable to type error any action OfflineAction retries number boolean Type Promiseboolean is not assignable to type boolean js const discard async error any action OfflineAction retries number Promiseboolean const response error if responsestatus const success await refreshToken return success return responsestatus responsestatus Description When using reduxoffline in a reactnative app while a vpn is active on a device the offline section reports online false and therefore no requests are executed In such a case NetInfo itself reports the following js details isConnectionExpensive false isInternetReachable true isConnected true type vpn Could it be that reduxoffline checks for the type but doesnt handle vpn as a case there Maybe you can point me in a direction to help identify the problem or even fix it I appreciate the work you are doing here its a huge help Additional Info Version reduxofflinereduxoffline native Are you using offline or createOffline API If youre using createOffline API be sure to use compose in the right order Im using createOffline Store config Please paste your config below Happy to provide this info if it gets relevant its a complex structure Offline config Are you using a custom configuration If you are please paste your config below js import defaultOfflineConfig from reduxofflinereduxofflinelibdefaults const config store offline persistOptions storage AsyncStorage whitelist someModules createOffline defaultOfflineConfig configstoreoffline effect a complex function and not relevant for the issue queue queue a function not relevant for the issue enqueueMultipleBlacklist someModulespecificaction retry a complex function and not relevant for the issue If you need code indentation you can use Prettier Are you reporting a bug If youve detected a bug and are able to reproduce it please share a code example using our codesandbox This issue occurs in a React Native app Hey everyone Just curious if the maintainers of this repo have any suggestions as to good first issues for a new contributor to help move the project forward Ive been using redux offline in react native a lot at work and want to try improving it a bit but dont want to waste my time on something inconsequential or that will never get merged Thanks this has been a really useful project for me Expo bumped the React Native version above thus requiring the native branch Unfortunately the native branch also switches to using reactnativecommunityasyncstorage which is not supported by expo This pull request restores support for Expo by moving back to the deprecated import AsyncStorage from reactnative until such a time that Expo adds support I am unsure whether the community would want to move back to reactnative AsyncStorage since it is deprecated but for the significant number of developers using managed Expo they cannot use reactnativecommunityasyncstorage until Expo chooses to support it It might be best to put this on its own branch or simply leave it here so other developers who upgrade to Expo can still figure out how to use redux offline with Expo Im still somewhat new to reduxoffline so if I missed anything please let me know Hi were using AWS AppSync and its offline capability which currently uses ReduxOffline I havent put in the details about the config etc as were using the standard AWS AppSyncApollo configuration Weve built a ReactNative in fact Expo app for engineers are working in various locations where G signal is intermittent and Almost all the time this works really really well GraphQL mutations get queued up when the app is offline and replayed when its online However a few engineers have reported that the updates arent reaching the server Weve now managed to reproduce this behaviour Set the device iOS or Android it doesnt matter to Airplane mode Use the app to create lots of queued mutations say Switch off airplane mode and connect back to Wifi While the mutations are playing kill the app its obviously important to do this before all the mutations have been played Often but not always well now be in a state where the queue is stuck We cant find anything to do to budge it Going on and offline makes no difference Killing and restarting the app again also Anything else we could try The only thing weve found is dispatching the RESET action which clears the queue but thats not much good it makes the App work again but at the cost of having lost all those updates Using the RNDebugger we can see the offline queue and we can see that there are retries and sometimes the store says its busy but not always It also seems to be scheduling retries but nothing budges in the queue Can anyone suggest what might be going wrong How can I diagnose the problem Could it be that some metadata is getting changed in preparation to being sent to the server and then the fact that its being killed midway through means its in a messed up state and so each time you retry it cant get over this first item in the queue Is there any way we could detect this and repair it Thanks using offline API Store config Please paste your config below js import createStore applyMiddleware compose from redux import createSagaMiddleware from reduxsaga import offline from reduxofflinereduxoffline import offlineConfig from reduxofflinereduxofflinelibdefaults import rootReducer from modulesrootReducer import rootSaga from modulesrootSaga const sagaMonitor DEV consoletroncreateSagaMonitor null const sagaMiddleware createSagaMiddleware sagaMonitor const enhancer DEV compose consoletroncreateEnhancer applyMiddlewaresagaMiddleware offlineofflineConfig composeapplyMiddlewaresagaMiddleware offlineofflineConfig const store createStorerootReducer enhancer sagaMiddlewarerunrootSaga export default store Try using the versions but with BUG reactnativecommunitynetinfo reduxofflinereduxoffline native I have the following error message Message error LOG Running reportBugOffline with rootTag WARN Possible Unhandled Promise Rejection id TypeError netinfodefaultgetConnectionInfo is not a function In netinfodefaultgetConnectionInfo netinfodefaultgetConnectionInfo is undefined callee tryCatch invoke asyncGeneratorStep next tryCallTwo doResolve Promise DetectNetwork default loadModuleImplementation loadModuleImplementation loadModuleImplementation guardedLoadModule global code WARN Possible Unhandled Promise Rejection id TypeError netinfodefaultgetConnectionInfo is not a function In netinfodefaultgetConnectionInfo netinfodefaultgetConnectionInfo is undefined callee tryCatch invoke asyncGeneratorStep next tryCallTwo doResolve Promise emit callFunction guard callFunctionReturnFlushedQueue callFunctionReturnFlushedQueue native code Offline config The Bug apparently comes from updating reactnativenetinfo The error occurs when you use the packagejson reactnativecommunity netinfo reduxoffline reduxoffline native however when a version is used reactnativecommunity netinfo reduxoffline reduxoffline native Capturar Reactnative info info Fetching system and libraries information System OS Windows CPU x IntelR CoreTM i CPU GHz Memory MB GB Binaries Node C Program Files nodejs nodeEXE Yarn C Program Files x Yarn bin yarnCMD npm C Program Files nodejs npmCMD SDKs Android SDK API Levels Build Tools System Images android ARM EABI v a android Google APIs ARM EABI v a android Google APIs Intel x Atom android Google APIs Intel x Atom android ARM EABI v a android Google APIs ARM EABI v a android Google APIs ARM v a android Google APIs ARM EABI v a android Google APIs Intel x Atom android Google Play Intel x Atom android Google APIs Intel x Atom android Google APIs Intel x Atom android Google Play Intel x Atom Android NDK IDEs Android Studio Version AI npmPackages react reactnative Repository reproduce Repository with Bug 