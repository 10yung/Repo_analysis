GRR uses PyInstaller for distributing installable packages PyInstaller is in urgent need of funding If reasonable funding is not achieved for PyInstaller until end of January htgoebel will retire as an maintainer This basically means Unless somebody else steps in there will be nobody reviewing any pullrequest there will be not improvement and sooner or later you will not be able to use PyInstaller any more For details see Because GDPR I have the SQL database and GRR in separated machines in different VLANS with a firewall between them The problem is that the firewall has a waiting time that kills the sessions from a certain time So the connection between the GRR and the SQL server is established only once When the firewall kills the session an exception is generated and no attempt is made again to establish it so that service stops working Is this something I can solve by modifying the GRR configuration or is it inherent in the code oauth client is deprecated Note at the moment oauth client is missing from project dependencies list which breaks the bigquery output plugin Whichever alternative PIP package is used as a replacement it should be specified in grrresponseserver setuppy dependency list Testing Grr HEAD on Centos and it fails on grrserver mysqldatastore install failed localhost itemgrrserver mysqldatastore ansibleloopvar item changed true cmd source usrlocalshareenvgrrbinactivate pip install e grrserver mysqldatastore progressbar off delta end item grrserver mysqldatastore msg nonzero return code rc start stderr ERROR Command errored out with exit status command usrlocalshareenvgrrbinpython u c import sys setuptools tokenize sysargv tmppipinstallzlc xs mmysqlclientsetuppy file tmppipinstallzlc xs mmysqlclientsetuppy fgetattrtokenize open openfilecodefreadreplace r fcloseexeccompilecode file exec bdistwheel d tmppipwheela racjve pythontag cp cwd tmppipinstallzlc xs mmysqlclient Complete output lines running bdistwheel running build running buildpy creating build creating buildliblinuxx copying mysqlexceptionspy buildliblinuxx creating buildliblinuxx MySQLdb copying MySQLdbinitpy buildliblinuxx MySQLdb copying MySQLdbcompatpy buildliblinuxx MySQLdb copying MySQLdbconnectionspy buildliblinuxx MySQLdb copying MySQLdbconverterspy buildliblinuxx MySQLdb copying MySQLdbcursorspy buildliblinuxx MySQLdb copying MySQLdbreleasepy buildliblinuxx MySQLdb copying MySQLdbtimespy buildliblinuxx MySQLdb creating buildliblinuxx MySQLdbconstants copying MySQLdbconstantsinitpy buildliblinuxx MySQLdbconstants copying MySQLdbconstantsCLIENTpy buildliblinuxx MySQLdbconstants copying MySQLdbconstantsCRpy buildliblinuxx MySQLdbconstants copying MySQLdbconstantsERpy buildliblinuxx MySQLdbconstants copying MySQLdbconstantsFIELDTYPEpy buildliblinuxx MySQLdbconstants copying MySQLdbconstantsFLAGpy buildliblinuxx MySQLdbconstants copying MySQLdbconstantsREFRESHpy buildliblinuxx MySQLdbconstants running buildext building mysql extension creating buildtemplinuxx gcc pthread Wnounusedresult Wsigncompare DDYNAMICANNOTATIONSENABLED DNDEBUG O g pipe Wall Werrorformatsecurity WpDFORTIFYSOURCE WpDGLIBCXXASSERTIONS fexceptions fstackprotectorstrong grecordgccswitches specsusrlibrpmredhatredhathardenedcc specsusrlibrpmredhatredhatannobincc m mtunegeneric fasynchronousunwindtables fstackclashprotection fcfprotection DGNUSOURCE fPIC fwrapv fPIC Dversioninfo final Dversion Iusrincludemysql Iusrincludemysqlmysql Iusrlocalshareenvgrrinclude Iusrincludepython m c mysqlc o buildtemplinuxx mysqlo In file included from mysqlc usrincludemysqlmyconfigh warning warning This file should not be included by clients include only mysqlh Wcpp warning This file should not be included by clients include only mysqlh mysqlc In function mysqlConnectionObjectping mysqlc error MYSQL aka struct stmysql has no member named reconnect if reconnect selfconnectionreconnect reconnect error command gcc failed with exit status ERROR Failed building wheel for mysqlclient ERROR Command errored out with exit status from and mariadbconfig seems matching the above include says it is unmaintained not sure if correct dependence any advice Thanks Bumps angular from to details summaryChangelogsummary Sourced from angulars changelog pollutioneradication Bug Fixes angularmerge do not merge proto property f brThanks to the Snyk Security Research Team for identifyng this issue ngStyle correctly remove old style when new style value is invalid edd a name a details details summaryCommitssummary d c docs release notes for b c docscompile fix typos and incorrect example f d fixangularmerge do not merge proto property a f choresaucelabs switch to latest version of desktop Safari d e f choresaucelabs upgrade SauceConnect to e a docsguidemigration fix typo misceallenous miscellaneous edd fixngStyle correctly remove old style when new style value is invalid dded chore update jQuery from to be chore make yarnlock GitHub templates identical between master v x f docsDEVELOPERS remove git revert misleading information Additional commits viewable in compare view details details summaryMaintainer changessummary This version was pushed to npm by petebacondarwin a new releaser for angular since your current version details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Hi all uname a info is Linux VM ubuntu generic Ubuntu SMP Mon Jun UTC x x x GNULinux And I got grr by the command wget my grr version is I install grr according to this page Installing from a release server deb recommended but I changed some steps I am using the MySQL instance provided by a Public Cloud not the selfbuilt MySQL on the same server The value of maxallowedpacket is more than I change the command fromCREATE USER grrlocalhost IDENTIFIED BY password to CREATE USER grr IDENTIFIED BY password and GRANT ALL ON grr TO grr because the grr user of the database should be able to log in remotely I used root of MySQL when I installing grr because it recommended me to use I dont know if this is correct and now my problem is The client sometimes does not work properly Like the picture I attached hostinfo error hostinfoerror It stuck at the stage of host information collection stage and a lot of host information can not be collected like Memory Size Users MAC Folw created by GRRWorker is always running but no result I found some OperationalError MySQL server has gone away in both grrhttpserverlog and grrworkerlog but Mysql is actually working properly example of grrworkerlog ERROR MainProcess flowprocessingrequesthandler mysqlflows FlowProcessingRequestHandlerLoop raised MySQL server has gone away Traceback most recent call last File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesmysqlflowspy line in FlowProcessingRequestHandlerLoop msgs selfLeaseFlowProcessingReqests File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesdbutilspy line in Decorator result fargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesmysqlutilspy line in Decorated return selfRunInTransactionClosure readonly File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesmysqlpy line in RunInTransaction connectionrollback File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesmysqlpoolpy line in rollback selfconrollback OperationalError MySQL server has gone away example of grrhttpserverlog ERROR MainProcess Thread frontend Had to respond with status Traceback most recent call last File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinfrontendpy line in doPOST selfControl File usrsharegrrserverlocallibpython sitepackagesgrrresponsecorestatsstatsutilspy line in Decorated return funcargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponsecorestatsstatsutilspy line in Decorated return funcargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinfrontendpy line in Control requestcomms responsescomms File usrsharegrrserverlocallibpython sitepackagesgrrresponsecorestatsstatsutilspy line in Decorated return funcargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponsecorestatsstatsutilspy line in Decorated return funcargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverfrontendlibpy line in HandleMessageBundles requestcomms File usrsharegrrserverlocallibpython sitepackagesgrrresponsecorelibcommunicatorpy line in DecodeMessages remotepublickey selfGetRemotePublicKeysource File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverfrontendlibpy line in GetRemotePublicKey md datastoreRELDBReadClientMetadataremoteclientid File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesdbpy line in ReadClientMetadata result selfMultiReadClientMetadata clientid File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesdbpy line in MultiReadClientMetadata return selfdelegateMultiReadClientMetadataclientids File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesdbutilspy line in Decorator result fargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesmysqlutilspy line in Decorated return selfRunInTransactionClosure readonly File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesmysqlpy line in RunInTransaction connectionrollback File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdatabasesmysqlpoolpy line in rollback selfconrollback and I find a lot of error log in grrhttpserverlog like this ERROR MainProcess Thread frontend Had to respond with status Traceback most recent call last File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinfrontendpy line in doPOST selfControl File usrsharegrrserverlocallibpython sitepackagesgrrresponsecorestatsstatsutilspy line in Decorated return funcargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponsecorestatsstatsutilspy line in Decorated return funcargs kwargs File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinfrontendpy line in Control selfSendresponsescommsSerializeToBytes File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinfrontendpy line in Send selfwfilewriteheaderencodeutf File usrlibpython socketpy line in write selfflush File usrlibpython socketpy line in flush selfsocksendallview writeoffsetwriteoffsetbuffersize error Errno Connection reset by peer Thank you very much use the source code installation documents but stacked here Running setuppy develop for grrresponseserver ERROR Command errored out with exit status command rootINSTALLbinpython c import sys setuptools tokenize sysargv rootgrrgrrserversetuppy filerootgrrgrrserversetuppyfgetattrtokenize open openfilecodefreadreplace r n nfcloseexeccompilecode file exec develop nodeps cwd rootgrrgrrserver Complete output lines rootINSTALLlibpython sitepackagessetuptoolsdistpy UserWarning Normalizing post to post normalizedversion running develop corejs postinstall rootgrrgrrservergrrresponseserverguistaticnodemodulescorejs node scriptspostinstall echo ignore sh node command not found ignore grpc install rootgrrgrrservergrrresponseserverguistaticnodemodulesgrpc nodepregyp install fallbacktobuild librarystaticlibrary sh nodepregyp command not found npm ERR code ELIFECYCLE npm ERR syscall spawn npm ERR file sh npm ERR errno ENOENT npm ERR grpc install nodepregyp install fallbacktobuild librarystaticlibrary npm ERR spawn ENOENT npm ERR npm ERR Failed at the grpc install script npm ERR This is probably not a problem with npm There is likely additional logging output above npm ERR A complete log of this run can be found in npm ERR rootnpmlogs T Zdebuglog Traceback most recent call last File string line in module File rootgrrgrrserversetuppy line in module setupsetupargs File rootINSTALLlibpython sitepackagessetuptoolsinitpy line in setup return distutilscoresetupattrs File rootpython libpython distutilscorepy line in setup distruncommands File rootpython libpython distutilsdistpy line in runcommands selfruncommandcmd File rootpython libpython distutilsdistpy line in runcommand cmdobjrun File rootgrrgrrserversetuppy line in run makeuifiles File rootgrrgrrserversetuppy line in makeuifiles npm ci shellTrue cwdgrrresponseserverguistatic File rootpython libpython subprocesspy line in checkcall raise CalledProcessErrorretcode cmd subprocessCalledProcessError Command npm ci returned nonzero exit status ERROR Command errored out with exit status rootINSTALLbinpython c import sys setuptools tokenize sysargv rootgrrgrrserversetuppy filerootgrrgrrserversetuppyfgetattrtokenize open openfilecodefreadreplace r n nfcloseexeccompilecode file exec develop nodeps Check the logs for full command output cant understand this problem It would be nice to be able to delete clients from the UI preferably on the search page Changed the name of the executable and process name to PRO and it breaks on repack first saying it is not created so I created the folder and it still breaks Repacked into usrsharegrrserverexecutablesinstallersPRO Traceback most recent call last File usrsharegrrserverbingrrconfigupdater line in module sysexitConfigUpdater File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdistroentrypy line in ConfigUpdater configupdaterRun File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinconfigupdaterpy line in Run apprunmain flagsparserlambda argv parserparseargsargv File usrsharegrrserverlocallibpython sitepackagesabslapppy line in run runmainmain args File usrsharegrrserverlocallibpython sitepackagesabslapppy line in runmain sysexitmainargv File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinconfigupdaterpy line in main repackingTemplateRepackerRepackAllTemplatesuploadupload File usrsharegrrserverlocallibpython sitepackagesgrrresponseclientbuilderrepackingpy line in RepackAllTemplates uploadupload File usrsharegrrserverlocallibpython sitepackagesgrrresponseclientbuilderrepackingpy line in RepackTemplate openresultpath rbread IOError Errno No such file or directory uusrsharegrrserverexecutablesinstallersPRO rootGRR BGetcmysqlmysqlconfd mkdir usrsharegrrserverexecutablesinstallersPRO rootGRR BGetcmysqlmysqlconfd grrconfigupdater repackclients I serverloggingpy Writing log file to usrsharegrrserverlibpython sitepackagesgrrresponsecorevarlogGRRlogtxt Using configuration GrrConfigManager fileusrsharegrrserverinstalldataetcgrrserveryaml fileetcgrrserverlocalyaml Repacking template usrsharegrrservergrrresponsetemplatestemplatesgrr amd debzip Using context uClientBuilder Context uClientBuilder Context uArchamd uPlatformLinux uTargetLinux uTargetLinuxDeb uTargetLinux and labels Repacked into usrsharegrrserverexecutablesinstallersPRO Traceback most recent call last File usrsharegrrserverbingrrconfigupdater line in module sysexitConfigUpdater File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverdistroentrypy line in ConfigUpdater configupdaterRun File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinconfigupdaterpy line in Run apprunmain flagsparserlambda argv parserparseargsargv File usrsharegrrserverlocallibpython sitepackagesabslapppy line in run runmainmain args File usrsharegrrserverlocallibpython sitepackagesabslapppy line in runmain sysexitmainargv File usrsharegrrserverlocallibpython sitepackagesgrrresponseserverbinconfigupdaterpy line in main repackingTemplateRepackerRepackAllTemplatesuploadupload File usrsharegrrserverlocallibpython sitepackagesgrrresponseclientbuilderrepackingpy line in RepackAllTemplates uploadupload File usrsharegrrserverlocallibpython sitepackagesgrrresponseclientbuilderrepackingpy line in RepackTemplate openresultpath rbread IOError Errno Is a directory uusrsharegrrserverexecutablesinstallersPRO Debug version should write a local log for logs so we can troubleshoot compatibility with clients say a new win update