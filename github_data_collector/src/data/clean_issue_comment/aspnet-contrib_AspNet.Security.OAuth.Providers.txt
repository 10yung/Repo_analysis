Im trying to get the access token after logging in to GitHub in order to use octokitnet to query user related information Logging in works and I can see the usual claims But Im not able to find the access token So far I checked the history of the GitHub provider in this repository and saw that in there was a SaveTokens property which was eventually removed later in favor of SaveTokensAsClaims However this was also removed but I couldnt find any explanation why or what the correct way is now I also found and but I do not fully understand where signInManager comes from and how to use GetExternalLoginInfoAsync From what I saw this is somehow cookie related Or is there another way to use octokitnet for user related info with this GitHub OAauth provider Issue aspnetcontribAspNetSecurityOAuthProviders The Deezer OAuth Provider was implemented Documentation Deezer API OAuth APP Registration at Deezer Developer My Apps The Deezer API Permission is set by default to basicaccess allow to access users basic information name firstname profile picture and does not allow to get the email Here is the config with the email permission using AspNetSecurityOAuthDeezer public void ConfigureServicesIServiceCollection services servicesAddRouting servicesAddAuthenticationoptions optionsDefaultScheme CookieAuthenticationDefaultsAuthenticationScheme AddCookieoptions optionsLoginPath signin optionsLogoutPath signout AddDeezeroptions optionsAppId appid optionsSecret secret optionsScopeAddDeezerAuthenticationConstantsScopesEmail servicesAddMvcSetCompatibilityVersionCompatibilityVersionVersion I am going to implement an LastFM Provider The standard is not defined in the docs but it looks very like OAuth Documentation Lastfm Web Services Authentication API I am going to implement an OAuth Provider with the Deezer API Documentation Deezer API OAuth Add DingTalk provider Add DingTalk provider and unit test Update READMEmd Is your feature request related to a problem Please describe At least discord and possibly some other providers requires users choosing to sign in with that provider to authorize every time even after the initial registration and authorization Discords API documentation mentions setting the prompt to none to avoid that authorization request except in certain required circumstances which I assume means initially authorizing an app Currently theres no easy or visible way to set the prompt field of the oauth request Ive seen mention of setting it via optionsPrompt for the Azure AD provider but none of the others Ive looked at in this project have that option available Describe the solution youd like Id like to be able to set OauthOptionsPrompt to none or another valid string and have it pass that selected value as part of the oauth request Using constants would be fine too Describe alternatives youve considered Ive done some googling on how to modify the url in the request before it leaves my site but to no avail Added Discord claim types and mappings for Avatars Discord User Discriminator This PR updates Arcade and the NET Core SDK to support NET Core It also updates the providers and tests to dualtarget netcoreapp and netcoreapp the idea being that of the providers will explicitly support both then after goes out of support in March we can just target netcoreapp The sample client is updated to only support netcoreapp Signedoffby vicenteyu add alipay provider Using AddApple with optionsUsePrivateKey throws WindowsCryptographicException The system cannot find the file specified during oauth flow The p file used is not the reason as exception happens after its been read InternalCryptographyCryptoThrowHelperWindowsCryptographicException at SystemSecurityCryptographyCngKeyLiteImportKeyBlob SystemSecurityCryptographyAlgorithms Version Cultureneutral PublicKeyTokenb f f f d a a at SystemSecurityCryptographyCngPkcs ImportPkcs SystemSecurityCryptographyAlgorithms Version Cultureneutral PublicKeyTokenb f f f d a a at SystemSecurityCryptographyCngPkcs ImportPkcs PrivateKey SystemSecurityCryptographyAlgorithms Version Cultureneutral PublicKeyTokenb f f f d a a at SystemSecurityCryptographyECDsaImplementationECDsaCngImportPkcs PrivateKey SystemSecurityCryptographyAlgorithms Version Cultureneutral PublicKeyTokenb f f f d a a at AspNetSecurityOAuthAppleInternalDefaultAppleClientSecretGeneratorCreateAlgorithm AspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fabAspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fab srcAspNetSecurityOAuthAppleInternalDefaultAppleClientSecretGeneratorcsAspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fab at AspNetSecurityOAuthAppleInternalDefaultAppleClientSecretGeneratorGenerateNewSecretAsyncd MoveNext AspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fabAspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fab srcAspNetSecurityOAuthAppleInternalDefaultAppleClientSecretGeneratorcsAspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fab at SystemRuntimeExceptionServicesExceptionDispatchInfoThrow SystemPrivateCoreLib Version Cultureneutral PublicKeyToken cec d bea e at SystemRuntimeCompilerServicesTaskAwaiterThrowForNonSuccess SystemPrivateCoreLib Version Cultureneutral PublicKeyToken cec d bea e at SystemRuntimeCompilerServicesTaskAwaiterHandleNonSuccessAndDebuggerNotification SystemPrivateCoreLib Version Cultureneutral PublicKeyToken cec d bea e at SystemRuntimeCompilerServicesTaskAwaiterValidateEnd SystemPrivateCoreLib Version Cultureneutral PublicKeyToken cec d bea e at SystemRuntimeCompilerServicesTaskAwaiter GetResult SystemPrivateCoreLib Version Cultureneutral PublicKeyToken cec d bea e at AspNetSecurityOAuthAppleInternalDefaultAppleClientSecretGeneratorGenerateAsyncd MoveNext AspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fabAspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fab srcAspNetSecurityOAuthAppleInternalDefaultAppleClientSecretGeneratorcsAspNetSecurityOAuthApple Version Cultureneutral PublicKeyTokenfa e b b fab Problem doesnt occur when running locally on Windows but happens on Azure App Service WindowsIIS configuration This seems to be related to and but setting both WEBSITELOADUSERPROFILE WEBSITELOADUSERPROFILE doesnt help Workaround for now is to generate secret manually via injected AppleClientSecretGeneratorGenerateAsync and use it instead of providing private key