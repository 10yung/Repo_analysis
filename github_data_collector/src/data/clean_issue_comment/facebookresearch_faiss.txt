Hi Is it possible to load index from stream in Pythonsuch as ioBytesIO or ioBufferedReader I have exactly same problem as issue but on version Platform OS Ubuntu Faiss version Faiss compilation options Running on x CPU x GPU Interface C x Python Reproduction instructions In python directory everything is fine But in root faiss directory or any other directory python c import faiss Traceback most recent call last File string line in module File buildbdistlinuxx eggfaissinitpy line in module File buildbdistlinuxx eggfaissswigfaisspy line in module from import swigfaiss ImportError cannot import name swigfaiss In issue it says The can be fixed with below environment addition export PYTHONPATHPYTHONPATHoptfaisspython But the faiss is not installed to opt or other place in the system Thanks a lot vector array e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e dtypefloat array e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e e dtypefloat python code vector vector reshape vector vector reshape index faissIndexFlatL indexaddvector diss inds indexsearchvector when I run the faiss code the result is as follows indsdiss array array dtypefloat When I run other Python code npsumnpsquarevector vector the result is So what I want to ask is why the output of the faiss code omits the decimal places Let xb be L normalized vectors for creating index First way to create index quantizer faissIndexFlatIPd index faissIndexIVFFlatquantizer d faissMETRICINNERPRODUCT indexnprobe indextrainxb indexaddxb Performing search k D I indexsearchxb k printI printD Getting result Resulted distances as expected represent cosine similarity Second way to create index indexmy faissindexfactoryd IVF Flat indexmymetric faissMETRICINNERPRODUCT indexmynprobe indexmytrainxb indexmyaddxb Performing search k D I indexmysearchxb k printI printD And getting result What are these distances Why are they different from the first search result and why they are not cosine similarity as expected Platform Faiss version Interface C x Python Summary Facebook has a bounty program for the safe disclosure of security bugs In those cases please go through the process outlined on that page and do not file a public issue Hi i am trying to do reconstruct index in C and i got this error terminating with uncaught exception of type faissFaissException Error in virtual void faissIndexIVFreconstructfaissIndexidxt float const at IndexIVFcpp Error directmapsize ntotal failed direct map is not initialized any idea how to solve this on C mostly I see the issue that already in here is for python I havent seen it on C You can see my code here Platform if the questionproblem is not platformspecific please ignore this OS macOS High Sierra eg macOS Faiss version Latest git commit eg bcb d e e bea cb e a Faiss compilation options eg using MKL with compile flags Running on x CPU GPU Interface x C Python Reproduction instructions Please provide specific and comprehensive instructions to reproduce the described behavior Please do not post screenshots of logs They are not searchable Copypaste the text or make a gist if the text is too bulky I have a database of metadata corresponding to my vectors including data range If I want to return top most similar vectors within a given data range whats the best approach Since FAISS doesnt store metadata I guess Id need to do a search on all vectors then filter them by date But in that case I cant precisely control the number of matches eg if I query for the top matches its possible none of them would be in the desired date range Thanks for your help Recently weve been on the hunt for the best exact nn search algorithms So far the big ones we wanna benchmark are yall and MIH What other ones would you like us to benchmark Whats the best source for production code nn search benchmarks Have yall already benchmarked vs MIH C API contains a range search method int faissIndexrangesearchconst FaissIndex index idxt n const float x float radius FaissRangeSearchResult result However its noted that its not supported by many index types Should it be supported by IndexIVFFlat Running on x CPU Interface x Python I have a simple question Can I get an index number under which a new vector is added Example index faissIndexBinaryFlatd v indexaddv indexreconstructid I know I could use the indexntotal method but if at the same time some other process modified my index then I wont get the correct index number Example indexaddv timesleep id indexntotal indexreconstructid v OS Ubuntu Faiss version Running on CPU Interface Python I have a top limit for large index and app creates a smallindex file with the same basename and when it reaches both files are merged My queries Large index has ids from So will smallIndex file After mergefrom is called how are these ids merged Do they start from and go on like Is there a seed value that i can specify while i create a smallIndex so that it automatically managed Is the following code correct for merging indexes largeIndexmergefromsmallIndex smallIndexntotal 