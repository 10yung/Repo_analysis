Hi Since version linux kernel can provide pressurestall information that could be useful to provide performance information about CPU IO and memory starvation It will be great to collect theses counters Here are some inputs Tracking pressurestall information Linux Pressure Stall Information PSI by Example Getting Started with PSI PSI Pressure Stall Information Kernels documentation Regards Hi PostgreSQL uses a long commandline buffer to be able to display additional details like eg indication of the current query Thats useful because otherwise theres just a lot of postgres processes even if they do a lot of different things The size of that buffer is allocated for the worst case basically with the unused part set to Unfortunately with pidstats l option gets replaced with space What is the reason for that And would you be open to changing that It makes the output hard to read on terminals as theres a few lines of just spaces Github unfortunately cant easily display this as it doesnt wrap lines So I replaced the lines wrapped in the terminal with actual linebreaks to make it easier to see here I used wide lines here as thats the most common even if I personally use a wider terminal With l AM postgres dev optimize andres pgbench local idle in transaction AM postgres dev optimize andres pgbench local BIND AM postgres dev optimize andres pgbench local BIND AM postgres dev optimize andres pgbench local idle in transaction AM postgres dev optimize andres pgbench local COMMIT Without l AM postgres AM postgres AM postgres AM postgres AM postgres AM postgres AM postgres I can obviously just resort to piping through sedperlwhatever to remove all trailing whitespace but that seems a bit unnecessary Heres what l looks like after doing so AM postgres dev optimize andres pgbench local idle AM postgres dev optimize andres pgbench local UPDATE AM postgres dev optimize andres pgbench local idle in transaction AM postgres dev optimize andres pgbench local COMMIT AM postgres dev optimize andres pgbench local idle in transaction AM postgres dev optimize andres pgbench local UPDATE Clearly more readable Would you accept a patch either removing the logic in or replacing it with logic that trims all the trailing whitespace at least Regards Andres See the image below Here is the raw output rpikali sar Linux Re sonv kali aarch CPU AM CPU user nice system iowait steal idle AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM CPU user nice system iowait steal idle AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all AM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all PM all Average all The pidstat manual does explicitly state that pidstat p PID T CHILD will collect CPU times in ms milliseconds rather than CPU but WHY I would like to tally both the main process and the children as CPU please I would like to send pidstat output to a file and then make a graph from it using sadf But there appears to be no option of pidstat to generate the binary output format that sadf wants Such a feature would be highly useful I think Hello could you please provide a little bit more information about aqusz average request queue length estimation From iostatc aqusz cprintffNOUNIT SVALUEiojrqticks ioirqticks itv whereas rqticks is defined as of ticks requests spent in queue unsigned int rqticks attribute packed As far as I understand this is just a difference between two tick measurements divided by some number But the units of measurement for this expression are still ticks equivalent to milliseconds Why the resulting value should be treated as average request queue depth hii got a error in buildoutput gcc o sadco c g O Wall Wstrictprototypes pipe O DSADIR varlogsa DSADCPATH usrlocallib sasadc DUSENLS DPACKAGE sysstat DLOCALEDIR usrlocalsharelocale sadcc In file included from sah from sadcc sadcc In function sasysinit sadcc warning in boolean context suggest instead Wintinboolcontext sizet act i msize sizet act i nr sizet act i nr commonh note in definition of macro SREALLOC if SIZE sadcc In function openofile sadcc warning in boolean context suggest instead Wintinboolcontext sizet act p msize sizet act p nr sizet act p nr commonh note in definition of macro SREALLOC if SIZE gcc o sawrapo c g O Wall Wstrictprototypes pipe O DSADIR varlogsa DSADCPATH usrlocallib sasadc DUSENLS DPACKAGE sysstat DLOCALEDIR usrlocalsharelocale sawrapc gcc o sacommono c g O Wall Wstrictprototypes pipe O DSADIR varlogsa DSADCPATH usrlocallib sasadc DUSENLS DPACKAGE sysstat DLOCALEDIR usrlocalsharelocale sacommonc In file included from sah from sacommonc sacommonc In function allocatestructures sacommonc warning in boolean context suggest instead Wintinboolcontext sizet act i msize sizet act i nr sizet act i nr commonh note in definition of macro SREALLOC if SIZE sacommonc In function checkfileactlst sacommonc warning in boolean context suggest instead Wintinboolcontext SREALLOCfileactlst struct fileactivity FILEACTIVITYSIZE filehdrsaactnr commonh note in definition of macro SREALLOC if SIZE sacommonc In function reallocatevolactstructures sacommonc warning in boolean context suggest instead Wintinboolcontext sizet act p msize sizet act p nr sizet act p nr commonh note in definition of macro SREALLOC if SIZE sacommonc In function setdefaultfile sacommonc warning sa directive output may be truncated writing bytes into a region of size between and Wformattruncation ssa d sadir sacommonc note snprintf output between and bytes into a destination of size snprintfdatafile MAXFILELEN ssa d sadir rectimetmmday sacommonc warning sa directive output may be truncated writing bytes into a region of size between and Wformattruncation ssa d d d sadir sacommonc note directive argument in the range ssa d d d sadir sacommonc note directive argument in the range sacommonc note snprintf output between and bytes into a destination of size snprintfdatafile MAXFILELEN ssa d d d sadir rectimetmyear rectimetmmon rectimetmmday gcc o rdstatso c g O Wall Wstrictprototypes pipe O DSOURCESADC DSADIR varlogsa DSADCPATH usrlocallib sasadc DUSENLS DPACKAGE sysstat DLOCALEDIR usrlocalsharelocale rdstatsc ar rvs librdstatsa rdstatso counto ar creating librdstatsa a rdstatso a counto gcc o rdsensorso c g O Wall Wstrictprototypes pipe O DSADIR varlogsa DSADCPATH usrlocallib sasadc DUSENLS DPACKAGE sysstat DLOCALEDIR usrlocalsharelocale rdsensorsc ar rv librdsensorsa rdsensorso ar creating librdsensorsa a rdsensorso gcc o commono c g O Wall Wstrictprototypes pipe O DSADIR varlogsa DSADCPATH usrlocallib sasadc DUSENLS DPACKAGE sysstat DLOCALEDIR usrlocalsharelocale commonc commonc In function getdevpartnr commonc warning s directive output may be truncated writing up to bytes into a region of size between and Wformattruncation snprintfline MAXPFNAME sss dfile drddname SSTAT commonc note snprintf output between and bytes into a destination of size snprintfline MAXPFNAME sss dfile drddname SSTAT gcc o ioconfo c g O Wall Wstrictprototypes pipe O DSADIR varlogsa DSADCPATH usrlocallib sasadc DUSENLS DPACKAGE sysstat DLOCALEDIR usrlocalsharelocale ioconfc ioconfc In function transformdevmapname ioconfc error called object major is not a function or function pointer dmmajor majorauxstrdev ioconfc note declared here char transformdevmapnameunsigned int major unsigned int minor ioconfc error called object minor is not a function or function pointer dmminor minorauxstrdev ioconfc note declared here char transformdevmapnameunsigned int major unsigned int minor make Makefile ioconfo Error steps to reproduce the issue install the new fedora workstation in vmware dnf update clone repo and checkout cd srcsysstatsysstat configure make additional environment details system uname a output Linux localhostlocaldomain fc x SMP Thu Dec UTC x x x GNULinux gcc gcc version Red Hat GCC make GNU Make Currently the disk activity statistics use majorminor to associate disk activity with the block device There are two major drawbacks with this approach majorminor numbers are not consistent across reboots and sar may associate given disk activity with the different block device after reboot majorminor are resolved locally and hence portability of the files is problematic IOW displaying them with sar on a different machine is close to pointless I am opening this to start the discussion Unfortunately I am not quite sure what other identifiers we could use Environment Debian stretch sysstat version Debian package version Description With kernel and rc Im seeing unexpected statistics with iostat x What I see with AWS EC instances r m large using EBS backed volumes is that small writes spike the util to On kernel and earlier similar writes would show as zero or single digits eg on kernel running iostat x Im seeing statistics like this avgcpu user nice system iowait steal idle Device rs ws rkBs wkBs rrqms wrqms rrqm wrqm rawait wawait aqusz rareqsz wareqsz svctm util nvme n nvme n On the same instance with new kernels Im instead seeing spikes like this in util avgcpu user nice system iowait steal idle Device rs ws rkBs wkBs rrqms wrqms rrqm wrqm rawait wawait aqusz rareqsz wareqsz svctm util nvme n nvme n Device performance seems to be the same regardless of the kernel used I went through the changes in kernel between and and found this one commit that touches the statistics Reverting it seems to get iostat to report util like it did before but I havent done extensive testing with this Im not familiar with the internals to say where the problem is or if this is actually expected It also seems like not all instance types are showing this behaviour so it could have something to do with the new EBS volumes that appear as NVMe devices Environment Debian sysstat version Cores in the system rootip homeadminloadststs lscpu Architecture x CPUs Online CPUs list Threads per core Cores per socket Sockets Model name IntelR XeonR CPU E v GHz Linux amd ip x CPU AM UID PID usr system guest CPU CPU Command AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server AM server Please check and suggest 