 Feature Request Description Hello I like to integrate proxies in my programs sometimes I use more than proxy and I use javanetProxySelector to easily use my proxies in multithreaded programs expecially A comgithubkittinunffuelcoreFuelManager can only use proxy Proposed Solution Replace the proxy field by a proxySelector field Alternatives Ive considered I do not have alternative solutions Additional context I do not have an additional context Any one can help Thank you for submitting your Pull Request Please make sure you have familiarised yourself with the Contributing Guidelines before continuing Remove anything that doesnt apply Description This commit enhances the incremental task test Notable this task uses the files included in the directory srctestassets Some tests depend on them ie there are assertions that depend on the state of these files So any update to any of those files should retrigger the task test This pull request adds those files as input to this task Type of change X Bug fix a nonbreaking change which fixes an issue How Has This Been Tested Checklist X I have performed a selfreview of my own code X New and existing unit tests pass locally with my changes Feature Request Description Currently it is impossible to add an async authentication like firebase auth token function is async Proposed Solution FoldableRequestInterceptor should support a Task Alternatives Ive considered Validation and renewing if necessary token every onResume instead of every request Additional context class AuthRequestInterceptorc Context FoldableRequestInterceptor private var context Context c override fun invokenext RequestTransformer RequestTransformer return request FirebaseAuthgetInstancecurrentUserlet firebaseUser firebaseUsergetIdTokenfalseaddOnSuccessListener ittokenlet token requestappendHeaderAuthorization StringformatBearer token nextrequest ERROR BECAUSE NEEDS TO RETURN HERE nextrequest Bug Report Description Not pass StrictModeVmPolicyBuilderdetectUntaggedSockets To Reproduce Kotlin StrictModeVmPolicyBuilderdetectUntaggedSockets urlhttpDownload fileDestination savedLldJsonFile awaitByteArrayResult foldsuccess failure Expected behavior No waringserrors Environment Development Machine OS Windows IDE Android Studio Fuel version Additional context netimknownandroidforefrontinfo DNetworkSecurityConfig No Network Security Config specified using platform default netimknownandroidforefrontinfo DStrictMode StrictMode policy violation androidosstrictmodeUntaggedSocketViolation Untagged socket detected use TrafficStatssetThreadSocketTag to track all network usage at androidosStrictModeonUntaggedSocketStrictModejava at comandroidserverNetworkManagementSocketTaggertagNetworkManagementSocketTaggerjava at libcoreioBlockGuardOstagSocketBlockGuardOsjava at libcoreioBlockGuardOssocketBlockGuardOsjava at libcoreioForwardingOssocketForwardingOsjava at libcoreioIoBridgesocketIoBridgejava at javanetPlainSocketImplsocketCreatePlainSocketImpljava at javanetAbstractPlainSocketImplcreateAbstractPlainSocketImpljava at javanetSocketcreateImplSocketjava at javanetSocketgetImplSocketjava at javanetSocketsetSoTimeoutSocketjava at comandroidokhttpinternalioRealConnectionconnectSocketRealConnectionjava at comandroidokhttpinternalioRealConnectionconnectRealConnectionjava at comandroidokhttpinternalhttpStreamAllocationfindConnectionStreamAllocationjava at comandroidokhttpinternalhttpStreamAllocationfindHealthyConnectionStreamAllocationjava at comandroidokhttpinternalhttpStreamAllocationnewStreamStreamAllocationjava at comandroidokhttpinternalhttpHttpEngineconnectHttpEnginejava at comandroidokhttpinternalhttpHttpEnginesendRequestHttpEnginejava at comandroidokhttpinternalhucHttpURLConnectionImplexecuteHttpURLConnectionImpljava at comandroidokhttpinternalhucHttpURLConnectionImplconnectHttpURLConnectionImpljava at comandroidokhttpinternalhucDelegatingHttpsURLConnectionconnectDelegatingHttpsURLConnectionjava at comandroidokhttpinternalhucHttpsURLConnectionImplconnectHttpsURLConnectionImpljava at comgithubkittinunffueltoolboxHttpClientsendRequestHttpClientkt at comgithubkittinunffueltoolboxHttpClientdoRequestHttpClientkt at comgithubkittinunffueltoolboxHttpClientaccessdoRequestHttpClientkt at comgithubkittinunffueltoolboxHttpClientawaitRequestHttpClientkt at comgithubkittinunffuelcorerequestsSuspendableRequestexecuteRequestSuspendableRequestkt at comgithubkittinunffuelcorerequestsSuspendableRequestawaitResultSuspendableRequestkt at comgithubkittinunffuelcoreDeserializableKtawaitResultDeserializablekt at netimknownandroidforefrontinfoGatewayApiCompaniondownloadLldJsonFileinlinedawaitByteArrayResult invokeSuspendCoroutineskt at netimknownandroidforefrontinfoGatewayApiCompaniondownloadLldJsonFileinlinedawaitByteArrayResult invokeUnknown Source at kotlinxcoroutinesintrinsicsUndispatchedKtstartUndispatchedOrReturnUndispatchedkt at kotlinxcoroutinesBuildersKtBuilderscommonKtwithContextBuilderscommonkt at kotlinxcoroutinesBuildersKtwithContextUnknown Source at netimknownandroidforefrontinfoGatewayApiCompaniondownloadLldJsonFileGatewayApikt at netimknownandroidforefrontinfouihomeHomeFragmentcollectionDatasetHomeFragmentkt at netimknownandroidforefrontinfobaseBaseListFragmentcollectionDatasetCallerBaseListFragmentkt at netimknownandroidforefrontinfobaseBaseListFragmentcollectionDatasetCallerdefaultBaseListFragmentkt at netimknownandroidforefrontinfobaseBaseListFragmentonActivityCreated invokeSuspendBaseListFragmentkt at kotlincoroutinesjvminternalBaseContinuationImplresumeWithContinuationImplkt at kotlinxcoroutinesDispatchedTaskrunDispatchedTaskkt at kotlinxcoroutinesschedulingCoroutineSchedulerrunSafelyCoroutineSchedulerkt at kotlinxcoroutinesschedulingCoroutineSchedulerWorkerexecuteTaskCoroutineSchedulerkt at kotlinxcoroutinesschedulingCoroutineSchedulerWorkerrunWorkerCoroutineSchedulerkt at kotlinxcoroutinesschedulingCoroutineSchedulerWorkerrunC netimknownandroidforefrontinfo WSystemerr StrictMode VmPolicy violation with POLICYDEATH shutting down netimknownandroidforefrontinfo IProcess Sending signal PID SIG Feature Request Any pointers how I would go about handling some custom methods such as PROPFIND MOVE etc Is the framework extensible Hint Trying todo some Webdav browsing with Fuel I guess I would need to extend somehow comgithubkittinunffuelcores RequestFactory Alternatives Ive considered Ive looked about with older issues such as but Im still in the woods Bug Report Description Download crash To Reproduce This crash will occur when network quality is bad The connecting timeout is very long kotlin fun downloadApk url String fileName String progressCallback ProgressCallback success ByteArray Unit failure FuelError Unit urlhttpDownload fileDestination clearFolderMyApplicationgetApkDir MyApplicationgetApkDirmkdirs FileMyApplicationgetApkDir fileName responseProgressprogressCallback awaitByteArrayResultfoldsuccess failure Environment Development Machine OS Windows IDE Android Studio Fuel version Kotlin version Smartphone or Emulator Device Yeshen Emulator OS Android Additional context txt netimknownandroidforefrontinfo EStrictMode A resource was acquired at attached stack trace but never released See javaioCloseable for information on avoiding resource leaks javalangThrowable Explicit termination method close not called at dalviksystemCloseGuardopenCloseGuardjava at comandroidorgconscryptOpenSSLSocketImplstartHandshakeOpenSSLSocketImpljava at comandroidokhttpConnectionupgradeToTlsConnectionjava at comandroidokhttpConnectionconnectConnectionjava at comandroidokhttpinternalhttpHttpEngineconnectHttpEnginejava at comandroidokhttpinternalhttpHttpEnginesendRequestHttpEnginejava at comandroidokhttpinternalhttpHttpURLConnectionImplexecuteHttpURLConnectionImpljava at comandroidokhttpinternalhttpHttpURLConnectionImplconnectHttpURLConnectionImpljava at comandroidokhttpinternalhttpDelegatingHttpsURLConnectionconnectDelegatingHttpsURLConnectionjava at comandroidokhttpinternalhttpHttpsURLConnectionImplconnectHttpsURLConnectionImpljava at comgithubkittinunffueltoolboxHttpClientsendRequestHttpClientkt at comgithubkittinunffueltoolboxHttpClientdoRequestHttpClientkt at comgithubkittinunffueltoolboxHttpClientaccessdoRequestHttpClientkt at comgithubkittinunffueltoolboxHttpClientawaitRequestHttpClientkt at comgithubkittinunffuelcorerequestsSuspendableRequestexecuteRequestSuspendableRequestkt at comgithubkittinunffuelcorerequestsSuspendableRequestawaitResultSuspendableRequestkt at comgithubkittinunffuelcoreDeserializableKtawaitResultDeserializablekt at netimknownandroidforefrontinfoGatewayApiCompaniondownloadApkinlinedawaitByteArrayResult invokeSuspendCoroutineskt at netimknownandroidforefrontinfoGatewayApiCompaniondownloadApkinlinedawaitByteArrayResult invokeCoroutineskt at kotlinxcoroutinesintrinsicsUndispatchedKtstartUndispatchedOrReturnUndispatchedkt at kotlinxcoroutinesBuildersKtBuilderscommonKtwithContextBuilderscommonkt at kotlinxcoroutinesBuildersKtwithContextUnknown Source at netimknownandroidforefrontinfoGatewayApiCompaniondownloadApkappdebugGatewayApikt at netimknownandroidforefrontinfouisettingsSettingsFragmentdownloadApkSettingsFragmentkt at netimknownandroidforefrontinfouisettingsSettingsFragmentshowDownloadConfirmDialog invokeSuspendSettingsFragmentkt at kotlincoroutinesjvminternalBaseContinuationImplresumeWithContinuationImplkt at kotlinxcoroutinesDispatchedTaskrunDispatchedkt at kotlinxcoroutinesschedulingCoroutineSchedulerrunSafelyCoroutineSchedulerkt at kotlinxcoroutinesschedulingCoroutineScheduleraccessrunSafelyCoroutineSchedulerkt at kotlinxcoroutinesschedulingCoroutineSchedulerWorkerrunCoroutineSchedulerkt WSystemerr StrictMode VmPolicy violation with POLICYDEATH shutting down IProcess Sending signal PID SIG Make use of xformurlenoded parameters more explicit Description If have to send requests to an API that I do not control where some parameters are sent inside the URL and others are sent as xformurlencoded body I dont see an easy way to do this with fuel In my opinion this is caused by the rather implicit handling of parameters Proposed Solution Add a new function urlEncodedBody that sets a body explicitly with the correct headers like jsobBody Example kotlin FuelManagerpostpath listOfparam to urlencodedBodylistOffoo to foo bar to bar would set the Header ContentType applicationxwwwformurlencoded and set a body Body foofoo barbar Additional change Remove automatic encoding in the xformurlencoded body In my opinion this is bad design anyway The parameters argument should not be used for two independent features To a developer those three lines look very similar yet the parameters behave arbitrarily kotlin FuelManagergetpath listOfparam to FuelManagerpostpath listOfparam to FuelManagerpostpath listOfparam to jsonBody Additional context I find it hard to understand when Fuel puts parameters in the URL or encode them as xformurlencoded body in general I have used Fuel for almost a year know on a daily basis and always have difficulties to remember how those parameters are encoded in POST request Description setFixedLengthStreamingModeLong requires at least Android API If that method is not found call the old setFixedLengthStreamingModeInt Type of change Check all that apply X Bug fix a nonbreaking change which fixes an issue New feature a nonbreaking change which adds functionality Breaking change fix or feature that would cause existing functionality to not work as expected Refactoring a change which changes the current internal or external interface This change requires a documentation update How Has This Been Tested Tested this with my app and API Checklist X I have performed a selfreview of my own code I have commented my code particularly in hardtounderstand areas I have made corresponding changes to the documentation if necessary X My changes generate no new compiler warnings I have added tests that prove my fix is effective or that my feature works X New and existing unit tests pass locally with my changes Inspect the bytecode viewer including reasoning why I want to store certificates in my application to support HTTPS to configure certificates on each HTTPS request What should I do I have searched for relevant problems and have not found a solution