Hi I am having an issue where I have my Spotify account set to NOT allow explicit content However when I connect to the Raspotify it allows explicit content to be played Is there any way I can set this setting via the librespot config Thanks in advance and awesome project I use it to control music at an icerink Cheers Jim Hi I experience issues that my raspotify gets a timeout with Spotify regularly Therefore I want to upgrade raspotify including all dependant packages to the recent version before digging deeper But I cannot find a guide how to upgrade raspotify without breaking or overwriting the existeing configfile etc Any suggestion Regards Wolfram My Spotify password like all my other passwords is randomly generated by a password manager It happened to contain special characters that because of the lack of quoting of the OPTIONS variable got interpreted by the shell causing it to not be understood by librespot This fixes that issue by introducing a new USERNAME and PASSWORD field in the config which are quoted to ensure special characters in the username and password do not break anything switching to librespotjava might eliminate some reliability issues give us a more fullyfeatured client Hi guys Been running raspotify for years on two different setups Raspbian and OSMC and really struggled with the music randomly stops could be after seconds songs could be after hour When it happens theres usually nothing in the logs even with verbose logging the logs just go Nov officepi librespot TRACElibrespotaudiofetch chunk complete Nov officepi librespot TRACElibrespotaudiofetch requesting chunk Nov officepi librespot TRACElibrespotaudiofetch chunk complete Nov officepi librespot TRACElibrespotaudiofetch requesting chunk Nov officepi librespot TRACElibrespotaudiofetch chunk complete Nov officepi librespot DEBUGlibrespotaudiofetch File e fe c af d eaa complete music randomly stops client disconnects nothing further in logs sudo service raspotify restart Nov officepi systemd Stopping Raspotify Nov officepi systemd Stopped Raspotify Nov officepi systemd Starting Raspotify Nov officepi systemd Started Raspotify Sometimes it also happens whilst the track is still loading as in the requesting chunks process isnt finished yet It seems to be related to running librespot through raspotify sorry guys Im afraid my fix is literally to manually launch run librespot in a screen session Running in a screen session Ive had music playing continuously for days no disconnections Im now using the following script to startrestartstop librespot binbash launchlibrespot screen dmS librespot which librespot name osmc bitrate initialvolume enablevolumenormalisation disableaudiocache verbose backend alsa Make sure the last argument does NOT have a trailing backslash Other options args for ref username USERNAME password PASSWORD device plughw onevent varlocalwwwcommandwspoteventsh echo librespot started if start then if z screen ls grep librespot then launchlibrespot else echo librespot is already running fi exit elif restart then if z screen ls grep librespot then echo librespot not running else echo restarting librespot kill screen ls librespot grep librespot cut d f screen wipe devnull fi launchlibrespot exit elif stop then if z screen ls grep librespot then echo librespot not running else echo stopping librespot kill screen ls librespot grep librespot cut d f screen wipe devnull fi exit else echo function librespot startrestartstop fi Id prefer to use raspotify as a proper system service so Im sharing this more as an indication to help find the issue aka launching librespot some other way NOTE THIS DOES NOT SOLVE LIBRESPOT CRASHING IF THE CONNECTION DIES That crash however DOES have a log entry and CAN be watchedrestarted with a cronjob havent gotten round to that yet but will build that in later Raspberry Pi model B Normally I ve used a usb WiFi module for my pin to connect my pin to my WiFi Raspotify has worked just fine after setting up But when I switch to Ethernet instead of the WiFi module I can t get audio from the device using Raspotify Any other sounds come through just fine however I appreciate this has already been raised in other issues speciifcally but Ive not been able to get anywhere with existing solutions Pi is connected to an SMSL AD USB DACamplifier Sound works fine when using the browser Onboard audio has been disabled using blacklist sndbcm under etcmodprobedalsablacklistconf Output of aplay l is List of PLAYBACK Hardware Devices card AMP SMSL AD AMP device USB Audio USB Audio Subdevices Subdevice subdevice I have tried with device hw in etcdefaultraspotify and with it removed device hw is included under the service config file libsystemdsystemraspotifyservice However when I try to play via Raspotify I get the following when using sudo systemctl status raspotify raspotifyservice Raspotify Loaded loaded libsystemdsystemraspotifyservice enabled vendor preset enabled Active active running since Sat GMT min ago Process ExecStartPrebinmkdir m p varcacheraspotify codeexited status SUCCESS Process ExecStartPrebinchown raspotifyraspotify varcacheraspotify codeexited status SUCCESS Main PID librespot Tasks limit Memory M CGroup systemsliceraspotifyservice usrbinlibrespot name raspotify raspberrypi backend alsa bitrate device hw disableaudiocache enablevolume Nov raspberrypi librespot ERRORlibrespotplaybackaudiobackendalsa Alsa error PCM open ALSA function sndpcmhwparamssetf Nov raspberrypi librespot ERRORlibrespotplaybackplayer Could not start audio Alsa error PCM open failed Nov raspberrypi librespot INFOlibrespotplaybackplayer Loading track Dreams Remaster with Spotify URI spotify URI spotifytrack Nov raspberrypi librespot INFOlibrespotplaybackplayer Track Dreams Remaster loaded Nov raspberrypi librespot ERRORlibrespotplaybackaudiobackendalsa Alsa error PCM open ALSA function sndpcmhwparamssetf Nov raspberrypi librespot ERRORlibrespotplaybackplayer Could not start audio Alsa error PCM open failed Nov raspberrypi librespot ERRORlibrespotplaybackaudiobackendalsa Alsa error PCM open ALSA function sndpcmhwparamssetf Nov raspberrypi librespot ERRORlibrespotplaybackplayer Could not start audio Alsa error PCM open failed Nov raspberrypi librespot ERRORlibrespotplaybackaudiobackendalsa Alsa error PCM open ALSA function sndpcmhwparamssetf Nov raspberrypi librespot ERRORlibrespotplaybackplayer Could not start audio Alsa error PCM open failed I guess sndpcmhwparamssetf is being clipped this text is copied directly from the terminal in the pi but Ive no idea what its clipping so cant make sense of the error Any help would be greatly appreciated Sorry to ask but i cant find the right answer I would like to know if its the email or username or the username in spotifys account like this vnmkn r i ulo wpy bmgvhm Do we have to uncomment line or not Thanks a lot Hi In the troubleshooting section there was a method to disable the pwr mgmt sndsoccoreconf in etcmodprobed with this line in options sndsoccore pmdowntime dmesg showed this error after reboot sndsoccore invalid for parameter pmdowntime I believe the correct file needs an equal sign options sndsoccore pmdowntime I noticed that librespot creates a lot of log output In one case it logged so many warnings about not being able to play a song until my raspberry pis disk was full and died This change will cause it to only log errors by default instead of everything The level can be configured via the config file