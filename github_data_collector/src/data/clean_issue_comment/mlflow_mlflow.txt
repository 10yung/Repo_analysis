I have written a kubernetes job template and expecting to perform mlflow run using this backend I understand I can configure kubernetes job template as per my wish which will solve most of the problems for me The major issue I am facing right now is that the environment variables that I have specified in the MLproject dockerenv is not getting drilled to the kubernetes job template rather three env variables are configured while running kubernetes job What is the expected behavior of the kubernetes backend will the specified configurations in dockerenv be drilled down directly to the kubernetes run job or are we expecting to treat kubernetes standalone and reconfigure it again as per usage The issue in the later one is reconfiguring configmaps and secrets again which are already available to me in the mlflow run issuing system via dockerenv Added documentation for the SQL Server Plugin that allows MLflow to use SQL Server as the artifact store What changes are proposed in this pull request Please fill in changes proposed in this fix How is this patch tested Details Release Notes Is this a userfacing change No You can skip the rest of this section Yes Give a description of this change to be included in the release notes for MLflow users Details in sentences You can just refer to another PR with a description if this PR is part of a larger change What components does this PR affect UI CLI API RESTAPI Examples Docs Tracking Projects Artifacts Models Scoring Serving R Java Python How should the PR be classified in the release notes Choose one rnbreakingchange The PR will be mentioned in the Breaking Changes section rnnone No description will be included The PR will be mentioned only by the PR number in the Small Bugfixes and Documentation Updates section rnfeature A new userfacing feature worth mentioning in the release notes rnbugfix A userfacing bug fix worth mentioning in the release notes rndocumentation A userfacing documentation change worth mentioning in the release notes What changes are proposed in this pull request With the release of torchvision v the Pillow error fixed in is no longer an issue This PR unpins Pillow and updates torchvision to in our tests How is this patch tested Travis Release Notes Is this a userfacing change X No You can skip the rest of this section Yes Give a description of this change to be included in the release notes for MLflow users Details in sentences You can just refer to another PR with a description if this PR is part of a larger change What components does this PR affect UI CLI API RESTAPI Examples Docs Tracking Projects Artifacts Models Scoring Serving R Java Python How should the PR be classified in the release notes Choose one rnbreakingchange The PR will be mentioned in the Breaking Changes section X rnnone No description will be included The PR will be mentioned only by the PR number in the Small Bugfixes and Documentation Updates section rnfeature A new userfacing feature worth mentioning in the release notes rnbugfix A userfacing bug fix worth mentioning in the release notes rndocumentation A userfacing documentation change worth mentioning in the release notes URLs with the issue Broken link in Description of proposal what needs changing link is broken and should be reachable or Thank you for submitting an issue Please refer to our issue policy for information on what types of issues we address For help with debugging your code please refer to Stack Overflow Please fill in this template and do not delete it unless you are sure your issue is outside its scope System information Have I written custom code as opposed to using a stock example script provided in MLflow No OS Platform and Distribution eg Linux Ubuntu Windows v MLflow installed from source or binary Binary MLflow version run mlflow version Python version npm version if running the dev UI Exact command to reproduce mlflow sagemaker buildandpushcontainer Describe the problem The aforementioned command fails on windows with the error is not recognized as an internal or external command operable program or batch file Code to reproduce issue Provide a reproducible test case that is the bare minimum necessary to generate the problem mlflow sagemaker buildandpushcontainer on a windows machine Other info logs mlflow sagemaker buildandpushcontainer build push c mlflowpyfunc failtxt c tools anaconda lib sitepackages werkzeug datastructurespy DeprecationWarning Using or importing the ABCs from collections instead of from collectionsabc is deprecated and in it will stop working from collections import Container Iterable MutableSet c tools anaconda lib sitepackages jinja runtimepy DeprecationWarning Using or importing the ABCs from collections instead of from collectionsabc is deprecated and in it will stop working from collections import Mapping INFO mlflowmodelsdockerutils Building docker image with name mlflowpyfunc FIND Parameter format not correct Sending build context to Docker daemon kB Step FROM ubuntu c a cd e Step RUN aptget y update aptget install y noinstallrecommends wget curl nginx cacertificates bzip buildessential cmake openjdk jdk gitcore maven rm rf varlibaptlists Using cache a b c Step RUN curl minicondash Using cache a c fac Step RUN bash minicondash b p miniconda rm minicondash Using cache ecfaa Step ENV PATHminicondabinPATH Using cache d d ff b Step ENV JAVAHOMEusrlibjvmjava openjdkamd Using cache ab d a c Step ENV GUNICORNCMDARGStimeout k gevent Using cache d a e Step WORKDIR optmlflow Using cache e beed ee d Step RUN pip install mlflow Using cache e f a a Step RUN mvn batchmode dependencycopy Dartifactorgmlflowmlflowscoring pom DoutputDirectoryoptjava Using cache be c b Step RUN mvn batchmode dependencycopy Dartifactorgmlflowmlflowscoring jar DoutputDirectoryoptjavajars Using cache f ca bde Step ENV disableenvfalse Using cache ba bab Step RUN python c from mlflowmodelscontainer import installpyfuncdepsinstallpyfuncdepsNone False Using cache f a eab Step ENTRYPOINT python c import sys from mlflowmodels import container as C Cinitsysargv Using cache a Successfully built a Successfully tagged mlflowpyfunclatest SECURITY WARNING You are building a Docker image from Windows against a nonWindows Docker host All files and directories added to build context will have rwxrxrx permissions It is recommended to double check and reset permissions for sensitive files and directories INFO mlflowsagemaker Pushing image to ECR INFO mlflowsagemaker Pushing docker image mlflowpyfunc to dkrecreucentral amazonawscommlflowpyfunc is not recognized as an internal or external command operable program or batch file What changes are proposed in this pull request Being able to delete a run in its run page And make the difference between active run pages and deleted run pages more obvious by adding a banner See more in How is this patch tested Only by manual Release Notes Is this a userfacing change No You can skip the rest of this section x Yes Give a description of this change to be included in the release notes for MLflow users Be able to delete a run on its run page More intuitive Run Page UI What components does this PR affect x UI CLI API RESTAPI Examples Docs Tracking Projects Artifacts Models Scoring Serving R Java Python How should the PR be classified in the release notes Choose one rnbreakingchange The PR will be mentioned in the Breaking Changes section rnnone No description will be included The PR will be mentioned only by the PR number in the Small Bugfixes and Documentation Updates section x rnfeature A new userfacing feature worth mentioning in the release notes rnbugfix A userfacing bug fix worth mentioning in the release notes rndocumentation A userfacing documentation change worth mentioning in the release notes System information Google Colab Describe the problem When saving a PyTorch model using mlflowpytorchsavemodel no type checking is performed on the codepaths parameter Specifically it is not considered that this parameter could accidentally be passed as a string leading to the following funny outcome Consider the code at line python if codepaths is not None codedirsubpath code for codepath in codepaths copyfileortreesrccodepath dstpath dstdircodedirsubpath If someone were to hypothetically pass an absolute path as the parameter to codepaths for example contentmyfoldermymodelcode then the string is iterated through starting with This accidentally copies the entire file system into the output directory I definitely didnt accidentally do this Possible Fix python if codepaths is not None if not isinstancecodepaths list raise TypeErrorfArgument codepaths should be a list not typecodepaths codedirsubpath code for codepath in codepaths copyfileortreesrccodepath dstpath dstdircodedirsubpath The documentation is plenty clear about this codepaths A list of local filesystem paths but given the possible outcome it might be helpful regardless What changes are proposed in this pull request This introduces the implementation for using Java to discover and download registered models from a model registry Note This is only a preview PR The set of unit tests is not thorough enough to be committed No manual testing has been done yet either Note Do not commit this The code needs some more refinement before it can be committed Note There is a fix to getlatestversions in the python code as part of this PR because it breaks the Java test The problem is that the getlatestversions does not return the stage None by default How is this patch tested Ive developed several unit tests that test the base behavior Release Notes Is this a userfacing change No You can skip the rest of this section x Yes Give a description of this change to be included in the release notes for MLflow users Details in sentences You can just refer to another PR with a description if this PR is part of a larger change What components does this PR affect UI CLI x API RESTAPI Examples Docs Tracking Projects Artifacts Models Scoring Serving R x Java Python How should the PR be classified in the release notes Choose one rnbreakingchange The PR will be mentioned in the Breaking Changes section rnnone No description will be included The PR will be mentioned only by the PR number in the Small Bugfixes and Documentation Updates section rnfeature A new userfacing feature worth mentioning in the release notes rnbugfix A userfacing bug fix worth mentioning in the release notes rndocumentation A userfacing documentation change worth mentioning in the release notes Describe the proposal Display version information in REST API so maintainer and user can check which version is deployed easily and fast Motivation As a user I want to know which version of tracking server is deployed by calling REST API As a maintainer I want to present the version of tracking server simply to the user by calling REST API Proposed Changes Display version in the response when requesting apiversion The version information can be extracted from tag of github 