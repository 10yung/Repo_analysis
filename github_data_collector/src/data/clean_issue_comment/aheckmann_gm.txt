I just want to control my picture why it configure just like this let uploadPath dupload gmuploadPathoptions imageMagick true qualityimageDataqualityresizeimageDatawidth imageDataheightwriteuploadPath err if err Error message Error Command failed at ChildProcessonExit D WebSite BW api nodemodules gm lib commandjs at ChildProcessemit eventsjs at ChildProcesscpemit D WebSite BW api nodemodules crossspawn lib enoentjs at maybeClose internalchildprocessjs at ProcessChildProcesshandleonexit internalchildprocessjs code signal null How to fix it This node module not support for after node versionPlease fix this issue my font file is already under the project file and under macos I can generate pictures with text but i cant draw it when i move the project to centos I have an image with a ProPhoto RGB profile and when I resize it the whole image turns out greenish I tried to understand the whole picture profile thing but unfortunately I do not get to it Iam using gm version on a lambda function with Nodejs Any ideas what I have to do here What is causing this problem My simplified code looks like this var gm requiregmsubClass imageMagick true gmresponseBody autoOrient toBufferimageType functionerr autoOrientBuffer if err nexterr else gmautoOrientBuffersizefunctionerr size thisresizewidth height thisquality toBuffer I get the following from the identify function Base filename Format JPEG Joint Photographic Experts Group JFIF format format JPEG Class DirectClass Geometry x size width height Resolution x Print size x Units PixelsPerInch Type TrueColor Endianess Undefined Colorspace sRGB Depth bit depth Channel depth red bit green bit blue bit Channel statistics Red min max mean standard deviation kurtosis skewness Green min max mean standard deviation kurtosis skewness Blue min max mean standard deviation kurtosis skewness Image statistics Overall min max mean standard deviation kurtosis skewness Rendering intent Perceptual Gamma Chromaticity red primary green primary blue primary white point Interlace JPEG Background color white Border color srgb Matte color grey Transparent color black Compose Over Page geometry x Dispose Undefined Iterations Compression JPEG Quality Orientation TopLeft Properties datecreate T datemodify T exifApertureValue exifBrightnessValue exifColorSpace exifCompression exifContrast exifCustomRendered exifDateTime exifDateTimeDigitized exifDateTimeOriginal exifDigitalZoomRatio exifExifImageLength exifExifImageWidth exifExifOffset exifExifVersion exifExposureBiasValue exifExposureMode exifExposureProgram exifExposureTime exifFileSource exifFlash exifFNumber exifFocalLength exifFocalLengthIn mmFilm exifFocalPlaneResolutionUnit exifFocalPlaneXResolution exifFocalPlaneYResolution exifISOSpeedRatings exifJPEGInterchangeFormat exifJPEGInterchangeFormatLength exifLightSource exifMake SONY exifMaxApertureValue exifMeteringMode exifModel ILCE M exifOrientation exifResolutionUnit exifSaturation exifSceneCaptureType exifSceneType exifSharpness exifShutterSpeedValue exifSoftware Adobe Photoshop Macintosh exifWhiteBalance exifXResolution exifYResolution jpegcolorspace jpegsamplingfactor x x x signature babea e c ad f e ad d b e d feeb d unknown Profiles Profile bim bytes Profileexif bytes Profileicc Description ProPhoto RGB Manufacturer KODAK Model Reference Output Medium MetricROMM Copyright Copyright c Eastman Kodak Company all rights reserved Profileiptc Created Date Created Time Profilexmp bytes Artifacts filename verbose true Tainted False Filesize MB Number pixels M Pixels per second MB User time u Elapsed time Version ImageMagick Q path unknownjpg Is there any format string to read Caption data directly form a gm object Format JPEG Joint Photographic Experts Group JFIF format format JPEG Mime type imagejpeg Class DirectClass Geometry x size width height Resolution x Print size x Units PixelsPerInch Type TrueColor Endianess Undefined Colorspace sRGB Depth bit depth Channel depth red bit green bit blue bit Channel statistics Pixels Red min max mean standard deviation kurtosis skewness entropy Green min max mean standard deviation kurtosis skewness entropy Blue min max mean standard deviation kurtosis skewness entropy Image statistics Overall min max mean standard deviation kurtosis skewness entropy Rendering intent Perceptual Gamma Chromaticity red primary green primary blue primary white point Background color white Border color srgb Matte color grey Transparent color black Interlace None Intensity Undefined Compose Over Page geometry x Dispose Undefined Iterations Compression JPEG Quality Orientation Undefined Properties datecreate T datemodify T exifApertureValue exifCFAPattern exifColorSpace exifContrast exifCustomRendered exifDateTime exifDateTimeDigitized exifDateTimeOriginal exifExifOffset exifExifVersion exifExposureBiasValue exifExposureMode exifExposureProgram exifExposureTime exifFileSource exifFlash exifFNumber exifFocalLength exifFocalLengthIn mmFilm exifFocalPlaneResolutionUnit exifFocalPlaneXResolution exifFocalPlaneYResolution exifGainControl exifISOSpeedRatings exifLightSource exifMake NIKON CORPORATION exifMaxApertureValue exifMeteringMode exifModel NIKON D exifResolutionUnit exifSaturation exifSceneCaptureType exifSceneType exifSensingMethod exifSharpness exifShutterSpeedValue exifSoftware Adobe Photoshop Lightroom Classic Windows exifSubjectDistanceRange exifSubSecTimeDigitized exifSubSecTimeOriginal exifthumbnailCompression exifthumbnailJPEGInterchangeFormat exifthumbnailJPEGInterchangeFormatLength exifthumbnailResolutionUnit exifthumbnailXResolution exifthumbnailYResolution exifWhiteBalance exifXResolution exifYResolution icccopyright Copyright c HewlettPackard Company iccdescription sRGB IEC iccmanufacturer IEC iccmodel IEC Default RGB colour space sRGB jpegcolorspace jpegsamplingfactor x x x signature cfd cfe c a eb ad e e f a f b f bdcd f a unknown Profiles Profile bim bytes Profileexif bytes Profileicc bytes Profileiptc Created Date Created Time Caption Diving Divers in actions at the Inter Schools Diving Championships at Toa Payoh Sports Complex on September Shaun HoSportSG unknown unknown unknown Profilexmp bytes Artifacts filename homerishabhrishabhimageMagic serverapiv controllersadmin Diving Nat Schools Shaun Ho Sept jpg verbose true Tainted False Filesize KB Number pixels M Pixels per second MB User time u Elapsed time Version ImageMagick Q x path homerishabhrishabhimageMagic serverapiv controllersadmin Diving Nat Schools Shaun Ho Sept jpg Hi I am getting this error when using Node any suggestions Thanks Error Could not execute GraphicsMagickImageMagick identify ping format wxh this most likely means the gmconvert binaries cant be found at ChildProcessanonymous vartasknodemodulesgmlibcommandjs at ChildProcessemit eventsjs at ChildProcessEventEmitteremit domainjs at ProcessChildProcesshandleonexit internalchildprocessjs at onErrorNT internalchildprocessjs at processtickCallback internalprocessnexttickjs Hi I have the following setup Server side function convertImageinputStream return gminputStream contrast stream appgetresizeimgDetails req res next let params reqparamsimgDetailssplit let fileName params consolelogfileName let tileType params consolelogtileType ressetContentType imagejpeg let url convertImagerequestgeturlpiperes Client side axiosgetresize fileName tileType thenres PUT FILE ON AWS var img res axiospostsigns sized fileName fileName tileType tileType ContentType imagejpeg thenresponse var returnData responsedatadatareturnData var signedRequest returnDatasignedRequest var url returnDataurl thissetStateurl url Put the fileType in the headers for the upload var options headers ContentType imagejpeg axiosputsignedRequestimg options thenresult thissetStatesuccess true bindthis catcherror consolelogERROR JSONstringifyerror catcherror consolelogJSONstringifyerror catcherror consolelogerror Before going any further I can assure you now that uploading any images via this setup minus the convertImage works otherwise the image gets put on S corrupted Any pointers as to what the issue behind the image being corrupted is Is my understanding of streams here lacking perhaps If so what should I change Thank you I want to run an info command but GM seems to force me to act on an image or use identify only if not returning image data For example this line convert tmpIMG JPG resize x format pixelp info srgb Trying to do it with GM with outformat pixelp info but I cant see how to use any of write identify toBuffer stream and cant see any other option With stream it doesnt appear to actually write anything to the stdout Im assuming it only would if I were doing image manipulation rather than returning a string value Is this something thats possible with gm or would I have to do a custom shell exec Thanks fix 