I am using anomalize with a tsibble object Since the data is grouped using the function indexby from tsibble anomalize cannot work This is due to an unsupported indexClass of type yearmonth I bring in data that is daily with no gaps Here is my code Lib Load installloadinstallload tidyquant fable fabletools feasts tsibble timetk sweep anomalize xts fpp forecast lubridate dplyr urca prophet ggplot Get File fileToLoad filechoosenew TRUE arrivals readcsvfileToLoad Viewarrivals arrivalsTime mdyarrivalsTime Coerce to tsibble dftsbl arrivals astsibbleindex Time dftsbl A tsibble x D Time DSCHCOUNT date int with more rows intervaldftsbl D countgapsdftsbl A tibble x with variables from date to date n int Make Monthly dfmonthlytsbl dftsbl indexbyYearMonth yearmonth summariseCount sumDSCHCOUNT narm TRUE dfmonthlytsbl A tsibble x M YearMonth Count mth int Jan Feb Mar Apr May Jun Jul Aug Sep Oct with more rows Anomalize dfmonthlytsbl timedecomposeCount method twitter anomalizeremainder method gesd cleananomalies timerecompose Converting from tblts to tbltime Autoindex message index YearMonth Error in indexxtsx unsupported indexClass indexing type yearmonth Session info sessionInfo R version Platform x w mingw x bit Running under Windows x build Matrix products default locale LCCOLLATEEnglishUnited States LCCTYPEEnglishUnited States LCMONETARYEnglishUnited States LCNUMERICC LCTIMEEnglishUnited States attached base packages stats graphics grDevices utils datasets methods base other attached packages ggplot urca dplyr anomalize sweep timetk tsibble feasts fable fabletools tidyquant quantmod TTR PerformanceAnalytics xts zoo lubridate loaded via a namespace and not attached tidyselect purrr lattice colorspace vctrs generics utf rlang pillar tibbletime glue withr lifecycle stringr Quandl munsell anytime gtable labeling curl fansi broom Rcpp backports scales installload jsonlite farver gridExtra digest packrat stringi grid quadprog cli tools magrittr lazyeval tibble crayon tidyr pkgconfig zeallot assertthat httr rstudioapi R nlme compiler Hello I received the warning below but search your repo and didnt find any reference to it Can you add documentation or clarification on this warning Does it mattter Warning message cols is now required Please use cols canomalies Thanks Alfredo When loading the libraryanomalize the following error was displayed error package or namespace load failed for anomalize onAttach failed in attack Namespace for anomalize detailscall NULL error Function getThemeInfo not found in RStudio Is there a way to easily pull out anomalies that are higher than expected compared with those that are lower than expected Im only interested in anomalies that are higher than expected and havent figured out a way to filter out those that are lower than expected Thanks Just making a note for anyone else searching for help on the same problem I had I upgraded my R version and a lot of packages and suddenly I got errors when running the standard anomalize package examples tidyversecrandownloadsanomalized tidyversecrandownloads timedecomposecount merge TRUE Result Error in key invalid argument type This seems to be already reflected in the information at To tide people over until it gets straightened out I was able to work around the problem by downgrading tidyr requiredevtools installversiontidyr version repos This is just a suggestion there are times when onesided tests are of interest in anomaly detection It would be nice to have that capability added to anomalize Thanks Aaron I have arranged my own data into as close a tibble to the tidyversecrandownloads demonstration data as possible classtidyversecrandownloads groupedtbltime tbltime groupeddf tbldf tbl dataframe classiswsimple groupedtbltime tbltime groupeddf tbldf tbl dataframe glimpsetidyversecrandownloads Observations Variables Groups package date date count dbl package chr tidyr tidyr tidyr tidyr tidyr tidyr tidyr tidyr tidyr tidyr tidyr tidyr glimpseiswtss Observations Variables Groups staffidlastupdt sampledate date reportedvalue dbl parametername chr Solids Total Suspended TSS Solids Total Suspended TSS Solids Total Suspended TSS staffidlastupdt chr bolafso bolafso bolafso bolafso bolafso bolafso bolafso bolafso bolafso As you can see both class and glimpse show very similar structures I can replicate the results with the demonstration data just fine However when I try and apply the timedecompose function to my data iswtss I get the Only year quarter month week and day periods are allowed for an index of class Date error message I am confused by this as my date data are in the ymd format same as the demonstration data Any thoughts would be much appreciated I have attached a sample data file iswtsstxt Here is the code I have modified up to the error message bits load libraries librarytidyverse librarytidyquant librarylubridate libraryggplot libraryggpubr libraryanomalize librarytibbletime read in the data iswdmr readcsvC Users kwyther exportiswdmrcsv change to lower case and remove rows with no reported value iswdmr renamealliswdmr tolower dropnareportedvalue change sampledates to date iswdmrsampledate dmyiswdmrsampledate list of paramters params iswdmr distinctparametername list of staff entering data staff iswdmr distinctstaffidlastupdt simplify by parameter tss iswtss iswdmr selectsampledate reportedvalue parametername staffidlastupdt filterparametername Solids Total Suspended TSS iswtss iswtss groupbystaffidlastupdt astbltimesampledate iswtss iswtss arrangesampledate bygroup TRUE iswtss ggplotaessampledate reportedvalue geompointcolor c e alpha facetwrapstaffidlastupdt thememinimal themeaxistextx elementtextangle hjust labstitle TSS reported values by staff subtitle Data from ISWDMRs iswtss Data Manipulation Anomaly Detection timedecomposereportedvalue method stl anomalizeremainder method iqr timerecompose Anomaly Visualization plotanomaliestimerecomposed TRUE ncol alphadots labstitle TSS Anomalies subtitle STL IQR Methods For this code block to calculate the critical limits I dont see a difference when there are outliers or not since limittbllimitlower and limittbllimitupper come from limits and limits which are the same for each row Critical Limits if anyvalstbloutlier No Non outliers identified pick first limit limittbl valstbl dplyrfilteroutlier No dplyrslice limitsvec c limitlower limittbllimitlower limitupper limittbllimitupper else All outliers pick last limits limittbl valstbl dplyrslicen limitsvec c limitlower limittbllimitlower limitupper limittbllimitupper dfr tibbleds asDatec yc outlier in decmp timedecomposedata dfrtarget ymethod stl frequency monthstrend automessage FALSE fit decmp anomalizeremaindermethod gesdmaxanoms verbose FALSE in is seasonality and remainder fit timerecompose plotanomalies fit timerecompose plotanomalydecomposition try native STL t tsdata dfrystart c frequency libraryhighcharter hchartstltswindow periodic in remainder is and in this case is anomaly try twitter with same results decmp timedecomposedata dfrtarget ymethod twitter frequency monthstrend automessage FALSE fit decmp anomalizeremaindermethod gesdmaxanoms verbose FALSE fit try original twitter devtoolsinstallgithubtwitterAnomalyDetection libraryAnomalyDetection AnomalyDetectionTsx dfr timestamp anoms Hi folks First off Id like to give a big thank you to the maintainers and contributors of this package It works great However I do have a question how would I go about identifying anomalous trends as opposed to transactions Say I have companies and Im interested in identifying if amongst those there is one exhibiting an anomalous trend Or if Im selling a group of products and Im interested in identifying if any of those have anomalous trends compared to each other How would I do that Again thank you for the package Cheers