Hello everyone I would like to know if there is a solution provided by wraith out of the box for that In the project I am working in in everything is pushed into a single url All the changes that we want to test are being placed in the page with the form of the cookie Here is how the domains usually look like example domains current new The problem is that if I use it like this the pages will fail cause from paths the new url will be What I would like to know is that is there any way from wraith in which I can add the parameter to only the new url Trying to compare two domains using capture mode Page not loaded completely even with wait of seconds Reporting a problem Please describe the issue above and complete the following checklist so that we can help you more quickly Issue checklist I have validated my config file against YAML Validator to make sure it is valid YAML I have run the wraith info command and pasted the output below paste results here DEBUG DEBUG Command run capture configscaptureyaml DEBUG Wraith version DEBUG Ruby version ruby p revision x mingw DEBUG ImageMagick Version ImageMagick Q x DEBUG PhantomJS version DEBUG chromedriver version ChromeDriver c db ce fcd a d c d refsbranchheads DEBUG CasperJS version DEBUG Config validated No serious issues found Creating Folders SAVING IMAGES DEBUG phantomjs CRuby x librubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsmysitepng body CUsersmadankDocumentsWraithjavascriptdisablejavascriptphantom false DEBUG phantomjs CRuby x librubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsmyothersitepng body CUsersmadankDocumentsWraithjavascriptdisablejavascriptphantom false DEBUG phantomjs CRuby x librubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsmysitepng body CUsersmadankDocumentsWraithjavascriptdisablejavascriptphantom false DEBUG phantomjs CRuby x librubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsmyothersitepng body CUsersmadankDocumentsWraithjavascriptdisablejavascriptphantom false Loading at dimensions x Loading at dimensions x Loading at dimensions x Loading at dimensions x Snapping at x Snapping at x Snapping at x Snapping at x CROPPING IMAGES Processfork is not supported by this Ruby DEBUG Both images are exactly x no cropping required shotshome phantomjsmyothersitepng shotshome phantomjsmysitepng DEBUG Both images are exactly x no cropping required shotshome phantomjsmyothersitepng shotshome phantomjsmysitepng COMPARING IMAGES Processfork is not supported by this Ruby Comparing shotshome phantomjsmyothersitepng and shotshome phantomjsmysitepng Saved diff Comparing shotshome phantomjsmyothersitepng and shotshome phantomjsmysitepng Saved diff GENERATING THUMBNAILS Processfork is not supported by this Ruby GENERATING GALLERY Gallery generated View the gallery in your browser fileCUsersmadankDocumentsWraithshotsgalleryhtml x I have run the command in verbose mode by adding verbose true to my config and pasted the output below paste results here x I have pasted the contents of my config file below This is an example configuration provided by Wraith Feel free to amend for your own requirements This particular config is intended to demonstrate how to use Wraith in capture mode which is best suited to comparing a test and live version of the same website wraith capture captureyaml required The engine to run Wraith with Examples phantomjs casperjs slimerjs browser phantomjs required The domains to take screenshots of domains mysite myothersite required The paths to capture All paths should exist for both of the domains specified above paths home GUID A DC BA A DF E Bhtml home GUIDB B E B BCF F B B D html about about contact getintouch required Screen widths and optional height to resize the browser to before taking the screenshot screenwidths x optional JavaScript file to execute before taking screenshot of every path Default nil beforecapture javascriptdisablejavascriptphantom required The directory that your screenshots will be stored in directory shots required Amount of fuzz ImageMagick will use when comparing images A higher fuzz makes the comparison less strict fuzz optional The maximum acceptable level of difference in between two images before Wraith reports a failure Default threshold optional Specify the template and generated thumbnail sizes for the gallery output gallery template slideshowtemplate Examples basictemplate default slideshowtemplate thumbwidth thumbheight optional Choose which results are displayed in the gallery and in what order Default alphanumeric Options alphanumeric all paths with or without a difference are shown sorted by path diffsfirst all paths with or without a difference are shown sorted by difference size largest first diffsonly only paths with a difference are shown sorted by difference size largest first Note different screen widths are always grouped together mode diffsfirst optional Set the number of threads to use when saving images Raising this value can improve performance but very high values can lead to server connection issues Set to around the available CPU cores for best performance Default threads verbose true paste config here Below is js file user in before hooks This is an example module provided by Wraith Feel free to amend for your own requirements moduleexports function phantom ready disable JavaScript phantomsettingsjavascriptEnabledfalse reload the page without JS enabled phantomopenphantomurl function setTimeoutready phantomjsmyothersite phantomjsmysite Since the version it seems that it is no longer possible to wait Neither with waitchrome file nor with the new settle parameter see my comment To tested this i created a simple html file with a JS counter DOCTYPE html html langen head meta charsetUTF titleTest Wraith Waithtitle script typetextjavascript setInterval function documentgetElementById counter textContent parseInt documentgetElementById counter textContent script head body span idcounter span body html I used a wait of seconds With wraith With wraith You can found my wraith settings below x I have validated my config file against YAML Validator to make sure it is valid YAML x I have run the wraith info command and pasted the output below x I have run the command in verbose mode by adding verbose true to my config and pasted the output below DEBUG DEBUG Command run history configshistoryyaml DEBUG Wraith version DEBUG Ruby version ruby p revision x linuxgnu DEBUG ImageMagick Version ImageMagick Q x DEBUG PhantomJS version PhantomJS not installed DEBUG chromedriver version ChromeDriver d f c b dc a f crefsbranchheads DEBUG CasperJS version CasperJS not installed DEBUG Config validated No serious issues found Creating Folders SAVING IMAGES x I have pasted the contents of my config file below This is an example configuration provided by Wraith Feel free to amend for your own requirements This particular config is intended to demonstrate how to use Wraith in history mode which is best suited to making sure your sites appearance remains consistent over time wraith history historyyaml generate base screenshots wraith latest historyyaml take new shots and compare required The engine to run Wraith with Examples phantomjs casperjs slimerjs browser chrome required The domain to take screenshots of domains test required The paths to capture This particular config is using casperjs so we can take screenshots of selectors rather than the entire page paths test settle optional JavaScript file to execute before taking screenshot of every path Default nil beforecapture javascriptwaitchromejs required Screen widths and optional height to resize the browser to before taking the screenshot screenwidths optional Resize to each screen width efficient or reload at each screen width costly Default reload resizeorreload reload required for history mode otherwise optional The directory that your base screenshots will be stored in historydir shotsbase required The directory that your latest screenshots will be stored in directory shots required Amount of fuzz ImageMagick will use when comparing images A higher fuzz makes the comparison less strict fuzz optional The maximum acceptable level of difference in between two images before Wraith reports a failure Default threshold optional Specify the template and generated thumbnail sizes for the gallery output gallery template slideshowtemplate Examples basictemplate default slideshowtemplate thumbwidth thumbheight optional Choose which results are displayed in the gallery and in what order Default alphanumeric Options alphanumeric all paths with or without a difference are shown sorted by path diffsfirst all paths with or without a difference are shown sorted by difference size largest first diffsonly only paths with a difference are shown sorted by difference size largest first Note different screen widths are always grouped together mode diffsfirst optional Choose to run Wraith in verbose mode for easier debugging Default false verbose true optional Color to highlight the image diff Default blue highlightcolor red optional Parameters to pass to PhantomCasper command line Default ignoresslerrorstrue sslprotocoltlsv phantomjsoptions Wait file var callback arguments argumentslength setTimeoutcallback Squishing two main bugs that appear to have arisen as regressions from Use of screensize in a rescue block resulting in an unrecoverable error when theres a read timeout happens on my VM frequently on one particularly large page Passing invalidimagename which is undefined to the createinvalidimage method Fixed by reverting Stack trace CRuby x libruby nethttprb in rescue in block in connect Failed to open TCP connection to No connection could be made because the target machine actively refused it connect for port ErrnoECONNREFUSED from CRuby x libruby nethttprb in block in connect from CRuby x libruby timeoutrb in block in timeout from CRuby x libruby timeoutrb in timeout from CRuby x libruby nethttprb in connect from CRuby x libruby nethttprb in begintransport from CRuby x libruby nethttprb in transportrequest from CRuby x libruby nethttprb in request from CRuby x libruby nethttprb in get from CRuby x librubygems gemsseleniumwebdriver libseleniumwebdrivercommonservicerb in block in stopserver from CRuby x librubygems gemsseleniumwebdriver libseleniumwebdrivercommonservicerb in block in connecttoserver from CRuby x libruby nethttprb in start from CRuby x libruby nethttprb in start from CRuby x librubygems gemsseleniumwebdriver libseleniumwebdrivercommonservicerb in connecttoserver from CRuby x librubygems gemsseleniumwebdriver libseleniumwebdrivercommonservicerb in stopserver from CRuby x librubygems gemsseleniumwebdriver libseleniumwebdrivercommonservicerb in stop from CRuby x librubygems gemsseleniumwebdriver libseleniumwebdrivercommonplatformrb in block in exithook CRuby x librubygems gemswraith libwraithsaveimagesrb in rescue in block in paralleltask undefined local variable or method invalidimagename for WraithSaveImages x d NameError from CRuby x librubygems gemswraith libwraithsaveimagesrb in block in paralleltask from CRuby x librubygems gemsparallel libparallelrb in callwithindex from CRuby x librubygems gemsparallel libparallelrb in block levels in workinthreads from CRuby x librubygems gemsparallel libparallelrb in withinstrumentation from CRuby x librubygems gemsparallel libparallelrb in block in workinthreads from CRuby x librubygems gemsparallel libparallelrb in block levels in inthreads Config validated No serious issues found Creating Folders SAVING IMAGES ERROR undefined local variable or method screensize for WraithSaveImages x d Did you mean screensize screensizes URL Stack trace From call to createinvalidimage CRuby x librubygems gemswraith libwraithsaveimagesrb in rescue in block in paralleltask undefined local variable or method invalidimagename for WraithSaveImages x c NameError from CRuby x librubygems gemswraith libwraithsaveimagesrb in block in paralleltask from CRuby x librubygems gemsparallel libparallelrb in callwithindex from CRuby x librubygems gemsparallel libparallelrb in block levels in workinthreads from CRuby x librubygems gemsparallel libparallelrb in withinstrumentation from CRuby x librubygems gemsparallel libparallelrb in block in workinthreads from CRuby x librubygems gemsparallel libparallelrb in block levels in inthreads Not sure the best way to get in touch with docker maintainers Can anyone provide some info about this I have a bunch of projects depending on this image PageNotFoundDockerHub Could you please clarify how can I use custom header with Chrome driver the same way I can use it with Phantomjs For example I need to use the following headers for my shots phantomcustomHeaders XHLMGeoIP UserAgent Mozilla iPhone CPU iPhone OS like Mac OS X AppleWebKit KHTML like Gecko Version Mobile A Safari How can I use it with Chrome The apt cache is not deleted Layers are not ideal It could be used a much smaller base image eg ruby slim or ruby alpine When executing wraith using the docker provided by you guys all my screenshots display a label saying I am using an old version of Chrome and also elements in my site are displaced and in general styles are not correct probably because of the Chrome version Issue checklist x I have validated my config file against YAML Validator to make sure it is valid YAML Checked x I have run the wraith info command and pasted the output below dockerwraith info DEBUG DEBUG Command run info DEBUG Wraith version DEBUG Ruby version ruby p revision x linux DEBUG ImageMagick Version ImageMagick Q x DEBUG PhantomJS version DEBUG chromedriver version ChromeDriver eccf d b a aa e ce d e refsbranchheads DEBUG CasperJS version x I have run the command in verbose mode by adding verbose true to my config and pasted the output below dockerwraith capture configscaptureyaml DEBUG DEBUG Command run capture configscaptureyaml DEBUG Wraith version DEBUG Ruby version ruby p revision x linux DEBUG ImageMagick Version ImageMagick Q x DEBUG PhantomJS version DEBUG chromedriver version ChromeDriver eccf d b a aa e ce d e refsbranchheads DEBUG CasperJS version DEBUG Config validated No serious issues found Creating Folders SAVING IMAGES DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjscurrentpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsnewpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs x shotshome x phantomjscurrentpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs x shotshome x phantomjsnewpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjscurrentpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsnewpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjscurrentpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsnewpng body wraithyjavascriptwaitphantomjs false Loading at dimensions x Loading at dimensions x Loading at dimensions x Loading at dimensions x Loading at dimensions x Loading at dimensions x Loading at dimensions x Loading at dimensions x Snapping at x Snapping at x Snapping at x Snapping at x DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjscurrentpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs shotshome phantomjsnewpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs x shotshome x phantomjscurrentpng body wraithyjavascriptwaitphantomjs false DEBUG phantomjs usrlocallibrubygems gemswraith libwraithjavascriptphantomjs x shotshome x phantomjsnewpng body wraithyjavascriptwaitphantomjs false Loading at dimensions x Loading at dimensions x Loading at dimensions x Loading at dimensions x Snapping at x Snapping at x Snapping at x Snapping at x Snapping at x Snapping at x Snapping at x Snapping at x CROPPING IMAGES DEBUG Both images are exactly x no cropping required shotshome phantomjscurrentpng shotshome phantomjsnewpng DEBUG Both images are exactly x no cropping required shotshome phantomjscurrentpng shotshome phantomjsnewpng DEBUG Both images are exactly x no cropping required shotshome x phantomjscurrentpng shotshome x phantomjsnewpng DEBUG Both images are exactly x no cropping required shotshome phantomjscurrentpng shotshome phantomjsnewpng DEBUG Both images are exactly x no cropping required shotshome x phantomjscurrentpng shotshome x phantomjsnewpng DEBUG Both images are exactly x no cropping required shotshome phantomjscurrentpng shotshome phantomjsnewpng COMPARING IMAGES Comparing shotshome x phantomjscurrentpng and shotshome x phantomjsnewpng Comparing shotshome phantomjscurrentpng and shotshome phantomjsnewpng Comparing shotshome phantomjscurrentpng and shotshome phantomjsnewpng Comparing shotshome phantomjscurrentpng and shotshome phantomjsnewpng Saved diff Comparing shotshome x phantomjscurrentpng and shotshome x phantomjsnewpng Saved diff Comparing shotshome phantomjscurrentpng and shotshome phantomjsnewpng Saved diff Saved diff Saved diff Saved diff GENERATING THUMBNAILS GENERATING GALLERY Gallery generated WARN Failures detected WARN home failed at a resolution of diff WARN home failed at a resolution of diff WARN home failed at a resolution of diff WARN home failed at a resolution of diff WARN home failed at a resolution of diff WARN home failed at a resolution of diff View the gallery in your browser filewraithyshotsgalleryhtml x I have pasted the contents of my config file below This is an example configuration provided by Wraith Feel free to amend for your own requirements This particular config is intended to demonstrate how to use Wraith in capture mode which is best suited to comparing a test and live version of the same website wraith capture captureyaml required The engine to run Wraith with Examples phantomjs casperjs slimerjs browser phantomjs required The domains to take screenshots of domains current new required The paths to capture All paths should exist for both of the domains specified above paths home required Screen widths and optional height to resize the browser to before taking the screenshot screenwidths x x optional JavaScript file to execute before taking screenshot of every path Default nil beforecapture javascriptwaitphantomjs required The directory that your screenshots will be stored in directory shots required Amount of fuzz ImageMagick will use when comparing images A higher fuzz makes the comparison less strict fuzz optional The maximum acceptable level of difference in between two images before Wraith reports a failure Default threshold optional Specify the template and generated thumbnail sizes for the gallery output gallery template slideshowtemplate Examples basictemplate default slideshowtemplate thumbwidth thumbheight optional Choose which results are displayed in the gallery and in what order Default alphanumeric Options alphanumeric all paths with or without a difference are shown sorted by path diffsfirst all paths with or without a difference are shown sorted by difference size largest first diffsonly only paths with a difference are shown sorted by difference size largest first Note different screen widths are always grouped together mode diffsfirst optional Set the number of threads to use when saving images Raising this value can improve performance but very high values can lead to server connection issues Set to around the available CPU cores for best performance Default threads verbose true Locally Wraith runs very well for me I am running the latest Wraith version in my CI pipeline with Docker containers Is there any chance to change Chromedriver port in settings Have not found any documentation about that Because I am getting the following errors from Wraith see the part with ERROR unable to connect to chromedriver DEBUG DEBUG Command run latest configshistoryyaml DEBUG Wraith version DEBUG Ruby version ruby p x linuxgnu DEBUG ImageMagick Version ImageMagick Q x DEBUG PhantomJS version PhantomJS not installed DEBUG chromedriver version chromedriver not installed DEBUG CasperJS version CasperJS not installed DEBUG Config validated No serious issues found Creating Folders SAVING IMAGES ERROR unable to connect to chromedriver WARN Using fallback image instead ERROR unable to connect to chromedriver WARN Using fallback image instead ERROR unable to bind to locking port within seconds WARN Using fallback image instead ERROR unable to bind to locking port within seconds WARN Using fallback image instead ERROR unable to connect to chromedriver My Chromedriver is running on port Thats the default one I find it weird that Wraith is trying to connect to port Hi is it possible to test various mobile devices and browser If so how can I do that Thank you