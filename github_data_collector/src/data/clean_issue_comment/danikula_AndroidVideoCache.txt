Attempt to write to field comandroidokioSegment comandroidokioSegmentnext on a null object reference javalangRuntimeExceptionWait but why WTF Really shouldnt happen any more after fixing If you read it on your device log please notify me danikulagmailcom or create issue here edahcloseSourceFile Caused by javalangNullPointerExceptionAttempt to write to field comandroidokioSegment comandroidokioSegmentnext on a null object reference comandroidokioSegmentpopSegmentjava comandroidokioOkBufferwriteOkBufferjava comandroidokioOkBufferreadOkBufferjava comandroidokioRealBufferedSourcereadRealBufferedSourcejava comandroidokhttpinternalhttpHttpConnectionFixedLengthSourcereadHttpConnectionjava comandroidokhttpinternalUtilskipAllUtiljava comandroidokhttpinternalhttpHttpConnectiondiscardHttpConnectionjava comandroidokhttpinternalhttpHttpConnectionFixedLengthSourcecloseHttpConnectionjava comandroidokhttpinternalUtilcloseQuietlyUtiljava comandroidokhttpinternalhttpHttpEnginecloseHttpEnginejava comandroidokhttpinternalhttpHttpURLConnectionImpldisconnectHttpURLConnectionImpljava comandroidokhttpinternalhttpDelegatingHttpsURLConnectiondisconnectDelegatingHttpsURLConnectionjava comandroidokhttpinternalhttpHttpsURLConnectionImpldisconnectHttpsURLConnectionImpljava edahcloseSourceFile edamcSourceFile edamfSourceFile edamaSourceFile edambrunSourceFile javalangThreadrunThreadjava comexamplevideocachesample EPinger Error reading ping response comdanikulavideocacheProxyCacheException Error opening connection for with offset Version at comdanikulavideocacheHttpUrlSourceopenHttpUrlSourcejava at comdanikulavideocachePingerpingServerPingerjava at comdanikulavideocachePingeraccess Pingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at javautilconcurrentFutureTaskrunFutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava Caused by javaioIOException Cleartext HTTP traffic to not permitted at comandroidokhttpHttpHandlerCleartextURLFiltercheckURLPermittedHttpHandlerjava at comandroidokhttpinternalhucHttpURLConnectionImplexecuteHttpURLConnectionImpljava at comandroidokhttpinternalhucHttpURLConnectionImplgetResponseHttpURLConnectionImpljava at comandroidokhttpinternalhucHttpURLConnectionImplgetResponseCodeHttpURLConnectionImpljava at comdanikulavideocacheHttpUrlSourceopenConnectionHttpUrlSourcejava at comdanikulavideocacheHttpUrlSourceopenHttpUrlSourcejava at comdanikulavideocachePingerpingServerPingerjava at comdanikulavideocachePingeraccess Pingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at javautilconcurrentFutureTaskrunFutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava comexamplevideocachesample Ichatty uid comexamplevideocachesample pool thread identical line comexamplevideocachesample EPinger Error reading ping response comdanikulavideocacheProxyCacheException Error opening connection for with offset Version at comdanikulavideocacheHttpUrlSourceopenHttpUrlSourcejava at comdanikulavideocachePingerpingServerPingerjava at comdanikulavideocachePingeraccess Pingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at javautilconcurrentFutureTaskrunFutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava Caused by javaioIOException Cleartext HTTP traffic to not permitted at comandroidokhttpHttpHandlerCleartextURLFiltercheckURLPermittedHttpHandlerjava at comandroidokhttpinternalhucHttpURLConnectionImplexecuteHttpURLConnectionImpljava at comandroidokhttpinternalhucHttpURLConnectionImplgetResponseHttpURLConnectionImpljava at comandroidokhttpinternalhucHttpURLConnectionImplgetResponseCodeHttpURLConnectionImpljava at comdanikulavideocacheHttpUrlSourceopenConnectionHttpUrlSourcejava at comdanikulavideocacheHttpUrlSourceopenHttpUrlSourcejava at comdanikulavideocachePingerpingServerPingerjava at comdanikulavideocachePingeraccess Pingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at comdanikulavideocachePingerPingCallablecallPingerjava at javautilconcurrentFutureTaskrunFutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava comexamplevideocachesample EPinger Error pinging server attempts max timeout If you see this message please report at Default proxies are DIRECT comdanikulavideocacheProxyCacheException Error pinging server attempts max timeout If you see this message please report at Default proxies are DIRECT Version at comdanikulavideocachePingerpingPingerjava at comdanikulavideocacheHttpProxyCacheServerisAliveHttpProxyCacheServerjava at comdanikulavideocacheHttpProxyCacheServerinitHttpProxyCacheServerjava at comdanikulavideocacheHttpProxyCacheServerinitHttpProxyCacheServerjava at comexamplevideocachesampleAppnewProxyAppjava at comexamplevideocachesampleAppgetProxyAppjava at comexamplevideocachesampleMainActivityonCreateMainActivityjava at androidappActivityperformCreateActivityjava at androidappActivityperformCreateActivityjava at androidappInstrumentationcallActivityOnCreateInstrumentationjava at androidappActivityThreadperformLaunchActivityActivityThreadjava at androidappActivityThreadhandleLaunchActivityActivityThreadjava at androidappservertransactionLaunchActivityItemexecuteLaunchActivityItemjava at androidappservertransactionTransactionExecutorexecuteCallbacksTransactionExecutorjava at androidappservertransactionTransactionExecutorexecuteTransactionExecutorjava at androidappActivityThreadHhandleMessageActivityThreadjava at androidosHandlerdispatchMessageHandlerjava at androidosLooperloopLooperjava at androidappActivityThreadmainActivityThreadjava at javalangreflectMethodinvokeNative Method at comandroidinternalosRuntimeInitMethodAndArgsCallerrunRuntimeInitjava at comandroidinternalosZygoteInitmainZygoteInitjava comexamplevideocachesample IHttpProxyCacheServer Proxy cache server started Is it alive false What is proguard rules Can AndroidVideoCache support TransferEncoding chunked mode url file uri M M M Heres the above content translated automatically with Google Translate maybe not very accurate but still worth a look Title Friends who do video on demand should pay attention to this framework This framework is caching first and then playing not caching while playing The principle of this framework is pass the URL of the network video to this framework the framework returns a file type uri to the player and then the framework directly opens the thread for network download and the player indirectly reads the data downloaded by the framework to the local data Play There will be a serious problem The player cannot control the buffering progress For example a video has M and the user only sees a quarter Assuming it is M most players on the market currently have a function to set the buffering progress In this way the setting will be invalid and the frame will still complete the M video For full downloads users will consume a lot of data traffic because the maximum buffering progress set by the player is the maximum buffering progress that the player reads locally not the progress of the network download Can I actively get the percentage of cache Sample can not play wether android nor android did anyone met this situation I pulled tag v use AndroidVideoCache to cache music cant play while buffering only when finished the buffer can play music why HttpProxyCacheServer proxy MainApplicationgetProxymContext proxyregisterCacheListenerthis itemgetSongUri String proxyUrl proxygetProxyUrlitemgetSongUri mMusicPlayersetDataSourceproxyUrl mMusicPlayerprepareAsync mMusicPlayersetOnPreparedListenerthis In Android The proxygetProxyUrlurl return the same url and not cached url But it works on Android 