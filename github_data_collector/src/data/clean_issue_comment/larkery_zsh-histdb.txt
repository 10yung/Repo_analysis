This allows for the histdb script to be loaded with ohmyzsh Useful for use in tandem with Just started getting this error on fresh install of Ubuntu Linux generic Ubuntu SMP Thu Feb UTC x x x GNULinux zsh x ubuntulinuxgnu sqlite c d b d d ba d e a e ee da d b e f alt Currently at master f Typing histdb shows Error no such column true Error no such column true error in header separator select strftimecase when datetimemaxstart unixepoch datetimenow start of day then HM else dm end maxstart unixepoch localtime as time session as ses dir argv as cmd from select session replaceplacesdir homeuser as dir replacecommandsargv as argv maxstarttime as maxstart from commands join history on historycommandid commandsid join places on historyplaceid placesid where true and placeshostguibox group by historycommandid historyplaceid order by maxstart desc limit order by maxstart asc histdb bad math expression operator expected at in select If I checkout f f and restart zsh the error goes away I tried to install this plugin on my vm Found an error with Error no such column true Spend quite a few time on this issue Turns out its quite easy The sqlite version need to be I think it is necessary to add it to the readme help people like me to save some time Hi For wildcards within a history line you can use the character which is like the shell glob so histdb thisthat will match any history line containing this followed by that with zero or more characters inbetween I tried both thisthat and thisthat with d to debug Turns out that thisthat didnt work And this one histdb this that works for me Use the localtime modifier in sqlite s datetime function to display localtime when doing reverse isearch os ubuntu zsh x ubuntulinuxgnu zshhistdb git sha e b debaea df b e f f a ohmyzsh git sha ad e First I have been using histdb for about a year and I LOVE it I started noticing issues when provisioning new systems I get zsh histdbupdateoutcome function definition file not found on execution of the line addzshhook precmd histdbupdateoutcome I have another system which has been working fine for months but now whenever I set up a new system I get this error on every prompt I even tried grafting my working systems ohmyzsh to a new system to no avail Also strangely on the new systems histdb command cannot be found This is even after running source HOMEohmyzshcustompluginszshhistdbsqlitehistoryzsh On the working system type histdb yields histdb is a shell function from homemikeohmyzshcustompluginszshhistdbsqlitehistoryzsh as expected Incorporates PR Im using these ZSH widgets for history search bindkey historybeginningsearchbackward page up bindkey historybeginningsearchforward page down Id like to use zshhistdb the same way fresh install install using the suggested ohmyzsh plugin dir and after adding commands to zshrc Error incomplete SQL PRAGMA userversion error in History database homemaxhistdbzshhistorydb is using an older schema and will be updated to version Backing up database to homemaxhistdbzshhistorydb bak before migration cp missing destination file operand after homemaxhistdbzshhistorydb bak Try cp help for more information Update successful you may want to remove the backup it looks like HISTDBFILE isnt being set correctly but im not sure theres also no backup present so that flow looks incorrect If I call histdb in while in devvim it yields results from devvim as well as devvimrc I assume the logic that is meant to handle the current dir or below logic is using some kind of simple substring matching therefore seeing devvimrc as including the substring devvim and returning a match In fact it seems thats exactly whats happening 