By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises Hi Starting with knitr we started to see new vignette errors in several Bioconductor packages in release BioC based on R and devel BioC based on R Here is how to reproduce Create a minimalist Rmd vignette that uses knitrincludegraphics jpegfilemyplotjpeg plot rect col white devoff TestvignetteRmd c title Test vignette r chunk knitrincludegraphics myplotjpeg catTestvignetteRmd sep n fileTestvignetteRmd Rendering the vignette with rmarkdownhtmldocument works fine libraryrmarkdown rmarkdownrenderTestvignetteRmd rmarkdownhtmldocument Rendering the vignette with rmarkdownpdfdocument triggers a nonfatal error rmarkdownrenderTestvignetteRmd rmarkdownpdfdocument Output processing file TestvignetteRmd ordinary text without R code label chunk Error Input file Testvignettefilesfigurelatexchunk pdf not found output file Testvignetteknitmd usrbinpandoc RTS K m RTS Testvignetteutf md to latex from markdownautolinkbareuristexmathsinglebackslash output Testvignettetex selfcontained highlightstyle tango pdfengine pdflatex variable graphics luafilter homebiocbuildbbs biocRlibraryrmarkdownrmdluapagebreaklua luafilter homebiocbuildbbs biocRlibraryrmarkdownrmdlualatexdivlua variable geometrymargin in Output created Testvignettepdf Trying to render the vignette again with rmarkdownhtmldocument after enabling cropping now produces a fatal error htmldocumentcrop rmarkdownhtmldocument htmldocumentcropknitrknithooks listcropknitrhookpdfcrop htmldocumentcropknitroptschunkcrop TRUE rmarkdownrenderTestvignetteRmd htmldocumentcrop Output processing file TestvignetteRmd ordinary text without R code label chunk Quitting from lines TestvignetteRmd Error in magickimagereadpathenc nativepath density depth strip Magick unable to open image Testvignettefilesfigurehtmlchunk png No such file or directory errorblobcOpenBlob magick is installed see sessionInfo below so this is not the same as issue Note that the issue was originally reported as a BiocStyle issue but the selfcontained example above seems to exonerate BiocStyle Thanks H sessionInfo R version Platform x pclinuxgnu bit Running under Ubuntu LTS Matrix products default BLAS homebiocbuildbbs biocRliblibRblasso LAPACK homebiocbuildbbs biocRliblibRlapackso locale LCCTYPEenUSUTF LCNUMERICC LCTIMEenUSUTF LCCOLLATEenUSUTF LCMONETARYenUSUTF LCMESSAGESenUSUTF LCPAPERenUSUTF LCNAMEC LCADDRESSC LCTELEPHONEC LCMEASUREMENTenUSUTF LCIDENTIFICATIONC attached base packages stats graphics grDevices utils datasets methods base other attached packages rmarkdown loaded via a namespace and not attached compiler magrittr magick tools htmltools yaml Rcpp stringi jpeg knitr stringr xfun digest rlang evaluate kable fails to align right if format pandoc and wide characters exist output htmldocument r minerals tibbletribble SiO Al O Automatically becomes format pandoc knitrkableminerals align r Please refer for the cause This issue will be fixed Pandocs issue is solved Meanwhile I think we have two choices wait for RStudio to bundle the future Pandoc use pipe tables rather than simple tables xfunsessioninfoknitr R version Platform x w mingw x bit Running under Windows x build RStudio Locale LCCOLLATEJapaneseJapan LCCTYPEJapaneseJapan LCMONETARYJapaneseJapan LCNUMERICC LCTIMEJapaneseJapan Package version evaluate glue graphics grDevices highr knitr magrittr markdown methods mime stats stringi stringr tools utils xfun yaml Please keep the below portion in your issue Your issue will be closed if any of the boxes is not checked ie replace by x In certain rare cases you may be exempted if you give a brief explanation eg you are only making a suggestion for improvement Thanks By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises A proposed solution to A test with Python is spinpythontestpy Using python directly python CProgramDataAnaconda pythonexe engine python enginepath python import os osgetenvRSTUDIOPANDOC I recognize that this is not a valid python script but it serves to test spin On your computer the Python path maywill need to be adjusted yihui I have a use case for the sql engine where I want to assign the output of the sql query to a variable but do it lazily without collecting it This will enable me to use dplyr SQL later down the line to combine these lazy queries I am able to get this working with a custom engine it does NOT handle all the cases handled by engsql and is a barebones implementation that uses dplyr to return an object of class tbllazy r engsqllazy functionoptions printoptions code pasteoptionscode collapse n conn getoptionsconnection varname optionsoutputlazy printvarname data tblconn dplyrsqlcode if isnullvarname assignvarname data envir knitrknitglobal out captureoutputdata knitrengineoutputoptions code out knitrknitenginessetsqllazy engsqllazy However I want to get this working with the sql engine so I can get syntax highlighting as well as the full set of uses cases handled by the engine Accordingly I tried to mess with this line of code and added a case where it is possible to specify a custom chunk option outputfun r if isnullvarname isnulloptionsoutputfun assignvarname data envir knitglobal else dataout optionsoutputfunconn query assignvarname dataout envir knitglobal This does NOT seem to work In fact anything I try to do within engsql does NOT seem to be working I would appreciate any pointers on how I could get this feature working I would be happy to contribute a PR since I believe this feature would be beneficial to the broader community looking to wrangle SQL in Rmd Please keep the below portion in your issue Your issue will be closed if any of the boxes is not checked ie replace by x In certain rare cases you may be exempted if you give a brief explanation eg you are only making a suggestion for improvement Thanks By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises I know about and regularly use knitexit And I often find myself wanting a feature like knitpause to pause knitting between given spots in the document especially when running xaringaninfmr on a long presentation with lots of R code One option is to use HTML comment fences around such text but Id love a knitr R based solution that would work regardless of the output format By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises Question directly copied from StackOverflow With the advent of reticulate combining R and Python in a single Rmd document has become increasingly popular among the R community myself included Now my personal workflow usually starts with an R script and at some point I create a shareable report using knitrspin with the plain R document as input in order to avoid code duplication see also Knitrs best hidden gem spin for more on the topic However as soon as Python code is involved in my analysis I am currently forced to break this workflow and manually convert ie copy and paste my initial R script into Rmd before compiling the report I wonder does anybody know whether it is ndash or for that matter will ever be ndash possible to make knitrspin work with both R and Python code chunks in a single R file without taking this detour I mean just like it works when mixing the two languages and exchanging objects between them in a Rmd file There is at least to the best of my knowledge no possibility to add something like engine python to spin documents at the moment By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises When calling cable with format latex the actual latex output is preceded by a newline I can write a wrapper that strips it but was curious Is this intentional libraryknitr a c b kablea format latex b n begintabularr n hline nx n hline n n hline n n hline n n hline n endtabular By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises If I make a tex file of a table with the kable function it adds a prefix tab to the label by default I find this a bit awkward because I have accustomed to use a different label myself TAB It is confusing to have tables from two different sources with the labeling either being upper or lower case depending on its source Easiest would be if the kable argument label would include the whole user defined label including the prefix that suits the user best This is just a small suggestion for improvement and I would be surprised if noone had thought about it before Please keep the below portion in your issue Your issue will be closed if any of the boxes is not checked ie replace by x In certain rare cases you may be exempted if you give a brief explanation eg you are only making a suggestion for improvement Thanks By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises Hi For cached chunks with intricate dependencies it is sometimes unclear why a chunk gets reevaluated For chunks that run fast it is also hard to discern whether the cache was hit or a reevaluation is taking place I thought it would be nice to introduce something akin to the make debug option which would enable displaying the relevant information knit debugcache TRUE for instance By filing an issue to this repo I promise that x I have fully read the issue guide at x I have provided the necessary information about my issue If Im asking a question I have already asked it on Stack Overflow or RStudio Community waited for at least hours and included a link to my question there If Im filing a bug report I have included a minimal selfcontained and reproducible example and have also included xfunsessioninfoknitr I have upgraded all my packages to their latest versions eg R RStudio and R packages and also tried the development version remotesinstallgithubyihuiknitr If I have posted the same issue elsewhere I have also mentioned it in this issue x I have learned the Github Markdown syntax and formatted my issue correctly I understand that my issue may be closed if I dont fulfill my promises I am trying to use some aliases within a bash chunk in my R notebook These aliases are defined in my bashrc or bashprofile file Using the standard bash engine it throws an error It means that bashrc or bashprofile is not sourced at bash startup I have then written an hook to force the sourcing in my setup chunk as follow knitrknithookssetengineopts function options optionsengineopts listbashinitfile bashprofile i returnoptions I tested the resulting bash invocation in bash terminal bash initfile bashprofile i c alias ll and generates the expected output I have then inspected the source code for the engine function and I suspect there is a typo messing with engineopts setting In my opinion the hook is not necessary because the bash invocation sources the bashrc or bashprofile automatically Is it that rstudioknitr runs the bash chunk as different user I tried to run whoami inside a chunk and my username is returned So why the bashrc or bashprofile file is not sourced EDIT setting knitroptschunksetengineopts listbashinitfile bashprofile i in setup chunks does not work either