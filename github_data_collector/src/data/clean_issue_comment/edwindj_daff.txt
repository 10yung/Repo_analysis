patchdatax patch Error in contextevaljoinsrc privatecontext TypeError Cannot set property of undefined I am experiencing encoding problems which I believe are a combined issue of Windows and renderdiffs way of generating the html file renderdiff seems to be generating the html file by setting the encoding to utf as standard On windows machines this does not seem to work as the data written to the disk is encoded as ANSI My workaround has been to change the encoding details in the htmlfile renderdiffchanges file writefile view FALSE reopen file and replace encoding details x readLineswritefile y gsub meta charsetutf meta charsetANSI x caty filewritefile sep n While it works it might be nice to have this fixed since daff is very useful I have not been able to identify the exact location of the bug hence this description Here is an example on Windows Daff v df dataframex y df dataframex y diff diffdatadf df renderdiffdiff I found the following behavior surprising r librarydaff examplediffdata creates the dd patch savedd file patchloadingRdata loadpatchloadingRdata dd Error in contextevaljoinsrc privatecontext Context has been disposed Almost all R objects can be safely written to Rdata or RDS files Is this failure expected behavior If this is intended I can contribute a documentation patch to diffdata and writediff so people at least know to expect this it caught me off guard since R objects are usually selfcontained and RdataRDS files are a big part of my workflow As discussed with edwindj Daff now Enhances lumberjack I implemented it as an R object which meas an extra Imports Alternatives are Reference method or I could just dress up an environment Thanks for considering Hi sometimes its just rounding issue and should be ignored something like below objectdiff Wonder if theres anything we can collaborate on Hi This is not really a bug but a feature request is it able to detect class changes r y iris x y xSepalWidth ascharacterxSepalWidth xSepalLength asfactorxSepalLength classx factor classx character classx numeric renderdiffdiffdatay x table trthththSepalLengthththSepalWidththththtr table Thanks David An htmlwidgets version of daff will allow for datadiff in shiny and rmarkdown The original daff is written in the programming language Haxe which can target many programming languages Currently the R package daff uses the javascript version of daff Haxe however can also generate C so the lib may also be implemented using the C target I dont know ifhow the C version of daff should compile as a R package to be found out 