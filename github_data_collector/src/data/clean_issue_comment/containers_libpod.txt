Im trying to enter the successfully running container podman exec it containerid binbash Error AppArmor not initialized correctly OCI runtime error Not sure where to begin troubleshooting this Here is what happens with logleveldebug INFO Running conmon under slice machineslice and unitName libpodconmon a adc b bfd e e a db feeb fb f d a aa e fscope WARN Failed to add conmon to systemd sandbox cgroup Unit libpodconmon a adc b bfd e e a db feeb fb f d a aa e fscope already exists DEBU Attaching to container a adc b bfd e e a db feeb fb f d a aa e f exec session db d f d bff b b ab fa d a af f d DEBU connecting to socket varrunlibpodsocket db d f d bff b b ab fa d a af f dattach DEBU Received DEBU Received a resize event Width Height DEBU Received ERRO conmond exec with attach is waiting for start message from parent conmond exec with attach got start message from parent OCI runtime error WARN unable to find etccontainersregistriesconf some podman image shortnames commands may be limited Same result with conmon and Ive found no relevant information in syslog Use VERSION instead of the CIRRUSTAG the other variable to set is GITCOMMIT Avoid doing an unnecessary git fetch tags Move the NUMBER sed hacks to the shell script Allows building from eg tarball without git Also allows building within a different git Example use shell make VERSIONv GITCOMMITb ce b af f a e b aa abff ee Closes kind bug Description a rootless privileged container refuses to start if a host device layout has changed since its creation Steps to reproduce the issue install the latest available podman dnf install podman gitce bf cfc x rpm create regular rootless privileged container podman create hostnametest namepodmantest privileged it fedora bash af d b d c a e a d a e a c c ebb run it to verify it is fine and quit podman start ia podmantest roottest exit unplug the mouse or any other usb device try to rum the container again podman start ia podmantest Error unable to start container af d b d c a e a d a e a c c ebb containerlinuxgo starting container process caused processlinuxgo container init caused rootfslinuxgo mounting devbususb to rootfs homevladislocalsharecontainersstorageoverlayc f eeb fa ef fccd c e a ef fe f d ce fc c a eamerged at devbususb caused stat devbususb no such file or directory OCI runtime command not found error cry in despair and try to work it around edit localsharecontainersstoragelibpodboltstatedb with a hex editor replace with spaces all two occurrences of destinationdevbususb typebindsourcedevbususb options slavenosuidnoexecrwrbind breath out podman start ia podmantest roottest exit Describe the results you received a rootless privileged container refuses to start if i unplug a mouse Describe the results you expected i expect this container to start Additional information you deem important eg issue happens only occasionally reproduces with a podman package at the latest commit as of today yes man podmancreate states A privileged container is given access to all devices When the operator executes a privileged container Podman enables access to all devices on the host i understand that podman will mount all the devices it remembers for the privileged containers but i would expect it is able to handle such volatile things like usb devices and other plugunplug devices which presence is expected to change over time at least it would be great to have a way to work around this problem like ignoreunexistingmounts for podman start or something Output of podman version podman version Version dev RemoteAPI Version Go Version go Git Commit bef e e ed f ec dd aa f dirty Built Sat Aug OSArch linuxamd Output of podman info debug podman info debug debug compiler gc git commit bef e e ed f ec dd aa f dirty go version go podman version dev host BuildahVersion CgroupVersion v Conmon package podman gitce bf cfc x path usrlibexecpodmanconmon version conmon version commit bef e e ed f ec dd aa f dirty Distribution distribution fedora version IDMappings gidmap containerid hostid size containerid hostid size uidmap containerid hostid size containerid hostid size MemFree MemTotal OCIRuntime name runc package runc rc gitc a fc x path usrbinrunc version runc version rc dev commit f c f ee e be ae d aa bfa a d e c spec dev SwapFree SwapTotal arch amd cpus eventlogger journald hostname rules kernel fc x os linux rootless true slirp netns Executable usrbinslirp netns Package slirp netns git fc x Version slirp netns version beta commit a b e b ba f de c uptime h m s Approximately days registries search dockerio registryfedoraprojectorg quayio registryaccessredhatcom registrycentosorg store ConfigFile configcontainersstorageconf ContainerStore number GraphDriverName overlay GraphOptions overlaymountprogram Executable usrbinfuseoverlayfs Package fuseoverlayfs fc x Version fuseoverlayfs version FUSE library version using FUSE kernel interface version GraphRoot localsharecontainersstorage GraphStatus Backing Filesystem xfs Native Overlay Diff false Supports dtype true Using metacopy false ImageStore number RunRoot runuser VolumePath localsharecontainersstoragevolumes Package info eg output of rpm q podman or apt list podman rpm q podman podman gitce bf cfc x Additional environment details AWS VirtualBox physical etc physical Lenovo P laptop Add podman service command that allows users to run either a RESTful or varlink protocol API service Addition of docs and RESTful listening Initial framework for testing the version HTTP API Includes a collection of tests for some of the existing endpoints Not all tests are currently passing Signedoffby Ed Santiago santiagoredhatcom The swagger doc headers are if I may be blunt evil There is far too much manual muckery much of those comments should be autogenerated Im working on that a script that parses the rHandle registrations and autogenerates a set of swagger comments Its still a WIP and Id like to extend it much more so the parameter descriptions can be written in a more humanfriendly way but thats not going to happen before devconf ITM here are a ton of problems some real some perhaps not that my script has found and fixed Some are possibly minor I dont know capitalization errors Some are errors in the documented method GET vs POST Some are errors in the endpoint I believe that all of them should be reviewed carefully and as appropriate merged You do not need to merge this PR but please at least incorporate the necessary fixes into your trees Signedoffby Ed Santiago santiagoredhatcom code was erronously misinterpretting the port as a containername Fixes Signedoffby baude bbauderedhatcom Hi All We were successfully using fuseoverlayfs with overlay driver on podman Following upgrade to the output of podman info no longer shows any mountprogram option We noticed the change to the structure of storageconf and moved the setting inside storageoptionsoverlay block Tried again and still didnt work We also tried making a storageoptionsoverlay block and no luck there either Is there a recommendation for what we should try next Description The installation instructions for Ubuntu are out of date now that builds are available through OBS In the Atomic PPA the description needs to be updated to say its deprecated Is this a BUG REPORT or FEATURE REQUEST leave only one on its own line kind bug Description I am using crc version to run a local openshift inside hyperkit on my Mac My goal is to build images directly on the openshift machine I am using podman runs on RHCOS inside hyperkit podmanremote runs on MacOS Catalina downloaded from I also tried podman dev on Mac which is the one from brew cask install podman Most podmanremote commands work OK over varlink for example psimagespull but build fails with the following error on the client Error invalid character after toplevel value And on the server ERRO failed to open the context dir tar file parameters Steps to reproduce the issue Run varlink on Linux bash sudo podman loglevel debug varlink t tcp Run build from Mac bash echo FROM registryaccessredhatcomubi ubiminimallatest tempDockerfile export PODMANVARLINKADDRESStcpapicrctesting podmanremotedarwin build f tempDockerfile Describe the results you received On Mac podmanremotedarwin build f tempDockerfile Error invalid character after toplevel value On linux sudo podman loglevel debug varlink t tcp DEBU Using varlink socket tcp DEBU Initializing boltdb state at varlibcontainersstoragelibpodboltstatedb DEBU Using graph driver overlay DEBU Using graph root varlibcontainersstorage DEBU Using run root varruncontainersstorage DEBU Using static dir varlibcontainersstoragelibpod DEBU Using tmp dir varrunlibpod DEBU Using volume path varlibcontainersstoragevolumes DEBU Set libpod namespace to DEBU graphdriver trying provided driver overlay DEBU cached value indicated that overlay is supported DEBU cached value indicated that metacopy is not being used DEBU NewControlvarlibcontainersstorageoverlay nextProjectID DEBU cached value indicated that nativediff is usable DEBU backingFsxfs projectQuotaSupportedtrue useNativeDifftrue usingMetacopyfalse DEBU Initializing event backend journald INFO Found CNI network podman typebridge at etccninetd podmanbridgeconflist DEBU successfully received tmpvarlinksend DEBU created new context dir at tmpbuildTarball ERRO failed to open the context dir tar file parameters Describe the results you expected When I run the same build on the Linux machine it works sudo podman build f tempDockerfile STEP FROM registryaccessredhatcomubi ubiminimallatest STEP COMMIT d cc f d e add e f ae bdc a be c b a da Additional information you deem important eg issue happens only occasionally Seems like the error comes from this line So it appears that the parsing of iopodmanBuildInfo got messed up Not sure how to debug further Output of podman version Client Version RemoteAPI Version Go Version go Git Commit b a cfd e baa a Built Thu Jun OSArch darwinamd Service Version stable RemoteAPI Version Go Version go OSArch linuxamd Output of podman info debug debug compiler gc git commit go version go podman version stable host BuildahVersion Conmon package podman moduleel f d x path usrlibexecpodmanconmon version conmon version dev commit unknown Distribution distribution rhcos version MemFree MemTotal OCIRuntime package runc rc el x path usrbinrunc version runc version spec dev SwapFree SwapTotal arch amd cpus hostname crck zmdmaster kernel el x os linux rootless false uptime h m s Approximately days registries blocked null insecure null search registryaccessredhatcom dockerio store ConfigFile etccontainersstorageconf ContainerStore number GraphDriverName overlay GraphOptions null GraphRoot varlibcontainersstorage GraphStatus Backing Filesystem xfs Native Overlay Diff true Supports dtype true Using metacopy false ImageStore number RunRoot varruncontainersstorage VolumePath varlibcontainersstoragevolumes Package info eg output of rpm q podman or apt list podman podman moduleel f d x Additional environment details AWS VirtualBox physical etc 