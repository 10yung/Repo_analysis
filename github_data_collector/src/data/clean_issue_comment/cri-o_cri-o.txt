Add decryption capabilities and also update completions to match Signedoffby Brandon Lum lumjjbgmailcom Signedoffby Peter Hunt pehuntredhatcom We already search required runtime dependencies inside paths so the existence of global crioconf is not necessary in all cases We will now not warn any more if the configuration file does not exist on the system as well as set default the loglevel to info to provide a better default startup context We now support partial dropin configuration files which will be assembled together on CRIO startup A default or user specified via the CLI directory will be recursively iterated whereas each file gets applied to the configuration in their processing order This means that a configuration file named etccriocrioconfd default has a lower priority than a file etccriocrioconfd myconfig The configuration provided via configc has always a higher priority than those inside the configdird The command line parameters have the highest configuration priority at all cc ereslibre flavio MartinWeiss This is an automated cherrypick of assign saschagrunert This PR is built on top of and has some bonus additions Increase the security of containers by removing the NETRAW and SYSCHROOT capabilty integrate changes introduced by Chenditang on github to update the crioconf man page Add netipv pinggrouprange to tests so that ping will still work fixes to urfave StringSlice handling allowing StringSlices to properly be specified by EnvVars test replace dnf with yum in systempackages installation because the ami bump wasnt tested in and using the dnf module breaks rhel updates Signedoffby Daniel J Walsh dwalshredhatcom Signedoffby Peter Hunt pehuntredhatcom The header was wrongly formatted which is now fixed This is a possible fix for The issue seems to be that the kubelet times out on the create request but crio doesnt error out when kubelet client times out So we end up with the pod being created and then kubelet keeps on trying to create the pod again and it cant since the name is reserved With the change we error out on timeouts so the pod creation fails and the name is unreserved so later attempts by the kubelet to create a pod or container may succeed We may want to add more of these checks around long running operations rather than just at the end in followups Signedoffby Mrunal Patel mrunalpgmailcom Signedoffby Mrunal Patel mrunalpgmailcom Description When running crio with seccomp enabled and a default profile specified the runtime falls back to unconfined when no profile is specified Steps to reproduce the issue Enable seccomp Specify a default profile Create a Pod Describe the results you received Empty profile default to unconfined Describe the results you expected Empty profile defaulting to runtimedefault Output of crio version 