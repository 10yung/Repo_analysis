 named export The plugin does nothing does not remove the old files when there is an error in the build I think this is a bug Steps to reproduce Use the following minimal webpackconfigjs js const CleanWebpackPlugin requirecleanwebpackplugin moduleexports output filename name contenthash js plugins new CleanWebpackPlugin Create a minimal srcindexjs with no errors Launch webpack in watch mode the dist folder is populated with only one mainjs file Change srcindexjs introducing a syntax error Result the dist folder now has two mainjs files Expected result the old file is cleaned an only the newest version remains Workaround Remove the following lines from the plugin source code js Do nothing if there is a webpack error if statshasErrors if thisverbose eslintdisablenextline noconsole consolewarncleanwebpackplugin pausing due to webpack errors return Issue description or question When a method inside of a plugin catched the error it wont appear in a console Webpack will just stop its compilation and gets stuck there I think its caused by lack of error handling in hooks version Try catch blocks were omitted there I locally improved error handling and it was pretty simple but I think these additional information would be significant for the users I could provide PR for these changes WDYT johnagan Webpack Config No related js paste your webpack config here Environment No related Run npx envinfo system binaries npmPackages cleanwebpackpluginwebpack bash Paste the result here When using this CleanWebpackPlugin does literally nothing js output path pathjoindirname diststaticjs hash filename name js Please just let us clear the whole dist folder I am going to rimraf this for now This plugin assumes the compileroutputFileSystem is set to the local system fs instance This plugin should instead target the output file system set on the compiler instance if set see This is a major version bump because the typeswebpack have been removed and cleanOnceBeforeBuildPatterns uses the compile hook afterCompile instead of emit so plugin order should no longer matter Also enables async removal of files for webpack Miscellaneous package maintenance such as package upgrades done as well Closes Hi An sorry but I will be really synthetic this time webpackdevserver open output dist config webpackconfigjs cleanwebpackplugin Evanesco The webpack config worked perfectly before for a while except webpackdevserver complaining about missing js file while accessing in browser I havent any more information now since I run testdisk before getting older backups So I cant be even sure that this issue is related to cleanwebpackplugin or webpackdevserver But I think that in both case it should be any security stopping all if the config file is under the directory that is asked to be delete Edit Just seeing Edit Unable to restore with testdisk only able to list all root file but their size are Additional information cleanwebpackplugin according to atom devServer contentBase dist historyApiFallback true hot true overlay true Steps to reproduce cd pathtoproject npm init y npm install D webpack webpackcli styleloader cssloader minicssextractplugin fileloader cleanwebpackplugin Code to reproduce packagejson scripts js build webpack mode production dev webpack mode development watch webpackconfigjs js const path requirepath const MiniCssExtractPlugin requireminicssextractplugin const CleanWebpackPlugin requirecleanwebpackplugin var config entry main srcmainjs output path pathresolvedirname public filename buildappjs module rules test css use styleloader MiniCssExtractPluginloader cssloader test pngjpeggifsvg loader fileloader options outputPath buildimages name name hash ext plugins new MiniCssExtractPlugin filename buildappcss new CleanWebpackPlugin cleanOnceBeforeBuildPatterns build moduleexports config srcassetsimagesbgpng any dummy image eg srccssappcss css whatever backgroundimage urlassetsimagesbgpng srcmainjs js import cssappcss npm run dev Save srccssappcss Observed behavior bgpng unexpectedly disappears from publicbuildimages 