Version used of library Android Gradle version App crashes when targetting API XXX Accessing hidden field LandroidwidgetAbsListViewmSelectorRectLandroidgraphicsRect greylistmaxp reflection denied XXX WSystemerr javalangNoSuchFieldException No field mSelectorRect in class LandroidwidgetAbsListView declaration of androidwidgetAbsListView appears in systemframeworkframeworkjarclasses dex XXX WSystemerr at javalangClassgetDeclaredFieldNative Method XXX WSystemerr at seemilsjolanderstickylistheadersWrapperViewListinitWrapperViewListjava XXX WSystemerr at seemilsjolanderstickylistheadersStickyListHeadersListViewinitStickyListHeadersListViewjava View footer getLayoutInflaterinflateRlayoutfooter null listViewaddFooterViewfooter null false i just add footer to the sticky listView but i cant see it Version of SDK seemilsjolanderstickylistheaders Operating systems Device models OnePlus T Samsung Galaxy S Steps to reproduce Expected behavior Crashlytics log Fatal Exception javalangClassCastException androidwidgetFrameLayoutLayoutParams cannot be cast to androidwidgetAbsListViewLayoutParams at androidwidgetListViewremoveUnusedFixedViews ListViewjava at androidwidgetListViewlayoutChildren ListViewjava at seemilsjolanderstickylistheadersWrapperViewListlayoutChildren WrapperViewListjava at androidwidgetAbsListViewonLayout AbsListViewjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at seemilsjolanderstickylistheadersStickyListHeadersListViewonLayout StickyListHeadersListViewjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidwidgetFrameLayoutlayoutChildren FrameLayoutjava at androidwidgetFrameLayoutonLayout FrameLayoutjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidwidgetFrameLayoutlayoutChildren FrameLayoutjava at androidwidgetFrameLayoutonLayout FrameLayoutjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidwidgetFrameLayoutlayoutChildren FrameLayoutjava at androidwidgetFrameLayoutonLayout FrameLayoutjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidwidgetFrameLayoutlayoutChildren FrameLayoutjava at androidwidgetFrameLayoutonLayout FrameLayoutjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidxappcompatwidgetActionBarOverlayLayoutonLayout ActionBarOverlayLayoutjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidwidgetFrameLayoutlayoutChildren FrameLayoutjava at androidwidgetFrameLayoutonLayout FrameLayoutjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidwidgetLinearLayoutsetChildFrame LinearLayoutjava at androidwidgetLinearLayoutlayoutVertical LinearLayoutjava at androidwidgetLinearLayoutonLayout LinearLayoutjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidwidgetFrameLayoutlayoutChildren FrameLayoutjava at androidwidgetFrameLayoutonLayout FrameLayoutjava at comandroidinternalpolicyDecorViewonLayout DecorViewjava at androidviewViewlayout Viewjava at androidviewViewGrouplayout ViewGroupjava at androidviewViewRootImplperformLayout ViewRootImpljava at androidviewViewRootImplperformTraversals ViewRootImpljava at androidviewViewRootImpldoTraversal ViewRootImpljava at androidviewViewRootImplTraversalRunnablerun ViewRootImpljava at androidviewChoreographerCallbackRecordrun Choreographerjava at androidviewChoreographerdoCallbacks Choreographerjava at androidviewChoreographerdoFrame Choreographerjava at androidviewChoreographerFrameDisplayEventReceiverrun Choreographerjava at androidosHandlerhandleCallback Handlerjava at androidosHandlerdispatchMessage Handlerjava at androidosLooperloop Looperjava at androidappActivityThreadmain ActivityThreadjava at javalangreflectMethodinvokeMethodjava at comandroidinternalosRuntimeInitMethodAndArgsCallerrun RuntimeInitjava at comandroidinternalosZygoteInitmain ZygoteInitjava Hi we are facing following issues in mobSF static scan in this library The App logs information Sensitive information should never be logged The App uses Java Hash Code Its a weak hash function and should never be used in Secure Crypto Could you guys please help us to resolve these issues appbarscrollingviewbehavior not working with coordinator layoutI dynamically add list view with fragment transaction I have M number of section name string which is header name in my case and different number of question strings in each sections Section names shoud be header and I have question strings array for each sections How to group according to this scenario Is this project using continuous integration services eg TravisCI or Jenkings Or has it used at any point of its lifetime Hi This library is accessing private APIs from AbsListView in WrapperViewList Apps targeting API Q will not be able to access those fields via reflection anymore These fields are not designed to be changed outside the class and is likely to cause problems We recommend using RecyclerView going forward which provides necessary APIs to implement sticky headers As far as I can see the code seems to handle not being able to access these fields properly but just wanted to give a heads up Problem When my Robolectric test executes the following line it crashes it doesnt crash on the actual device Note I have gotten rid of any usages of LinearLayout as suggested here StickyListHeadersListViewsetAdapteradapter My setup Plugins classpath comandroidtoolsbuildgradle Dependences implementation seemilsjolanderstickylistheaders aar Test dependencies testImplementationorgrobolectricrobolectric exclude group orgbouncycastle module bcprovjdk on exclude group androidxtest module monitor Stacktrace javalangClassCastException androidwidgetLinearLayoutLayoutParams cannot be cast to androidwidgetAbsListViewLayoutParams at androidwidgetListViewclearRecycledStateListViewjava at androidwidgetListViewresetListListViewjava at androidwidgetListViewsetAdapterListViewjava at seemilsjolanderstickylistheadersStickyListHeadersListViewsetAdapterStickyListHeadersListViewjava Update Ive traced the root cause and isolated it to this line listViewaddFooterViewinflaterinflateRlayoutlistfooter container false Interestingly enough it only causes failures when running Configsdk BuildVERSIONCODESKITKAT or Configsdk BuildVERSIONCODESO It works fine on Configsdk BuildVERSIONCODESP listfooterxml xml version encodingutf LinearLayout xmlnsandroid androidlayoutwidthmatchparent androidlayoutheightmatchparent androidgravitybottom Space androidlayoutwidthmatchparent androidlayoutheightdimenactivityverticalmarginlarge LinearLayout App is crashing in Android P when I try to expand an item from the sticky headerlist Error Logcat javalangIllegalArgumentException Invalid RegionOp only INTERSECT and DIFFERENCE are allowed at androidgraphicsCanvascheckValidClipOpCanvasjava at androidgraphicsCanvasclipPathCanvasjava at colujunandroidtagviewTagViewdrawRippleTagViewjava at colujunandroidtagviewTagViewonDrawTagViewjava at androidviewViewdrawViewjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewdrawViewjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidsupportconstraintConstraintLayoutdispatchDrawConstraintLayoutjava at androidviewViewdrawViewjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at seemilsjolanderstickylistheadersWrapperViewdispatchDrawWrapperViewjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidwidgetListViewdrawChildListViewjava at androidviewViewGroupdispatchDrawViewGroupjava at androidwidgetAbsListViewdispatchDrawAbsListViewjava at androidwidgetListViewdispatchDrawListViewjava at seemilsjolanderstickylistheadersWrapperViewListdispatchDrawWrapperViewListjava at androidviewViewdrawViewjava at androidwidgetAbsListViewdrawAbsListViewjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at seemilsjolanderstickylistheadersStickyListHeadersListViewdispatchDrawStickyListHeadersListViewjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewViewdrawViewjava at androidviewViewGroupdrawChildViewGroupjava at androidviewViewGroupdispatchDrawViewGroupjava at androidviewViewdrawViewjava at comandroidinternalpolicyDecorViewdrawDecorViewjava EAndroidRuntime at androidviewViewupdateDisplayListIfDirtyViewjava at androidviewThreadedRendererupdateViewTreeDisplayListThreadedRendererjava at androidviewThreadedRendererupdateRootDisplayListThreadedRendererjava at androidviewThreadedRendererdrawThreadedRendererjava at androidviewViewRootImpldrawViewRootImpljava at androidviewViewRootImplperformDrawViewRootImpljava at androidviewViewRootImplperformTraversalsViewRootImpljava at androidviewViewRootImpldoTraversalViewRootImpljava at androidviewViewRootImplTraversalRunnablerunViewRootImpljava at androidviewChoreographerCallbackRecordrunChoreographerjava at androidviewChoreographerdoCallbacksChoreographerjava at androidviewChoreographerdoFrameChoreographerjava at androidviewChoreographerFrameDisplayEventReceiverrunChoreographerjava at androidosHandlerhandleCallbackHandlerjava at androidosHandlerdispatchMessageHandlerjava at androidosLooperloopLooperjava at androidappActivityThreadmainActivityThreadjava at javalangreflectMethodinvokeNative Method at comandroidinternalosRuntimeInitMethodAndArgsCallerrunRuntimeInitjava at comandroidinternalosZygoteInitmainZygoteInitjava 