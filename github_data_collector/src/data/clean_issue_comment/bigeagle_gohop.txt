I installed the server on a remote machine here is server launch rootforelsket mygopathsrcgithubcombigeaglegohop gohop debug config serverini INFO using config file v serverini DEBUG v mykeyhere true randsize somesh somesh DEBUG mykeyhere true randsize somesh somesh Deprecated NewTUN may be removed in the future Please use New instead INFO interface v created tun INFO ip s link set dev tun up mtu qlen DEBUG v INFO ip s addr add dev tun local peer INFO ip s route add via dev tun INFO Fix MSS with iptables to d INFO iptables s I FORWARD i tun p tcp tcpflags SYNRST SYN j TCPMSS setmss WARNIN Traffic Morphing is disabled in this version INFO somesh DEBUG Recieving iface frames INFO somesh WARNIN client peer with key not found DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG handshake from client sid DEBUG assign address route key DEBUG peer DEBUG New UDP Packet from DEBUG port knock from client sid DEBUG New UDP Packet from DEBUG Client Handshake Done INFO Client Connected DEBUG New UDP Packet from DEBUG New UDP Packet from DEBUG New UDP Packet from DEBUG New UDP Packet from DEBUG New UDP Packet from here is my client launch rootpeach mygopathsrcgithubcombigeaglegohop gohop config clientini INFO using config file v clientini WARNIN Traffic Morphing is disabled in this version Deprecated NewTUN may be removed in the future Please use New instead INFO interface v created tun INFO ip s link set dev tun up mtu qlen INFO ip r a via dev wlp s INFO start handeshaking INFO ip s addr add dev tun local peer INFO ip s route add via dev tun INFO Session Initialized INFO Handshake Success INFO chnrouteupsh INFO Redirecting Gateway INFO ip s route add via dev tun INFO ip s route add via dev tun INFO Cleaning Up INFO ip s route del INFO ip s route del INFO chnroutedownsh INFO Finishing Session INFO Finish Acknowledged INFO ip s route del so I have a successful connection from client to server question is How do I use this connection I am on a Ubuntu desktop using other vpn approaches once a successful connection is made applications like my browser just automatically start using the vpn connection however once above connection is made my browser just times out Sequence of events I ssh onto my remove machine and launch your server from a terminal then I launch my client in another terminal once a good connection is made I can see ongoing logging shown in server terminal window so I still have connectivity to that remote machine via ssh Problem is any browser I use just times out from a new terminal things like ping fail to connect evidently the vpn connection my client has made is not being made available to my applications I wanted to connect from my minnowboard running Ubuntu to my VPS deployed in HK with gohop But the handshaking could not be done after both server and client have been correctly configured according to the manual After diagnosing with several potential causes i finally found that the ports in the range specified in the serverini are listened by the server only for udp addresses as my ISP does not really support ipv addressing Even if I disabled the ipv on the server side the ports are still listened only for udp This may be the cause of the problem Here is the netstat output udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp udp gohop server gohop establish vpn connection between Server and client They both can ping each other with Public ip and private IP but from other network client cannot ping HOw can i solve this and next issue is if connection from Server is lost Client cannot regain internet back again so we must restart physically sir can u give me solution how can i achieve both Can someone let me know Please implement correct config input validation Sample addr gohop debug config serverini INFO using config file v serverini DEBUG v ilovethebigbrother true none DEBUG v ilovethebigbrother true none INFO interface v created tun INFO ip s link set dev tun up mtu qlen DEBUG v nil panic runtime error index out of range goroutine running panic x ac c xc e usrlibgosrcruntimepanicgo x a githubcombigeaglegohophopsetTunIP xc b x x x x x x a gosrcgithubcombigeaglegohophopifacego x a githubcombigeaglegohophopNewServer xfa xfa x x xc xc x xc x x gosrcgithubcombigeaglegohophopservergo x f mainmain gosrcgithubcombigeaglegohopmaingo x Hello I hope are well You can add an authentication module Thank you Sorry for my bad English I get gohop serverini INFO using config file v serverini ERROR tap interface not implemented on this platform on MacOS but I see commit e a d b b a eeaa ac c Author ox spy ox spygmailcom Date Fri Feb run gohop on Mac OS so I think this can run on this platform now right After reading the source code of gohop i have questions about the implementation that i dont understand could u explain it What does the rate mean in hopPacketBufferPop to delay the pop operation What does the algorithm means func hb hopPacketBuffer Pop HopPacket hbnewPack r inthbrate x if hbbufcount r timeSleeptimeDurationr timeMicrosecond hbrate hbrate p hbbufPopHopPacket return p For the PKCS UnPadding method if theres no padding this method will still get the last byte as padding length is it wrong func PKCS UnPaddingorigData byte byte length lenorigData unpadding intorigData length return origData length unpadding If one of the port between HopStart HopEnd is blocked the client knowns nothing about that and still trying to forward packets to the port blocked because of handshake succed on another port without retrying and port switching 