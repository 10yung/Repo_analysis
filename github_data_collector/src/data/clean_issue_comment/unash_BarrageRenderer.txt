 F A DC D B A A size size size renderer receive self QNliveBarrageViewSpriteDescriptorWithDirectionBarrageWalkDirectionR L sideBarrageWalkSideDefault messagemessage BarrageDescriptor BarrageDescriptor liveBarrageViewSpriteDescriptorWithDirectionBarrageWalkDirectiondirection sideBarrageWalkSideside messageILVLiveCustomMessage message NSString actionParam NSString alloc initWithDatamessagedata encodingNSUTF StringEncoding JSONModelError error nil LiveBarrageModel textModel LiveBarrageModel alloc initWithStringactionParam error error if textModeliscolorvbarrage return nil NSString userName NSString stringWithFormattextModeluname NSString iconPath NSString stringWithFormattextModeluicon if textModelhidecount userName textModelhide objectForKeyhidename iconPath textModelhide objectForKeyhideicon BarrageDescriptor descriptor BarrageDescriptor alloc init descriptorspriteName NSStringFromClass BarrageWalkSprite class descriptorparams speed doublerandomRANDMAX descriptorparams direction BarrageWalkDirectionR L descriptorparams side BarrageWalkSideDefault descriptorparams viewClassName NSStringFromClass LiveBarrageView class descriptorparams iconUrl iconPath descriptorparams username userName descriptorparams textcontent textModeltext descriptorparams pendantpath textModelupendantpath descriptorparams colors textModelcolor return descriptor voidconfigureWithParamsNSDictionary params super configureWithParamsparams selfnameLabeltext params objectForKeyusername selftitleLabeltext params objectForKeytextcontent name title selfwidgetImageView setImageWithCDNPath params objectForKeypendantpath placeholderImagenil selfavatarImageView setImageWithCDNPath params objectForKeyiconUrl placeholderImage UIImage defaultIcon LiveBarrageColor color LiveBarrageColor alloc initWithDictionary params objectForKeycolors errornil NSString nameColor colornamelength colorname CCCCCC selfnameLabeltextColor UIColor hexcolorWithRGBHexStringnameColor NSString colorFront colorback length colorback NSString colorBack colorback length colorback selfbgColorLayercolors bridge id UIColor hexcolorWithRGBHexStringcolorFront CGColor bridge id UIColor hexcolorWithRGBHexStringcolorBack CGColor name title title lable CPU GPU opengl es layer CPU CPU CPU iPhone iOS img width alt src 