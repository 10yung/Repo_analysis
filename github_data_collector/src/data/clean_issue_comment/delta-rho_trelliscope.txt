The following code crashes R on my Windows machine librarydatadr librarytrelliscope set up viz database conn vdbConnvdb name Example datairis div divideiris by Species create panel function exPanel functiondata histdataSepalLength returnNULL make display makeDisplaydiv name foo desc bar panelFn exPanel Debugging with Visual Studio the error I get is Unhandled exception at x in rsessionexe xC Access violation at location x It looks like it happens right after a call to grDevicesdll fc ef stepping through makeDisplay it appears that the issue arises from the following call suppressMessagesmakePNGdatadrkvExampledata panelFn panelFn file filepathtempPrefix thumbpng width width height height lims lims And specifically the following call within makePNG tmp datadrkvApplydat panelFnvalue I changed my Renviron file to point my temp path to the same drivepartition as where the vdb is located but to no avail Any help would be appreciated Session info R version Platform x w mingw x bit Running under Windows x build Service Pack Matrix products default locale LCCOLLATEEnglishUnited States LCCTYPEEnglishUnited States LCMONETARYEnglishUnited States LCNUMERICC LCTIMEEnglishUnited States attached base packages stats graphics grDevices utils datasets methods base other attached packages trelliscope datadr loaded via a namespace and not attached Rcpp bindr magrittr munsell xtable colorspace lattice R jpeg rlang plyr dplyr tools parallel grid datatable gtable png htmltools lazyeval assertthat digest tibble bindrcpp shiny ggplot htmlwidgets DistributionUtils base enc codetools rsconnect curl mime glue compiler scales jsonlite httpuv hexbin pkgconfig With the latest ggplot updates the ggplotbuild function returns a different list To make same and sliced work again with ggplot it is necessary to change the accessed elements names Hi Ryan I believe Im having compatibility issues between trelliscope and foreachdopar Goal Fit univariate regressions using each of N predictors over a number of data subsets Make plots of the data and fits with cognostics using trelliscope Approach Foreach dopar over the list of covariate names Specify the plotting and the cognostic functions and call makeDisplay within the parallel loop Issue all of the required files and folders are created within displayscommon but displaysdisplayListRdata is not complete the number of rows within the displayListDF variable of displayListRdata is smaller than the number of folders created within displayscommon Opening the viewer via view only gives access to the displays listed in displayListDF The missingness in displayListDF seems to be random rerunning the same code does not always lead to the same missing values with respect to the folders in displayscommon There is no error when running the loop in serial Any thoughts Thanks MPTingley kv lapply functioni listk i v i ddo ddokv cogFn functioni listcog cog NA t tempfile vdbconn vdbConnt autoYesTRUE makeDisplayddo panelFnfunctionv plot cogFncogFn conn vdbconn namebreak things Error in dataframename nms i tmp stringsAsFactors FALSE arguments imply differing number of rows If you are like me you are like what The bug bites here The issue is that when the column of cog is NA this line is empty tmp attrx i cogAttrs when it is empty the row count is mismatched on the next line dataframename nms i tmp stringsAsFactors FALSE Two ideas present themselves Catch and give a stop with a decent error message Difficultly easy ifallisna stopAt least one cognostic of name must not be NA Make it work Technically not broken Maybe it is Difficulty little harder Involves checking tmp and also making sure everything down streams of it still works with all NA Maybe not worth it An NA column has no decisionable information it is just taking up space I think it is worth fixing because you really need to back up and think what did I do last to figure this one out In my case I added a bunch of cognostics and one was always NA sounds safest to me Just catch it and give it a decent message Want a pull request When viewing the byCounty summary the results are slightly different than shown in the tutorial The actual summary is Distributed data frame backed by kvMemory connection attribute value names fipscha timeDat nSoldnum medListPriceSqftnum medSoldPriceSqftnum nrow size stored MB size object MB subsets Other attributes getKeys Missing attributes splitSizeDistn splitRowDistn summary Conditioning variables county state Note esp the missing attributes which didnt show up before When viewing the byCounty summary the results are slightly different than shown in the tutorial The actual summary is Distributed data frame backed by kvMemory connection attribute value names fipscha timeDat nSoldnum medListPriceSqftnum medSoldPriceSqftnum nrow size stored MB size object MB subsets Other attributes getKeys Missing attributes splitSizeDistn splitRowDistn summary Conditioning variables county state Note esp the missing attributes which didnt show up before For instance url link to other trelliscopes or at least allow bold They get harder to read once as the number of plots increases Hi Ryan makeDisplay with a Hadoop backend starts a MapReduce job I have been wondering about if that is always needed and if there is anyway around that I concluded certainly for cogFn a MapReduce needs to be runonce but most of the time I just want to update a panelFn Is there anyway to just change out the panelFn render code in an existing display or do that in such a way that another MapReduce is not needed Thanks Jeremiah Hi My hobbies include staying up late finding bugs because my other hobby is writing code that hits corner cases I was quite excited to see the potential of rbokeh mixed with trelliscope unfortunately nothing happened for me when I went to do it I eventually figured this out but sorry no quick fix from me tonight Though I think the work around is simply to always plot something When the leading panelFn call for a ddo returns NULL and all the rest return rbokeh objects no panels display However if the leading panelFn returns an rbokeh object and a subsequent panelFn returns NULL only the NULL panel fails to display as it should be There is however a squawk from trelliscope while displaying the NULL of Error in systemfileconfig package package package must be of length R code to recreate this issue is this and it shows both the bad behavior and the good behavior R datairis idata divideirisbySpecies i idata lapplyidata functionkv newvalue list newvaluedata kvvalue newvaluei i i i kvvalue newvalue returnkv idata ddoidata badPanelFn functionv ifvi returnNULL p figure lypointsSepalLength SepalWidth datavdata hoverlistSepalLength returnp panelFnidata value bad vdbConntmpbad autoYesTRUE makeDisplayidata panelFnbadPanelFn connbad namename viewconnbad goodPanelFn functionv ifvi returnNULL p figure lypointsSepalLength SepalWidth datavdata hoverlistSepalLength returnp good vdbConntmpgood autoYesTRUE makeDisplayidata panelFngoodPanelFn conngood namename viewconngood 