Ive been using NCTOOLBOX for a few months now and recently I can no longer read data from a URL ie where XXXX is Month XX and Day XX respectively Initially I started getting a Protocol Version error since I was using MatLab b I figured they updated to use a more recent version of JAVA However errors have persisted since upgrading the java version I realize that this library hasnt been updated in like years and maybe it never will be again but if someone is interested in taking a look at it let me know I have a little background in Java but nothing quite to this degree Find the most recent stack trace below this is the result of my latest fix attempt in where I copied the cert from the website and added the bouncycastle jars to ext folder of java that I installed and redirected Matlab to use javaxnetsslSSLException Server key at sunsecuritysslHandshakerthrowSSLExceptionUnknown Source at sunsecuritysslClientHandshakerprocessMessageUnknown Source at sunsecuritysslHandshakerprocessLoopUnknown Source at sunsecuritysslHandshakerprocessrecordUnknown Source at sunsecuritysslSSLSocketImplreadRecordUnknown Source at sunsecuritysslSSLSocketImplperformInitialHandshakeUnknown Source at sunsecuritysslSSLSocketImplwriteRecordUnknown Source at sunsecuritysslAppOutputStreamwriteUnknown Source at javaioBufferedOutputStreamflushBufferUnknown Source at javaioBufferedOutputStreamflushUnknown Source at orgapachecommonshttpclientHttpConnectionflushRequestOutputStreamHttpConnectionjava at orgapachecommonshttpclientMultiThreadedHttpConnectionManagerHttpConnectionAdapterflushRequestOutputStreamMultiThreadedHttpConnectionManagerjava at orgapachecommonshttpclientHttpMethodBasewriteRequestHttpMethodBasejava at orgapachecommonshttpclientHttpMethodBaseexecuteHttpMethodBasejava at orgapachecommonshttpclientHttpMethodDirectorexecuteWithRetryHttpMethodDirectorjava at orgapachecommonshttpclientHttpMethodDirectorexecuteMethodHttpMethodDirectorjava at orgapachecommonshttpclientHttpClientexecuteMethodHttpClientjava at orgapachecommonshttpclientHttpClientexecuteMethodHttpClientjava at ucarnc utilnetHTTPMethodexecuteHTTPMethodjava at ucarnc datasetNetcdfDatasetcheckIfDodsNetcdfDatasetjava at ucarnc datasetNetcdfDatasetdisambiguateHttpNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenOrAcquireFileNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava Caused by javasecurityInvalidKeyException No installed provider supports this key sunsecurityrsaRSAPublicKeyImpl at javasecuritySignatureDelegatechooseProviderUnknown Source at javasecuritySignatureDelegateengineInitVerifyUnknown Source at javasecuritySignatureinitVerifyUnknown Source at sunsecuritysslHandshakeMessageDHServerKeyExchangeinitUnknown Source more Error using ncdataset line Failed to open Error in cfdataset line obj objncdataseturl Error in ncgeodataset line obj objcfdataseturl Error in swhFromNetCdfNOAAOpenDAP dayNearCastSingleOutputJBB line nconcgeodatasetcell maturlj Caused by Error using ncdataset line Java exception occurred ucarnc utilnetHTTPException javaxnetsslSSLException Server key at ucarnc utilnetHTTPMethodexecuteHTTPMethodjava at ucarnc datasetNetcdfDatasetcheckIfDodsNetcdfDatasetjava at ucarnc datasetNetcdfDatasetdisambiguateHttpNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenOrAcquireFileNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava Caused by javaxnetsslSSLException Server key at sunsecuritysslHandshakerthrowSSLExceptionUnknown Source at sunsecuritysslClientHandshakerprocessMessageUnknown Source at sunsecuritysslHandshakerprocessLoopUnknown Source at sunsecuritysslHandshakerprocessrecordUnknown Source at sunsecuritysslSSLSocketImplreadRecordUnknown Source at sunsecuritysslSSLSocketImplperformInitialHandshakeUnknown Source at sunsecuritysslSSLSocketImplwriteRecordUnknown Source at sunsecuritysslAppOutputStreamwriteUnknown Source at javaioBufferedOutputStreamflushBufferUnknown Source at javaioBufferedOutputStreamflushUnknown Source at orgapachecommonshttpclientHttpConnectionflushRequestOutputStreamHttpConnectionjava at orgapachecommonshttpclientMultiThreadedHttpConnectionManagerHttpConnectionAdapterflushRequestOutputStreamMultiThreadedHttpConnectionManagerjava at orgapachecommonshttpclientHttpMethodBasewriteRequestHttpMethodBasejava at orgapachecommonshttpclientHttpMethodBaseexecuteHttpMethodBasejava at orgapachecommonshttpclientHttpMethodDirectorexecuteWithRetryHttpMethodDirectorjava at orgapachecommonshttpclientHttpMethodDirectorexecuteMethodHttpMethodDirectorjava at orgapachecommonshttpclientHttpClientexecuteMethodHttpClientjava at orgapachecommonshttpclientHttpClientexecuteMethodHttpClientjava at ucarnc utilnetHTTPMethodexecuteHTTPMethodjava more Caused by javasecurityInvalidKeyException No installed provider supports this key sunsecurityrsaRSAPublicKeyImpl at javasecuritySignatureDelegatechooseProviderUnknown Source at javasecuritySignatureDelegateengineInitVerifyUnknown Source at javasecuritySignatureinitVerifyUnknown Source at sunsecuritysslHandshakeMessageDHServerKeyExchangeinitUnknown Source more Also let me know if im barking up the wrong tree here too At this point I dont really know what to do I think unidata had moved all the data over to https and NCTOOLBOX wasnt designed for it There was an update to netcdf netcdf x at least Any feedback would be great Cheers MastUniv Hello After some modifying the NCTOOLBOX based on the suggestions here I was able to compile and have it working on MATLAB R b However when I switched to MATLAB R a I was not able to run the compiled version in machines which do not have Matlab installed The error message was saying that the GRB file cannot be opened I have attached the modified code and a sample testing case TestR bexe was created by compiling Testm with R b it worked on any computer that I have tried Testexe was compiled with R a it did not work on any other computer besides mine Could you let me know if you have any suggestions on how to resolve this issue Thanks Tom Zheng Hi I am new to this service and unfamiliar with the structure of the nctoolbox I have searched through previous issues documentation and internet searches but unfortunately havent solved my issue Is there a way to release the file handles within matlab that are associated with open datasets I am using Matlab R a on Windows enterprise version Unix commands below ls hrrrt xargs rm f rm cannot remove hrrrt zwrfprsf grib Device or resource busy rm cannot remove hrrrt zwrfprsf grib ncx Device or resource busy rm cannot remove hrrrt zwrfprsf grib Device or resource busy rm cannot remove hrrrt zwrfprsf grib ncx Device or resource busy rm cannot remove hrrrt zwrfsfcf grib Device or resource busy rm cannot remove hrrrt zwrfsfcf grib ncx Device or resource busy rm cannot remove hrrrt zwrfprsf grib Device or resource busy rm cannot remove hrrrt zwrfprsf grib ncx Device or resource busy Hi everybody I am trying to use nctoolbox to download NCEP reanalyses data from the ncei threadds data server I can read the files but I cant fetch any data Here is the error that I keep getting opendapdapDAP Exception Method failedHTTP Forbidden at opendapdapDConnect openConnectionDConnect java at opendapdapDConnect getDataDConnect java at opendapdapDConnect getDataDConnect java at ucarnc dodsDODSNetcdfFilereadDataDDSfromServerDODSNetcdfFilejava at ucarnc dodsDODSNetcdfFilereadDataDODSNetcdfFilejava at ucarnc VariablereadVariablejava at ucarnc VariablereadVariablejava at ucarnc datasetVariableDSreadVariableDSjava at ucarnc VariablereadVariablejava at ucarnc VariablereadVariablejava Java exception occurred javaioIOException Method failedHTTP Forbidden at ucarnc dodsDODSNetcdfFilereadDataDODSNetcdfFilejava at ucarnc VariablereadVariablejava at ucarnc VariablereadVariablejava at ucarnc datasetVariableDSreadVariableDSjava at ucarnc VariablereadVariablejava at ucarnc VariablereadVariablejava I contacted ncei support and they gave the following answer The library may be getting tripped up by redirects that happen as the result of our HTTPSonly policy Any HTTP request will redirect to the equivalent HTTPS page The script is using at the beginning of the URL so changing that to may help That doesnt work Another possible problem is that HTTPS connections can fail if the library that is doing the connection does not recognize the certificate used for our domain this shouldnt be a problem with our production service unless the library isnt properly set up to recognize SSL certificates I really dont know if the library is properly set up I am trying to figure it out but I appreciate any help I am using Matlab a and the most recent nctoolbox version Thanks in advance My code clcclearclose all setupnctoolbox ano mes dl arqwnd mgdas extgrb Extraction Points rlat rlon for k lengthano for m lengthmes st dl num stranok num strmesm d arq num stranok num strmesm d ext dsncdatasetst londsdatalon latdsdatalat Locates the points lonlon lonlon latabslatrlat lonabslonrlon ilat minlat ilon minlon tsdssizetime htdstimetime ts sidssizeucomponentofwindheightaboveground hudsdataucomponentofwindheightaboveground ilat ilon si ilat ilon hvdsdatavcomponentofwindheightaboveground ilat ilon si ilat ilon if m guhu gvhv gtht else gu uhu gv vhv gt tht end if k ugu vgv tgt else u ugu v vgv t ttg end end end Reading a vector from a nc file generated by the COAWST version of ROMS r Using ver MATLAB Version R a MATLAB License Number Operating System Microsoft Windows Enterprise Version Build Java Version Java b with Oracle Corporation Java HotSpotTM Bit Server VM mixed mode MATLAB Version R a Image Processing Toolbox Version R a NCTOOLBOX Tools for readonly access to Common Version g Parallel Computing Toolbox Version R a Signal Processing Toolbox Version R a Statistics and Machine Learning Toolbox Version R a Wavelet Toolbox Version R a This does not work ws ncWsed and returns this error ws ncWsed Error using ncdatasetreaddata line Java exception occurred ucarma InvalidRangeException last must be first at ucarma RangeinitRangejava at ucarma RangeinitRangejava Error in ncdatasetdata line d objreaddatavariable first last stride Error in ncgeodatasetsubsref line B builtinsubsrefobjg Error in ncvariablesomedata line data objdatasetdataname first last stride Error in ncvariablesubsref line sref objsomedata first last stride Error in ncgeodatasetsubsref line B vdatas subs But this does and returns a D vector ws ncWsed ws Here is a complete snippet of code that will generate the error clear url nc ncgeodataset urlnc These read correctly Vtransform ncVtransform Vstretching ncVstretching These all read correctly srho ncsrho sw ncsw Csr ncCsr Csw ncCsw These read correctly thetas ncthetas thetab ncthetab depthc nchc This does not Nor does Wsed Akv or Akt fdiam e ncSd fdiam e ncSd In the past Ive had no trouble using nctoolbox to access NOAA buoy data through the OPeNDAP protocol Sometime in the last few months it seems to have stopped working I suspect this is related to a shift to https urls as I cant figure out any other differences in that timeframe I wonder if this is related or similar to this previous open issue Heres an example url that no longer works for me data Beginning of the error looks like this Error using ncdataset line Failed to open Caused by Error using ncdataset line Java exception occurred ucarnc utilnetHTTPException javaxnetsslSSLHandshakeException Remote host closed connection during handshake I wonder if anyone has encountered this and fixed it or found a workaround Any help or guidance would be greatly appreciated Anyone else receive this error using Windows and Java version I got it while trying to access a file ncdatasetC User Documents MATLAB Temporary file The full error message is below arning Escaped character U is not valid See doc sprintf for supported special characters In ncdataset line In GFSgrab line Error using ncdataset line Failed to open C Error in GFSgrab line tmpdata ncdatasetoutfilename Caused by Error using ncdataset line Java exception occurred javaioIOException javalangRuntimeException javalangNoClassDefFoundError ucarnc utilCloseableIterator at ucarnc NetcdfFileopenNetcdfFilejava at ucarnc datasetNetcdfDatasetopenOrAcquireFileNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava at ucarnc datasetNetcdfDatasetopenDatasetNetcdfDatasetjava Caused by javalangRuntimeException javalangNoClassDefFoundError ucarnc utilCloseableIterator at ucarnc NetcdfFileinitNetcdfFilejava at ucarnc NetcdfFileopenNetcdfFilejava at ucarnc NetcdfFileopenNetcdfFilejava more Caused by javalangNoClassDefFoundError ucarnc utilCloseableIterator at ucarnc gribgrib Grib CollectionBuilderinitGrib CollectionBuilderjava at ucarnc gribgrib Grib CollectionBuilderreadOrCreateIndexFromSingleFileGrib CollectionBuilderjava at ucarnc gribGribIndexmakeGribCollectionFromSingleFileGribIndexjava at ucarnc gribgrib Grib IospopenGrib Iospjava at ucarnc NetcdfFileinitNetcdfFilejava more Caused by javalangClassNotFoundException ucarnc utilCloseableIterator at javanetURLClassLoaderfindClassURLClassLoaderjava at javalangClassLoaderloadClassClassLoaderjava at sunmiscLauncherAppClassLoaderloadClassLauncherjava at javalangClassLoaderloadClassClassLoaderjava more I am trying to open a grb file using ncload and I am getting the following error at ucarjpegjj j kcodestreamreaderFileBitstreamReaderAgentinitFileBitstreamReaderAgentjava at ucarjpegjj j kcodestreamreaderBitstreamReaderAgentcreateInstanceBitstreamReaderAgentjava at ucarjpegjj j kdecoderGrib JpegDecoderdecodeGrib JpegDecoderjava at ucarnc gribgrib Grib DataReadergetData Grib DataReaderjava at ucarnc gribgrib Grib DataReadergetDataGrib DataReaderjava at ucarnc gribgrib Grib RecordreadDataGrib Recordjava at ucarnc gribgrib Grib IospDataReaderreadGrib Iospjava at ucarnc gribgrib Grib IospreadDataFromCollectionGrib Iospjava at ucarnc gribgrib Grib IospreadDataGrib Iospjava at ucarnc NetcdfFilereadDataNetcdfFilejava at ucarnc VariablereallyReadVariablejava at ucarnc VariablereadVariablejava at ucarnc VariablereadVariablejava at ucarnc datasetVariableDSreallyReadVariableDSjava at ucarnc datasetVariableDSreadVariableDSjava at ucarnc VariablereadVariablejava main ERROR ucarnc gribgrib Grib DataReader Grib DataSectionjpeg Unpacking bit rate too small nb for filewnd mcdas grb Requested bitrate is too small This same error message repeats a few hundred times and is only one part of the error The second part of error is Error using assignin Invalid variable name ucomponentofwindheightaboveground in ASSIGNIN Error in ncload line assigninbasevstrncdatavstr I am guessing the second part of the error is because of the hyphen in the variable name but I am not sure if there is a way for me to fix I would like to either open this file or be able to convert it to nc format Any help greatly appreciated Thanks I am using NCTOOLBOX and grb data from here I can use the following to get surface temperature at a specific location nconcgeodatasetgfsdatagrb variable ncoTemperaturesurface But I am trying to find the temperature at a specific altitude as well There is another variable called Temperatureheightaboveground but I am not sure how to specify the height Any help would be great I just used NCToolbox to work with HYCOM data and thought it might be nice to tie that in to a demo Is there a wiki page blog or something that could collect a few examples Ive got code and a graphic for a HYCOM surface salinity field posted at nctoolbox might work well as a twitter hashtag for publishing finding NCToolbox use cases Try 