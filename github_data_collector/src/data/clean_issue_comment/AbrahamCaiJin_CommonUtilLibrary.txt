 scale param v param v param scale return public static String divideString v String v int scale if scale throw new IllegalArgumentExceptionThe scale must be a positive integer or zero BigDecimal b new BigDecimalv BigDecimal b new BigDecimalv v return b divideb scale BigDecimalROUNDHALFUPtoString llRootgetViewTreeObserveraddOnGlobalLayoutListenernew ViewTreeObserverOnGlobalLayoutListener Override public void onGlobalLayout Rect rect new Rect llRootgetWindowVisibleDisplayFramerect int screenHeight ScreenUtilsgetSreenHeightcontext int heightDiff screenHeight rectbottom if heightDiff screenHeight isKeyboardShown false else isKeyboardShown true 