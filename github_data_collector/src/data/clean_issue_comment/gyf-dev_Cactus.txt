 java private void startForeground if KeepLivesForegroundNotification null Intent intent new IntentgetApplicationContext NotificationClickReceiverclass intentsetActionNotificationClickReceiverACTIONCLICKNOTIFICATION final Notification notification NotificationUtilsgetNotificationthis KeepLivesForegroundNotificationgetTitle KeepLivesForegroundNotificationgetDescription KeepLivesForegroundNotificationgetIconRes intent if BuildVERSIONSDKINT BuildVERSIONCODESO final NotificationManager manager NotificationManager getSystemServiceContextNOTIFICATIONSERVICE managernotifyKEYNOTIFICATIONID notification startForegroundKEYNOTIFICATIONID notification if managergetNotificationChannelnotificationgetChannelId null mHandlerpostnew Runnable Override public void run managerdeleteNotificationChannelnotificationgetChannelId else NotificationManagerCompat managerCompat NotificationManagerCompatfromthis managerCompatnotifyKEYNOTIFICATIONIDnotification startForegroundKEYNOTIFICATIONIDnotification Androidx Android support isDebug false stop stop androidappRemoteServiceException Bad notification for startForeground javalangRuntimeException invalid channel for service notification NotificationchannelCactus pri contentViewnull vibratenull soundnull defaults x flags x color x visPRIVATE at androidappActivityThreadHhandleMessageActivityThreadjava at androidosHandlerdispatchMessageHandlerjava at androidosLooperloopLooperjava at androidappActivityThreadmainActivityThreadjava at javalangreflectMethodinvokeNative Method at comandroidinternalosRuntimeInitMethodAndArgsCallerrunRuntimeInitjava at comandroidinternalosZygoteInitmainZygoteInitjava 