 present selfzhpopupcontroller dismiss keywindow demo VIew home App App dissmiss UIKeyboardWillChangeFrameNotification keyboardWillChangeFrame popupViewcenter Y Y popupViewcenter if CGPointEqualToPointCGPointZero markerCenter popupViewcenter CGPointMakemarkerCenterx markerCentery changeHeight else popupViewcenter CGPointMakepopupViewcenterx popupViewcentery changeHeight CGRect beginKeyboardRect userInfo objectForKeyUIKeyboardFrameBeginUserInfoKey CGRectValue CGRect endKeyboardRect userInfo objectForKeyUIKeyboardFrameEndUserInfoKey CGRectValue CGFloat yOffset endKeyboardRectoriginy beginKeyboardRectoriginy popupViewcenter CGPointMakepopupViewcenterx popupViewcentery yOffset selfoffsetSpacingOfKeyboard selfzhpopupControllermaskTouched zhPopupController Nonnull popupController popupController dismissWithDuration springAnimatedNO 