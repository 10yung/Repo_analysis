 onCreate guideView targetView api button fragment createGuide fragment setFullingColorIdColorRes int id mEraserBitmap BitmapcreateBitmapwidth height BitmapConfigARGB private void verticalChildPositionLayoutView child RectF rect int targetParentPosition switch targetParentPosition case LayoutParamsPARENTCENTER recttop mTargetRectwidth childgetMeasuredHeight rectbottom mTargetRectwidth childgetMeasuredHeight recttop mTargetRectheight childgetMeasuredHeight rectbottom mTargetRectheight childgetMeasuredHeight rectoffset mTargetRecttop break drawbitmap paint Override protected void onDrawCanvas canvas superonDrawcanvas if mChangedHeight mTargetRectoffset mChangedHeight mInitHeight mInitHeight mChangedHeight mChangedHeight mEraserBitmaperaseColorColorTRANSPARENT mEraserCanvasdrawColormFullingPaintgetColor if mOverlayTarget switch mStyle case ComponentROUNDRECT mEraserCanvasdrawRoundRectmTargetRect mCorner mCorner mEraser break case ComponentCIRCLE mEraserCanvasdrawCirclemTargetRectcenterX mTargetRectcenterY mTargetRectwidth mEraser break default mEraserCanvasdrawRoundRectmTargetRect mCorner mCorner mEraser break paint canvasdrawBitmapmEraserBitmap mOverlayRectleft mOverlayRecttop paint AppCompatDialogFragment view guide view 