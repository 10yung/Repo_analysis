my workflow requires me to type in the password and then type in the number to signify that I want a Duo push notification Is there any easy way to support this Using Python with Paramiko I have the following snippet of code def returnsshkeyself agentkey paramikoAgentgetkeys if lenagentkey printNo SSH keys loaded into SSH agent keyfile inputEnter full path to SSH key try return paramikoRSAKeyfromprivatekeyfilekeyfile getpassgetpassEnter SSH key passphrase except paramikosshexceptionSSHException printYour private key passphrase is incorrect else return agentkey def anotherfunc remotechannel selfsshclientgettransportopenchannel directtcpip devicename trans paramikoTransportremotechannel transstartclient selfsshKey selfsshKey or selfreturnsshkey transauthpublickeyusername selfsshKey This code fails at the line transauthpublickeyusername selfsshKey With the error Traceback most recent call last File paramikotransportpy line in run handlerselfauthhandler m File paramikoauthhandlerpy line in parseserviceaccept sig selfprivatekeysignsshdatablob File paramikoagentpy line in signsshdata raise SSHExceptionkey cannot be used for signing paramikosshexceptionSSHException key cannot be used for signing Only when running this threaded and when I try to connect to more than devices at a time if I run them serially it works fine and I can auth to the devices with the same key This is clearly some threading issue but I cant determine why its failing only in parallel Given that it worked threaded when a smaller number of threads I suspect its some issue connecting to the SSH agent to verify the key No idea Any help would be greatly appricated openssl adds Bag Attributes to private keys extracted from pfx Paramiko fails to parse these keys These used to work long ago not sure which paramiko release bagkeypemzip shsession openssl req x newkey rsa nodes keyout keypem out certpem days openssl pkcs export in certpem inkey keypem out outputpfx openssl pkcs in outputpfx nocerts nodes out bagkeypem python import paramiko with openbagkeypem as f key paramikoRSAKeyfromprivatekeyf shsession python keybagpy Traceback most recent call last File keybagpy line in module key paramikoRSAKeyfromprivatekeyf File privatetmpvenvlibpython sitepackagesparamikopkeypy line in fromprivatekey key clsfileobjfileobj passwordpassword File privatetmpvenvlibpython sitepackagesparamikorsakeypy line in init selffromprivatekeyfileobj password File privatetmpvenvlibpython sitepackagesparamikorsakeypy line in fromprivatekey data selfreadprivatekeyRSA fileobj password File privatetmpvenvlibpython sitepackagesparamikopkeypy line in readprivatekey raise SSHExceptionnot a valid private key fileformattag paramikosshexceptionSSHException not a valid RSA private key file I could not catch any exception when raising an error because of timeout try stdin stdout stderr sshexeccommandcmd bufsize timeouttimeout except paramikoPipeTimeout logginginfo Command Error s cmd return False except Exception logginginfo Command Error s cmd return False except sockettimeout as e logginginfo Command Error s cmd return False except paramikoSSHException logginginfo Command Error s cmd return False to recreate bug pip install vorta rm sshknownhostslock touch sshknownhostslock vorta f Traceback most recent call last File optanacondaanaconda binvorta line in module sysexitmain File optanacondaanaconda libpython sitepackagesvortamainpy line in main app VortaAppsysargv singleappTrue File optanacondaanaconda libpython sitepackagesvortaapplicationpy line in init selfopenmainwindowaction File optanacondaanaconda libpython sitepackagesvortaapplicationpy line in openmainwindowaction selfmainwindow MainWindowself File optanacondaanaconda libpython sitepackagesvortaviewsmainwindowpy line in init selfrepoTab RepoTabselfrepoTabSlot File optanacondaanaconda libpython sitepackagesvortaviewsrepotabpy line in init selfinitssh File optanacondaanaconda libpython sitepackagesvortaviewsrepotabpy line in initssh keys getprivatekeys File optanacondaanaconda libpython sitepackagesvortautilspy line in getprivatekeys parsedkey keyformatfromprivatekeyfilekeyfile File optanacondaanaconda libpython sitepackagesparamikopkeypy line in fromprivatekeyfile key clsfilenamefilename passwordpassword File optanacondaanaconda libpython sitepackagesparamikorsakeypy line in init selffromprivatekeyfilefilename password File optanacondaanaconda libpython sitepackagesparamikorsakeypy line in fromprivatekeyfile data selfreadprivatekeyfileRSA filename password File optanacondaanaconda libpython sitepackagesparamikopkeypy line in readprivatekeyfile data selfreadprivatekeytag f password File optanacondaanaconda libpython sitepackagesparamikopkeypy line in readprivatekey m selfBEGINTAGmatchlines start IndexError list index out of range Segmentation fault core dumped Im using opensftp to open the file on the remote server and then display the obtained content on the web The whole process is ok but when I open the file of about M the web interface will have a long response time During this period if I close the web page and reopen the link there will be Paramiko SshexceptionSSHException Server connection dropped after which OSError will always occur Socket is closed Has anyone ever encountered such a problem I need help Thank you The following code client paramikoSSHClient clientsetmissinghostkeypolicyparamikoAutoAddPolicy clientconnecthost host hostname host host port host host username host host password compressTrue timeout sftpclient clientopensftp class Getlog def initselfurl selfurl url def getlogself log sftpclientopenselfurlrb loglist for line in log try line linedecodeGBK except UnicodeDecodeError line linedecodeGB loglistappendline logclose return joinloglist I noticed a typo in a log message Please advise if I need to add anything to the changelog or do any other admin I am implementing an SSH server that handles custom global requests Currently it is not easy to check whether the client wants reply because Paramiko handles the response logic without exposing the info to ServerInterface I want to do check the want reply argument and do things accordingly Could you somehow expose the want reply argument to ServerInterface This method makes it easier and more obvious to use a private keys in a str objects without having to first make a file like object It seems fairly reasonable to be able to pass a timeout to this method See 