I have some problem with these three good friends I would like to use a operator with placeholder in an function But it seems that it does not work as I expect Here is a triangle r librarytidyverse librarymagrittr triangle tibblea b c NA c c repNA d c repNA e c LrepNA A tibble x a b c d e int int int int int NA NA NA NA NA NA NA NA NA NA I would like to fill the NA values from the first column I dont understand why this does not work r triangle mapdfccoalescex A tibble x a b c d e int int int int int It handles the placeholder as the x argument of the function instead of the object triangle This code works but I dont understand why the previous does not do the same r triangle mapdfcfunctionx coalescex A tibble x a b c d e int int int int int Any idea Thanks I use R version Someone to Lean On I would expect that f head either fails or creates a function that modifies in place instead it just work as if wed call f head r librarymagrittr f head x cars fcars speed dist dimcars supCreated on by the reprex package v sup Please take a look at the following code Version should be equivalent to version But only v works Not v r x lista b c version f functionffunctionxx f ff functionx meanx x Filterff ff version failed f functionffunctionxx f ff functionx meanx FunIt functionyFilterff y x FunItff It would be useful to add some global options that make either print the called verb at the beginning of the activity and the elapsed time at the end of it In order to spot bottlenecks in longchained sequences of functions I tried to develop at least the process time part with l function lhs rhs start Systime parent parentframe env newenvparent parent chainparts magrittrsplitchainmatchcall env env pipes chainparts pipes rhss magrittrchainparts rhss lhs chainparts lhs env functionlist lapply lengthrhss functioni magrittrwrapfunctionrhss i pipes i parent env fseq classevalquotefunctionvalue freducevalue functionlist env env cfseq function env freduce freduce out if isplaceholderlhs env fseq else env lhs evallhs parent parent result withVisibleevalquotefseqlhs env env if magrittriscompoundpipepipes L evalcall lhs result value parent parent else if result visible result value else invisibleresult value messageElapsed difftimeSystime start out But I get Error in pipes i subscript out of bounds r librarymagrittr gen functionx function evalquotex fn gen fn fn gen fn value function evalquotex bytecode x fcef environment x fcef f visible TRUE Fixed if forced r gen functionx forcex function evalquotex fn gen fn This is almost a feature rather than a bug Using without importing the whole magrittr package eg via any of the packages that import it such as dplyr pulls other functions from magrittr into scope MWE r magrittr function x y message was called y x x was called x x ACTUAL EXPECTED was called in other words inside a pipeline magrittr s is called rather than our own This mostly leads to confusion for users of purrr and dplyr who observe that using sometimes works and sometimes breaks eg Note that this behaviour doesn t seem to extend to other magrittr functions eg using x subtract will not call magrittrsubtract This might also be related to but it s not obvious how Possibly also related to Though not as frequently as piping first argument its often needed to pipe the last argument Would you mind adding the operator R x appendy is equivalent to appendy x because in clojure these operators are and respectively Racket uses f and l should not be considered as a function call Current behaviour r librarymagrittr letters rlanglist a b c a b c Expected behaviour r letters rlanglist a b c mtcars T iris printdim head SepalLength SepalWidth PetalLength PetalWidth Species setosa setosa might be used as a temp variable so this is not safe It could be solved by using local wrapfunction function body pipe env if isteepipe body substitutelocalb listb body instead of call body quote else if isdollarpipe body substitutewith b listb body evalcallfunction aspairlistalist body env env Which would output mtcars T iris printdim head mpg cyl disp hp drat wt qsec vs am gear carb Mazda RX Mazda RX Wag 