 I created new Voter in src Menu Voter directory I was surprised that I didnt have to register that voter as a service in servicesyaml Voter just started to work without any other action from my side Is it normal behaviour because I used menu directory name which is the directory of the bundle My Voter was added before default one to the matchers voters array I would like to change the order of voters that my voter would be the last one Is it possible If not can I I mean is it good solution just create new class and extends Knp Menu Matcher Matcher class to overwrite constructor and reverse order of already added voters This Pull Request introduce a new feature to allow specifying the priority of providers during the registration of a new provider when this one has been tagged Similar has voters So a developer will now be able to write something like yaml services appmenuprovider class AppBundle Provider CustomMenuProvider arguments knpmenufactory tags name knpmenuprovider priority Hi I have problem with integration custom knpmenu template in Symfony I still get this message Attempted to call an undefined method named macroattributes of class TwigTemplate b d cbba b af b be dc e f ff d f d Can anybody help me This is my template extends knpmenuhtmltwig block item import self as knpmenu if itemdisplayed set attributes itemattributes set isgroup attributesgroupdefaultfalse set isheader attributesheaderdefaultfalse set dividerprepend attributesdividerprependdefaultfalse set dividerappend attributesdividerappenddefaultfalse set class isheader header item hide empty groups if not isgroup and itemhasChildren false unset bootstrap specific attributes set attributes attributesmergegroup null header null dividerprepend null dividerappend null class class if dividerprepend blockdividerElement endif building the class of the item set classes itemattributeclass is not empty itemattributeclass if matcherisCurrentitem set classes classesmerge optionscurrentClass elseif matcherisAncestoritem optionsdepth set classes classesmerge optionsancestorClass endif if itemactsLikeFirst set classes classesmerge optionsfirstClass endif if itemactsLikeLast set classes classesmerge optionslastClass endif building the class of the children set childrenClasses itemchildrenAttributeclass is not empty itemchildrenAttributeclass set childrenClasses childrenClassesmerge menulevel itemlevel adding classes for group if isgroup set classes classesmerge set childrenClasses childrenClassesmerge nav navsecondlevel endif putting classes together if classes is not empty set attributes attributesmergeclass classesjoin endif set listAttributes itemchildrenAttributesmergeclass childrenClassesjoin displaying the item li knpmenuattributesattributes if isgroup blockgroupElement elseif isheader blockheaderElement elseif itemuri is not empty and not itemcurrent or optionscurrentAsLink blocklinkElement else blockspanElement endif render the list of children blocklist li if dividerappend blockdividerElement endif endif endif endblock block dividerElement if itemlevel li classdividerverticalli else li classdividerli endif endblock block linkElement a href itemuri knpmenuattributesitemlinkAttributes if itemextraicon is not empty i class itemextraicon fafwi endif span blocklabel span a endblock block spanElement span knpmenuattributesitemlabelAttributes if itemextraicon is not empty i class itemextraicon fafwi endif blocklabel span endblock block headerElement li classnavheader div classdropdown profileelement span knpmenuattributesitemlabelAttributes if itemextraicon is not empty i class itemextraicon fafwi endif blocklabel span div li endblock block groupElement set classes itemlinkAttributeclass is not empty itemlinkAttributeclass set attributes itemlinkAttributes set attributes attributesmergeclass classesjoin a href knpmenuattributesattributes if itemextraicon is not empty i class itemextraicon fafwi endif span classnavlabel blocklabel span span classfa arrowspana endblock block label itemlabeltrans endblock Im having a really hard time creating a simple bootstrap navbar with a dropdown There are LOTS of webpages that describe how to do it but I havent had any luck with any solution except to use MopaBootstrapBundle which seems like overkill for just a navbar In the same way that Symfony forms has a few builtin options bootstrap horizontal etc I basically want to simply set the twig theme and then configure the top navbar side navbar etc Part of the confusion is how many options there are Many of them examples on the web add the class and attributes in the menu creation but that seems like a very bad practice to lock in that a menu item is of the navbaritem class Thatd make more sense when rendering the menu from the twig template Regardless despite hours of hacking Im unable to get a simple bootstrap navbar or sidebar menu working Can anyone point me to a working example of a navbar with dropdown that includes a MenuBuilder class the htmltwig that renders it HI Im using JMSTranslationBundle on a Symfony project to extract and manage my translation but it seems that it does not extract the menu labels from KNPMenu when set up as a service Can you help please Here is my JMS config jmstranslation configs app dirs kernelrootdirResourcesviews kernelrootdirsrc outputdir kernelrootdirResourcestranslations excludednames TestCasephp Testphp excludeddirs cache data logs And my Menuphp service php namespace AppBundle Service use Knp Menu FactoryInterface Class Menu package AppBundle Menu class Menu var FactoryInterface private factory Menu constructor param FactoryInterface factory public function constructFactoryInterface factory thisfactory factory return Knp Menu ItemInterface throws InvalidArgumentException public function createMainMenu menu thisfactorycreateItemroot menusetChildrenAttributeclass navbarnav mlauto menuaddChildmenuhome route index setAttributeclass navitemsetExtratranslationdomain menu menu menuhome setLinkAttributeclass navlink menuaddChildmenuprojects route projects extras routes route project setAttributeclass navitemsetExtratranslationdomain menu menu menuprojects setLinkAttributeclass navlink menuaddChildmenucontact route contact setAttributeclass navitemsetExtratranslationdomain menu menu menucontact setLinkAttributeclass navlink return menu I cannot get the keys for menuhome menuprojects menucontact This interface allows defining the menu names from the class itself instead of having to define them in the service definition This is similar to the event subscriber vs event listener system in Symfony The benefit of this interface is that the service definition can rely on autoconfiguration to register everything which fits very well with the Flex way TODOs write tests Hello I installed knpmenubundle as described in the doc I use it as service as its needed in SF I use ContainerAwareTrait But if i try to call container as described in the doc for geting entityManager i get PHP em thiscontainergetdoctrinegetManager returns Call to a member function get on null Did i forgot something or is ContainerAwareTrait incompatible with SF Solution for issue Q A Bug report no Feature request yes BC Break report no It would be nice to be able to disable registering of the default RouteVoter provided by knp Example situation is when one has really complex menu structure and performance optimized voter for it but default RouteVoter is always called for every item when user voter returns null because for some reason can not decide about given item another user voter exists eg Fix deprecation message introduced in Symfony My attempt to push a new branch to issue a new PR was denied and so here might be the tiny change required asrcProviderBuilderAliasProviderphp bsrcProviderBuilderAliasProviderphp class BuilderAliasProvider implements MenuProviderInterface logs array bundles array allBundles thiskernelgetBundlebundleName false allBundles thiskernelgetBundlebundleName In Symfony bundle inheritance is gone so there is no way to get an array anymore 