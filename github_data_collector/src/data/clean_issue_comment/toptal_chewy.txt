chewy libchewytypeimportrb in import seems send array Index errors typemapperparsingexception reasonfailed to parse field coordinates of type geopoint causedbytypeillegalargumentexception reasonil legal latitude value for coordinates on documents typemapperparsingexception reasonfailed to parse field coordinates of type geopoint causedbytypeparseexception reasonlatitude must be a number on documents typemapperparsingexception reasonfailed to parse field coordinates of type geopoint causedbytypeillegalargumentexception reasonil legal latitude value for coordinates on documents my Index code What is the best way to catch an exception eq ChewyImportFailed on updateindex someindex Hey folks Unsure whats going awry here so please let me know what else we can provide Were using Chewy with Rails and Ruby For some reason neither of the documented approaches for configuration configchewyyml or an initializer with Chewysettings are working Specifically were trying to set requeststrategy to bypass in development using either of the documented approaches yml configchewyyml development host localhost requeststrategy bypass requesttimeout ruby configinitializerschewyrb Chewysettings requeststrategy bypass But neither one works and it remains atomic rails c Chewy console strategy is urgent Loading development environment Rails irbmain Chewyrequeststrategy atomic The only way we can get this to stick is with an initializer that assigns Chewyrequeststrategy directly ruby configinitializerschewyrb Chewyrequeststrategy bypass Which then creates the expected result rails c Chewy console strategy is urgent Loading development environment Rails irbmain Chewyrequeststrategy bypass And yes I confirmed the Rails env is development Im assuming most people dont have trouble with config or this would be a bigger deal So any ideas for how we can figure out whats going on Hello I seem to have a problem with building on over homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyrb warning Using the last argument as keyword parameters is deprecated maybe should be added to the call homecircleciprojectsmastodonvendorbundleruby gemschewy libchewytypeadapterobjectrb warning The called method initialize is defined here homecircleciprojectsmastodonvendorbundleruby gemschewy libchewytypemappingrb warning Using the last argument as keyword parameters is deprecated maybe should be added to the call homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsbaserb warning The called method initialize is defined here homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsbaserb warning Using the last argument as keyword parameters is deprecated maybe should be added to the call homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsbaserb warning The called method updateoptions is defined here homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsrootrb warning Using the last argument as keyword parameters is deprecated maybe should be added to the call homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsbaserb warning The called method initialize is defined here homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsbaserb warning Using the last argument as keyword parameters is deprecated maybe should be added to the call homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsrootrb warning The called method updateoptions is defined here homecircleciprojectsmastodonvendorbundleruby gemschewy libchewytypemappingrb warning Using the last argument as keyword parameters is deprecated maybe should be added to the call homecircleciprojectsmastodonvendorbundleruby gemschewy libchewyfieldsrootrb warning The called method updateoptions is defined here rails aborted Users can currently call import and import directly on an index If these methods are called without arguments the index imports all data matching the type definition If these methods are called with an argument ex UsersIndeximportUserwhererating only the given scope or array will be imported into the index If these methods are called with an argument but that argument is empty for example Userwhererating returns an empty relation the methods were behaving as if they had no args importing all the data for an index This is undesired behavior as the expectation should be for an import with an argument that is empty to import nothing The changes proposed here mirror the changes created in this commit so that the behavior of doing UsersIndeximport is the same as doing UsersIndexUserimport Is this the correct behaviour prymain EventsIndexEventalllimit count prymain EventsIndexEventalllimit toalength EventsIndexEvent Search ms index events type event bodysize I thought totalcount would return the total number of records and count would return the number of records in the current query ElasticSearch has settings that limit the number of concurrent scrolls on the cluster Scrolls are cleared automatically after the scroll ttl eg m but Ive found that iterating a lot of data in a lot of parallel jobs makes it easy to hit this limit This may be avoided by staggering parallelism differently or by setting shorter scroll ttls but it seems to also make sense to clear out the old scrolls when the use of scrollbatches is complete I was upgrading rails from to rails because of the chewy dependency at line the latest ES was fetched and my chewy searching got suspend After I downgraded the elasticsearch to that is when chewy search started working Could you please set the elasticsearch dependency upto or put in the README file a note regarding this would be great Thanks I have an existed index and I want to add a new field into it without reindex Elasticsearch has the put mapping api 