Hi First up I think velox is a great and muchneeded initiative kudos there It has the potential to speed up a bunch of my tasks Now I have buttered you up is there any plan to include raster arithmetic like simple Maybe even a function like rastercalc This would be really amazing Or do you have a work around which will still be faster than using the raster package Im cross posting this from the GIS Stack Exchange Im able to extract average tree cover values for each of the three small counties in the US State of Delaware but I dont seem to have enough CPU or RAM to do the same thing for all counties in the US Im getting my tree cover data from See also libraryraster librarytigris tigrisstatecounties countiesstate treeraster rastertree i atif polygontrees extracttreeraster tigrisstatecounties fun mean narm TRUE report cbinddataframetigrisstatecountiesNAME polygontrees printreport tigrisstatecountiesNAME polygontrees New Castle Sussex Kent So I have set up an R environment on a GB AWS instance and Im trying to take advantage of the velox fast extraction But all of the values I extract are NA What am I doing wrong UPDATE I still get NAs even if I use the small polygon option FWIW I was able to replicate the velox extract tutorial and even modify it to get the night light intensity in the Delaware counties My attempt to extract tree cover in Delaware counties with velox libraryvelox librarytigris treevelox veloxtree i atif tigrisstatecounties countiesstate treemeanmat treeveloxextract sp tigrisstatecounties fun functionx meanx narm TRUE report cbinddataframetigrisstatecountiesNAME treemeanmat printreport tigrisstatecountiesNAME treemeanmat New Castle NA Sussex NA Kent NA Hi in pointextractcpp there is an input NumericVector dim which is unused Wondered if it should be removed for tidiness I missed a standard deviation filter The rasterfocal version is not usable at all for large data sets Hi the following example always leads to an unexpected crash of my R session libraryraster libraryvelox r rasterxmn xmx ymn ymx res r runifncellr v veloxr l spLinescbindc c vextractsp l fun mean sessioninfosessioninfo Session info setting value version R version os Ubuntu LTS system x linuxgnu ui RStudio language enUSen collate enUSUTF ctype enUSUTF tz EuropeBerlin date Packages package version date lib source assertthat CRAN R class CRAN R classInt CRAN R cli CRAN R codetools CRAN R crayon CRAN R DBI CRAN R e CRAN R lattice CRAN R magrittr CRAN R raster CRAN R Rcpp CRAN R rgdal CRAN R rgeos CRAN R rstudioapi CRAN R sessioninfo CRAN R sf CRAN R sp CRAN R spData CRAN R units CRAN R velox CRAN R withr CRAN R yaml CRAN R homejsignerRx pclinuxgnulibrary usrlocallibRsitelibrary usrlibRsitelibrary usrlibRlibrary Several focal function are available in Velox such as meanFocal medianFocal and sumFocal Usually in statistical analysis other basic function such as standard deviation min and max are need Any plans to include these in the future Just found Velox earlier today and it looks promising for something Im working on This is more an idea than an issue for you I need area weighted means for what Im working on wondering if you can drop one particular clause in this if and it would get you there to find all points that intersect or overlap then I could get apply the area weights myself but I need all the points that overlap or intersect my polygons In theory if you dropped the lengthmissingidx from this if would it then extract all the raster points where the box overlaps and where the centroid intersects Just a thought if small lengthmissingidx isLine Create box grid boost geometries intersect boostBoxGrid boostself box TRUE missingboost geomcboost missingidx intrsls bgintersectsmissingboost boostBoxGrid Hello Im trying to extract raster data from a grid of points right now n but I keep getting am ambiguous error message and I dont have any idea why This seems like a fairly straightforward operation with Velox I guess it could be something wrong with my code I have followed the vignette pretty closely however Any help you could offer would be greatly appreciated Loading NLCD raster nlcdrasterfilename Generating overall outline of selected states statesfull cMaine New Hampshire Vermont Massachusetts Rhode Island Connecticut New York Pennsylvania New Jersey us rastergetDataGADM country US level Generating regular grid within that outline stcontour us usNAME in statesfull stcontour spTransformstcontour CRSprojlaea x y lon lat unitsm grid makegridstcontour cellsize cellsize in unitsm grid SpatialPointsgrid proj string CRSproj stringstcontour date grid grid stcontour date Cropping the nlcd raster gridr spTransformgrid crscrsnlcd gridrbbox matrixc byrowT Extending bbox so all buffers fall on raster nlcdcrop cropnlcd gridr nlcdvx veloxnlcdcrop I have also tried nlcdvx veloxstacknlcdcrop Creating polygon buffers spol gBuffergridr width byidTRUE spdf SpatialPolygonsDataFramespol dataframeid lengthspol FALSE Velox Extract date exmat nlcdvxextractspdf exmat date Error in boostFactorymakePointGridorigin origin dim dim res res stdbadalloc Hi Thanks for such a great package I am looking for a way to access the cell numberor lat long of the values extracted using veloxextract The goal is that the values can be modified and then replaced Ive looked through the examples on your website and the documentation but havent seen anything Ideally it would return a similar result as r pl is a polyline r is a raster elevations rasterextractr pl cellnumber T headelevations cell layer but with all the benefits of your package Either the cell index or latlon would be awesome if you know a solution Thank you Mike How one can use the copy method to create a deep copy of a VeloxRaster object Thanks