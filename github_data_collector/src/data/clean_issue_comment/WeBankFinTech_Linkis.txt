closes Is your feature request related to a problem Please describe Now the metadata service depends on hive which causes jar package conflicts when modifying the hive version Describe the solution youd like Remove hive dependency related code and replace it with query DB operation Specify the hive meta information as required in the install script Describe alternatives youve considered no Additional context no ResourceManager version adh Hadoop version adh Spark Hive Linkis scripts python pomxml hadoopversion hadoopversion hiveversion hiveversion spark wiki mvn N install mvn clean install jar wedataspherelinkis disttargz linkismetadata linkismetadata log jar module log jar log j repair wrong package name Describe the bug linkismetadata start failed javalangVerifyError Cannot inherit from final class To Reproduce Steps to reproduce the behavior setup all conf binstartallsh startlog starterrorlog Detail messages Start to Check if your microservicelinkismetadata is normal via telnet ERROR your linkismetadata microservice is not start successful ERROR logs as follows PLEAESE CHECK DETAIL LOGLOCATIONoptlinkis linkismetadatalogslinkisout Is local INFO backgroundpreinit INFO Version HV Hibernate Validator Final INFO main INFO AnnotationConfigApplicationContext Refreshing orgspringframeworkcontextannotationAnnotationConfigApplicationContext a startup date Wed Jan CST root of context hierarchy INFO main INFO AutowiredAnnotationBeanPostProcessor JSR javaxinjectInject annotation found and supported for autowiring INFO main INFO PostProcessorRegistrationDelegateBeanPostProcessorChecker Bean configurationPropertiesRebinderAutoConfiguration of type orgspringframeworkcloudautoconfigureConfigurationPropertiesRebinderAutoConfigurationEnhancerBySpringCGLIBca fa is not eligible for getting processed by all BeanPostProcessors for example not eligible for autoproxying Spring Boot v RELEASE ERROR main ERROR SpringApplication Application run failed javalangVerifyError Cannot inherit from final class at javalangClassLoaderdefineClass Native Method at javalangClassLoaderdefineClassClassLoaderjava at javasecuritySecureClassLoaderdefineClassSecureClassLoaderjava at javanetURLClassLoaderdefineClassURLClassLoaderjava at javanetURLClassLoaderaccess URLClassLoaderjava at javanetURLClassLoader runURLClassLoaderjava at javanetURLClassLoader runURLClassLoaderjava at javasecurityAccessControllerdoPrivilegedNative Method at javanetURLClassLoaderfindClassURLClassLoaderjava at javalangClassLoaderloadClassClassLoaderjava at sunmiscLauncherAppClassLoaderloadClassLauncherjava at javalangClassLoaderloadClassClassLoaderjava at comfasterxmljacksondatatypejdk Jdk ModulesetupModuleJdk Modulejava at comfasterxmljacksondatabindObjectMapperregisterModuleObjectMapperjava at orgspringframeworkhttpconverterjsonJackson ObjectMapperBuilderregisterWellKnownModulesIfAvailableJackson ObjectMapperBuilderjava at orgspringframeworkhttpconverterjsonJackson ObjectMapperBuilderconfigureJackson ObjectMapperBuilderjava at orgspringframeworkhttpconverterjsonJackson ObjectMapperBuilderbuildJackson ObjectMapperBuilderjava at orgspringframeworkhttpconverterjsonMappingJackson HttpMessageConverterinitMappingJackson HttpMessageConverterjava at orgspringframeworkhttpconvertersupportAllEncompassingFormHttpMessageConverterinitAllEncompassingFormHttpMessageConverterjava at orgspringframeworkwebclientRestTemplateinitRestTemplatejava at orgspringframeworkwebclientRestTemplateinitRestTemplatejava at orgspringframeworkcloudconfigclientConfigServicePropertySourceLocatorgetSecureRestTemplateConfigServicePropertySourceLocatorjava at orgspringframeworkcloudconfigclientConfigServicePropertySourceLocatorlocateConfigServicePropertySourceLocatorjava at orgspringframeworkcloudbootstrapconfigPropertySourceBootstrapConfigurationinitializePropertySourceBootstrapConfigurationjava at orgspringframeworkbootSpringApplicationapplyInitializersSpringApplicationjava at orgspringframeworkbootSpringApplicationprepareContextSpringApplicationjava at orgspringframeworkbootSpringApplicationrunSpringApplicationjava at comwebankwedataspherelinkisDataWorkCloudApplicationmainDataWorkCloudApplicationjava Eurkea service BMLSERVER na UP bmlserver CLOUDPUBLICSERVICE na UP cloudpublicservice DATAWORKCLOUD na UP DataWorkCloud DATAWORKCLOUDGATEWAY na UP DataWorkCloudGateway HIVEENTRANCE na UP hiveEntrance JDBCENTRANCE na UP jdbcEntrance PYTHONENGINEMANAGER na UP pythonEngineManager PYTHONENTRANCE na UP pythonentrance RESOURCEMANAGER na UP ResourceManager SPARKENGINEMANAGER na UP sparkEngineManager SPARKENTRANCE na UP sparkEntrance Desktop please complete the following information OS Red Hat linkis baiduwangpan wedataspherelinkis distCDH spark targz jdk Hi I am following the Getting Started of Linkis All the prerequisites are satisfied Build and installation of the package didnt give me any problems During the starting of the services sh binstartallsh I am getting this error message ERROR your linkismetadata microservice is not start successful ERROR logs as follows Caused by javalangRuntimeException Create hadoop configuration failed You can see the complete error message from the following screenshot My current settings are the following OS Ubuntu Mysql Hadoop Hive Moreover I can use hdfs mysql and hive without any problems Thank you ubuntu bash sh yum ubuntu dos unix ubuntu ubuntu bashprofile ubuntu ubuntu hiveservice thrift coordinator client spark Caused by javalangClassNotFoundException orgapachehtraceTrace CDH Spark classpath optclouderaparcelsCDHjarshtracecore jar htrace orghtrace Apache orgapachehtrace spark sql Application run failed orgspringframeworkbootwebserverWebServerException Unable to start embedded Jetty server