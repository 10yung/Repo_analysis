Solve the problem that the generated avi file with bit grayscale image raw byte array data cant be played correctly This is not a real pull request but a reminder whoever comes across this repository You should not open pull requests here most developers dont look at the pull requests so they will be ignored for the most part The reason is that FFmpeg development including code review happens on the ffmpegdevel mailing list not here This is what the READMEmd says Patches should be submitted to the ffmpegdevel mailing list using git formatpatch or git sendemail Github pull requests should be avoided because they are not part of our review process Few developers follow pull requests so they will likely be ignored Please read our official documentation on how to contribute 