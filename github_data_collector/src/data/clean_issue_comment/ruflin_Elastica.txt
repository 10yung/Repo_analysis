Currently a completion suggest request like this searchsuggest completion field namesuggest prefix nirv returns all fields for each hit I cant find a way to configure it so it just returns the fields I need Seems like it may be faster if it didnt have to send everything back I tried adding public function setSourceparams self return thissetParamsource params But it gives me error unexpected token STARTARRAY after source Im using elasticsearch I created a new Abstract Transport to use the new Symfony HttpClient component as HTTP client with Elastica Im willing to contribute this back to Elastica but Im not sure its appropriate to add in the core as its not standalone needs symfonyhttpclient and does not provide new features except for Symfony Framework users What do you think should I create a PR here Another concern of mine is one day we might not have transport in Elastica tada but rely on the core elasticsearchphp client Thanks kissing When analyzing a code using the iterator in a foreachscroll as resultSet with phpstan the following error is reported Argument of an invalid type Elastica ResultSetnull supplied for foreach only iterables are supported There is quite a debate about the return type of an Iteratorcurrent as it should always return the item in the collection Invoking the current when out of bounds of the collection is expected not to happen as the Iteratorvalid should be called first Hi guys the option to establish contexts in the suggestions does not exist the method as such I have a complement that I had to add on my own if you need to inform me regards Hi guys I have an error trying to create index with your settings and analysis Can indexes be created from Elastica or cannot and do I have to do it from console JSON settings index numberofshards numberofreplicas analysis analyzer categoryIdAnalyzer type custom tokenizer whitespace stdlang type standard stopwords english filter Code Create Index elasticaIndexcreate true Settings Index if issetindexMapping settings index elasticaIndexsetSettingsindexMapping settings index Settings Analysis if issetindexMapping settings analysis elasticaIndexanalyzeindexMapping settings analysis Define mapping mapping new MappingindexMapping mappings properties Response if response elasticaIndexsetMappingmapping printCreateIndexSuccess value PHPEOL return responsehasError else printCreateIndexError value PHPEOL logger thiscontainergetlogger loggercriticalElasticsearch Index Creation Failed Hello I build a query via a raw php array and when I request with clientgetIndexindex getTypetype searcharrayQuery getResults I am getting this error type https toolsietforg html rfc section title An error occurred detail Call to a member function toArray on array trace namespace shortclass class type function file var www html vendor ruflin elastica lib Elastica Queryphp line args namespace Elastica shortclass Query class Elastica Query type function toArray file var www html vendor ruflin elastica lib Elastica Searchphp line args The failing line is if issetthisparams postfilter countthisparams postfilter toArray Removing this line fix the issue in this case I am not sure on how to fix this and if this is really a bug or a misuse from me If this is a bug I can do a PR checking for the postfilter being an array already or not Thanks and happy new year Hi guys I have a problem updating or adding to limit documents I am changing everything for the new version of ES but I have this error pathbulk methodPOST data update typelistings id doc address city DALLAS at the time it is adding type instead of index code if ids modulegetUpsertStash elasticaClient thiscontainergetsearchenginegetElasticaClient if response elasticaClientupdateDocumentsids and responsehasError loggercriticalElasticsearch Request Error error responsegetError moduleclearUpsertStash Hello Elastica team I faced a problem that i m getting success response from requests which were failed due to exceeded size of payload by default its mb in Elasticsearch Here in response we still can find status but in bulkResponseSet there will be no information related to bad request and we cant handle this issue Screen Shot at PM Please validate this issue and give me a feedback Regards Ruslan 