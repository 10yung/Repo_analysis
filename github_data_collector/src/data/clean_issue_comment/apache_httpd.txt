 Sorry for the spam The original pattern for creating the pid file was opencreatepidfile writepidfile pid closepidfile But if a power outage occurs between opencreate and write the file will be empty and httpd will refuse to start afterwards unless the corrupt pid file is removed This patch uses the pattern opencreatetemppidfile writetemppidfile closetemppidfile renametemppidfile pidfile which is guaranteed to be atomic provided that temppidfile and pidfile are located in the same file system which this patch does by creating a temporary file name with the pattern pidfilename randomsuffix Signedoffby Nicolas Carrier nicolascarrieroroliacom While protocol HTTPS part of it looks a bit hacky I think this deserves to be included one way or other its pretty much helpful when running behind popular nowadays reverse proxies Basically this one extends modremoteip to support RemoteHost RemotePort and RemoteProto allowing for mangling Host header using different ports and transitioning HTTPS to HTTP More details and configuration details here Im ready to work on that to bring it to the applicable state if something is wrong with it HTTPS part surely looks hacky so Im eager to get expert opinions on how to make this proper This completes the option of setting the remote user by the authentication mechanism which actually verified the user One possible usecase is that a proxied upstream server performs the authentication but the access log of HTTPd does not contain this information The upstream server can pass this kind of information back to HTTPd and both servers will have consistent access logs The Apaches index page has been ugly for ten years Its time to make it more HTML I use responsive layout in this index file which makes it look more beautiful on phones