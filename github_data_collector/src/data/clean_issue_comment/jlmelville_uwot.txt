I am curious to see whether there is a way to give individual observations different weights in the UMAP objective function For instance I have data from conditions one with observations and one with I would like to have both conditions contribute equally to the embedding Perhaps naively I would expect observations from each conditions to take up the same amount of real estate in this balanced analysis I appreciate any thoughts on how feasible this would be Thanks in advance Dear all I cant get umap to run twice in an Rsession without crashing Initially observed using RunUMAP from Seurat but also the very basic code see below would not work I have tried to resolve this using the hints in and but without any succes Any suggestions Session and info libraryuwot irisumap umapiris pca And a second time irisumap umapiris pca Crash Bioconductor version R Under development unstable r Platform x w mingw x bit Running under Windows x build Matrix products default locale LCCOLLATEEnglishUnited States LCCTYPEEnglishUnited States LCMONETARYEnglishUnited States LCNUMERICC LCTIMEEnglishUnited States attached base packages stats graphics grDevices utils datasets methods base other attached packages uwot Matrix loaded via a namespace and not attached compiler tools yaml Rcpp grid FNN RcppParallel lattice thanks in advance and with kind regards Aldo Hi Thanks for your invaluable work proposing umap in a native R package Thanks also for the smallvis package As you already integrated largeVis and proposed tumap I am wondering if you planned to integrate HSNE someday HDI is already integrated in interactive exploration tools such as cytosplore but no R package is available If you plan it let me know Best sirusb ttriche as contributors of PRs to this package would you like to be acknowledged as such in the AuthorsR field of the DESCRIPTION You dont need to provide an email address just a suitable identifier eg first name and last name For reference the field currently looks like R cpersonJames Melville email jlmelvillegmailcom role caut cre personAaron Lun rolectb Any plan to add a way to perform an inverse transform from embedding to data space Thanks for the great work Hi If i run umaptrasform after tumap I get the following error Writing NN index file to temp file tmpRtmpAAapHIfile b a Error in Externallistname CppMethodinvokevoid address pointer nil NULL value passed as symbol address while instead everything works if I use umap and then umaptrasform Of course using the same data for both methods Things I should fix but which may need a major version change To be edited and updated as I discover more hidden horrors mindist default is but should be for consistency with Python UMAP Fortunately this has no discernible effect on the output should pca be set by default If users attempt to throw very high dimensional data at uwot at the moment they are in for a miserable time because at best Annoy will take hours to complete At worst if they are using multithreading also a default Annoy will fail on large datasets due to not being able to read back in an index larger in size than GB I must get back to rnndescent and add rp tree support to provide a replacementalternative Hi Maybe this is a no issue I m trying FNN as method for kNN search and need retmodel TRUE to do metric learning but I get a error Error in x nnX nneighbors metric nnmethod ntrees searchk nrefineiters nnmethod FNN is incompatible with retmodel TRUE Do you think there could be a workaround Thanks Hello im trying to install in this environment CentOS gcc Microsoft R but I receive this error devtoolsinstallgithubjlmelvilleuwot Downloading GitHub repo jlmelvilleuwotmaster from URL Installing uwot optmicrosoftropen lib RbinR nositefile noenviron nosave norestore quiet CMD INSTALL tmpRtmpWTJkQydevtools bf ad fb jlmelvilleuwot e d e libraryoptmicrosoftropen lib Rlibrary installtests installing source package uwot libs g stdgnu Ioptmicrosoftropen lib Rinclude DNDEBUG Ioptmicrosoftropen lib RlibraryRcppinclude Ioptmicrosoftropen lib RlibraryRcppProgressinclude Ioptmicrosoftropen lib RlibraryRcppParallelinclude Ioptmicrosoftropen lib RlibraryRcppAnnoyinclude DUSTATICIMPLEMENTATION DRCPPPARALLELUSETBB DSTRICTRHEADERS fpic DUSTATICIMPLEMENTATION g O c RcppExportscpp o RcppExportso g stdgnu Ioptmicrosoftropen lib Rinclude DNDEBUG Ioptmicrosoftropen lib RlibraryRcppinclude Ioptmicrosoftropen lib RlibraryRcppProgressinclude Ioptmicrosoftropen lib RlibraryRcppParallelinclude Ioptmicrosoftropen lib RlibraryRcppAnnoyinclude DUSTATICIMPLEMENTATION DRCPPPARALLELUSETBB DSTRICTRHEADERS fpic DUSTATICIMPLEMENTATION g O c connectedcomponentscpp o connectedcomponentso g stdgnu Ioptmicrosoftropen lib Rinclude DNDEBUG Ioptmicrosoftropen lib RlibraryRcppinclude Ioptmicrosoftropen lib RlibraryRcppProgressinclude Ioptmicrosoftropen lib RlibraryRcppParallelinclude Ioptmicrosoftropen lib RlibraryRcppAnnoyinclude DUSTATICIMPLEMENTATION DRCPPPARALLELUSETBB DSTRICTRHEADERS fpic DUSTATICIMPLEMENTATION g O c gradientcpp o gradiento g stdgnu Ioptmicrosoftropen lib Rinclude DNDEBUG Ioptmicrosoftropen lib RlibraryRcppinclude Ioptmicrosoftropen lib RlibraryRcppProgressinclude Ioptmicrosoftropen lib RlibraryRcppParallelinclude Ioptmicrosoftropen lib RlibraryRcppAnnoyinclude DUSTATICIMPLEMENTATION DRCPPPARALLELUSETBB DSTRICTRHEADERS fpic DUSTATICIMPLEMENTATION g O c nndescentcpp o nndescento g stdgnu Ioptmicrosoftropen lib Rinclude DNDEBUG Ioptmicrosoftropen lib RlibraryRcppinclude Ioptmicrosoftropen lib RlibraryRcppProgressinclude Ioptmicrosoftropen lib RlibraryRcppParallelinclude Ioptmicrosoftropen lib RlibraryRcppAnnoyinclude DUSTATICIMPLEMENTATION DRCPPPARALLELUSETBB DSTRICTRHEADERS fpic DUSTATICIMPLEMENTATION g O c nnparallelcpp o nnparallelo nnparallelcpp In function RcppList annoyhammingnnsconst string const NumericMatrix stdsizet stdsizet stdsizet bool nnparallelcpp error Hamming was not declared in this scope NNWorkerint t uint t Hamming Kiss Random nnparallelcpp error template argument is invalid NNWorkerint t uint t Hamming Kiss Random nnparallelcpp error invalid type in declaration before token workerindexname mat dist idx ncol n searchk nnparallelcpp error expression list treated as compound expression in initializer fpermissive workerindexname mat dist idx ncol n searchk nnparallelcpp error invalid initialization of reference of type RcppParallelWorker from expression of type int RcppParallelparallelFor nrow worker grainsize In file included from nnparallelcpp optmicrosoftropen lib RlibraryRcppParallelincludeRcppParallelh error in passing argument of void RcppParallelparallelForstdsizet stdsizet RcppParallelWorker stdsizet inline void parallelForstdsizet begin stdsizet end make nnparallelo Error ERROR compilation failed for package uwot removing optmicrosoftropen lib Rlibraryuwot Installation failed Command failed ive googled but i couldnt find any solutions i hope you may kindly help with my issue regards Fabio Hi This R implementation is very useful for me since I only know R Thank you for making this package So I was trying to run a series of UMAP analysis with different parameters I saved them with saveRDS for later use especially for umaptransform function for my testing data set However when I retrieve it with readRDS I couldnt use the object as the model for umaptransform The error message reads Error in Externallistname CppMethodinvokevoid address pointer nil NULL value passed as symbol address I work on RStudio Server Not sure if the information helps to solve the problem Thanks a lot for making this package again