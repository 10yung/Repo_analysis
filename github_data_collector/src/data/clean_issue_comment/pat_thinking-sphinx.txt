Hello for monitoring correctly our sphinx status we would need to generate a sphinx configuration with double listen instruction listen listen mysql We cant find how to setup our thinkingsphinxyml to do so It seems it isnt possible to add a listen instruction Is it Im guessing its not intentional that aftercommit uses DeltaCallbackssuspended whereas beforesave was using ThinkingSphinxCallbackssuspended I think both should be using the former Im having trouble getting specs that run Thinking Sphinx to work on CircleCI The first Sphinx spec passes and all subsequent specs fail All Sphinx specs are passing locally The app Im using is running Rails Ruby RSpec My Sphinx support file for RSpec looks like this module SphinxHelpers def index ThinkingSphinxTestindex Wait for Sphinx to finish loading in the new index files sleep until indexfinished end def indexfinished Dir RailsrootjoinThinkingSphinxTestconfigindiceslocation newtmp empty end end RSpecconfigure do config configinclude SphinxHelpers type feature configbeforesuite do Ensure sphinx directories exist for the test environment ThinkingSphinxTestinit Configure and start Sphinx and automatically stop Sphinx at the end of the test suite ThinkingSphinxTeststartwithautostop ThinkingSphinxDeltassuspend end configaftersuite do ThinkingSphinxTeststop ThinkingSphinxDeltasresume end end Instead of a beforeeach setting for acceptance specs Im calling index in a before block on the specs where sphinx true Example describe Product Search type feature sphinx true do before index describe Product search from products do beforeeach do visit products clicklink Filter end it finds all the products when no filters are selected js true do clickbutton Run Filters expectpageto havecontent products found for All Products end end end My current CircleCI config installs sphinxsearch run name Install sphinx dependencies command sudo aptget install sphinxsearch And runs the tests through this command run name run tests command mkdir tmptestresults TESTFILEScircleci tests glob specspecrb circleci tests split splitbytimings bundle exec rspec format progress TESTFILES Are there any additional steps that need to be taken to get Thinking Sphinx to run on CircleCI Any help would be greatly appreciated When running a rebuild in nodetach mode the task tsrtindex is not executed For example bash usrbinbundleruby exec rails tsrebuild NODETACHtrue searchd is not currently running Generating configuration to obssrcapiconfigdevelopmentsphinxconf Sphinx id release ae a Copyright c Andrew Aksyonoff Copyright c Sphinx Technologies Inc using config file obssrcapiconfigdevelopmentsphinxconf listening on precaching index packagecore precaching index projectcore precached indexes in sec accepting connections There are no problems in detached mode bash usrbinbundleruby exec rails tsrebuild searchd is not currently running Generating configuration to obssrcapiconfigdevelopmentsphinxconf Sphinx id release ae a Copyright c Andrew Aksyonoff Copyright c Sphinx Technologies Inc using config file obssrcapiconfigdevelopmentsphinxconf listening on precaching index packagecore precaching index projectcore precached indexes in sec Started searchd successfully pid Generating index files for packagecore Generating index files for projectcore I would like that the rebuild task also generates the real time index files I just updated to Sphinx and latest version of Thinking Sphinx Ive deleted all the indexes from the old version then did rake tsconfigure rebuild I get a bag of errors WARNING attribute sphinxinternalid not found IGNORING WARNING attribute sphinxdeleted not found IGNORING WARNING attribute createdat not found IGNORING WARNING attribute updatedat not found IGNORING WARNING attribute sphinxinternalclass not found IGNORING WARNING attribute interviewstage not found IGNORING WARNING attribute interviewinterviewersname not found IGNORING WARNING attribute interviewpersonname not found IGNORING WARNING attribute interviewassignmentname not found IGNORING WARNING attribute interviewcompanyname not found IGNORING ERROR index interview no full text fields in schema nothing to index Alongside this once its up and running I get ThinkingSphinxSphinxError no enabled local indexes to search I have lots more errors Sphinx commit d f Copyright c Andrew Aksyonoff Copyright c Sphinx Technologies Inc using config file configproductionsphinxconf WARNING key maxmatches was permanently removed from Sphinx configuration Refer to documentation for details WARNING key docinfo was permanently removed from Sphinx configuration Refer to documentation for details WARNING key charsettype was permanently removed from Sphinx configuration Refer to documentation for details WARNING key docinfo was permanently removed from Sphinx configuration Refer to documentation for details WARNING key charsettype was permanently removed from Sphinx configuration Refer to documentation for details WARNING more warnings skipped And of course nothing seems to work at all The indexing seems waaaay faster than the v of Sphinx so I am have no real idea if this is working Anyone else found this issue or have an idea what to do 