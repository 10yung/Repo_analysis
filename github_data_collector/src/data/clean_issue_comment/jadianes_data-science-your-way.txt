 Context There is unnecessary quote which breaks the markdown layout img width altscreen shot at pm src Changes Remove the quote img width altscreen shot at pm src If an item for example Bourqoqne appears multiple times in a given document CocheDury Bourgogne Chardonay Bourgogne France your algorithm will append this same item into the IrIndexindex list and IrIndextf list multiple times This multipleappend implementation distorts the calculation of total number of documents containing the given item in the following code idf log float lenselfdocuments float lenselftf term I changed the code from for term in terms if term not in selfindex selfindex term selftf term selfindex term appenddocumentpos selftf term appendtermscountterm to for term in terms if term not in selfindex selfindex term selftf term if documentpos not in selfindex term selfindex term appenddocumentpos selftf term appendtermscountterm by skipping the subsequent append operations if an item in conjunction with its containing document is already recorded inside an IrIndex object 