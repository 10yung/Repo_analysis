Hi there I migrated my project from groovy to kotlin based scripts but am unable to compile project Please see errors below comandroidbuildgradleinternaldslDefaultConfigDecorated cannot be cast to comandroidbuildgradleinternaldslProductFlavor Possible causes for this unexpected error include Gradles dependency cache may be corrupt this sometimes occurs after a network connection timeout Redownload dependencies and sync project requires network The state of a Gradle build process daemon may be corrupt Stopping all Gradle daemons may solve this problem Stop Gradle build processes requires restart Your project may be using a thirdparty plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project In the case of corrupt Gradle processes you can also try closing the IDE and then killing all Java processes Provide a brief summary of the issue in the title above when I add this dependencies I can not run app because Default Activity not found implementation androidxuiuitooling dev implementation androidxuiuilayout dev implementation androidxuiuimaterial dev I use this distributionUrlhttps servicesgradleorgdistributionsgradle allzip Context While learning how to use the Kotlin DSL for Gradle I found the samples to be immensely helpful However I missed a sample that demonstrated how to unittest your custom logic in buildSrc with I think other users also could benefit from some this sample Note this is a continuation of Contributor Checklist x Base the PR against the develop branch x Make sure that all commits are signed off to indicate that you agree to the terms of Developer Certificate of Origin Provide integration tests to verify changes from a user perspective x Provide unit tests to verify logic Ensure that tests pass locally gradlew check parallel I really didnt expect this to work but I tried it anyway and the compiler doesnt fail as gracefully as Id expected it to kotlin data class JacocoFileHolder val additionalSourceDirs FileCollection files val sourceDirectories FileCollection files val classDirectories FileCollection files Expected Behavior The scripting compiler should throw a more meaningful exception when the user tries to use methods from the script scope as defaults for constructors Current Behavior The following exception is thrown details summaryStack Tracesummary pre gradlew tasks stacktrace FAILURE Build failed with an exception What went wrong A problem occurred configuring root project rootdependencyviewer Could not open cache directory ombor g dewgsaig jkukyu Usersjonathanleitschuhgradlecaches rc gradlekotlindsl ombor g dewgsaig jkukyu Backend Internal error Exception during code generation Cause Error generating constructors of class JacocoFileHolder with kind IMPLEMENTATION File being compiled at position fileprivatevarfoldersrt qdl n d ppyp x c gnTgradlekotlindsl tmprootdependencyviewergradlekts The root cause was thrown at ImplementationBodyCodegenjava Try Run with info or debug option to get more log output Run with scan to get full insights Exception is orggradleapiProjectConfigurationException A problem occurred configuring root project rootdependencyviewer at orggradleconfigurationprojectLifecycleProjectEvaluatorwrapExceptionLifecycleProjectEvaluatorjava at orggradleconfigurationprojectLifecycleProjectEvaluatoraddConfigurationFailureLifecycleProjectEvaluatorjava at orggradleconfigurationprojectLifecycleProjectEvaluatoraccess LifecycleProjectEvaluatorjava at orggradleconfigurationprojectLifecycleProjectEvaluatorEvaluateProject runLifecycleProjectEvaluatorjava at orggradleinternalFactories createFactoriesjava at orggradleinternalworkDefaultWorkerLeaseServicewithLocksDefaultWorkerLeaseServicejava at orggradleinternalworkStopShieldingWorkerLeaseServicewithLocksStopShieldingWorkerLeaseServicejava at orggradleapiinternalprojectDefaultProjectStateRegistryProjectStateImplwithProjectLockDefaultProjectStateRegistryjava at orggradleapiinternalprojectDefaultProjectStateRegistryProjectStateImplwithMutableStateDefaultProjectStateRegistryjava at orggradleapiinternalprojectDefaultProjectStateRegistryProjectStateImplwithMutableStateDefaultProjectStateRegistryjava at orggradleconfigurationprojectLifecycleProjectEvaluatorEvaluateProjectrunLifecycleProjectEvaluatorjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorrunDefaultBuildOperationExecutorjava at orggradleinternaloperationsDelegatingBuildOperationExecutorrunDelegatingBuildOperationExecutorjava at orggradleconfigurationprojectLifecycleProjectEvaluatorevaluateLifecycleProjectEvaluatorjava at orggradleapiinternalprojectDefaultProjectevaluateDefaultProjectjava at orggradleapiinternalprojectDefaultProjectevaluateDefaultProjectjava at orggradleexecutionTaskPathProjectEvaluatorconfigureTaskPathProjectEvaluatorjava at orggradleexecutionTaskPathProjectEvaluatorconfigureHierarchyTaskPathProjectEvaluatorjava at orggradleconfigurationDefaultBuildConfigurerconfigureDefaultBuildConfigurerjava at orggradleinitializationDefaultGradleLauncherConfigureBuildrunDefaultGradleLauncherjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorrunDefaultBuildOperationExecutorjava at orggradleinternaloperationsDelegatingBuildOperationExecutorrunDelegatingBuildOperationExecutorjava at orggradleinitializationDefaultGradleLauncherconfigureBuildDefaultGradleLauncherjava at orggradleinitializationDefaultGradleLauncherdoBuildStagesDefaultGradleLauncherjava at orggradleinitializationDefaultGradleLauncherexecuteTasksDefaultGradleLauncherjava at orggradleinternalinvocationGradleBuildController executeGradleBuildControllerjava at orggradleinternalinvocationGradleBuildController executeGradleBuildControllerjava at orggradleinternalinvocationGradleBuildController createGradleBuildControllerjava at orggradleinternalinvocationGradleBuildController createGradleBuildControllerjava at orggradleinternalworkDefaultWorkerLeaseServicewithLocksDefaultWorkerLeaseServicejava at orggradleinternalworkStopShieldingWorkerLeaseServicewithLocksStopShieldingWorkerLeaseServicejava at orggradleinternalinvocationGradleBuildControllerdoBuildGradleBuildControllerjava at orggradleinternalinvocationGradleBuildControllerrunGradleBuildControllerjava at orggradletoolinginternalproviderExecuteBuildActionRunnerrunExecuteBuildActionRunnerjava at orggradlelauncherexecChainingBuildActionRunnerrunChainingBuildActionRunnerjava at orggradletoolinginternalproviderValidatingBuildActionRunnerrunValidatingBuildActionRunnerjava at orggradlelauncherexecRunAsBuildOperationBuildActionRunner runRunAsBuildOperationBuildActionRunnerjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorrunDefaultBuildOperationExecutorjava at orggradleinternaloperationsDelegatingBuildOperationExecutorrunDelegatingBuildOperationExecutorjava at orggradlelauncherexecRunAsBuildOperationBuildActionRunnerrunRunAsBuildOperationBuildActionRunnerjava at orggradletoolinginternalproviderSubscribableBuildActionRunnerrunSubscribableBuildActionRunnerjava at orggradlelauncherexecInProcessBuildActionExecuter transformInProcessBuildActionExecuterjava at orggradlelauncherexecInProcessBuildActionExecuter transformInProcessBuildActionExecuterjava at orggradlecompositeinternalDefaultRootBuildStaterunDefaultRootBuildStatejava at orggradlelauncherexecInProcessBuildActionExecuterexecuteInProcessBuildActionExecuterjava at orggradlelauncherexecInProcessBuildActionExecuterexecuteInProcessBuildActionExecuterjava at orggradlelauncherexecBuildTreeScopeBuildActionExecuterexecuteBuildTreeScopeBuildActionExecuterjava at orggradlelauncherexecBuildTreeScopeBuildActionExecuterexecuteBuildTreeScopeBuildActionExecuterjava at orggradletoolinginternalproviderContinuousBuildActionExecuterexecuteContinuousBuildActionExecuterjava at orggradletoolinginternalproviderContinuousBuildActionExecuterexecuteContinuousBuildActionExecuterjava at orggradletoolinginternalproviderServicesSetupBuildActionExecuterexecuteServicesSetupBuildActionExecuterjava at orggradletoolinginternalproviderServicesSetupBuildActionExecuterexecuteServicesSetupBuildActionExecuterjava at orggradletoolinginternalproviderGradleThreadBuildActionExecuterexecuteGradleThreadBuildActionExecuterjava at orggradletoolinginternalproviderGradleThreadBuildActionExecuterexecuteGradleThreadBuildActionExecuterjava at orggradletoolinginternalproviderParallelismConfigurationBuildActionExecuterexecuteParallelismConfigurationBuildActionExecuterjava at orggradletoolinginternalproviderParallelismConfigurationBuildActionExecuterexecuteParallelismConfigurationBuildActionExecuterjava at orggradletoolinginternalproviderStartParamsValidatingActionExecuterexecuteStartParamsValidatingActionExecuterjava at orggradletoolinginternalproviderStartParamsValidatingActionExecuterexecuteStartParamsValidatingActionExecuterjava at orggradletoolinginternalproviderSessionFailureReportingActionExecuterexecuteSessionFailureReportingActionExecuterjava at orggradletoolinginternalproviderSessionFailureReportingActionExecuterexecuteSessionFailureReportingActionExecuterjava at orggradletoolinginternalproviderSetupLoggingActionExecuterexecuteSetupLoggingActionExecuterjava at orggradletoolinginternalproviderSetupLoggingActionExecuterexecuteSetupLoggingActionExecuterjava at orggradlelauncherdaemonserverexecExecuteBuilddoBuildExecuteBuildjava at orggradlelauncherdaemonserverexecBuildCommandOnlyexecuteBuildCommandOnlyjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecWatchForDisconnectionexecuteWatchForDisconnectionjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecResetDeprecationLoggerexecuteResetDeprecationLoggerjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecRequestStopIfSingleUsedDaemonexecuteRequestStopIfSingleUsedDaemonjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecForwardClientInput callForwardClientInputjava at orggradlelauncherdaemonserverexecForwardClientInput callForwardClientInputjava at orggradleutilSwapperswapSwapperjava at orggradlelauncherdaemonserverexecForwardClientInputexecuteForwardClientInputjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecLogAndCheckHealthexecuteLogAndCheckHealthjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecLogToClientdoBuildLogToClientjava at orggradlelauncherdaemonserverexecBuildCommandOnlyexecuteBuildCommandOnlyjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecEstablishBuildEnvironmentdoBuildEstablishBuildEnvironmentjava at orggradlelauncherdaemonserverexecBuildCommandOnlyexecuteBuildCommandOnlyjava at orggradlelauncherdaemonserverapiDaemonCommandExecutionproceedDaemonCommandExecutionjava at orggradlelauncherdaemonserverexecStartBuildOrRespondWithBusy runStartBuildOrRespondWithBusyjava at orggradlelauncherdaemonserverDaemonStateCoordinator runDaemonStateCoordinatorjava at orggradleinternalconcurrentExecutorPolicyCatchAndRecordFailuresonExecuteExecutorPolicyjava at orggradleinternalconcurrentManagedExecutorImpl runManagedExecutorImpljava at orggradleinternalconcurrentThreadFactoryImplManagedThreadRunnablerunThreadFactoryImpljava Caused by orggradlecacheCacheOpenException Could not open cache directory ombor g dewgsaig jkukyu Usersjonathanleitschuhgradlecaches rc gradlekotlindsl ombor g dewgsaig jkukyu at orggradlecacheinternalDefaultPersistentDirectoryStoreopenDefaultPersistentDirectoryStorejava at orggradlecacheinternalDefaultPersistentDirectoryStoreopenDefaultPersistentDirectoryStorejava at orggradlecacheinternalDefaultCacheFactorydoOpenDefaultCacheFactoryjava at orggradlecacheinternalDefaultCacheFactoryopenDefaultCacheFactoryjava at orggradlecacheinternalDefaultCacheRepositoryPersistentCacheBuilderopenDefaultCacheRepositoryjava at orggradlekotlindslcacheScriptCachecacheDirForScriptCachekt at orggradlekotlindslproviderStandardKotlinScriptEvaluatorInterpreterHostcacheDirForKotlinScriptEvaluatorkt at orggradlekotlindslproviderStandardKotlinScriptEvaluatorInterpreterHostcachedDirForKotlinScriptEvaluatorkt at orggradlekotlindslexecutionInterpreterProgramHostcompileSecondStageScriptInterpreterkt at ProgramloadSecondStageForUnknown Source at orggradlekotlindslexecutionInterpreterProgramHostevaluateSecondStageOfInterpreterkt at ProgramexecuteUnknown Source at orggradlekotlindslexecutionInterpreterProgramHostevalInterpreterkt at orggradlekotlindslexecutionInterpreterevalInterpreterkt at orggradlekotlindslproviderStandardKotlinScriptEvaluatorevaluateKotlinScriptEvaluatorkt at orggradlekotlindslproviderKotlinScriptPluginFactorycreate invokeKotlinScriptPluginFactorykt at orggradlekotlindslproviderKotlinScriptPluginFactorycreate invokeKotlinScriptPluginFactorykt at orggradlekotlindslproviderKotlinScriptPluginapplyKotlinScriptPluginkt at orggradleconfigurationBuildOperationScriptPlugin runBuildOperationScriptPluginjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorRunnableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorrunDefaultBuildOperationExecutorjava at orggradleinternaloperationsDelegatingBuildOperationExecutorrunDelegatingBuildOperationExecutorjava at orggradleconfigurationBuildOperationScriptPlugin executeBuildOperationScriptPluginjava at orggradleconfigurationBuildOperationScriptPlugin executeBuildOperationScriptPluginjava at orggradleconfigurationinternalDefaultUserCodeApplicationContextapplyDefaultUserCodeApplicationContextjava at orggradleconfigurationBuildOperationScriptPluginapplyBuildOperationScriptPluginjava at orggradleconfigurationprojectBuildScriptProcessor runBuildScriptProcessorjava at orggradleinternalFactories createFactoriesjava at orggradleapiinternalprojectDefaultProjectStateRegistryProjectStateImplwithMutableStateDefaultProjectStateRegistryjava at orggradleapiinternalprojectDefaultProjectStateRegistryProjectStateImplwithMutableStateDefaultProjectStateRegistryjava at orggradleconfigurationprojectBuildScriptProcessorexecuteBuildScriptProcessorjava at orggradleconfigurationprojectBuildScriptProcessorexecuteBuildScriptProcessorjava at orggradleconfigurationprojectConfigureActionsProjectEvaluatorevaluateConfigureActionsProjectEvaluatorjava at orggradleconfigurationprojectLifecycleProjectEvaluatorEvaluateProject runLifecycleProjectEvaluatorjava more Caused by javalangIllegalStateException Backend Internal error Exception during code generation Cause Error generating constructors of class JacocoFileHolder with kind IMPLEMENTATION File being compiled at position fileprivatevarfoldersrt qdl n d ppyp x c gnTgradlekotlindsl tmprootdependencyviewergradlekts The root cause was thrown at ImplementationBodyCodegenjava at orgjetbrainskotlincodegenCompilationErrorHandlerlambdastatic CompilationErrorHandlerjava at orgjetbrainskotlincodegenPackageCodegenImplgeneratePackageCodegenImpljava at orgjetbrainskotlincodegenDefaultCodegenFactorygeneratePackageCodegenFactorykt at orgjetbrainskotlincodegenDefaultCodegenFactorygenerateModuleCodegenFactorykt at orgjetbrainskotlincodegenKotlinCodegenFacadedoGenerateFilesKotlinCodegenFacadejava at orgjetbrainskotlincodegenKotlinCodegenFacadecompileCorrectFilesKotlinCodegenFacadejava at orgjetbrainskotlinclijvmcompilerKotlinToJVMBytecodeCompilergenerateKotlinToJVMBytecodeCompilerkt at orgjetbrainskotlinclijvmcompilerKotlinToJVMBytecodeCompileranalyzeAndGenerateKotlinToJVMBytecodeCompilerkt at orgjetbrainskotlinclijvmcompilerKotlinToJVMBytecodeCompilercompileBunchOfSourcesKotlinToJVMBytecodeCompilerkt at orggradlekotlindslsupportKotlinCompilerKtcompileKotlinScriptToDirectoryKotlinCompilerkt at orggradlekotlindslexecutionResidualProgramCompilercompileScript invokeResidualProgramCompilerkt at orggradlekotlindslexecutionResidualProgramCompilercompileScript invokeResidualProgramCompilerkt at orggradlekotlindslproviderStandardKotlinScriptEvaluatorInterpreterHostrunCompileBuildOperation callKotlinScriptEvaluatorkt at orggradlekotlindslproviderStandardKotlinScriptEvaluatorInterpreterHostrunCompileBuildOperation callKotlinScriptEvaluatorkt at orggradleinternaloperationsDefaultBuildOperationExecutorCallableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorCallableBuildOperationWorkerexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorexecuteDefaultBuildOperationExecutorjava at orggradleinternaloperationsDefaultBuildOperationExecutorcallDefaultBuildOperationExecutorjava at orggradleinternaloperationsDelegatingBuildOperationExecutorcallDelegatingBuildOperationExecutorjava at orggradlekotlindslproviderStandardKotlinScriptEvaluatorInterpreterHostrunCompileBuildOperationKotlinScriptEvaluatorkt at orggradlekotlindslexecutionInterpreterProgramHostcompileSecondStageScriptcacheDir invokeInterpreterkt at orggradlekotlindslexecutionInterpreterProgramHostcompileSecondStageScriptcacheDir invokeInterpreterkt at orggradlekotlindslexecutionResidualProgramCompilercompileScriptResidualProgramCompilerkt at orggradlekotlindslexecutionResidualProgramCompilercompileScriptdefaultResidualProgramCompilerkt at orggradlekotlindslexecutionResidualProgramCompileremitStage ProgramForResidualProgramCompilerkt at orggradlekotlindslexecutionInterpreterProgramHostcompileSecondStageScriptcacheDir invokeInterpreterkt at orggradlekotlindslexecutionInterpreterProgramHostcompileSecondStageScriptcacheDir invokeInterpreterkt at orggradlekotlindslcacheScriptCacheinitializeCacheDirScriptCachekt at orggradlekotlindslcacheScriptCacheaccessinitializeCacheDirScriptCachekt at orggradlekotlindslcacheScriptCachecacheDirFor executeScriptCachekt at orggradlekotlindslcacheScriptCachecacheDirFor executeScriptCachekt at orggradlecacheinternalDefaultPersistentDirectoryCacheInitializerinitializeDefaultPersistentDirectoryCachejava at orggradlecacheinternalFixedSharedModeCrossProcessCacheAccess runFixedSharedModeCrossProcessCacheAccessjava at orggradlecacheinternalDefaultFileLockManagerDefaultFileLockdoWriteActionDefaultFileLockManagerjava at orggradlecacheinternalDefaultFileLockManagerDefaultFileLockwriteFileDefaultFileLockManagerjava at orggradlecacheinternalFixedSharedModeCrossProcessCacheAccessopenFixedSharedModeCrossProcessCacheAccessjava at orggradlecacheinternalDefaultCacheAccessopenDefaultCacheAccessjava at orggradlecacheinternalDefaultPersistentDirectoryStoreopenDefaultPersistentDirectoryStorejava more Caused by javalangRuntimeException Error generating constructors of class JacocoFileHolder with kind IMPLEMENTATION at orgjetbrainskotlincodegenImplementationBodyCodegengenerateConstructorsImplementationBodyCodegenjava at orgjetbrainskotlincodegenClassBodyCodegengenerateBodyClassBodyCodegenjava at orgjetbrainskotlincodegenMemberCodegengenerateMemberCodegenjava at orgjetbrainskotlincodegenMemberCodegengenClassOrObjectMemberCodegenjava at orgjetbrainskotlincodegenMemberCodegengenClassOrObjectMemberCodegenjava at orgjetbrainskotlincodegenMemberCodegengenClassOrObjectMemberCodegenjava at orgjetbrainskotlincodegenScriptCodegengenMembersScriptCodegenkt at orgjetbrainskotlincodegenScriptCodegengenerateBodyScriptCodegenkt at orgjetbrainskotlincodegenMemberCodegengenerateMemberCodegenjava at orgjetbrainskotlincodegenPackageCodegenImplgenerateFilePackageCodegenImpljava at orgjetbrainskotlincodegenPackageCodegenImplgeneratePackageCodegenImpljava more Caused by javalangUnsupportedOperationException Dont know how to generate outer expression for public constructor JacocoFileHolderadditionalSourceDirs orggradleapifileFileCollection sourceDirectories orggradleapifileFileCollection classDirectories orggradleapifileFileCollection defined in RootdependencyviewergradleJacocoFileHolder ClassConstructorDescriptorImpl f f at orgjetbrainskotlincodegencontextConstructorContextgetOuterExpressionConstructorContextjava at orgjetbrainskotlincodegenExpressionCodegengenerateScriptReceiverExpressionCodegenjava at orgjetbrainskotlincodegenExpressionCodegengenerateReceiverValueExpressionCodegenjava at orgjetbrainskotlincodegenStackValuegenReceiverStackValuejava at orgjetbrainskotlincodegenStackValuereceiverStackValuejava at orgjetbrainskotlincodegenExpressionCodegenputReceiverAndInlineMarkerIfNeededExpressionCodegenjava at orgjetbrainskotlincodegenExpressionCodegeninvokeMethodWithArgumentsExpressionCodegenjava at orgjetbrainskotlincodegenExpressionCodegeninvokeMethodWithArgumentsExpressionCodegenjava at orgjetbrainskotlincodegenCallableinvokeMethodWithArguments invokeCallablekt at orgjetbrainskotlincodegenCallableinvokeMethodWithArguments invokeCallablekt at orgjetbrainskotlincodegenOperationStackValueputSelectorStackValuekt at orgjetbrainskotlincodegenStackValueputStackValuejava at orgjetbrainskotlincodegenStackValueputStackValuejava at orgjetbrainskotlincodegenStackValuestoreStackValuejava at orgjetbrainskotlincodegenStackValuestoreStackValuejava at orgjetbrainskotlincodegenFunctionCodegengenerateDefaultImplBodyFunctionCodegenjava at orgjetbrainskotlincodegenFunctionCodegengenerateDefaultIfNeededFunctionCodegenjava at orgjetbrainskotlincodegenConstructorCodegengeneratePrimaryConstructorConstructorCodegenjava at orgjetbrainskotlincodegenImplementationBodyCodegengenerateConstructorsImplementationBodyCodegenjava more Get more help at BUILD FAILED in s pre details Context A more useful exception describing what when wrong and why would be useful for new developers Your Environment Gradle rc Build time UTC Revision b d e d d b a d f d c d Kotlin DSL rc Kotlin Groovy Ant Apache AntTM version compiled on July JVM Oracle Corporation OS Mac OS X x See in order to consume less resources on a developer machine See KT Properly merge the gradle jvm options then passing it to the gradle kotlin build script dependencies resolver This example can be found here at the provided branch The branch is called crashingexample because before I updated my IJ kotlin plugin IJ was hanging requiring a restart because of this issue This is the extension I have declared kotlin open class JLinkExtension Inject internal constructor project Project val configure NamedDomainObjectContainerJLinkOptions projectcontainerJLinkOptionsclassjava name JLinkOptionsname name This is the usage of said extension found at samplessimplejarbuildgradlekts in the above repo kotlin jlink configure It seems that configure is resolving to the wrong overload in Gradle Its not using the NamedDomainObjectContainerinvoke method but is instead calling Projectconfigure Your Environment Gradle Build time UTC Revision b d d d bb ba e d fe e d dd Kotlin DSL rc Kotlin Groovy Ant Apache AntTM version compiled on March JVM Oracle Corporation OS Mac OS X x Only Kotlin syntax highlighting is supported for now See Code completion for extension methods defined in the same source set doesnt work for precompiled script plugins Expected Behavior When trying to use an extension function Intellij completes the name of the function Current Behavior When I type in the name of the extension function Intellij highlights it correctly and I can navigate to the source code Only typing part of the name doesnt show any completions Context I was converting code from buildgradlekts first into an extension function and then into a precompiled script plugin which uses the extension function Steps to Reproduce for bugs Here is the project I have been using It is an adjusted version of the helloworld sample Your Environment I am using Gradle IntelliJ IDEA EAP Ultimate Edition Build IU and the Kotlin plugin M releaseIJ As a Kotlin learner I use sometimes the Show Kotlin Bytecode Decompile feature in IntelliJ to see the Java source code bildschirmfoto um bildschirmfoto um Unfortunately IntelliJ doesnt recognize my buildgradlekts file as Kotlin Source File which means the decompiled version is empty bildschirmfoto um No my buildgradlekts is not empty I dont know if this is an IntelliJ Kotlin or Kotlin Plugin issue or an Kotlin DSL issue which just needs to report IntelliJ somehow that this is a Kotlin file Feel free to create a issue in the Kotlin Tracker or IntelliJ Tracker Expected Behavior The decompiled version should show the Java Code from the decompiled Kotlin code Current Behavior The decompiled version is empty Context See the description above Steps to Reproduce for bugs Create a buildgradlekts and write something in it Open this in IntelliJ and press CMD Shift A on a Mac and search for Show Kotlin Bytecode Press it A window appear where you can click Decompile Click it A new file appear which is empty Your Environment IntelliJ IDEA Community Edition Build IC built on September JRE release b x JVM OpenJDK Bit Server VM by JetBrains sro macOS 