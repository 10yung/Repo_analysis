Related issue This PR adds support to Mezzanine for Django Ive used some of the code from khadegd s August fork but tried to stay away from the more major changes such as the bootstrap version bump Features Working keywords fields Working drag and drop inlines URLs in format Notes Removed references to Python since Django no longer supports it Since Django will be unsupported in April this PR is only compatible with Django Ive updated Tox to only support Python and Django it will obviously fail with the django master branch since that is now at version Also requires an update to grappellisafe for inlines to work correctly When using radio buttons in dynamic inlines this raised an Unhandled field in dynamicinlinejs alert This was fixed by dublicating the checkbox case in the function anyFieldDirty in dynamicinlinejs This PR includes two improvements to the thumbnails code when using remote media storage eg S Allow absolute path for THUMBNAILSDIRNAME Allow the THUMBNAILSDIRNAME setting to specify an absolute path In this case THUMBNAILSDIRNAME will be created relative to the MEDIAROOT directory rather than relative to each images directory Each images path is recreated below the root THUMBNAILSDIRNAME directory to avoid name collisions Default behavior is not changed so existing installations are not affected THUMBNAILSDIRNAME thumbnails Using this feature offers improvements to listdir on eg a Boto storage backend which is constrained to pulling all objects under a particular directory ie recursively due to the nature S like object storage systems With many thumbnail images this can be a major performance hit for example when browsing the Media Library in admin By keeping this directory at the root level outside of the location of media library files uploads thumbnails do not show up in the Media Library at all mitigating the problem Use defaultstorage for thumbnail creation rather than os Implementation of the fix described here Thumbnails are now created solely with defaultstorage rather than os functions which of course does not work when using S for media storage Note that this fix also appears to be implemented in a couple of other PRs and Make thumbnail template tag be compatible with custom storage engines Doesnt create thumbnails in local fs while using custom storage Fix existence check logic with custom storage I have updated all the urlpatterns according the DJango updates as i have changed urls that contain regex from url to repath and the urls that doesnt contain regex to path Also imported new modules for djangourls Hi I forgive for my bad English I have a problem with mezzanine cms it allows me to edit the main page exallievidonboscoit but not the subsites created for example potenzaexallievidonboscoit It tells me the following error message Sorry an error occurred Any problems with permits I made the mark of the subsite just created and the problem always reappears where can I find the logs thanks in advance Andrea Errore On a fresh install running the local django development server shows the following urlsW URL namespace djdt isnt unique You may not be able to reverse all URLs in this namespace When installing the demo pages the following error occurs djangodbutilsOperationalError Incorrect string value xCC x vila for column file at row Django Python MySQL For the time being this can be fixed by setting your database character set to utf mb after creating the database ALTER DATABASE yourDBname CHARACTER SET utf mb COLLATE utf mb unicodeci Upon answering the prompt for installing the initial demo pages I am presented with the following traceback Password Password again Superuser created successfully Installed objects from fixtures Would you like to install some initial demo pages Eg About us Contact form Gallery yesno yes Creating demo pages About us Contact form Gallery Installed objects from fixtures Traceback most recent call last File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbbackendsutilspy line in execute return selfcursorexecutesql params File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbbackendsmysqlbasepy line in execute return selfcursorexecutequery args File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesMySQLdbcursorspy line in execute res selfqueryquery File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesMySQLdbcursorspy line in query dbqueryq File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesMySQLdbconnectionspy line in query mysqlconnectionqueryself query MySQLdbexceptionsOperationalError Incorrect string value xCC x vila for column file at row The above exception was the direct cause of the following exception Traceback most recent call last File managepy line in module executefromcommandlinesysargv File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangocoremanagementinitpy line in executefromcommandline utilityexecute File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangocoremanagementinitpy line in execute selffetchcommandsubcommandrunfromargvselfargv File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangocoremanagementbasepy line in runfromargv selfexecuteargs cmdoptions File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangocoremanagementbasepy line in execute output selfhandleargs options File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremanagementcommandscreatedbpy line in handle func File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremanagementcommandscreatedbpy line in createpages gallerysave File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninepagesmodelspy line in save superPage selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremodelspy line in save superOrderable selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremodelspy line in save superDisplayable selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremodelspy line in save superSlugged selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremodelspy line in save superSiteRelated selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremodelspy line in save superMetaData selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremodelspy line in save superTimeStamped selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninegalleriesmodelspy line in save selfimagescreatefilesavedpath File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsfieldsrelateddescriptorspy line in create return superRelatedManager selfdbmanagerdbcreatekwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsmanagerpy line in managermethod return getattrselfgetqueryset nameargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsquerypy line in create objsaveforceinsertTrue usingselfdb File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninegalleriesmodelspy line in save superGalleryImage selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesmezzaninecoremodelspy line in save superOrderable selfsaveargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsbasepy line in save forceupdateforceupdate updatefieldsupdatefields File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsbasepy line in savebase updated selfsavetableraw cls forceinsert forceupdate using updatefields File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsbasepy line in savetable result selfdoinsertclsbasemanager using fields updatepk raw File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsbasepy line in doinsert usingusing rawraw File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsmanagerpy line in managermethod return getattrselfgetqueryset nameargs kwargs File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelsquerypy line in insert return querygetcompilerusingusingexecutesqlreturnid File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbmodelssqlcompilerpy line in executesql cursorexecutesql params File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbbackendsutilspy line in execute return superCursorDebugWrapper selfexecutesql params File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbbackendsutilspy line in execute return selfcursorexecutesql params File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbutilspy line in exit sixreraisedjexctype djexcvalue traceback File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangoutilssixpy line in reraise raise valuewithtracebacktb File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbbackendsutilspy line in execute return selfcursorexecutesql params File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesdjangodbbackendsmysqlbasepy line in execute return selfcursorexecutequery args File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesMySQLdbcursorspy line in execute res selfqueryquery File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesMySQLdbcursorspy line in query dbqueryq File homeaddohmcodeprojectsWoWGuildenvlibpython sitepackagesMySQLdbconnectionspy line in query mysqlconnectionqueryself query djangodbutilsOperationalError Incorrect string value xCC x vila for column file at row Django and Python Current SQLite is not usable is MySQL is also not usable mysql Ver Distrib for Linux x The contact form seems okay the gallery seems okay the About page just says About us at the top and has two subcategories Team and History There are two empty boxes on the right side of the page on all pages except Blog the bottom box fills in with Feeds RSSAtom and the footer seems a bit wonky 