Description compdef in plugin scripts have no effect Steps to reproduce Minimal zshrc sh if d HOMEantigen then git clone branch master HOMEantigen fi source HOMEantigenantigenzsh antigen bundle fanzeyizshat antigen apply The zshat plugin provides an command which provided its own completion function but when I hit tab after the command I got default filename completions Expected behavior The zshatcompletion function provided by the plugin should be used for completions for the command Software version antigen version v aa zsh version zsh x redhatlinuxgnu More information By inspecting the cached script initzsh I found that The compinit function was called in antigencompinit which was called by a precmd hook This precmd hook got triggered only after the init script was sourced and before the first command prompt All the plugin scripts sourced in the init script called an empty compdef function defined in the init script with the zsh completion system uninitialized When I got to a command prompt no completion provided by plugins worked at all I found the code regarding completions quite confusing Why not call antigencompinit directly instead of using a hook Why is there an empty compdef function Description Is there documentation for uninstallation instructions Thanks Description When I run antigen list in a new terminal tab for the first time I get an error instead of the list antigen list usrlocalCellarantigen shareantigenantigenzsh defining function based on alias TRACE usrlocalCellarantigen shareantigenantigenzsh parse error near Steps to reproduce Minimal steps to reproduce this behavior Example Open terminal antigen list error is displayed Expected behavior List of antigen plugins Software version Antigen v ff b zsh x appledarwin Darwin ITsMBP Darwin Kernel Version Sat Nov PST rootxnu RELEASEX x i MacBookPro Darwin Configuration Description When I log in to the root user with zsh and antigen and then su to my user antigen tries to install all my plugins to root If I su to my user from bash or log in to that user directly it correctly finds my antigen folder and all the installed plugins Steps to reproduce Minimal steps to reproduce this behavior Example Log in as root with zsh shell and antigen loaded Su to a different user which also uses zsh and antigen Antigen tries to install the users plugins to root Expected behavior Everything works correctly Software version Antigen v zsh x pclinuxgnu Linux i arch ARCH SMP PREEMPT Mon Oct UTC x GNULinux More information rooti su lars mkdir cannot create directory root Permission denied mkdir cannot create directory root Permission denied Installing robbyrussellohmyzsh antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing robbyrussellohmyzsh antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing robbyrussellohmyzsh antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing robbyrussellohmyzsh antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing robbyrussellohmyzsh antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing zshuserszshsyntaxhighlighting antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing knuzshmanydotsmagic antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing supercrabtreek antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog Installing zshuserszshautosuggestions antigenensurerepo permission denied rootantigenantigenlog Error See rootantigenantigenlog zcachegeneratecache permission denied rootantigencachezcachepayload zcachegeneratecache permission denied rootantigencachezcachebundles zcacheloadcachesource permission denied rootantigencachezcachepayload zsh command not found shrinkpath I cannot figure out how to make antigen theme work in a docker container Heres what Ive tried zsh docker run e LANGCUTF e TERM it rm debianbuster bash uexc apt update apt install y zsh git curl gawk sudo useradd ms binzsh test sudo u test curl fsSLo testantigenzsh sudo u test tee testzshrc devnull POWERLEVEL KDISABLECONFIGURATIONWIZARDtrue source antigenzsh antigen theme romkatvpowerlevel k antigen apply exec su test Eventually this command prints Installing romkatvpowerlevel k and then apparently nothing happens At this point zsh is responsive but its PROMPT is empty echo E qPROMPT pwd hometest Here echo and pwd are commands Ive typed antigeninitzsh doesnt have a command to source the theme grep powerlevel k antigeninitzsh fpathhometestantigenbundlesromkatvpowerlevel k pathhometestantigenbundlesromkatvpowerlevel k typeset gaU ANTIGENBUNDLERECORD ANTIGENBUNDLERECORD theme true typeset ga ZCACHEBUNDLESOURCE ZCACHEBUNDLESOURCEhometestantigenbundlesromkatvpowerlevel k Ive tried it with a different theme by replacing antigen theme romkatvpowerlevel k with antigen theme powerlevel kpowerlevel k in the docker command The result is the same Loading themes by manually sourcing them works fine A seemingly identical command works on my local machine running the same distro zsh emulate L zsh setopt errreturn nounset sudo useradd ms binzsh test sudo u test curl fsSLo testantigenzsh sudo u test tee testzshrc devnull POWERLEVEL KDISABLECONFIGURATIONWIZARDtrue source antigenzsh antigen theme romkatvpowerlevel k antigen apply sudo su test always sudo userdel r test devnull Here after Installing romkatvpowerlevel k the expected prompt appears antigeninitzsh does have a command to source the theme zsh grep powerlevel k antigeninitzsh fpathhometestantigenbundlesromkatvpowerlevel k pathhometestantigenbundlesromkatvpowerlevel k source hometestantigenbundlesromkatvpowerlevel kpowerlevel kzshthemeantigencompat typeset gaU ANTIGENBUNDLERECORD ANTIGENBUNDLERECORD theme true typeset ga ZCACHEBUNDLESOURCE ZCACHEBUNDLESOURCEhometestantigenbundlesromkatvpowerlevel k hometestantigenbundlesromkatvpowerlevel kpowerlevel kzshtheme The only difference I can think of between these two environments is that on my local machine I have extra packages installed Is it possible that in my docker container some external command is missing that antigen needs What could it be Im attaching antigendebuglog from docker debuglog The Asciinema video is broken ATM and currently it has a misleading Archival warning which at first glance made me think the entire Antigen project was affected I dont see an archive of it online anywhere so I cant offer a repaired link so for now I think itd be best to remove it entirely Description Im on a machine on which I dont have sudo privilege so I had to install zsh in my home directory I assume this is what causes the following problem although I cannot verify because I cant install zsh in the normal location When I run exec zsh I get gaiaclassstudentdorstmantigenantigenzsh failed to load module zshparameter usrlibzsh zshparameterso cannot open shared object file No such file or directory gaiaclassstudentdorstmantigenantigenzsh failed to load module zshparameter usrlibzsh zshparameterso cannot open shared object file No such file or directory Antigen Please install git to use Antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc failed to load module zshzle usrlibzsh zshzleso cannot open shared object file No such file or directory gaiaclassstudentdorstmzshrc command not found bindkey gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found antigen gaiaclassstudentdorstmzshrc command not found pyenv gaiaclassstudentdorstmzshrc command not found rbenv zsh failed to load module zshzle usrlibzsh zshzleso cannot open shared object file No such file or directory Steps to reproduce Minimal steps to reproduce this behavior Example Install zsh in your home folder I followed these instructions Use this zshrc zshrc Run exec zsh Expected behavior Antigen should not generate errors Software version antigen version does not run because of the error but the current version is v zsh i redhatlinuxgnu Linux host url redacted el i SMP Wed Aug UTC i i i GNULinux Configuration Dont have a antigenrc zshrc zshrc More information Screenshot or any other information you may find relevant to troubleshoot the issue zshrc Description When starting a new shell I receive the following error UsersUSERantigenbundlesrobbyrussellohmyzshpluginsosxosxpluginzshsource no such file or directory pluginsosxspotify Note I do no have ohmyzsh installed with homebrew I dont know if this is necessary or not Steps to reproduce Minimal steps to reproduce this behavior Example install zsh through homebrew install antigen using curl L gitioantigen antigenzsh populate zshrc with config below Open terminal The error shows up before seeing a prompt Expected behavior No error Software version antigen version Antigen v zsh version zsh x appledarwin uname a Darwin JakesMacBookPro local Darwin Kernel Version Thu Apr PDT rootxnu RELEASEX x Configuration gist of zshrc load Antigen source HOMEantigenzsh Antigen Plugins antigen bundle EOBUNDLES Bundles from the default repo robbyrussells ohmyzsh git Syntax highlighting bundle zshuserszshsyntaxhighlighting Fishlike auto suggestions zshuserszshautosuggestions Extra zsh completions zshuserszshcompletions Guess what to install when running an unknown command commandnotfound Auto completion plugins git gitextras brew brewcask lein osx node sshagent websearch Other general ohmyzsh plugins commonaliases extract z coloredmanpages Pure Prompt mafredrizshasync sindresorhuspure EOBUNDLES apply all changes antigen apply Description TLDR unixornautoupdateantigenzshplugin does not seem to be working Steps to reproduce Minimal steps to reproduce this behavior antigen bundle unixornautoupdateantigenzshplugin Expected behavior Should auto update once a week and produce some output like this Updating mafredrizshasyncmaster Done Took s Updating robbyrussellohmyzshmaster Done Took s Updating sindresorhuspuremaster Done Took s Updating zshuserszshautosuggestionsmaster Done Took s Updating zshuserszshsyntaxhighlightingmaster Done Took s Current behavior Never outputs anything Software version antigen version Antigen develop d dd b Revision date zsh version zsh x debianlinuxgnu uname a Linux cant disclose Configuration gist of zshrc source antigenantigenzsh antigen use ohmyzsh Plugins antigen bundle git antigen bundle sudo antigen bundle history antigen bundle extract antigen bundle debian antigen bundle zshuserszshsyntaxhighlighting antigen bundle zshuserszshautosuggestions antigen bundle unixornautoupdateantigenzshplugin Auto updates for antigen Theme antigen bundle mafredrizshasync antigen bundle sindresorhuspure antigen apply More information I went through the hassle of forking and rewriting the auto update plugin here After some debugging it seems that everything in the plugin should work except running antigen update or antigen selfupdate finishes instantly with no output I ran which antigen inside the script and it produced this output zsh antigen local MATCH MBEGIN MEND ZSHEVALCONTEXT toplevel ZSHEVALCONTEXT cmdarg source myusrpathantigenantigenzsh eval antigen return It appears that ZSHEVALCONTEXT toplevel ZSHEVALCONTEXT cmdarg evaluates to false My question is is this intended behavior for scripts Why can we not use antigen update inside of a plugin Description antigen update fails with a exit status code Steps to reproduce Open terminal Run antigen update Updating master Error Activate logging and try again is displayed Expected behavior No error message is displayed and all bundles get updated accordingly Software version antigen version Antigen develop d dd b Revision date zsh version zsh x pclinuxgnu uname a Linux pensieve MANJARO SMP PREEMPT Sat Apr UTC x GNULinux Configuration gist of antigenrc no such file gist of zshrc More information debuglog 