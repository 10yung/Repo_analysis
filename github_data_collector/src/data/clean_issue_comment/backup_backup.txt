 I have tested this in a production system on ubuntu ruby Hi this commit fix the problem with WARNING deprecated key derivation used Using iter or pbkdf would be better The discussion is here What went wrong Im getting deprecation warnings with openSSL encryption info Using EncryptorOpenSSL to encrypt the archive warn Pipeline STDERR Messages warn Note may be interleaved if multiple commands returned error messages warn warn WARNING deprecated key derivation used warn Using iter or pbkdf would be better What steps did you follow backup perform trigger config Check the log output How is your copy of backup configured Use config encryption step encryptwith OpenSSL do encryption encryptionpassword Some password encryptionbase true encryptionsalt true end Tell us about the computer that runs the backup gem Operating system Ubuntu LTS Backup openssl version OpenSSL Sep What went wrong I have this error message twice a day every time the backup local storage is running The first time I encountered this I checked the filesystem and there was no folder matching the one the script is trying to delete I deleted all folders from the date manually But everyday it keeps trying to delete this folder And so rotation is not executed all backup runs successfully and stored It seems I need to doublecheck it that the rotation is working I never have more than backups stored which respect my script config actually But I still received twice a day backup is twice a day the warning about this delete warn StorageCyclerError There was a problem removing the following package warn Trigger database Dated h m s warn Package included the following files warn databasetar warn Wrapped Exception warn ErrnoENOENT No such file or directory unlinkinternal mntmydiskdatabasedatabase h m s How is your copy of backup configured I do a simple mysql backup that works perfectly Problem is with the rotation compresswith Gzip do compression compressionlevel compressionrsyncable true end storewith Local do local localpath mntkauf backupstorage database Use a number or a Time object to specify how many backups to keep localkeep end Tell us about the computer that runs the backup gem Linux OS I have a remote linux server that run the script and connect to my servers to backup to back them up The production servers are not running the backup scripts its a specific and dedicated server Operating system Debian latest Tools or services used by backup MySQL Backup v Ruby ruby p revision x linux question Is there any place where Backup keep tracks of the backup folder names to deleterotate them Is the script using folder timestamps meta to select the one to deletes Thanks a lot for this really cool package anyway ruby encryptwith GPG do encryption encryptionkeys encryptionpassphrase secret passphrase encryptionmode both encryptionmode symmetric end But running backup perform trigger mybackup prompt passphrase windown not using secret passphrase Why Because as of version of GPG the option batch is needed to ensure no prompt as can be read in the manual If this command is used with batch pinentrymode has been set to loopback and one of the passphrase options passphrase passphrasefd or passphrasefile is used the supplied passphrase is used for the new key and the agent does not ask for it To create a key without any protection passphrase may be used How I fixed it just added the batch flag In libbackupencryptorgpgrb symmetricoptions method changed c passphrasefile path to c batch passphrasefile path My gpg version gpg GnuPG When Im trying to restore a postgresql database with a dump file in a tar format I get a pgrestore tar archiver could not find header for file tocdat in tar archive Upon inspecting the tar file with tar tvf dbtarballtar the list of files does not include the file tocdat I believe that this prevents me from performing a pgrestore How to replicate gem install backup generate backup config and model trigger a backup perfrom pgrestore c U username d database v pathtofile Run into the tocdat not found error This is how the database block looks like dbname ENV POSTGRESQLDATABASE dbusername ENV POSTGRESQLUSERNAME dbpassword ENV POSTGRESQLPASSWORD dbhost ENV apihost dbport dbadditionaloptions xc Eutf My config file is the outofthebox everything commented file Operating system MacOS Mojave Ruby version Tools or services used by backup PostgreSQL How to usesudo with rsync syncer For example I want to sync etc directory from user Operating system Ubuntu Server Ruby version backup Hi I was thinking of making my own solution when I found this project Too bad its not under development anymore but Im glad to see it is working I have a question to which I cant find an answer does this support getting files from an FTP I feel like FTP is only used to store the final backup files but what I would like to do is to backup WordPress websites with it uploaded files in particular It seems like only databases are supported but hopefully I am wrong This is so close to perfect Thanks for your answers This PR is a replacement for I investigated about the strange warns reported into the previous PR and with ruby the Threadreportonexception default value changed from false to true so this is the main reason about these strange warns Digging into it I discovered that the warns were generated by a stubbed exception into a spec which was trying to simulate a network error Note Now Ive muted the warns only for this single spec So there isnt any issue with ruby and it seems working correctly I have added compressor Parallel BZIP pbzip for making use of multiple cores when compressing backups Tested on Ubuntu Linux LTS and ruby p revision x linux 