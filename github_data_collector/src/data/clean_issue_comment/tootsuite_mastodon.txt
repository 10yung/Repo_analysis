 Make sure that you are submitting a new bug that was not previously reported or already fixed Please use a concise and distinct title for the issue Expected behaviour What should have happened When I add an URL like which is shorter than characters it must cost its real size characters in my example Actual behaviour What happened When I add an URL like it cost characters Steps to reproduce the problem What were you trying to do On the web interface in the new toot box write the URL The caracter counter is now instead of Specifications What version or commit hash of Mastodon did you find this bug in Im using mastodon v If a frontend issue what browser and operating systems were you using Im using firefox from Debian Sid A user on my instance was trying to migrate accounts from an instance we have suspended I assume this is not possible fair enough we temp unblocked to work round that The problem is that instead of the user being told what the problem is they get this Im trying to set an alias in order to migrate here but I just get Something isnt quite right yet Please review the error below with no error message below Both instances are on version Pitch It should be possible to update the URLs of any attachments on a remote status in some way Motivation Domains change and media hosting from a few months ago may no longer be accessible The attachment is almost always still available from the public version of the message We can go back to rack or we can update to the current git version to fix this Fix unused role routes being generated Remove unused JavaScript code Refactor filters code to be DRYer Fix count comparisons to empty in views To prevent new join in selfdestruct sequence is running Close registration first Instead of this fix or in addition to that I wonder if it would make sense to directly fill the items instead of pending items when there are no items yet Expected behaviour Upload webm Video shows below the text input for the toot Actual behaviour Upload Webm Upload finishes then video disappears Steps to reproduce the problem Upload a webm of around MB Specifications on mastodonsocial v If a frontend issue what browser and operating systems were you using Firefox bit on MacOS Mojave G with Adblock plus ublock origin and privacy badger Make sure that you are submitting a new bug that was not previously reported or already fixed Please use a concise and distinct title for the issue Expected behaviour What should have happened Deletingselfsuspending account will remove email from that account plus IP address etc Actual behaviour IP Email Recent activity is not deleted as below What happened Steps to reproduce the problem What were you trying to do Someone want to start from new account Delete their account by their self Create new accountdifferent username with same email address already used error shown Specifications What version or commit hash of Mastodon did you find this bug in Mastodon v If a frontend issue what browser and operating systems were you using Bumps clusterwscws from to details summaryChangelogsummary pemSourced from a href changelogaemp blockquote h Released h pstrongFixesstrongp ul liFix typings for on codeconnectioncode eventli ul h Released h pstrongImprovementstrongp ul liAdded support for on codeclosecode event on the codeWebSocketServercodeli ul pstrongFixesstrongp ul liValidation prints warning if listener is not supportedli ul h Released h pThis is quite a big release with some important changes improvement and fixes including but not limited top pstrongImprovementstrongp ul liAdded codenoServercode configli liAdded codeclientscode getter to codeWebSocketServercodeli liAdded codehandleUpgradecode similar to codewscode moduleli liChanged values of codeOPENcode and codeCLOSEDcode on codeWebSocketcode to code code and code code respectivelyli liReexported codeWebSocketServercode under codeWebSocketServercodeli ul pstrongFixesstrongp ul liFixed codeperMessageDeflatecode configurationli liFixed close code on fuzzingli ul pstrongRemovedstrongp ul liRemoved codeglobalcwscode configli liRemoved codewebsocketremoteAddresscode as can get data from codewebsocketsocketremoteAddresscode or codereqconnectionremoteAddresscodeli liNo more codelisteningcode event emitted from codeWebSocketServercode can be implemented using callbackli ul pMany other fixes and improvementsp h Release h ul liRemove support for SSL from Nodejs use proxy instead like nginxli liAdded support for Nodejs li ul h Release h ul liImproved typings for codeonconnectioncode handler a href liImproved typings for codeverifyClientcode a href liOn codeverifyClientcode fail by default return code code code a href ul h Release h h Improvementsh ul licodesocketsendbuffer binary false code will force text codeopCodecodeli ul trtable truncated blockquote details details summaryCommitssummary ul liSee full diff in a href viewali ul details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot close will close this PR and stop Dependabot recreating it You can achieve the same result by closing it manually dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme Additionally you can set the following in the dependabotconfigyml file in this repo Update frequency Automerge options neverpatchminor and devruntime dependencies Outofrange updates receive only lockfile updates if desired Security updates receive only security updates if desired details