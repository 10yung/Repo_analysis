Is your feature request related to a problem Please describe My problem is the following I want to connect to a known device from which I stored the UUID but timeout after s if the device is not reachable I use peripheralestablishConnection observable and I put a timeOut operator on establishConnection observable I works well when the device is not reachable the onError But when the device is reachable it disconnects it after s when the timeout is reached I tried to add a take operator but it then completes and dispose the observable and thus disconnect the device just after connection Describe the solution youd like I would like to be able to apply a timeout on peripheralestablishConnection that just fires if the device is not found but does not close the connection if it is found Additional context Here is my code snippet let connectObservableCreator return peripheralestablishConnection options CBConnectPeripheralOptionNotifyOnConnectionKey true CBConnectPeripheralOptionNotifyOnDisconnectionKey true CBConnectPeripheralOptionNotifyOnNotificationKey true doonNext weak self in SdkLoggerlogErrortextToLog connectPeripheral do onNext connected selfobserveDisconnectfor peripheral timeout timeout failed failed timeoutRxTimeIntervalBleManagerconnectTimeoutValue scheduler MainSchedulerinstance take let disposable connectObservableCreator subscribeonNext in SdkLoggerlogErrortextToLog connectPeripheral connected discover its services and characteristics selfdiscoverServicesfor peripheral hardwareDevice hardwareDevice connected connected timeout timeout failed failed onError weak self error in DispatchQueuemainasyncexecute selfonErrorerror error failed failed timeout timeout onCompleted SdkLoggerlogErrortextToLog connection completed onDisposed SdkLoggerlogErrortextToLog connection disposed This task is in regards to the Communication team Normal links were replaced by UTM links in terms of tracking Best regards Nam Bui This also resolves an issue when including RxBluetoothKit with RxSwift for the watchOS platform iOS img width altScreen Shot at src Hello There is something I dont understand here managerscanForPeripheralswithServices serviceId take flatMap peripheralestablishConnection flatMap discoverServices serviceId flatMap Observablefrom flatMap discoverCharacteristics characteristicId flatMap Observablefrom flatMap readValue subscribeonNext printValue value What is the reason of using discoverServices if we already know that the device has the service we want using scanForPeripherals And another question in iOS can I use a service that is not being advertised It seems in android is possible but according to this that is not possible in iOS second response What do you think about that Thanks a lot I understand we have observeValueUpdateAndSetNotification method to get notifications whenever a characteristic changes What about subscribe to indications Do we use the same method to subscribe to indications instead of notifications Describe the bug Getting compilation errors while trying to build RxBluetoothKit with Swift error module compiled with Swift cannot be imported by the Swift compiler To Reproduce Steps to reproduce the behavior Cleared XCode DerivedData set command line tools to XCode ran rm rf LibraryCachesorgcarthage My cartfile has the following github ReactiveXRxSwift github PolideaRxBluetoothKit along with other stuff such as AlamoFire Reachability SnapKit etc If I comment out RxBluetoothKit on cartfile carthage update platform iOS nousebinaries goes through just fine However if I include RxBluetoothKit I see this error module compiled with Swift cannot be imported by the Swift compiler I already have RxSwift rebuilt using Swift swift version shows Apple Swift version I think RxBluetoothKit picks up its own version of an older RxSwift Is there a workaround I cant use an older version of XCode because of an XCode bug Expected behavior RxBluetoothKit compiles successfully on carthage update platform iOS nousebinaries with Swift XCode Environment Device Macbook Pro OS macOS Library version RxBluetoothKit Swift version XCode Version beta M r Hi We are implementing Bluetooth scanning in our App its my first time using RxBluetoothKit and I am loving it I am having trouble writing my tests for our Bluetooth service protocol BluetoothScanServiceProtocol func startScanForBluetoothDeviceswith service String ObservableScannedPeripheral func stopScanningBluetoothDevices How can I mock the ScannedPeripheral class I wont have a real ScannedPeripheral on my tests of course My mock class final class MockBluetoothService BluetoothScanServiceProtocol func startScanForBluetoothDeviceswith service String ObservableScannedPeripheral return ObservablejustScannedPeripheral I cant initialize ScannedPeripheral func stopScanningBluetoothDevices Describe the bug Trying to scan the device which brodcasts serviceA managerobserveState startWithmanagerstate filter poweredOn timeout scheduler MainSchedulerinstance take flatMap in selfmanagerscanForPeripheralswithServices BLEServiceserviceAuuid take scheduler MainSchedulerinstance toArray subscribeonNext peripheral in printScanned peripheral To Reproduce Use above code Im trying to scan a device that broadcasts serviceA After executing the above code i get Scanned Environment Device iPhone Macbook Pro OS iOS macOS Library version latest Swift version 