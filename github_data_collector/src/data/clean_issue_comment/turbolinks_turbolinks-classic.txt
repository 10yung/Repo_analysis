How to event binding pageload cachepreview Im experiencing a weird undefined return value from TurbolinksenableProgressBar in case when server renders page without redirection in response to a post request Any work around for this issue Steps to replicate Post a form Render action without redirection common for a case of form validation error In JS console try TurbolinksenableProgressBar Youll see undefined Rails Turbolinks Heres the scenario pagevalid valid route in the app pageinvalid this route does not exist if pagevalid has a link to pageinvalid and the user clicks on it we get the standard rails error page as expected with all the red colors Now if the user presses the back button to go back to pagevalid the styles from the error page are retained When a user submits a remote form and the server sends the response to redirect to the same page via turbolinks the scroll position of the browser window will be reset to Currently turbolinks only supports scroll option on client side This commit adds scroll option for server side Using turbolinks current master Ive this nav idm dataturbolinkspermanent span idnotificationscounter dataturbolinkstemporary span nav But it does not seems to work the span content keeps the same Ive tried to write a workaround for this using the differents events of pageload for example addEventListenerpagechange functionnewBody counter newBodydatafindnotificationcountertext But the counter is always the original loaded value I guess because is inside on permanent Is there a way to access the real html code that was loaded previous to the permanent modifications Or this should work Documentation says Installation Add gem turbolinks to your Gemfile however adding that will install latest version instead of the latest version of turbolinksclassic Also README says that the dataturbolinkspermanent is available since but the latest version is what is Recently Safari decided that you can only pushState times After that pushState raises SecurityError DOM Exception Here is some more info about this change This patch adds error handling to the onload hook when Turbolinks receives a new page This way it will catch the pushState error I was able to reproduce the error locally and this patch fixed it for me Are you still taking patches for stable After adding this to my applicationjs js function TurbolinksProgressBarenable Most of my capybara specs failed with this javascript error although the progress bar worked when I ran the app TypeError undefined is not an object evaluating TurbolinksProgressBarenable I was able to fix it by using TurbolinksenableProgressBar instead Hello Im an intern from cdnjs I see that another library called turbolinks is already in cdnjs And I also want to add this library however I dont know which files I should pick Would you please tell me how to add your library or whether its necessary to add this library Thank you cc cdnjs DEPRECATION WARNING beforefilter is deprecated and will be removed in Rails Use beforeaction instead called from block levels in classEngine at Usersconnorrvmgemsruby gemsturbolinks libturbolinksrb DEPRECATION WARNING afterfilter is deprecated and will be removed in Rails Use afteraction instead called from block levels in classEngine at Usersconnorrvmgemsruby gemsturbolinks libturbolinksrb beforefilter and afterfilter should be updated for turbolinksclassic compatibility with Rails 