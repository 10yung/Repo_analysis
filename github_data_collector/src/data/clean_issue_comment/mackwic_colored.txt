It is showing numbers rather than color in this case blue Capture Though i have added controlsetvirtualterminaltrue in my source file Capture This change adds escape sequences to mark color codes so that GNU readline counts them properly I believe this would resolve NerdyPepperpista but I havent tried it This change breaks the tests which compare against the reference implementation ansiterm but all other unit tests pass For that reason this PR is a work in progress Im not sure if Ill get back around to finishing it but I wanted to share the progress to this point Thanks for your work on this crate See title I dont know if this is already possible using the current possibilities of const fn but setting a color on a constant string is definitely something I would expect to be possible Id expected to be able to push a coloured string into another but it loses the colour rust fn main let mut s Stringwithcapacity let msg blue spushstr msgblue println msgblue works println s no colour Is this supported Implements rust hellopalette nth colour of palette hellotruecolour true colour code hellohexcolour hex colour code 