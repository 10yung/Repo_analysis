i got error at that line wavspectrogram prettyspectrogramdataastypefloat fftsize fftsize stepsize stepsize log True thresh specthresh TypeError Traceback most recent call last ipythoninput d e bc fb b in module wavspectrogram prettyspectrogramdataastypefloat fftsize fftsize stepsize stepsize log True thresh specthresh ipythoninput d in prettyspectrogramd log thresh fftsize stepsize specgram npabsstftd fftsizefftsize stepstepsize realFalse computeonesidedTrue if log True ipythoninput d in stftX fftsize step meannormalize real computeonesided X Xmean X overlapX fftsize step size fftsize ipythoninput d in overlapX windowsize windowstep valid lena ws nw valid ss out npndarraynwwsdtype adtype for i in xrangenw TypeError float object cannot be interpreted as an integer after runing melspec makemelwavspectrogram melfilter shortenfactor shortenfactor I tried to plot mel spectrogram but some errors happening as follows plot the compressed spec fig ax pltsubplotsnrows ncols figsize cax axmatshowmelspec interpolationnearest aspectauto cmappltcmafmhot originlower figcolorbarcax plttitlemel Spectrogram Error in callback function installrepldisplayhooklocalspostexecute at x cc cf for postexecute ValueError Traceback most recent call last anaconda libpython sitepackagesmatplotlibpyplotpy in postexecute def postexecute if matplotlibisinteractive drawall IPython anaconda libpython sitepackagesmatplotlibpylabhelperspy in drawallcls force for fmgr in clsgetallfigmanagers if force or fmgrcanvasfigurestale fmgrcanvasdrawidle atexitregisterGcfdestroyall anaconda libpython sitepackagesmatplotlibbackendbasespy in drawidleself args kwargs if not selfisidledrawing with selfidledrawcntx selfdrawargs kwargs def drawcursorself event anaconda libpython sitepackagesmatplotlibbackendsbackendaggpy in drawself if toolbar toolbarsetcursorcursorsWAIT selffiguredrawselfrenderer A GUI class may be need to update a window using this draw so dont forget to call the superclass anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibfigurepy in drawself renderer mimagedrawlistcompositingimages renderer self artists selfsuppressComposite rendererclosegroupfigure anaconda libpython sitepackagesmatplotlibimagepy in drawlistcompositingimagesrenderer parent artists suppresscomposite if notcomposite or not hasimages for a in artists adrawrenderer else Composite any adjacent images together anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibaxesbasepy in drawself renderer inframe rendererstoprasterizing mimagedrawlistcompositingimagesrenderer self artists rendererclosegroupaxes anaconda libpython sitepackagesmatplotlibimagepy in drawlistcompositingimagesrenderer parent artists suppresscomposite if notcomposite or not hasimages for a in artists adrawrenderer else Composite any adjacent images together anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibimagepy in drawself renderer args kwargs else im l b trans selfmakeimage renderer renderergetimagemagnification if im is not None rendererdrawimagegc l b im anaconda libpython sitepackagesmatplotlibimagepy in makeimageself renderer magnification unsampled return selfmakeimage selfA bbox transformedbbox selfaxesbbox magnification unsampledunsampled def checkunsampledimageself renderer anaconda libpython sitepackagesmatplotlibimagepy in makeimageself A inbbox outbbox clipbbox magnification unsampled roundtopixelborder selfgetresample selfgetfilternorm or selfgetfilterrad or we are done with Ascaled now remove from namespace ValueError Unsupported dtype ValueError Traceback most recent call last anaconda libpython sitepackagesIPythoncoreformatterspy in callself obj pass else return printerobj Finally look for special method names method getrealmethodobj selfprintmethod anaconda libpython sitepackagesIPythoncorepylabtoolspy in lambdafig if png in formats pngformatterfortypeFigure lambda fig printfigurefig png kwargs if retina in formats or png x in formats pngformatterfortypeFigure lambda fig retinafigurefig kwargs anaconda libpython sitepackagesIPythoncorepylabtoolspy in printfigurefig fmt bboxinches kwargs bytesio BytesIO figcanvasprintfigurebytesio kw data bytesiogetvalue if fmt svg anaconda libpython sitepackagesmatplotlibbackendbasespy in printfigureself filename dpi facecolor edgecolor orientation format kwargs orientationorientation dryrunTrue kwargs renderer selffigurecachedRenderer bboxinches selffiguregettightbboxrenderer anaconda libpython sitepackagesmatplotlibbackendsbackendaggpy in printpngself filenameorobj args kwargs def printpngself filenameorobj args kwargs FigureCanvasAggdrawself renderer selfgetrenderer originaldpi rendererdpi anaconda libpython sitepackagesmatplotlibbackendsbackendaggpy in drawself if toolbar toolbarsetcursorcursorsWAIT selffiguredrawselfrenderer A GUI class may be need to update a window using this draw so dont forget to call the superclass anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibfigurepy in drawself renderer mimagedrawlistcompositingimages renderer self artists selfsuppressComposite rendererclosegroupfigure anaconda libpython sitepackagesmatplotlibimagepy in drawlistcompositingimagesrenderer parent artists suppresscomposite if notcomposite or not hasimages for a in artists adrawrenderer else Composite any adjacent images together anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibaxesbasepy in drawself renderer inframe rendererstoprasterizing mimagedrawlistcompositingimagesrenderer self artists rendererclosegroupaxes anaconda libpython sitepackagesmatplotlibimagepy in drawlistcompositingimagesrenderer parent artists suppresscomposite if notcomposite or not hasimages for a in artists adrawrenderer else Composite any adjacent images together anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibimagepy in drawself renderer args kwargs else im l b trans selfmakeimage renderer renderergetimagemagnification if im is not None rendererdrawimagegc l b im anaconda libpython sitepackagesmatplotlibimagepy in makeimageself renderer magnification unsampled return selfmakeimage selfA bbox transformedbbox selfaxesbbox magnification unsampledunsampled def checkunsampledimageself renderer anaconda libpython sitepackagesmatplotlibimagepy in makeimageself A inbbox outbbox clipbbox magnification unsampled roundtopixelborder selfgetresample selfgetfilternorm or selfgetfilterrad or we are done with Ascaled now remove from namespace ValueError Unsupported dtype Figure size x with Axes Output some stats of our file print join mel Spectrogram Size strnpshapemelspec print join Original Spectrogram Size strnpshapenptransposewavspectrogram print join Original Waveform Size strnpshapedata print join Length s strlendatafloatrate print join Original Sampling Rate ms str floatrate print join New Sampling Rate ms strfloatnpshapemelspec lendatafloatrate mel Spectrogram Size Original Spectrogram Size Original Waveform Size Length s Original Sampling Rate ms e New Sampling Rate ms melinvertedspectrogram meltospectrogrammelspec melinversionfilter specthreshspecthresh shortenfactorshortenfactor fig ax pltsubplotsnrows ncols figsize cax axmatshowmelinvertedspectrogram cmappltcmafmhot originlower aspectautointerpolationnearest figcolorbarcax plttitleInverted mel Spectrogram Text Inverted mel Spectrogram Error in callback function installrepldisplayhooklocalspostexecute at x cc cf for postexecute ValueError Traceback most recent call last anaconda libpython sitepackagesmatplotlibpyplotpy in postexecute def postexecute if matplotlibisinteractive drawall IPython anaconda libpython sitepackagesmatplotlibpylabhelperspy in drawallcls force for fmgr in clsgetallfigmanagers if force or fmgrcanvasfigurestale fmgrcanvasdrawidle atexitregisterGcfdestroyall anaconda libpython sitepackagesmatplotlibbackendbasespy in drawidleself args kwargs if not selfisidledrawing with selfidledrawcntx selfdrawargs kwargs def drawcursorself event anaconda libpython sitepackagesmatplotlibbackendsbackendaggpy in drawself if toolbar toolbarsetcursorcursorsWAIT selffiguredrawselfrenderer A GUI class may be need to update a window using this draw so dont forget to call the superclass anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibfigurepy in drawself renderer mimagedrawlistcompositingimages renderer self artists selfsuppressComposite rendererclosegroupfigure anaconda libpython sitepackagesmatplotlibimagepy in drawlistcompositingimagesrenderer parent artists suppresscomposite if notcomposite or not hasimages for a in artists adrawrenderer else Composite any adjacent images together anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibaxesbasepy in drawself renderer inframe rendererstoprasterizing mimagedrawlistcompositingimagesrenderer self artists rendererclosegroupaxes anaconda libpython sitepackagesmatplotlibimagepy in drawlistcompositingimagesrenderer parent artists suppresscomposite if notcomposite or not hasimages for a in artists adrawrenderer else Composite any adjacent images together anaconda libpython sitepackagesmatplotlibartistpy in drawwrapperartist renderer args kwargs rendererstartfilter return drawartist renderer args kwargs finally if artistgetaggfilter is not None anaconda libpython sitepackagesmatplotlibimagepy in drawself renderer args kwargs else im l b trans selfmakeimage renderer renderergetimagemagnification if im is not None rendererdrawimagegc l b im anaconda libpython sitepackagesmatplotlibimagepy in makeimageself renderer magnification unsampled return selfmakeimage selfA bbox transformedbbox selfaxesbbox magnification unsampledunsampled def checkunsampledimageself renderer anaconda libpython sitepackagesmatplotlibimagepy in makeimageself A inbbox outbbox clipbbox magnification unsampled roundtopixelborder selfgetresample selfgetfilternorm or selfgetfilterrad or we are done with Ascaled now remove from namespace ValueError Unsupported dtype Hi Tim vert useful and interesting job Unfortunately I got an error I cloned the git ran the example and after step ie after melspec makemelwavspectrogram melfilter shortenfactor shortenfactor got the following warning usrlocallibpython distpackagesscipyndimageinterpolationpy UserWarning From scipy the output shape of zoom is calculated with round instead of int for these inputs the size of the returned array has changed the returned array has changed UserWarning then at the following step ie after plot the compressed spec fig ax pltsubplotsnrows ncols figsize cax axmatshowmelspec interpolationnearest aspectauto cmappltcmafmhot originlower figcolorbarcax plttitlemel Spectrogram I got the following error message ValueError Traceback most recent call last usrlocallibpython distpackagesIPythoncoreformatterspyc in callself obj pass else return printerobj Finally look for special method names method getrealmethodobj selfprintmethod usrlocallibpython distpackagesIPythoncorepylabtoolspyc in lambdafig if png in formats pngformatterfortypeFigure lambda fig printfigurefig png kwargs if retina in formats or png x in formats pngformatterfortypeFigure lambda fig retinafigurefig kwargs usrlocallibpython distpackagesIPythoncorepylabtoolspyc in printfigurefig fmt bboxinches kwargs bytesio BytesIO figcanvasprintfigurebytesio kw data bytesiogetvalue if fmt svg usrlocallibpython distpackagesmatplotlibbackendbasespyc in printfigureself filename dpi facecolor edgecolor orientation format kwargs orientationorientation dryrunTrue kwargs renderer selffigurecachedRenderer bboxinches selffiguregettightbboxrenderer usrlocallibpython distpackagesmatplotlibbackendsbackendaggpyc in printpngself filenameorobj args kwargs def printpngself filenameorobj args kwargs FigureCanvasAggdrawself renderer selfgetrenderer originaldpi rendererdpi usrlocallibpython distpackagesmatplotlibbackendsbackendaggpyc in drawself try selffiguredrawselfrenderer finally RendererAgglockrelease usrlocallibpython distpackagesmatplotlibartistpyc in drawwrapperartist renderer args kwargs def drawwrapperartist renderer args kwargs beforeartist renderer drawartist renderer args kwargs afterartist renderer usrlocallibpython distpackagesmatplotlibfigurepyc in drawself renderer mimagedrawlistcompositingimages renderer self dsu selfsuppressComposite rendererclosegroupfigure usrlocallibpython distpackagesmatplotlibimagepyc in drawlistcompositingimagesrenderer parent dsu suppresscomposite if notcomposite or not hasimages for zorder a in dsu adrawrenderer else Composite any adjacent images together usrlocallibpython distpackagesmatplotlibartistpyc in drawwrapperartist renderer args kwargs def drawwrapperartist renderer args kwargs beforeartist renderer drawartist renderer args kwargs afterartist renderer usrlocallibpython distpackagesmatplotlibaxesbasepyc in drawself renderer inframe rendererstoprasterizing mimagedrawlistcompositingimagesrenderer self dsu rendererclosegroupaxes usrlocallibpython distpackagesmatplotlibimagepyc in drawlistcompositingimagesrenderer parent dsu suppresscomposite if notcomposite or not hasimages for zorder a in dsu adrawrenderer else Composite any adjacent images together usrlocallibpython distpackagesmatplotlibartistpyc in drawwrapperartist renderer args kwargs def drawwrapperartist renderer args kwargs beforeartist renderer drawartist renderer args kwargs afterartist renderer usrlocallibpython distpackagesmatplotlibimagepyc in drawself renderer args kwargs else im l b trans selfmakeimage renderer renderergetimagemagnification if im is not None rendererdrawimagegc l b im usrlocallibpython distpackagesmatplotlibimagepyc in makeimageself renderer magnification unsampled return selfmakeimage selfA bbox transformedbbox selfaxesbbox magnification unsampledunsampled def checkunsampledimageself renderer usrlocallibpython distpackagesmatplotlibimagepyc in makeimageself A inbbox outbbox clipbbox magnification unsampled roundtopixelborder A output t interpd selfgetinterpolation selfgetresample alpha selfgetfilternorm or selfgetfilterrad or if createdrgbamask ValueError dimensional arrays must be of dtype unsigned byte unsigned short float or float Would you please advice on how to solve this problem Thank you very much for your help 