 upgrade MKLDNN v to DNNL v add softmax backed by DNNL add value check tests Ref SINGA Hi this is not completely ready for merge pending to fix a testing error This change captures the exit code from the python unit tests This now results in a failed build as the tests cannot find the python c bindings This appears to be a conda pyenv issue and seems like the build python module isnt getting loading into the environment when traversing into the test directory save the package at given folder then we can upload using singatarbz suffixTRAVISJOBNUMBER TZAsiaSingapore date YmdHMS export CONDABLDPATHcondabldsuffix mkdir CONDABLDPATH conda build toolcondasinga python conda install uselocal singa cd testpython HOMEminicondabinpython runpy echo This causes a module import error and the tests fail Would like to debug however need access to the build agent to further investigate the best way of setting this up Building source as per from with the USEMODULESON flag pulls in protobuf and the compilation fails with message srccaffepbcc error MergeFromFail is not a member of googleprotobufinternal googleprotobufinternalMergeFromFailFILE LINE This is caused by the caffeproto file being built against the proto xx schema end emitting a c file with a call to MergeFromFail which was deprecated in the xx version of protobuf This is a temp message to show the compatibility requirements to get a functional build Full solution is to migrate to v protobuf or remove dependency entirely edit can remove caffe new class of pool SwapPool important APIs PoolOpt Malloc Free PoolOpt takes in MF seq including those induced by swapping crossiteration variables and last iteration case solved Add methods to resize images by given width and height named as resizebyhw resizebyhwlist resizebyhwrange Encapsulate original resize methods into scale methods