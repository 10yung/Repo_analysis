It looks like there is an issue with uploading data through TLS enabled listener Sometimes it worked for one or two files but reproducible it fails after some tries The http error code is im aware of UnitsGlobalSettings but that didnt helped TLS based configuration bash root varwwwdocroot script indexphp type php user someuser listeners xxxx pass routesapplication tls certificate selfsigned Simple PHP Script bash php ifissetFILES allowedExtensions bin errors tmpFileList FILES tmpname foreachtmpFileList as key tmpFilename fileext strtolowerendexplodeFILES name key ifinarrayfileextallowedExtensions false errors extension not allowed continue filesize FILES size key iffilesize errors File size must below MB moveuploadedfiletmpFilename tmpFILES name key ifemptyerrors printrerrors else echo Success html body form action method POST enctype multipartformdata input type file name image multiplemultiple input type submit form body html Could anybody please verify this behavior Hi It seems radixtree can be used to speeding the URI match Im wondering if this feature is in the plan If not can you take a time of checking its worth to do BTW Igor is very good at implementing such algorithms like redblacktree It will be very valuable Thanks VBart igorsysoev Implemented TLS based on the announcment v and the tutorial about SSLTLS and Certificates Configuration bash curl X GET unixsocket rununitcontrolsock certificates selfsigned key RSA bits chain subject commonname localhost issuer commonname localhost validity since Jan GMT until May GMT config applications application limits requests timeout options admin errorlog varwwwapplicationlogphplog errorreporting logerrors on memorylimit M openbasedir varwwwapplication postmaxsize M systempdir varwwwapplicationtmp uploadmaxfilesize M uploadtmpdir varwwwapplicationtmp processes idletimeout max spare root varwwwapplicationsourcepublic script indexphp type php user blahfoo listeners xxxx pass routesapplication tls certificate selfsigned routes application action share varwwwapplicationsourcepublic match uri css eot ico jpg js png svg xml ttf txt json woff woff action pass applicationsapplication This is working perfectly but the service restart via systemd failed bash alert the previous configuration is invalid Certificate selfsigned is not found Is there anything i missed inside the configuration itself or is there maybe a problem with saving the configuration Regards Daniel Static File Support is a GREAT feature I have a simple config and whenever there is a startup error with the application the next unit restart causes all applications and listeners to be lost curl yields listeners application helloworld applications helloworld type python processes user unit group unit path optunithelloworld module service For example the helloworld python app has an import error then when attempting to restart unit with sudo service restart unit or sudo etcinitdunit restart causes all applications and listeners to be lost unitlog alert Python failed to import module service notice process exited with code warn failed to start application dialogflowwebhook alert failed to apply new conf alert failed to apply previous configuration notice process exited with code Running curl then yields this listeners applications Running with unit version Linux system vanilla Alpine SMP Mon Mar UTC x Linux Hi The following operations can cause fegfault confjson listeners passroutes routes match uri action sharetmphtml curl X PUT d curl X PUT d Heres the patch Take a look please HG changeset patch User hongzhidao hongzhidaogmailcom Date Node ID fcb fba ab cd f be b b c b Parent e ac f faf cf a d eadebd eac b Fixed segfault happened in nxtconfopcompile diff r e ac f r fcb fba ab srcnxtconfc asrcnxtconfc Thu Dec bsrcnxtconfc Mon Dec default node NULL if parselast return NXTCONFOPNOTFOUND if parselast BTW how to run UNIT tests beside make tests May be it is not UNIT error ive set up Wordpress with this instruction but site have response with error code notice php message PHP Warning Unknown Filename cannot be empty in Unknown on line notice php message PHP Fatal error Unknown Failed opening required includepathusrsharephp in Unknown on line My wpconfigphp is php The base configuration for WordPress The wpconfigphp creation script uses this file during the installation You dont have to use the web site you can copy this file to wpconfigphp and fill in the values This file contains the following configurations MySQL settings Secret keys Database table prefix ABSPATH link package WordPress MySQL settings You can get this info from your web host The name of the database for WordPress define DBNAME wordpress MySQL database username define DBUSER web MySQL database password define DBPASSWORD SIFbic MySQL hostname define DBHOST localhost Database Charset to use in creating database tables define DBCHARSET utf The Database Collate type Dont change this if in doubt define DBCOLLATE Authentication Unique Keys and Salts Change these to different unique phrases You can generate these using the link WordPressorg secretkey service You can change these at any point in time to invalidate all existing cookies This will force all users to have to log in again since defineAUTHKEY x r m uJb ZIww OR jC t EU BwSt g Z xxvLs Q qx defineSECUREAUTHKEY OP yzIeNST jwqtmtq QdPzG lz R BuyTfgu N defineLOGGEDINKEY XYKAx kqJwRY O HUhcZEbmTWRZdXGkHd j ZYRok defineNONCEKEY tP UHm Bx x joLJ dAc jZ tn qKtdUN jovTr Ghs B defineAUTHSALT pGbyEZRiICidBfc VA N evppH X Gqra JZJBBkb defineSECUREAUTHSALT b lzrtJnjk Jpqzx BHl P VOCRYWdMjc o tN J defineLOGGEDINSALT gyaacNWX Dk XSOHNKtn Vxlmkwf IBfI JUV defineNONCESALT NWD N bnTPbbSQkOM b e I mO KU Jb WeO H fx WordPress Database Table prefix You can have multiple installations in one database if you give each a unique prefix Only numbers letters and underscores please tableprefix wp For developers WordPress debugging mode Change this to true to enable the display of notices during development It is strongly recommended that plugin and theme developers use WPDEBUG in their development environments For information on other constants that can be used for debugging visit the Codex link define WPDEBUG false Thats all stop editing Happy publishing Absolute path to the WordPress directory if defined ABSPATH define ABSPATH dirname FILE Sets up WordPress vars and included files requireonce ABSPATH wpsettingsphp My config is listeners pass routeswordpress pass routeswordpress pass routeswordpress routes wordpress match uri php php wpadmin action pass applicationswpdirect match uri wpadmin wpcontent wpincludes action share sitewordpress action pass applicationswpindex applications wpdirect type php user web group web root sitewordpress wpindex type php user web group web root sitewordpress script indexphp accesslog varlogaccesslog Please tell me what I am doing wrong Hi diff r e ac f srcnxthttprouteaddrc asrcnxthttprouteaddrc Thu Dec bsrcnxthttprouteaddrc Mon Dec return NXTADDRPATTERNFORMATERROR nxtinet addr inet start addrstart addrlength ret nxtinet addr inet start addrstart addrlength if nxtslowpathret NXTOK return NXTADDRPATTERNFORMATERROR goto parseport endif Its nice to see that unit have support proxy feature Is there any plan to support proxy websocket protocol so I can use Unit to dynamic proxy my application Hi It looks like Unit doesnt have this capability yet This would be useful in the following cases Limiting TLS version to and Prioritizing bit ciphers over bit Limiting available ciphers Hi It looks like Unit doesnt support ECDSA certificate yet Heres what it looks like in the console and the log when I tried to upload one sudo curl X PUT databinary certificatepath certificatename pem unixsocket runcontrolunitsock error Invalid certificate info discovery started notice module php ubuntu usrlibunitmodulesphpunitso info controller started notice process exited with code info router started info OpenSSL Sep f alert unsupported PEM type EC PARAMETERS 