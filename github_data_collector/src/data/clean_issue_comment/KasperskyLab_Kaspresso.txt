Force kaspresso check version of adb server for compatibility If not compatible then report current and compatible version and fail test on first request to adb server Stacktrace EUiDevice failed to save screen shot to file javaioFileNotFoundException storageemulated screenshotscomkasperskykaspressamplesimpletestsSimpleTesttest SimpleTeststep png open failed ENOENT No such file or directory at libcoreioIoBridgeopenIoBridgejava Additional information screenshot with the error Added snapshots Need to configure CircleCI and Webhooks before merge Telegram Kaspresso AdbServer support RU API View Espresso Idling Resource flakySafely isVisible before after run View ViewNotFoundException Idling Idle IdlingResource KView class MainActivityScreen ScreenMainActivityScreen IdlingmaxWaitMillis val moreBtn KButton withIdRidbtnmore waitmaxWaitMillis Test fun mainActivityTest mainActivityScreen moreBtn waitmaxWaitMillis click wait moreBtnIdle View isEnabled waitFor waitForState waitState assert KView KButton matcher assert Test fun mainActivityTest mainActivityScreen moreBtn waitmaxWaitMillis Idling waitFormaxWaitMillis isEnabled click waitFormaxWaitMillis withTextRstringnewbtntext moreBtn isEnabled Rstringnewbtntext API Hello I am trying to implement Kaspresso in my project but i have conflicts with core annotations library FAILURE Build failed with an exception What went wrong Execution failed for task corecheckDebugAndroidTestDuplicateClasses exception was raised by workers javalangRuntimeException Duplicate class orgintellijlangannotationsIdentifier found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstants found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsAdjustableOrientation found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsBoxLayoutAxis found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsCalendarMonth found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsCursorType found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsFlowLayoutAlignment found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsFontStyle found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsHorizontalAlignment found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsInputEventMask found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsListSelectionMode found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsPatternFlags found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsTabLayoutPolicy found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsTabPlacement found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsTitledBorderJustification found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsTitledBorderTitlePosition found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsJdkConstantsTreeSelectionMode found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsLanguage found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsMagicConstant found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsPattern found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsPrintFormat found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsPrintFormatPattern found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsRegExp found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgintellijlangannotationsSubst found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgjetbrainsannotationsNls found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgjetbrainsannotationsNonNls found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgjetbrainsannotationsNotNull found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgjetbrainsannotationsNullable found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgjetbrainsannotationsPropertyKey found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations Duplicate class orgjetbrainsannotationsTestOnly found in modules adbserverdevice jar comkasperskyandroidcomponentsadbserverdevice and annotations jar comintellijannotations I have tried to exclude orgjetbrainsannotations module from kaspresso dependency in implementing dependency process but it couldnt help Please give me the way how i can resolve that My gradle code dependencies androidTestImplementation librariesjunitAndroid androidTestImplementation librarieskaspresso excludegroup comintellij module annotations androidTestImplementation librariesespressoCore androidTestImplementation librariesuiAutomator androidTestImplementation librarieskakao androidTestImplementation librariesespressoWeb androidTestImplementation librariesespressoContrib androidTestImplementation librariesespressoIntents dependenciesgradle junitAndroid androidxtestextjunit kaspresso comkasperskyandroidcomponentskaspresso espressoCore androidxtestespressoespressocore uiAutomator androidxtestuiautomatoruiautomator kakao comagodakakaokakao espressoWeb androidxtestespressoespressoweb espressoContrib androidxtestespressoespressocontrib espressoIntents androidxtestespressoespressointents The simplest thing can be done to avoid the appearance of autofill dialog is to call contextgetSystemServiceAutofillManagerclassjavadisableAutofillServices before the test starts This can be done via implementing the DefaultTestRunWatcherInterceptor which will make such a call before every test devicekeyboardtypeText throws comkasperskykaspressointernalexceptionsAdbServerException commandinput text was performed with failed resultCommandResultstatusFAILED descriptionexitCode message tested with kaspresso emulator Pixel API typetext item androidididmenusearch androidtitlestringapplrch appactionViewClassandroidxappcompatwidgetSearchView androidimeOptionsactionSearch appshowAsActionalways Very often there is a need to extend BaseTextContext and put in the extended version some custom classes 