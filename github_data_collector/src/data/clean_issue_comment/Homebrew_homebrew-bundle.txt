Running cleanup then cleanup force then cleanup again to make sure it worked I keep getting this error but only on the run just after cleanup force also seems like its not actually cleaning up since those packages are still around after the force Id expect herokunode to stay because heroku demands it but the others should be gone or have similar warnings brew bundle cleanup Would uninstall formulae libgpgerror libksba zlib herokubrewherokunode Would untap homebrewcask brew bundle cleanup force Error Refusing to uninstall usrlocalCellarherokunode because it is required by heroku which is currently installed You can override this and force removal with brew uninstall ignoredependencies libgpgerror libksba zlib herokubrewherokunode Uninstalled formulae Untapping homebrewcask Untapped command and casks files MB brew bundle cleanup Cloning into usrlocalHomebrewLibraryTapshomebrewhomebrewcask warning templates not found in Userskatedonaldsongittemplates remote Enumerating objects done remote Counting objects done remote Compressing objects done remote Total delta reused delta packreused Receiving objects MiB MiBs done Resolving deltas done Error unexpected token at Tapping homebrewcask Tapped command and casks files MB tokendockername Docker DesktopDocker Community EditionDocker CE homepage prefixbindockerbrew prefixbindockercomposebrew prefixbindockercredentialdesktopbrew prefixbindockercredentialosxkeychainbrew prefixbindockermachinebrew prefixbinhyperkitbrew prefixbinkubectlbrew prefixbinkubectldockerbrew prefixbinnotarybrew prefixbinvpnkit launchctl comdockerhelpercomdockervmnetd quitcomdockerdockersignal Dockerapp trash brew prefixbindockercomposebackupbrew prefixbindockermachinebackupbrew prefixbindockerbackupLibraryApplication ScriptscomdockerhelperLibraryCachesKSCrashReportsDockerLibraryCachescomdockerdockerLibraryCachescomplausiblelabscrashreporterdatacomdockerdockerLibraryContainerscomdockerdockerLibraryContainerscomdockerhelperLibraryGroup ContainersgroupcomdockerLibraryPreferencescomdockerdockerplist rmdir LibraryCachesKSCrashReportsLibraryCachescomplausiblelabscrashreporterdata signal caveatsnulldependsonconflictswithnullcontainernullautoupdatestruetokengooglebackupandsyncname Google Backup and Sync homepage and Syncapp trash LibraryApplication ScriptscomgoogleGoogleDriveFinderSyncAPIExtensionLibraryApplication SupportGoogleDriveLibraryCachescomgoogleGoogleDriveLibraryContainerscomgoogleGoogleDriveFinderSyncAPIExtensionLibraryCookiescomgoogleGoogleDrivebinarycookiesLibraryGroup ContainersgoogledriveLibraryPreferencescomgoogleGoogleDriveplist signal caveatsAlthough googlebackupandsync may be installed alongside googledrivefilestream you should not use the same account with both n n Chrome homepage Chromeapp trash LibraryCachescomgoogleSoftwareUpdateLibraryGoogleGoogle Chrome BrandplistLibraryGoogleGoogleSoftwareUpdateLibraryApplication SupportGoogleChromeLibraryApplication SupportcomapplesharedfilelistcomappleLSSharedFileListApplicationRecentDocumentscomgooglechromeappsflLibraryApplication SupportcomapplesharedfilelistcomappleLSSharedFileListApplicationRecentDocumentscomgooglechromesflLibraryCachesGoogleChromeLibraryCachescomgoogleChromeLibraryCachescomgoogleChromehelperLibraryCachescomgoogleKeystoneLibraryCachescomgoogleKeystoneAgentLibraryCachescomgoogleSoftwareUpdateLibraryGoogleGoogle Chrome BrandplistLibraryGoogleGoogleSoftwareUpdateLibraryLaunchAgentscomgooglekeystoneagentplistLibraryLogsGoogleSoftwareUpdateAgentlogLibraryPreferencescomgoogleChromeplistLibraryPreferencescomgoogleKeystoneAgentplistLibrarySaved Application StatecomgoogleChromeappsavedStateLibrarySaved Application StatecomgoogleChromesavedStateLibraryWebKitcomgoogleChrome rmdir LibraryGoogleLibraryApplication SupportGoogleLibraryCachesGoogleLibraryGoogle signal caveatsnulldependsonmacos conflictswithcask googlechromebetagooglechromedev containernullautoupdatestruetokeniterm name iTerm homepage SupportiTermLibraryApplication SupportiTerm LibraryApplication SupportcomapplesharedfilelistcomappleLSSharedFileListApplicationRecentDocumentscomgooglecodeiterm sflLibraryCachescomgooglecodeiterm LibraryPreferencescomgooglecodeiterm plistLibrarySaved Application Statecomgooglecodeiterm savedState signal caveatsnulldependsonmacos conflictswithnullcontainernullautoupdatestruetokenjavaname OpenJDK Java Development Kit homepage Pkg caveatsnulldependsonconflictswithnullcontainernullautoupdatesnulltokenposticoname Postico homepage ScriptsateggerappsPosticoLibraryContainersateggerappsPosticoLibraryPreferencesateggerappsPosticoplistLibrarySaved Application StateateggerappsPosticosavedState signal caveatsnulldependsonconflictswithnullcontainernullautoupdatesnulltokenslackname Slack homepage ScriptscomtinyspeckslackmacgapLibraryApplication SupportcomapplesharedfilelistcomappleLSSharedFileListApplicationRecentDocumentscomtinyspeckslackmacgapsflLibraryApplication SupportSlackLibraryCachescomtinyspeckslackmacgapLibraryCachescomtinyspeckslackmacgapShipItLibraryContainerscomtinyspeckslackmacgapLibraryContainerscomtinyspeckslackmacgapSlackCallsServiceLibraryCookiescomtinyspeckslackmacgapbinarycookiesLibraryGroup ContainerscomtinyspeckslackmacgapLibraryGroup ContainersslackLibraryPreferencescomtinyspeckslackmacgaphelperplistLibraryPreferencescomtinyspeckslackmacgapplistLibrarySaved Application StatecomtinyspeckslackmacgapsavedState signal caveatsnulldependsonconflictswithnullcontainernullautoupdatestruetokenvisualstudiocodename Microsoft Visual Studio CodeVS Code homepage Studio Codeapp ApplicationsVisual Studio CodeappContentsResourcesappbincode trash LibraryApplication SupportCodeLibraryApplication SupportcomapplesharedfilelistcomappleLSSharedFileListApplicationRecentDocumentscommicrosoftvscodesflLibraryCachescommicrosoftVSCodeLibraryCachescommicrosoftVSCodeShipItLibraryPreferencescommicrosoftVSCodehelperplistLibraryPreferencescommicrosoftVSCodeplistLibrarySaved Application StatecommicrosoftVSCodesavedStatevscode signal caveatsnulldependsonconflictswithnullcontainernullautoupdatestrue Please report this bug SystemLibraryFrameworksRubyframeworkVersions usrlibruby jsoncommonrb in parse SystemLibraryFrameworksRubyframeworkVersions usrlibruby jsoncommonrb in parse usrlocalHomebrewLibraryTapshomebrewhomebrewbundlelibbundlecaskdumperrb in formuladependencies usrlocalHomebrewLibraryTapshomebrewhomebrewbundlelibbundlecommandscleanuprb in formulaetouninstall usrlocalHomebrewLibraryTapshomebrewhomebrewbundlelibbundlecommandscleanuprb in run usrlocalHomebrewLibraryTapshomebrewhomebrewbundlecmdbrewbundlerb in top required SystemLibraryFrameworksRubyframeworkVersions usrlibruby rubygemscoreextkernelrequirerb in require SystemLibraryFrameworksRubyframeworkVersions usrlibruby rubygemscoreextkernelrequirerb in require usrlocalHomebrewLibraryHomebrewutilsrb in require usrlocalHomebrewLibraryHomebrewbrewrb in main brew bundle cleanup Would uninstall formulae libgpgerror libksba zlib herokubrewherokunode Would untap homebrewcask brew bundle cleanup Would uninstall formulae libgpgerror libksba zlib herokubrewherokunode Would untap homebrewcask It would be nice for brew bundle to include subcommands to installuninstall packages while keeping corresponding Brewfile uptodate Something similar to the addremove functionality in bundler or npm Is this feature significant enough to be considered for inclusion If its not highenough priority would a PR be accepted Motivation While brew bundle is great keeping a Brewfile updated independent of the normal brew installation procedure is tediouserrorprone It is especially painful when trying to maintain a consistent environment across multiple machines A personal usecase when testing new tools I tend to install and then quickly remove them once I decide they dont meet my needs Im inconsistent remembering once I decide to keep them to also update my global Brewfile The environments on my machines tend to slowly diverge Proposal Add two subcommands to brew bundle sh brew bundle add packagename brew bundle remove packagename Any brew bundle options would be applied to map to the correct Brewfile The rest of the options could be passed through to the root installuninstall commands Alternatives Add npmlike savebrewfile and saveglobal options to brew install Surfaces brew bundle functionality to more users Its great but hardtodiscover right now Cant think of an unsurprising way for brew uninstall to clean up the correct Brewfile Toplevel commands now require a plugin inverts control Use installuninstall instead of addremove to maintain core brew jargon Install already has a different meaning for brew bundle Doesnt signal the Brewfile mutation as well as addremove 