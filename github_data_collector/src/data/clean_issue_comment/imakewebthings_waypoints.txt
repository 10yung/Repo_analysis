I have a sticky header which receives a class as soon as the user scrolls past another element On safari and iOS it is so jumpy and jittery its unusable I read that position sticky and the waypoints plugin dont go well together so I separated them that the sticky wrapper doesnt act as a waypoint listener html div classsiteNavi div classtriggerWrapper div classlayoutHolder The navigation links div div div div classcontent All content of the website If I scroll past here waypointsjs adds a class to the triggerWrapper div My js code if siteNavilength var nailElement content var triggerElement triggerWrapper var waypoint new Waypoint element documentgetElementsByClassNamenailElement handler function direction if direction down triggerElementaddClasstriggered if direction up triggerElementremoveClasstriggered consolelogBasic waypoint triggered Direction direction offset css content position relative siteNavi position sticky position webkitsticky backfacevisibility hidden webkitbackfacevisibility hidden top width height px backgroundcolor b zindex Can I optimize this in any way The class triggered is added to triggerWrapper which has no css directives so I think positionsticky is out of the equation no Thanks Caleb for putting this library together its really great How can I programmatically scroll to a waypoint Im highlighting the text in the middle of the screen javascript waypointeachfunctionindex element const waypoint new Waypoint element element offset handler e let el this let text elfirst expandremoveClassexpand get the text span dialogue element let dialogElement elfinddialoguetextaddClassexpand Ive been trying to use the jqueryscrollto plugin but running into issues with webpack so figured Id ask here just in case theres an easy way to do it Youve obviously done a lot of work with the scrolling and positioning events Thanks Or how to pass script overload from ms to ms in Script Evaluation at lighthouse I was faced with very low lighthouse ratings mainly because of waypoints script My application runs close to waitpoints on one page The way that waypoint is coded does not help any application to be responsible with lot of waypoint Here is the main problem waypoint can not know when the page has finished loading all the waypoints of the current page so each time it calculates the value of a waypoint it displays and recalculates and redisplay all previous waypoints already calculated here the result of the process calculn waypointcalcul n waypoint calculn waypoint Contextprototypeadd function waypoint var axis waypointoptionshorizontal horizontal vertical thiswaypoints axis waypointkey waypoint thisrefresh refresh for one and all previous waypoint added my solution for now is to comment thisrefresh in add Contextprototypeadd function waypoint var axis waypointoptionshorizontal horizontal vertical thiswaypoints axis waypointkey waypoint thisrefresh no more refresh in added waypoint and trigger manually WaypointrefreshAll to calculate all waypoint points stored in memory Because the developper know better than a script where the refresh should to be start its important to put that in a manual form As well i removed horizontal axis so i could again divide the computation by not a lot of application need to watch horizontal scroll The best will be to add an manual option and add an option strict to avoid horizontal computation As well store the innerwidth outerwidth element in memory avoid some reflowding to be refreshed in resize Yeah this script seems to be not maintained this is shame because lot of wordpress theme and jQuery stuff use it I think better to pass to other one if this is not resolved or make some hack like me im lazy to change my code for IntersectionObserver by example Use case I use isotopescript coupled to waypoint here all element isotope are computed in a loop only one call to refresh display them eachitems function val var elInner valchildrentinside if elInnerhasClassanimatewhenalmostvisible elInnerhasClassforceanim new Waypoint element val handler function var element thiselementchildrentinside currentIndex parentindex elementshow thisdestroy offset index WaypointrefreshAll This is likely a user error but I am trying to prevent the direction updirection down from triggering unless its from the top of the page NOT the default which is the top of the window The reason for this is because if someone refreshes the page the animation runs again and overlaps content I have the issue documented here However nobody seems to know the answer to this and Im not sure where else to look Thank you if you have any insight Currently if I scroll through my site waypoints appears to be working correctly but if I scroll up and down too much features that are meant to fade out stay visible Im sure there is a more concise way of doing this but here is my code so far var inviewOne new WaypointInview element one enter functiondirection ifdirection down messageOnefadeInInSpeed else messageOnefadeOut entered function exit functiondirection ifdirection down messageOnefadeOutOutSpeed else messageOnefadeInUpSpeed exited functiondirection if direction down else messageOnefadeOutUpSpeed var inviewTwo new WaypointInview element two enter functiondirection ifdirection down messageTwofadeInInSpeed map fadeInInSpeed else messageTwofadeOutOutSpeed map fadeOutOutSpeed entered function exit functiondirection if direction down messageTwofadeOutOutSpeed else messageTwofadeInInSpeed exited functiondirection if direction down else messageTwofadeOutOutSpeed map fadeOutOutSpeed var inviewThree new WaypointInview element three enter functiondirection if direction down messageThreefadeInInSpeed map fadeOutOutSpeed map fadeInInSpeed else messageThreefadeOutOutSpeed map fadeInInSpeed map fadeOutOutSpeed entered function exit functiondirection if direction down messageThreefadeOutOutSpeed else messageThreefadeInInSpeed exited functiondirection if direction down else messageThreefadeOutOutSpeed var inviewFour new WaypointInview element four enter functiondirection ifdirection down messageFourfadeInInSpeed map fadeOutOutSpeed else messageFourfadeOutOutSpeed map fadeInInSpeed entered function exit functiondirection ifdirection down messageFourfadeOutOutSpeed else messageFourfadeInInSpeed else map fadeOutOutSpeed exited functiondirection if direction down else messageFourfadeOutOutSpeed Failed to download imakewebthingswaypoints from dist The file could not be downloaded HTTP Found Now trying to download from source Installing imakewebthingswaypoints Cloning releasestag releasestag is gone history was rewritten Check out my page wwwpicturepunchescom I load waypoint once the page is loaded and every time the user reach to the bottom I want waypoint to excute once everytime it reaches a point But the problem is that it execute twice once new content in loaded via ajax Can anyone help When using waypoints in combination with internal anchors like a hrefmyanchor the anchor link is not scolling to the correct point of the a namemyanchor But if you scroll through the whole document first and trigger all waypoint elements then the anchor links works as expected and scrolls to a namemyanchor Somehow the height of waypoint elements doesnt have the correct height before they are triggered elmwaypointfunction elmdelay fadeTo offset Unfortunately it has not been updated for a long time This solution saved my project as all the solutions I implemented before did not work fine on mobile devices My question however is can anyone share a sample php script to load more data from mysql database on the main page Thanks