 SUMMARY Describe the change including rationale and design decisions I was having issues running the initial database migrations on an empty database awxmanage migrate noinput from the installer on the ansibletowermanagement pod was failing with psycopg OperationalError root certificate file redacted does not exist Providing the expected directory when the variable is set resolves this This is the exact syntax that the CA path gets passed into the webtask containers in deploymentymlj If you are fixing an existing issue please include related nnn in your commit message and your description but you should still explain what the change does ISSUE TYPE Pick one below and delete the rest Bugfix Pull Request COMPONENT NAME Name of the modulepluginmoduletask Installer AWX VERSION Paste verbatim output from make VERSION between quotes below awx ADDITIONAL INFORMATION Include additional information to help people understand the change here For bugs that dont have a linked bug report a stepbystep reproduction of the problem is helpful Paste verbatim command output below eg before and after your change kind of annoying that pythonmemcached doesnt expose a logger that does this but whatever SUMMARY Updates VariablesField to check the initial value and sets mode to JSON or YAML accordingly addresses ISSUE TYPE Bugfix Pull Request COMPONENT NAME UI ISSUE TYPE Feature Idea SUMMARY Currently when you specify an scm branch for a job template launch the template will launch with the correct code but if the inventory is sourced from a project it will always sync with the branch specified in the project itself If the inventory between the two branches is different this can cause issues with the job launch by pulling the correct branch for the project itself but the incorrect branch for the inventory ISSUE TYPE Bug Report SUMMARY The Sparkline in HostDetailsInventoryHostDetails does not navigate correctly ENVIRONMENT AWX version AWX install method docker for mac Ansible version Operating System Mojave Web Browser Chrome STEPS TO REPRODUCE Host click on host that has jobs Click on an item in the spark line EXPECTED RESULTS Navigate to the correct job output page ACTUAL RESULTS Broken url ADDITIONAL INFORMATION At Host Details jobs does not have jobtype and we need it to correctly build the url ISSUE TYPE Pick one below and delete the rest Bug Report COMPONENT NAME Pick the area of AWX for this issue you can have multiple delete the rest API UI SUMMARY We are using AWX We defined a project named DEPLOYDEV for this project we allowed branch override and we have not specified any branch We defined a job template DEPLOYDEVAUTO this job template ask for branch on launch which will point to the branch SCM where we have our playbook and our inventory We defined an invenotry named INVENTORYDEV this inventory is supposed to point to the same branch SCM as job template on run Expected Behaviour When we launch a job based on job template DEPLOYDEVAUTO and specify branch V DEPLOYDEV and INVENTORYDEV should be synchronized with branch V then the job is launched Actual Behaviour When we launch a job based on job template DEPLOYDEVAUTO and specify branch V DEPLOYDEV is synchronized with branch V INVENTORYDEV is synchronized with master since the field branch in project is empty it fails which is normal since its looking for inventory in master branch We dont want to put anything in branch field for project since we have a new branch for every job so a new inventory and a new playbook ENVIRONMENT AWX version ISSUE TYPE Bug Report SUMMARY This is closely related to since that time now the postgresdb module of ansible has the maintenancedb option but its missing from the usrbinlaunchawxtasksh script The problem is the same as in the previous ticket when an external postgres db is used it will try to connect first to the postgres db as its the default of the maintenancedb variable bash source etctowerconfdenvironmentsh bash ANSIBLEREMOTETEMPtmp ANSIBLELOCALTEMPtmp ansible i c local v m postgresqldb becomeuser DATABASEUSER a nameDATABASENAME ownerDATABASEUSER loginuserDATABASEUSER loginhostDATABASEHOST loginpasswordDATABASEPASSWORD portDATABASEPORT all Using etcansibleansiblecfg as config file An exception occurred during task execution To see the full traceback use vvv The error was OperationalError FATAL no pghbaconf entry for host user awxtest database postgres SSL off FAILED ansiblefacts discoveredinterpreterpython usrbinpython changed false msg unable to connect to database FATAL no pghbaconf entry for host user awxtest database postgres SSL off n ENVIRONMENT AWX version AWX install method docker on linux Ansible version Operating System Centos Web Browser NA STEPS TO REPRODUCE Set an external postgresql server in the environmentsh config file DATABASEUSERawxtest DATABASENAMEawxtest DATABASEHOSTXXXXX DATABASEPORT DATABASEPASSWORDXXXXX Start the awxweb containers EXPECTED RESULTS The reconfiguration of the containers is done without problems ACTUAL RESULTS The initial reconfiguration will fail as it cant connect to the maintenancedb postgres by default ADDITIONAL INFORMATION Possible Solution Following file should be changed installerrolesimagebuildfileslaunchawxsh From ANSIBLEREMOTETEMPtmp ANSIBLELOCALTEMPtmp ansible i c local v m postgresqldb becomeuser DATABASEUSER a nameDATABASENAME ownerDATABASEUSER loginuserDATABASEUSER loginhostDATABASEHOST loginpasswordDATABASEPASSWORD portDATABASEPORT all To ANSIBLEREMOTETEMPtmp ANSIBLELOCALTEMPtmp ansible i c local v m postgresqldb becomeuser DATABASEUSER a nameDATABASENAME ownerDATABASEUSER loginuserDATABASEUSER loginhostDATABASEHOST loginpasswordDATABASEPASSWORD portDATABASEPORT maintenancedbDATABASENAME all Or define a DATABASEMAINTENANCEDB variable in environmentsh and make it to default to the database name Thanks ISSUE TYPE Bug Report SUMMARY Briefly describe the problem ENVIRONMENT AWX version latest Operating System RHEL Web Browser Google ChromeFirefox STEPS TO REPRODUCE Please describe exactly how to reproduce the problem Create a new Job Template Create a new survey Launch the template Select disabled in the survey drop down menu Now go back to Other Prompts menu Press Next Check that update system is set to disabled instead of enabled see EXPECTED RESULTS What did you expect to happen when running the steps above The updatesystem variable should show disabled as weve selected disabled in dropdown ACTUAL RESULTS What actually happened The updatesystem is showing enabled which is the default answer instead of showing disabled which is choosen in drop down ADDITIONAL INFORMATION Include any links to sosreport database dumps screenshots or other information Now go back to OTHER PROMPTS and then come back to Survey ISSUE TYPE Bug Report SUMMARY Briefly describe the problem Detail Move fields around to match mockup Add Created and Last Modified Details These fields are missing from summaryfields Well need to get them added by the api in order to show them This will require some discussion with UXAPI team Form Move form fields around to match the mockup Org lookup should be the last form field item Current Form img width altScreen Shot at PM src Mockup Form img width altScreen Shot at PM src ADDITIONAL INFORMATION User Response Data id type user url apiv users related namedurl apiv usersjtadmin teams apiv users teams organizations apiv users organizations adminoforganizations apiv users adminoforganizations projects apiv users projects credentials apiv users credentials roles apiv users roles activitystream apiv users activitystream accesslist apiv users accesslist tokens apiv users tokens authorizedtokens apiv users authorizedtokens personaltokens apiv users personaltokens summaryfields usercapabilities edit true delete true created T Z username jtadmin firstname lastname email issuperuser false issystemauditor false ldapdn lastlogin null externalaccount null auth ISSUE TYPE Feature Idea SUMMARY Users List Denote that a user comes from an external source ie LDAP as a tag next to the username Search filter by external type need to check with api team on this Currently not filterable img width altScreen Shot at PM src User Detail Denote that a user comes from an external source ie LDAP as a tag under Type detail label img width altScreen Shot at PM src User Form Username field is required if user is not from an external source Password field should be hidden if user is from external source ldapradiussocial auth users For reference see angular tower users form 