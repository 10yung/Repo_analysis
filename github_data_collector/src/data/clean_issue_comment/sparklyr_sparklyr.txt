This PR adds a wrapper for DatasetdropDuplicates method It can be used for efficient deduplication of records when particular choice of row doesnt matter roughly equivalent to r distinctiris Species keepall TRUE with plain dataframe which doesnt seem to play well with sparklyr r distinctiristbl Species keepall TRUE Error Can only find distinct value of specified columns if keepall is FALSE Additionally it has special meaning for streaming datasets Reporting an Issue with sparklyr For general programming questions with sparklyr please ask on Stack Overflow instead Please briefly describe your problem and when relevant the output you expect Please also provide the output of utilssessionInfo or devtoolssessioninfo at the end of your post If at all possible please include a minimal reproducible example The sparklyr team will be much more likely to resolve your issue if they are able to reproduce it themselves locally If possible try generating a reproducible example using the reprex package Please delete this preamble after you have read it your brief description of the problem r sparkversion sc sparkconnectmaster local version sparkversion your reproducible example here r sc sparkconnectmaster local version preview packages delta Error in if version stopDelta Lake requires Spark or newer missing value where TRUEFALSE needed In addition Warning message In maxversions greplversion versions fixed TRUE no nonmissing arguments returning NA See Is it possible to get my kerberos ticket inside an sparkapply loop I would like to read data from impalakudu after applying some R functionality to my input Currently I am able to move the implyr package and the impala jdbc driver towards my sparkapply session but not the kerberos ticket I cannot find anywhere whether this is possible or not If this is possible this would truly extend the possibilities of sparklyr as one can combine data from multiple tables on the cluster without going forth and back from spark to R My code structure would look like this kinit in terminal of RStudio start up spark session result sparkapplysc df functionx libraryimplyr do some data manipulation using x using R functions construct an impala query based on the outcomes of the data manipulation Create impala connection named impalacon currently this fails because I have no kerberos ticket impaladata dbGetQueryimpalacon query Do some further manipulations returnresult packages TRUE Thanks for the help Hi are there plans to include lift as part of mlfpgrowth in Sparklyr Hi Im not sure if this is already supported but I was not able to find it therefore this feature request It would be nice to define sliding windows on a stream This seems to be possible when using pyspark Group the data by window and word and compute the count of each group windowedCounts wordsgroupBy windowwordstimestamp minutes minutes wordsword count Im not aware of an equivalent of the window function within sparklyr In the pyspark example the desired measure is calculated every seconds over a sliding window of seconds When suppressing the intercept in mllinearregression using the fitintercept F parameter the returned object does not display the coefficients in the expected way The coefficients are there in the model object but it seems like one of the summarization steps is not behaving correctly probably due to the null intercept Setup r librarydplyr Attaching package dplyr The following objects are masked from packagestats filter lag The following objects are masked from packagebase intersect setdiff setequal union librarysparklyr sparkversion sc sparkconnectmaster local version sparkversion copy mtcars into spark mtcarstbl copytosc df mtcars overwrite TRUE This works as expected r fit LM with intercept fitwithintercept mtcarstbl mllinearregressionmpg wt cyl fitintercept TRUE param set to TRUE default Works as expected fitwithintercept summary Deviance Residuals Min Q Median Q Max Coefficients Intercept wt cyl RSquared Root Mean Squared Error This does not work correctly Should return NULL for the coefficients r fit LM without intercept fitwithoutintercept mtcarstbl mllinearregressionmpg wt cyl fitintercept FALSE param set to FALSE Does not return coefficients fitwithoutintercept summary Deviance Residuals Min Q Median Q Max Coefficients NULL RSquared Root Mean Squared Error Coefficients seem to be missing in fit object fitwithoutinterceptcoefficients NULL Coefficients are there just not pulled into the summary part of the fit object r But coefficients do exist in the model object within the fit object fitwithoutinterceptmodelcoefficients The coefficients in the model object appear to be the correct coefs when compared to the regular inmemory lmfit lmdata mtcars formula mpg wt cyl coef wt cyl supCreated on by the reprex package v sup details summarySession infosummary r devtoolssessioninfo Session info setting value version R version os Red Hat Enterprise Linux system x linuxgnu ui X language EN collate enUSUTF ctype enUSUTF tz AmericaChicago date Packages package version date lib source askpass CRAN R assertthat CRAN R backports CRAN R base enc CRAN R callr CRAN R cli CRAN R config CRAN R crayon CRAN R DBI CRAN R dbplyr CRAN R desc CRAN R devtools CRAN R digest CRAN R dplyr CRAN R ellipsis CRAN R evaluate CRAN R fansi CRAN R forge CRAN R fs CRAN R generics CRAN R glue CRAN R highr CRAN R htmltools CRAN R htmlwidgets CRAN R httr CRAN R jsonlite CRAN R knitr CRAN R magrittr CRAN R memoise CRAN R openssl CRAN R pillar CRAN R pkgbuild CRAN R pkgconfig CRAN R pkgload CRAN R prettyunits CRAN R processx CRAN R ps CRAN R purrr CRAN R r d CRAN R R CRAN R rappdirs CRAN R Rcpp CRAN R remotes CRAN R rlang CRAN R rmarkdown CRAN R rprojroot CRAN R rstudioapi CRAN R sessioninfo CRAN R sparklyr CRAN R stringi CRAN R stringr CRAN R testthat CRAN R tibble CRAN R tidyselect CRAN R usethis CRAN R withr CRAN R xfun CRAN R yaml CRAN R optnfs rlibsreadonlybleed homeNCIWINtwellsRlibrary usrlib Rlibrary usrshareRlibrary details First time submitting an github issue Please let me know if Ive botched anything Hello Quick question I got these parameters in my random forest in caret gridexpandgridmtry c splitrule cgini minnodesize RFFirstNorm trainIsCommercial data train method ranger trControl cvcntrltuneGridgrid numtrees importance permutation How can I translate these parameter to the random forest in Sparklyr And another question will be mininstancespernode sets the depth in the tree as same as minnodesize in R random forest Why maxdepth in sparklyr random forest does not allow me to put values Thank you Regards I am fetching twieets from twitter api and loading the data into hive using sparklyr Problem I am facing with arabic text In hive text are displaying in non readable format for arabic text eg TomeiTech HCTUAE u u u u u a u u u u u u u u u a u a u a u a u c U f d u ufe f u ufe f So I added SyssetlocaleLCALL enUSUTF In my R scripts now it displaying arabic text from r cmd when I printTomeiTech HCTUAE U f d But loading data into sparklyr using copyto gives this error from R CMD simpleError javaniocharsetMalformedInputException Input length I am surprised same code works with Rstudio perfectly But I need to schedule the r script from Rcmd Please help me fixing this issue here is my working code with Rstudio but not working with R cmd librarysparklyr libraryrtweet name assigned to created app appname RtSentiment api key example below is not a real key key xxxxxx secret xxxxxx accesstoken xxxxxxxx accesssecret xxxxxxx twittertoken createtoken app appname consumerkey key accesstoken accesstoken accesssecret accesssecret consumersecret secret SyssetlocaleLCALL enUSUTF hcthndtwt searchtweetsq HCTUAE n type recentuntilSysDate Use spark to load data in hive SyssetenvSPARKHOME optclouderaparcelsCDHlibspark systemexport KRB CCNAMEtmpkrb ccinfabdmtwitter systemkinit p infabdmADHCTACAE k t homeruserinfabdmkeytab Spark R config config sparkconfig configsparkexecutorcores configsparkexecutormemory G sc sparkconnectmaster yarnclient config config version hcthndtwt copytosc hcthndtwt hcthndtwtoverwrite TRUE DBIdbGetQuerysc create table rsocialmediahcthandletweetsd STORED AS PARQUET as SELECT FROM hcthndtwt 