Please ensure the following before submitting a PR x if suggesting code changes or improvements open an issue first x for all but trivial changes eg typo fixes add your name to DESCRIPTION x for all but trivial changes eg typo fixes documentation your change in NEWSmd with a parenthetical reference to the issue number being addressed Will add entry in the final version of this currently draft PR if changing documentation edit files in R not man and run devtoolsdocument to update documentation No documentation changes x add code or new test files to tests for any new functionality or bug fix x make sure R CMD check runs without error before submitting the PR This is a draft PR because like the others it depends on first being merged Once is merged I will start working to apply the approach demonstrated here to the other havensupported formats unless I receive feedback that for some reason I should not do this Once complete this will address the issue raised in as well as any or at least most new arguments haven might add in the future Please ensure the following before submitting a PR x if suggesting code changes or improvements open an issue first This is related to closed issues and but is a cleaner refactoring of those solutions x for all but trivial changes eg typo fixes add your name to DESCRIPTION for all but trivial changes eg typo fixes documentation your change in NEWSmd with a parenthetical reference to the issue number being addressed No changes visible to enduser if changing documentation edit files in R not man and run devtoolsdocument to update documentation No changes x add code or new test files to tests for any new functionality or bug fix x make sure R CMD check runs without error before submitting the PR This is a draft PR for the same reason that is its contingent on Please ensure the following before submitting a PR if suggesting code changes or improvements open an issue first x for all but trivial changes eg typo fixes add your name to DESCRIPTION for all but trivial changes eg typo fixes documentation your change in NEWSmd with a parenthetical reference to the issue number being addressed My changes should be invisible except that errors caused by unknown arguments are prevented if changing documentation edit files in R not man and run devtoolsdocument to update documentation importdelim is not exported and its usage has not been altered add code or new test files to tests for any new functionality or bug fix All tests continue to pass x make sure R CMD check runs without error before submitting the PR Closes and in the process shortens importdelim by letting argreconcile handle both the mapping and filtering of arguments all importdelim has left to do is converting sep and header if either of them are equal to auto This is submitted as a draft request because it depends on which is still under review I wanted to provide a usecase for Hello I noticed csvgz is not loaded via datatable while datatable now natively reads gzipped files Is there a reason for it Also can I suggest adding support for qs qs provides fast serialization for R objects and is even faster than fst The huge plus is that it works for ALL types so it should really replace rds as it does the same thing but much better Regards Please ensure the following before submitting a PR x if suggesting code changes or improvements open an issue first closes and maybe x for all but trivial changes eg typo fixes add your name to DESCRIPTION x for all but trivial changes eg typo fixes documentation your change in NEWSmd with a parenthetical reference to the issue number being addressed x if changing documentation edit files in R not man and run devtoolsdocument to update documentation x add code or new test files to tests for any new functionality or bug fix x make sure R CMD check runs without error before submitting the PR An argreconcile function to generically remap and deduplicate arguments for the function specified as its first argument Please specify whether your issue is about a possible bug a question about package functionality x a suggested code or documentation change improvement to the code or feature request Please specify whether your issue is about a possible bug a question about package functionality x a suggested code or documentation change improvement to the code or feature request I would like to volunteer to fix actually I meant to submit a PR after I posted it but got busy with a few other things Looking over it I see an opportunity to simplify the individual import and export functions and make them more maintainable Namely generalizing the args args intersectargsformalsfn pattern in the function sketched out below not yet thoroughly tested just proof of concept While were at it we could include additional safeguards removing duplicate arguments and unnamed arguments and remapping certain argument names This function could safely be run on all underlying functions if they dont need argument filtering because they have among their formals they would still benefit from remapping and protection against duplication to which functions are particularly vulnerable otherwise I am not proposing to cut over all the functions at once I am proposing to use this for fixing current and future unknownargument bugs as they are noticed Possibly updating and testing and already patched functions such as in and individually as time permits I understand reluctance to introduce an upstream dependency on RutilsDoCall which has similar functionality The below code only uses base R So if this is acceptable I would like to submit this as a PR and follow that one with a PR that actually closes Put your code here R Adapt an argument list to a function excluding arguments that will not be recognized by it redundant arguments and unnamed arguments param fn A function to which an argument list needs to be adapted param An arbitrary list of named arguments unnamed ones will be ignored param args A list or codealist of named arguments to be merged with code param docall If set to codeTRUE will not only clean up the arguments but also execute codefn with those arguments codeFALSE by default param remap An optional named character vector or named list of character values for standardizing arguments that play the same role but have different names in different functions param warn Whether to issue a warning message default when invalid arguments need to be discarded return Either a named list or the result of calling codefn with the supplied arguments examples argreconcilepadjustblaaaabazxzzzn qc remap cqp argreconcileimportfilehellocsvfilegoodbyecsv blaaaabazxzzzformatcsv argreconcile functionfnargsalistdocallFALSE remaplist warnTRUE capture the formal arguments of the target function frmls formalsfn capture the arguments both freeform and an explicit list args clistargs get rid of duplicate arguments forii in namesargs if sumdupe namesargs in ii args seqalongargs dupe whichTRUEdupe NULL if any remappings of one argument to another are specified perform them for ii in namesremap if remap ii in namesargs ii in namesargs args remap ii args ii remove any unnamed arguments args namesargs NULL if the target function doesnt have as an argument check to make sure only recognized arguments get passed optionally with a warning if in namesfrmls unused setdiffnamesargsnamesfrmls if lengthunused warn warningThe following arguments were ignored for substitutefn n pasteunused collapse args args intersectnamesargsnamesfrmls the final cleanedup arguments either get used on the function or returned as a list depending on how docall is set if docall returndocallfnargs else returnargs This is analogous to previously implemented enhancements from issues and except now its for rioimportdelim ie crosschecking the arguments passed via against the arguments understood by datatablefread so that there is a warning instead of an error when an unsupported argument is passed If a PR is welcome for this I will try to submit one this week Please specify whether your issue is about a possible bug a question about package functionality x a suggested code or documentation change improvement to the code or feature request If you are reporting a bug or a question about code please supply a fully reproducible example using a publicly available dataset or provide your data if an error is occurring include the output of traceback run immediately after the error occurs the output of sessionInfo Put your code here R load package libraryrio librarydatasets code goes here exportirisiristxt foo importirisiristxt foo Error in freaddec foo input iristxt sep auto unused argument foo detailssummarytracebacksummary pre docallfread dots at importmethodsR importdelimfile file sep sep fread fread dec dec at importmethodsR importriotsvfile file at extensionsR importfile file at importR importiristxt foo pre details detailssummarysession info for your systemsummary pre R version Platform x pclinuxgnu bit Running under Ubuntu LTS Matrix products default BLAS usrlibopenblasbaselibblasso LAPACK usrliblapackliblapackso locale LCCTYPEenUSUTF LCNUMERICC LCTIMEenUSUTF LCCOLLATEenUSUTF LCMONETARYenUSUTF LCMESSAGESenUSUTF LCPAPERenUSUTF LCNAMEC LCADDRESSC LCTELEPHONEC LCMEASUREMENTenUSUTF LCIDENTIFICATIONC attached base packages stats graphics grDevices utils datasets methods base other attached packages rio testthat loaded via a namespace and not attached zip Rcpp cellranger compiler pillar prettyunits forcats remotes tools zeallot digest pkgbuild pkgload memoise tibble pkgconfig rlang openxlsx cli rstudioapi curl yaml haven withr desc fs vctrs devtools hms rprojroot glue datatable R processx readxl foreign sessioninfo callr magrittr backports ps ellipsis usethis assertthat crayon pre details Im not super keen on trying to parse with every imaginable import function That might produce some kind of unanticipated weird behavior if one of those underlying functions changes to start supporting different kind of file or if we add future functionality that changes the deterministic order of import attempts We could add a separate function that does that though like tryimport Originally posted by leeper in Im watching a series of related issues and PRs here re The tidyverserlib packages are using the ellipsis package for similar functionality in case that holds any interest Yes it would be a dependency But it would also eliminate the need to grow your own solution here YMMV Originally posted by jennybc in 