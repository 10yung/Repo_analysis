There are two members in Version first and second There are many places where we need to print one Version object and compare two Version objects but in the current code these two members are accessed directly which makes the code very tedious This patch mainly do Adds overloaded methods for operator for Version so we can directly print a Version object Adds the cantains method to determine whether it is an containment relationship Uses operator to determine if two Version objects are equal Because there are too many places need to be modified there are still some naked codes left which will be modified later This patch also removes some necessary header file references No functional changes in this patch Is your feature request related to a problem Please describe old show function syntax can only show function that user defined and not support filter to find function fast which is not convenient for new doris user to use builtin functions or user defined functions Describe the solution youd like Support show functions syntax like following SHOW FULL BUILTIN FUNCTIONS IN FROM DB LIKE FUNCTIONPATTERN And Support following Example to help user know how to use function DESCDESCRIBE FUNCTION DB FUNCTIONNAME mysql show builtin functions in test like year Function Name year yearsadd yearsdiff yearssub rows in set sec mysql show full builtin functions in test like year Signature Return Type Function Type Intermediate Type Properties yearDATETIME INT Scalar NULL symbolZN doris TimestampFunctions yearEPN dorisudf FunctionContextERKNS DateTimeValEobjectfilemd yearsaddDATETIMEINT DATETIME Scalar NULL symbolZN doris TimestampFunctions yearsaddEPN dorisudf FunctionContextERKNS DateTimeValERKNS IntValEobjectfilemd yearsdiffDATETIMEDATETIME BIGINT Scalar NULL symbolZN doris TimestampFunctions yearsdiffEPN dorisudf FunctionContextERKNS DateTimeValES objectfilemd yearssubDATETIMEINT DATETIME Scalar NULL symbolZN doris TimestampFunctions yearssubEPN dorisudf FunctionContextERKNS DateTimeValERKNS IntValEobjectfilemd rows in set sec mysql And describe function year will return the example about how to use function this syntax is like sparksql or imapala syntax which is more friendly for user fast know how to use functions one example is like following DESC FUNCTION max functiondesc Function max Class orgapachesparksqlcatalystexpressionsaggregateMax Usage maxexpr Returns the maximum value of expr Part of This PR reformat exprs modules with the following command find besrcexprs type f name h or name hpp or name cpp or iname cc xargs clangformat i stylefile I have disabled clangformat on full or part of the following files in order to minimize diff size besrcexprsaggfncc besrcexprsaggfnh besrcexprsaggregatefunctionscpp besrcexprsbinarypredicatecpp besrcexprsbinarypredicateh besrcexprsbitmapfunctioncpp besrcexprsdecimalv operatorsh besrcexprsmathfunctionscpp besrcexprsmathfunctionsh besrcexprsnewaggfnevaluatorcc besrcexprsnewaggfnevaluatorh besrcexprsstringfunctionsh Part of This PR reformat exec modules with the following command find besrcexec type f name h or name hpp or name cpp or iname cc xargs clangformat i stylefile I have disabled clangformat on full or part of the following files in order to minimize diff size besrcexecesespredicatecpp besrcexecesesquerybuildercpp besrcexecesesscrollparsercpp besrcexecesscannodecpp besrcexeckuduscannodecpp besrcexeckuduscannodeh besrcexeckuduscannercpp besrcexecnewpartitionedaggregationnodecc besrcexecnewpartitionedaggregationnodeh besrcexecnewpartitionedaggregationnodeircc besrcexecnewpartitionedhashtablecc besrcexecnewpartitionedhashtableh besrcexecnewpartitionedhashtableinlineh besrcexecorcscannercpp besrcexecparquetreadercpp besrcexecparquetscannercpp besrcexecpartitionedhashtablecc besrcexecschemascannerschemacolumnsscannercpp besrcexecschemascannerschematablesscannercpp Part of This PR reformat agent codegen common env modules with the following command find besrcagent besrccodegen besrccommon besrcenv type f name h or name hpp or name cpp or iname cc xargs clangformat i stylefile I have disabled clangformat on full or part of the following files in order to minimize diff size besrcagentagentservercpp besrcagentcgroupsmgrcpp besrccodegencodegenanyvalcpp besrccommonconfigh besrccommonconfigbaseh besrccommonloggingh Now that Doris has clangformat thanks to to help code formatting and standardize C code style lets reformat all BE code and integrate code style check into the CI This has been requested before and now I think is the time to do it I plan to accomplish the goal by the following steps Refine clangformat so that the style rules are set based on the most popular choice in Doris so that we can minimize the diffs with existing code the differences between Doriss style and Googles is made clear Reformat code by modules and control each PRs size to make it reviewable During the process Ill check each file and use clangformat off to disable formatting on certain files if the diff would otherwise be too large Add automatically style check using github actions fix typo a typo in gitingore customenvsh customenvsh remove a tmp file generated by ut Describe the bug When export job timeout export job wont finish still exporting state To Reproduce Steps to reproduce the behavior create table and load data export with timeout property wait timeout WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages touch rootincubatordorisgensrcthriftbuildjavaMetaStoreServicetm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftHeartbeatServicethrift touch rootincubatordorisgensrcthriftbuildjavaHeartbeatServicetm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftDdlthrift touch rootincubatordorisgensrcthriftbuildjavaDdltm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftPartitionsthrift touch rootincubatordorisgensrcthriftbuildjavaPartitionstm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftDescriptorsthrift touch rootincubatordorisgensrcthriftbuildjavaDescriptorstm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftAgentServicethrift WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages touch rootincubatordorisgensrcthriftbuildjavaAgentServicetm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftStatusthrift touch rootincubatordorisgensrcthriftbuildjavaStatustm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftRuntimeProfilethrift touch rootincubatordorisgensrcthriftbuildjavaRuntimeProfiletm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftMetricDefsthrift touch rootincubatordorisgensrcthriftbuildjavaMetricDefstm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftPaloServicethrift touch rootincubatordorisgensrcthriftbuildjavaPaloServicetm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftDorisExternalServicethrift touch rootincubatordorisgensrcthriftbuildjavaDorisExternalServicetm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftMetricsthrift touch rootincubatordorisgensrcthriftbuildjavaMetricstm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftPlannerthrift WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages touch rootincubatordorisgensrcthriftbuildjavaPlannertm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftNetworkTestthrift touch rootincubatordorisgensrcthriftbuildjavaNetworkTesttm varlocalthirdpartyinstalledbinthrift I rootincubatordorisgensrcthrift I rootincubatordorisgensrcthriftbuildthrift gen java out rootincubatordorisgensrcthriftbuildjava rootincubatordorisgensrcthriftBackendServicethrift WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPlanNodesthrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages WARNINGrootincubatordorisgensrcthriftPaloInternalServicethrift bit constant may not work in all languages touch rootincubatordorisgensrcthriftbuildjavaBackendServicetm make Leaving directory rootincubatordorisgensrcthrift Build Backend The CXX compiler identification is GNU The C compiler identification is GNU Check for working CXX compiler usrbinbing Check for working CXX compiler usrbinbing works Detecting CXX compiler ABI info Detecting CXX compiler ABI info done Detecting CXX compile features Detecting CXX compile features done Check for working C compiler usrbinbingcc Check for working C compiler usrbinbingcc works Detecting C compiler ABI info Detecting C compiler ABI info done Detecting C compile features Detecting C compile features done Build type is RELEASE Build target arch is x make test OFF defined PICLIBPATH build gensrc if necessary make Entering directory rootincubatordorisgensrc make C script make Entering directory rootincubatordorisgensrcscript rootincubatordorisgensrcscriptgenbuildversionsh make Leaving directory rootincubatordorisgensrcscript make C proto make Entering directory rootincubatordorisgensrcproto make Nothing to be done for all make Leaving directory rootincubatordorisgensrcproto make C thrift make Entering directory rootincubatordorisgensrcthrift make Nothing to be done for all make Leaving directory rootincubatordorisgensrcthrift make Leaving directory rootincubatordorisgensrc Looking for pthreadh Looking for pthreadh found Looking for pthreadcreate Looking for pthreadcreate not found Looking for pthreadcreate in pthreads Looking for pthreadcreate in pthreads not found Looking for pthreadcreate in pthread Looking for pthreadcreate in pthread found Found Threads TRUE Boost version Found the following Boost libraries thread regex filesystem system datetime programoptions chrono atomic varlocalthirdpartyinstalledliblibboostthreadavarlocalthirdpartyinstalledliblibboostregexavarlocalthirdpartyinstalledliblibboostfilesystemavarlocalthirdpartyinstalledliblibboostsystemavarlocalthirdpartyinstalledliblibboostdatetimeavarlocalthirdpartyinstalledliblibboostprogramoptionsavarlocalthirdpartyinstalledliblibboostchronoavarlocalthirdpartyinstalledliblibboostatomica CMake Error at CMakeListstxt message Could not find clang Configuring incomplete errors occurred See also rootincubatordorisbebuildCMakeFilesCMakeOutputlog See also rootincubatordorisbebuildCMakeFilesCMakeErrorlog docker add file descriptor cache for segment v to solve too many open file problems Issue 