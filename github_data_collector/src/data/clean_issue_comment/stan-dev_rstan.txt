 Summary The naming scheme used to reconstruct the stanfit object in readstancsv is different than the original rstansampling output details closed summary span titleClick to Expand shredderratdata span summary r N T x y A tibble x day day day day day int int int int int xbar details br details closed summary span titleClick to Expand systemfileratsstanpackageshredder span summary stan data intlower N intlower T real x T real y NT real xbar parameters real alpha N real beta N real mualpha real mubeta betac in original bugs model reallower sigmasqy reallower sigmasqalpha reallower sigmasqbeta transformed parameters reallower sigmay sigma in original bugs model reallower sigmaalpha reallower sigmabeta sigmay sqrtsigmasqy sigmaalpha sqrtsigmasqalpha sigmabeta sqrtsigmasqbeta model mualpha normal mubeta normal sigmasqy invgamma sigmasqalpha invgamma sigmasqbeta invgamma alpha normalmualpha sigmaalpha vectorized beta normalmubeta sigmabeta vectorized for n in N for t in T y nt normalalpha n beta n x t xbar sigmay generated quantities real alpha alpha mualpha xbar mubeta details br r libraryshredder libraryrstan Loading required package StanHeaders Loading required package ggplot rstan Version GitRev e f d ca For execution on a local multicore CPU with excess RAM we recommend calling optionsmccores paralleldetectCores To avoid recompilation of unchanged Stan programs we recommend calling rstanoptionsautowrite TRUE junk captureoutput verbose doesnt work in reprex fit rstanstan file systemfileratsstanpackageshredder data shredderratdataverbose FALSE Warning There were transitions after warmup that exceeded the maximum treedepth Increase maxtreedepth above See Warning Examine the pairs plot to diagnose sampling problems Warning The largest Rhat is indicating chains have not mixed Running the chains for more iterations may help See Warning Bulk Effective Samples Size ESS is too low indicating posterior means and medians may be unreliable Running the chains for more iterations may help See Warning Tail Effective Samples Size ESS is too low indicating posterior variances and tail quantiles may be unreliable Running the chains for more iterations may help See m stanmodelsystemfileratsstanpackageshredder td filepathtempdirtest dircreatetd junk captureoutput verbose doesnt work in reprex f samplingm data shredderratdatasamplefile filepathtdsampverbose FALSE fromcsv rstanreadstancsvlistfilestdfullnames TRUE classfromcsv stanfit attrpackage rstan classfit stanfit attrpackage rstan namesfromcsvsimsamples alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta mualpha mubeta sigmasqy sigmasqalpha sigmasqbeta sigmay sigmaalpha sigmabeta alpha lp namesfitsimsamples alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha alpha beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta beta mualpha mubeta sigmasqy sigmasqalpha sigmasqbeta sigmay sigmaalpha sigmabeta alpha lp Rversionstring R version packageVersionrstan detailsdetailssessioninfosessioninfosummary R Session Info details closed summary span titleClick to Expand R Session Info span summary r Session info setting value version R version os macOS Mojave system x darwin ui X language EN collate enUSUTF ctype enUSUTF tz AmericaNewYork date Packages package version date lib source assertthat CRAN R backports CRAN R callr CRAN R checkmate CRAN R cli CRAN R clipr CRAN R codetools CRAN R colorspace CRAN R crayon CRAN R desc Github rlibdesc f details local digest CRAN R dplyr CRAN R evaluate CRAN R fansi CRAN R ggplot CRAN R glue Github tidyverseglueb ffe c gridExtra CRAN R gtable CRAN R highr CRAN R htmltools CRAN R httr CRAN R inline CRAN R knitr CRAN R lazyeval CRAN R lifecycle CRAN R loo CRAN R magrittr CRAN R matrixStats CRAN R munsell CRAN R pillar CRAN R pkgbuild CRAN R pkgconfig CRAN R png CRAN R prettyunits CRAN R processx CRAN R ps CRAN R purrr CRAN R R CRAN R Rcpp CRAN R rematch CRAN R rlang CRAN R rmarkdown CRAN R rprojroot CRAN R rstan CRAN R scales CRAN R sessioninfo CRAN R shredder local StanHeaders CRAN R stringi CRAN R stringr CRAN R tibble CRAN R tidyselect CRAN R withr CRAN R xfun CRAN R xml CRAN R yaml CRAN R LibraryFrameworksRframeworkVersions Resourceslibrary details br supCreated on by the reprex package v sup Summary When supplying a list of lists for initialization and specifying chains the st element is not used and the th element is duplicated Reproducible Steps libraryrstan binormalmodel stanmodelbinormalstan inits listlisttheta c listtheta c listtheta c listtheta c its fit samplingbinormalmodel init inits chains iter its control liststepsize e seed draws extractfit permuted FALSE incwarmup TRUE pars ctheta df dataframetheta draws theta draws df dataframetheta draws theta draws df dataframetheta draws theta draws df dataframetheta draws theta draws traceplot traceplotfit incwarmup TRUE libraryggplot traceplot d ggplotdf aesx theta y theta geompathdata df color red geompathdata df color yellow geompathdata df color blue geompathdata df color green Current Output The first init is not used and the fourth init is used twice Heres the traceplot and the D traceplot tp tp d Expected Output The four inits given to be used RStan Version sessionInfo R version Platform x appledarwin bit Running under macOS Matrix products default BLAS LibraryFrameworksRframeworkVersions ResourcesliblibRblas dylib LAPACK LibraryFrameworksRframeworkVersions ResourcesliblibRlapackdylib locale enUSUTF enUSUTF enUSUTF CenUSUTF enUSUTF attached base packages stats graphics grDevices utils datasets methods base other attached packages rstan ggplot StanHeaders loaded via a namespace and not attached Rcpp pillar compiler plyr bindr prettyunits base enc tools digest pkgbuild tibble gtable pkgconfig rlang cli parallel loo bindrcpp gridExtra withr dplyr stats grid tidyselect glue inline R processx callr purrr magrittr scales ps codetools matrixStats assertthat colorspace labeling lazyeval munsell crayon Dear Stan developers In the rstan installationfromsource page for Windows when it comes to installing Rtools it says Note that it is NOT necessary to change the path anymore Unfortunately on my system Windows this is not true and the paths should be added It took me a good part of the day to find the problem Summary Passing a string or model code to the fit argument results in an error about the wrong algorithm being used rather than the wrong argument Description As discovered by a user on the forum When calling stanfit stancode where stancode is a string rather than stanfit object the model compiles and then returns an error about needing to use the fixedparam algorithm This doesnt make it clear the problem is with the argument to stan and not the choice of sampler Reproducible Steps libraryrstan stancode data real ymean parameters real y model y normalymean out stanfit stancodedatalistymean SAMPLING FOR MODEL bcc cf bedf b a e NOW CHAIN Error in samplercallsamplerargslist i Must use algorithm Fixedparam for model that has no parameters error occurred during calling the sampler sampling not done RStan Version R Version R version Operating System Windows Summary Upon running a misspecified model in stan I get no output and my RStudio no longer prints any error messages Description and Reproducible Steps Im new to Stan pivoting from JAGS and trying to learn how get my syntax right For a toy example lets look at the code below librarydatatable libraryrstan rmlistls chains warm iterations exampledata datatablehhsizemeanc hhsizesec nllinmeanc nllinsec populationc datalist caslistexampledata listN nrowexampledata surveymodelstring data int N reallower hhsizemean N reallower hhsizese N reallower nllinmean N reallower nllinse N real population N parameters reallower hh N reallower avgllin N reallower llincount N model hh normalhhsizemean hhsizese avgllin normalnllinmean nllinse fori in N llincount i avgllin i population i hh i surveyprepmodel stanmodelcodesurveymodelstring warmupwarm data datalist chainschains iteriterations verbose T Im sure theres something wrong with my Stan code What I would expect upon running the stan function is to see an error message with some description of where things are going wrong Instead my call to stan prints the following and no more TRANSLATING MODEL dabf abd c e f bc b c d FROM Stan CODE TO C CODE NOW Even though the stan call does not throw an error no surveyprepmodel object is saved to my environment Strangely all RStudio error messages are suppressed as well Executing commands such as printnonexistentobject or nonexistentfunction prints no error to the console I have to quit and restart RStudio in order to see error messages again Running eg printexamplestring or packageVersionrstan works as expected so it is only errors that are suppressed This bug may be related to this issue but this model is very small so I wouldnt expect any memory issues RStan Version R Version Operating System As described here Ive already worked through the fixes associated with having Catalina installed Thanks for your help It would be nice be able to set openprogress globally inside options instead that having to set it up in every call While I can do formalsstanopenprogress FALSE I cant do it with sampling for example that is called by brms See also Pairsstanfit doesnt seem to allow me to add sampler diagnostics such as energy to the plotted parameters via argument pars This would be very useful Rstan version R version Windows Summary installpackagesrstan does not compile Description Call to g appears to be truncated during compilation resulting in a o targets call without the necessary g prefix Reproducible Steps I am running R on a Ubuntu system My RMakevars looks like this CXX FLAGSO marchnative mtunenative CXX g stdc y Wnounusedvariable Wnounusedfunction fPIC I start R and execute installpackagesrstan I dont have steps to reproduce the entire state of my system Current Output templatetypename class autoptr o rstanso chainso pointertoolso inito stanco misco sparseextractorso stanlangastdefo stanlanggrammarsprogramgrammarinsto stanlanggrammarsexpressiongrammarinsto stanlanggrammarsstatementgrammarinsto stanlanggrammarsexpression grammarinsto stanlanggrammarsstatement grammarinsto stanlanggrammarsblockvardeclsgrammarinsto stanlanggrammarstermgrammarinsto stanlanggrammarsindexesgrammarinsto stanlanggrammarssemanticactionsdefo stanlanggrammarswhitespacegrammarinsto stanlanggrammarsbaretypegrammarinsto stanlanggrammarslocalvardeclsgrammarinsto stanlanggrammarsfunctionsgrammarinsto LusrlibRlib lR binbash line o command not found usrshareRsharemakeshlibmk recipe for target rstanso failed Previous steps in the compilation process look fine and work eg g stdc y Wnounusedvariable Wnounusedfunction fPIC stdc y IusrshareRinclude DNDEBUG Iinstinclude truncated Expected Output Id expect the call to begin with g along with the supplied arguments RStan Version Attempting to install R Version Operating System Ubuntu Summary For the OpenCL code we need access to the OpenCL header below Can we include that file in StanHeaders Im not sure if there are any packages in CRAN that have that file already Summary Standalone generated quantities via qgs dont work with transformed parameters Description See this discourse topic Using transformed parameters leads to error Wrong number of parameter values in draws from fitted model Expecting columns found columns which I guess comes from stansrcstanservicessamplestandalonegqshpp Reproducible Steps libraryrstan rstanoptionsautowrite TRUE optionsmccores paralleldetectCores sc transformed data vector y parameters real mu real logsigma transformed parameters reallower sigma explogsigma model y normalmu sigma mu normal logsigma normal sm stanmodelmodelcode sc post samplingsm scgq parameters real mu real logsigma transformed parameters reallower sigma explogsigma generated quantities vector yrep for i in yrep i normalrngmu sigma smgq stanmodelmodelcode scgq rep gqssmgq draws asmatrixpost rep Current Output Wrong number of parameter values in draws from fitted model Expecting columns found columns Inference for Stan model a ef f bf c chains each with iter warmup thin postwarmup draws per chain total postwarmup draws mean semean sd neff Rhat yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN yrep NaN NaN NaN Samples were drawn using at Tue Nov For each parameter neff is a crude measure of effective sample size and Rhat is the potential scale reduction factor on split chains at convergence Rhat Expected Output Inference for Stan model bdf c b af ed b cc a ea chains each with iter warmup thin postwarmup draws per chain total postwarmup draws mean semean sd neff Rhat yrep yrep yrep yrep yrep yrep yrep yrep yrep yrep Samples were drawn using at Tue Nov For each parameter neff is a crude measure of effective sample size and Rhat is the potential scale reduction factor on split chains at convergence Rhat RStan Version packageVersionrstan R Version Rversionstring R version Operating System Win Pro SP 