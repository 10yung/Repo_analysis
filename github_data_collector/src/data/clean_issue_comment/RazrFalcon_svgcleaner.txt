While encountering issue I noticed svgcleaner returns code even if failed which makes it difficult to do error handling in scripts svgcleaner fails to minify SVG files generated by gnuplot with error Error failed to resolved attribute stroke Here is an example of such file svgcleaner Inputsvgtxt Outputsvgtxt resolveuse should ignore height width as suggested in Input Inputsvgtxt xml xml version encodingUTF standaloneno svg height mm viewBox width mm xmlns xmlnsxlink defs image ida height preserveAspectRationone width xlinkhref dataimagesvgxmlbase PD bWwgdmVyc lvbj iMS wIiBlbmNvZGluZz idXRmLTgiIHN YW kYWxvbmU InllcyIPgo bGU Iml YWxpYyIgeD iMzU IiB PSIxNzYiPlRpbWU L RleHQCjwvc ZnPgo image idb height imagerenderingoptimizeSpeed preserveAspectRationone width xlinkhref dataimagepngbase iVBORw KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAACXBIWXMAAA EAAAOxAGVKw bAAAg jr rAAAAAElFTkSuQmCC defs use height width xlinkhrefa use height width xlinkhrefb svg Input Output Outputsvgtxt xml svg height mm viewBox width mm xmlns xmlnsxlink image height preserveAspectRationone width xlinkhrefdataimagesvgxmlbase PD bWwgdmVyc lvbj iMS wIiBlbmNvZGluZz idXRmLTgiIHN YW kYWxvbmU InllcyIPgo bGU Iml YWxpYyIgeD iMzU IiB PSIxNzYiPlRpbWU L RleHQCjwvc ZnPgo image height imagerenderingoptimizeSpeed preserveAspectRationone width xlinkhrefdataimagepngbase iVBORw KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAACXBIWXMAAA EAAAOxAGVKw bAAAg jr rAAAAAElFTkSuQmCC svg Output Copyright no permission author unknown assuming source PNG from SVG from svgcleaner inputsvgtxt outputsvgtxt allowbiggerfile indent same as in Input xml xml version encodingUTF svg height viewBox width xmlns xmlnsxlink defs path ida dm strokenone radialGradient idb fx fy stop offset stopcolorfff stop offset stopcolorfff stopopacity radialGradient g idc strokenone circle r circle fillurlb r g defs g strokelinecapround strokelinejoinround transformtranslate use height stroke strokewidth width xlinkhrefc g strokewidth g fillf strokef use height transformtranslate width xlinkhrefc use height transformmatrix width xlinkhrefa g g fill f stroke f use height transformtranslate width xlinkhrefc use height transformmatrix width xlinkhrefa g use fill c height stroke c transformtranslate width xlinkhrefc use fillf height strokef transformtranslate width xlinkhrefc g g svg inputsvgtxt input Output outputsvgtxt output Differences Screenshot from Copyright Author License Source svgcleaner Inputsvgtxt Outputsvgtxt indent removeinvisibleelements yes removes some linearGradient which are constant colour maybe similar to Input Inputsvgtxt Input Output Southafrica is missing Outputsvgtxt Output Differences Screenshot Screenshot details summaryCopyright CCBYSA by Aquintero and TheAwesomeHwyhsummary Author Original PNG version by Aquintero new but broken SVG by TheAwesomeHwyh Lizense CCBYSA source details Now I am compressing the whole icon theme with the help of the svgcleaner and Inkscape and Sublime Text I believe that precision of pixel is enough Svgcleaner provides good results in the most cases but sometimes error accumulates and resulting in the distorted shapes I use these options to round coordinates to and to satisfy my other needs removeunresolvedclasses no multipass applytransformtopaths yes coordinatesprecision pathcoordinatesprecision Version of svgcleaner is Generic example follows We can define the same path using absolute coordinates M L L L L L or relative paths m l l l l l In the case with absolute coordinates svgcleaner makes its best resulting in m v l v l In the case with relative paths rounding error accumulated resulting in m v l v l Possible solution convert original paths to absolute new action round coordinates how is it done now convert rounded paths to relative paths how is it done now with default pathstorelative yes When fill is absent fillnone then fill attributes has no sense Now css fillnonefillruleevenodd Desired css fillnone Additionally when stroke not defined then stroke attributes are excessive Now css fill strokewidth strokelinecaproundstrokelinejoinround Desired css fill Added if path contains only individual segments or arcs m m m m m Ie it dont contains joined lines then long definition like strokelinejoinround may be removed Still using old svgcleaner I apologize if this has already been improved in newer versions Recently I have been processing hundreds and hundreds of SVG icon files created in Inkscape In all of them deleting a SVG attribute viewBox is possible because it duplicates existing attributes width and height In xml svg height viewBox width xmlns Out xml svg height width xmlns In rare cases which I have not seen yet in order to implement a more general logic you can remove an attribute only when it satisfies the condition viewBox width height Error failed to resolved attribute fill Should be Error failed to resolve attribute fill Related to issue svgcleaner version svgcleaner Inkscape can load and render the attached file rename to xsvg xsvgtxt When run against svgcleaner svgcleaner xsvg xoutsvg Error failed to resolved attribute fill After removing stylefillcurrentColor svgcleaner xsvg xoutsvg Your image is smaller now 