 It might be useful to have AddressSanitizer Teaches systemdfstabgenerator these two Unit options creating appropriate dependencies on the generated mount units When used they override any other automatically generated dependencies such as localfstarget ie they imply noauto The new options are ignored for in the same way that noauto is ignored This should resolve my feature request This has been tested locally in that it compiles and produces dependencies as desired More diverse testing and feedback is appreciated Is your feature request related to a problem Please describe It might potentially be a problem in some settings Ive not really thought about it Recently my journal started getting saturated by the message jan hostname systemdresolved Server returned error NXDOMAIN mitigating potential DNS violation DVE retrying transaction with reduced feature level UDP identical entries every minutes First I have no idea where the request originated PID or anything and second I have no idea which domain its trying to resolve At least the second should be part of the log message in my mind But I might be wrong it just feels like it should Describe the solution youd like I think I want the relevant domain to be included in the journal entry Describe alternatives youve considered None systemd version the issue has been seen with probably does not depend on version Used distribution ALT Linux Expected behaviour you didnt see Resizing the requested filesystem when xsystemdgrowfs option is specified in etcfstab and all conditions are met Unexpected behaviour you saw Root filesystem ext was requested to be resized etcfstab line UUIDe df d b a da d df a e ext xsystemdgrowfs Underlying partition had enough space for resizing fs However during resize attempt the following error was recorded in journal systemdgrowfs Failed to resize to blocks ext Readonly file system The following manual operations in singleuser mode demonstrate the requirement of having rootfs mounted as readwrite bash mount grep mmc devmmcblk p on type ext rorelatimedataordered bash sbinresize fs devmmcblk p resize fs Mar Filesystem at devmmcblk p is mounted on online resizing required olddescblocks newdescblocks sbinresize fs Readonly file system While checking for online resizing support bash mount o remountrw bash sbinresize fs devmmcblk p resize fs Mar Filesystem at devmmcblk p is mounted on online resizing required olddescblocks newdescblocks The filesystem on devmmcblk p is now k blocks long Steps to reproduce the problem Request root filesystem to be expanded The issue will be triggered if growfs service will be called on readonly mounted filesystem when online resizing happens on mounted filesystem Services running inside container should be able to identify base host virtualization What do you think Recently I found systemdnspawn is very useful to prepare chrooted system image spaces Since it does most of devsys and proc jobs nicely for me my cloud image build script becomes much simpler than before Thank you for your great efforts Unfortunately I also found getenforce returns Disabled in nspawned space This caused dnf update systemd to label usrlibsystemdsystemd as libt instead of initexect and the resulting system image becomes unusable state no one can login And even worse restorecon doesnt work because getenforce is disabled Although it can be solved manually by remounting selinuxfs as rw doing it for every systemdnspawn invocations make my image build script complex again Version systemd git cdf fc x Distribution fedora Kernel fc x Describe the solution youd like So I want to see future systemdnspawn to have an option to mount selinuxfs as rw Describe alternatives youve considered Alternatively how about adding a note about how to enable selinux in nspawn to the manual page of systemdnspawn mount o remountrw sysfsselinux Thank you systemd version the issue has been seen with latest master NOTE Do not submit bug reports about anything but the two most recently released systemd versions upstream For older version please use distribution trackers see Used distribution Arch Linux clang As some of you already noticed the current ASanLSan sometimes crashes during testexecute specifically during execspecifierinterpolationservice execspecifierinterpolationservice Passing fds to service execspecifierinterpolationservice About to execute binsh x c test x perl perl e exitqqU eq qq x U execspecifierinterpolationservice Forked binsh as execspecifierinterpolationservice Changed dead start execspecifierfoobarservice Control group is empty execspecifierinterpolationservice Executing binsh x c test x perl perl e exitqqU eq qq x U test x perl Received SIGCHLD from PID sh Child sh died codeexited status SUCCESS execspecifierinterpolationservice Failed to read oomkill field of memoryevents cgroup attribute No such file or directory execspecifierinterpolationservice Child belongs to execspecifierinterpolationservice execspecifierinterpolationservice Main process exited codeexited status SUCCESS execspecifierinterpolationservice Succeeded execspecifierinterpolationservice Service will not restart restart setting execspecifierinterpolationservice Changed start dead Tracer caught signal addr x pc x f aba e sp x f a fd LeakSanitizer has encountered a fatal error HINT For debugging try setting environment variable LSANOPTIONSverbosity logthreads HINT LeakSanitizer does not work under ptrace strace gdb etc Im not sure if the relevant codebase changed or if its another case of so the fix would be basically the same cc evverx rr by default Fixes This is easier than looking things up on the web when formatting disks