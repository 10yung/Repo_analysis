 Server is rewritten to use a fiber per connection This makes handling stateful stuff like iterating over an enumerator easier Server also uses nonblock methods to hopefully speed up IO eachkey is implemented on the ServerClient Client now buffers reads if it doesnt manage to read the whole server response at once This issue crops up intermittently on Travis The read method of MonetaAdaptersClient raises this error when a call to socketrecv returns less than the expected number of bytes from the server This is to add a feature that when supported by a store allows atomic swapping of a value as suggested in This method signature would be something like swapkey old new Boolean returning true iff the swap happened The most obvious name for the feature would be swap I have a use case where Im taking an exclusive lock in one process but releasing it in another Its a bit odd I know Some other libraries like Suo have a notion of a lock token that is returned when successfully locked which can be used to unlock from anywhere Its harder to see how this would work with the Semaphore as it is solely backed by a counter but at least for the Mutex this could look something like When locking set the value to something random eg SecureRandomuuid Return the random value on successful lock Allow the lock token to be passed to unlockleave in place of the check against locked to allow the unlock to proceed if its a match for the lock value Im not sure this can be done atomically with the existing interface without being able to conditionally updatedelete when the value is a known value compareandset but I dont know the interface semantics and guarantees well enough Perhaps a feature that could be added is swap Eg swapkey oldval newval truefalse oldvalnewval for compareandswap If this isnt possible today I can add a feature request for it As per the Pool wrapper had some race condition issues that were not caught be existing specs Is it somehow possible to fetch the current expiry time in seconds from the keyvalue stores such as Redis Redis provides a method called TTL to get such information Would it be possible to simply add an expires column to the table definition Instead of marshalling and adding it somehow into the kv just use that col to check if the entry has expired Is there some reason why it was not done this way Hello Ive added Moneta gem to my project that uses MySQL database with ActiveRecord adapter to be used as session storage The database default encoding is utf mb On the first run after the gem has been added it creates a new moneta table but adding an index to it fails activerecordconnectionadaptersabstractmysqladapterrb in query Mysql Error Specified key was too long max key length is bytes CREATE UNIQUE INDEX indexmonetaonk ON moneta k ActiveRecordStatementInvalid I can restart the server and it works fine next time but the table is missing an index on k column So I guess VARCHAR for key column doesnt always work on MySQL As proxy or as transformer This is a list of currently missing keyvalue stores Please comment if you know another one that you might want to use Implementations are also greatly appreciated Some implementations are not yet finished but are already in the staging branch They need testing and fixes Google App Engine for JRuby gem appengineapis SFTP gem netsftp Mysql gem mysql Git gem multigit Couchbase gem couchbase CQL gem cqlrb cassandra cql interface RomRb Datamapper Gems available Ehcache gem ehcache only jruby LevelDB gem leveldb gem leveldbruby should both be supported They have nearly the same API RethinkDB gem rethinkdb Voldemort gem voldemortrb Handlersocket gem handlersocket gem keyvalue Keyspace KyotoTycoon gem kyototycoon SSDB gem ssdb DynamoDB gem dynamodb Skydb gem skydb FoundationDB gem fdb Relatively unknown Rocksdb Tarantool gem tarantool Hibari ARDB Redis protocol Arakoon Unqlite Hibari Mapkeeper Openkeyval Diskv TokutekKV NanoStore Hyperdex Coreos etcd ArangoDB see Scalaris Dynomite very old at ThruDB Havent found much Hypertable Only found which is for ActiveRecord Ringo RavenDB gem ravendb but based on NETmono OrientDB LightCloud LuxIO Oracle NoSQL Database Community Edition JRuby Interface FineDB Interesting databases which currently lack a ruby binding but claim to be very fast BangDB NessDB LSM Relational RDBI gem rdbi DBI gem dbi DataObjects gem dataobjects JDBC Special AWS adapter using the amazon library instead of Fog FTP stdlib netftp RCS Git Mercurial SVN IMAP LDAP TOML Configuration files eg gem configtoolkit For inspiration 