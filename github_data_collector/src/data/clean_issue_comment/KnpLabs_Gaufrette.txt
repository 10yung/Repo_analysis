Hello i am trying to download and upload files from S to local filesystem and vice versa using Knp Gaufrette in a Symfony project My code work run on a container in openshift and work fine for little files but with large file Go i have memory issues I am limited to Go in my container I dont understand why my memory is growing so high Maybe i dont understand well the concept of stream in php but i thought that the file wasnt loaded in memory with stream but loaded chunk by chunk With my code i can see that when i do srcStream thisfss createStreamfilename srcStreamopennew StreamModerb my memory is growing with the size of the file I also tried copygaufrettes filenamegaufrettenfsfilename but is is the same Am i using stream in the wrong way Any advice Thank you in advance for your help Regards The rename method fails when using non url safe chars in the source parameter Error executing CopyObject on AWS HTTP error Client error PUT resulted in a Bad Request response ErrorCodeInvalidArgumentCodeMessageInvalid copy source encodingMessageArgumentNamexamzcopysourceArgu truncated I just url encode the CopySource parameter in the API call I was testing with google cloud storage and seems that content is uploaded twice using StreamWrapper The test php php use Gaufrette Adapter GoogleCloudStorage use Gaufrette Filesystem use Gaufrette StreamWrapper requireonceDIR vendorautoloadphp const AUTHFILE googlecloudjson const BUCKETNAME testing const LOCALFILE DIRtesttxt Create filesystem googleClient new GoogleClient googleClientsetAuthConfigAUTHFILE googleClientaddScope GoogleServiceStorageDEVSTORAGEFULLCONTROL service new GoogleServiceStoragegoogleClient adapter new classservice BUCKETNAME extends GoogleCloudStorage public function writekey content echo write strlen strlencontent PHPEOL return parentwritekey content filesystem new Filesystemadapter Register wrapper map StreamWrappergetFilesystemMap mapsetBUCKETNAME filesystem StreamWrapperregister Upload file copyLOCALFILE gaufrette BUCKETNAME testtxt The output is bash jnunezxxx php testphp write strlen write strlen write strlen Changing php copyLOCALFILE gaufrette BUCKETNAME testtxt by php filesystemwritetesttxt filegetcontentsLOCALFILE The output is bash jnunezxxx php testphp write strlen Is there a bug I am using this bundle in a Symfony project to upload files to S For some debugging purposes and to know more information about the adapter I am using S I need access to service property But cannot do it at the moment as its a protected property Can we make a getter method to get this property I can send a pull request if needed theres class named CreateContainerOptions namespace MicrosoftAzure Storage Blob Models directory vendormicrosoftazurestorageblobsrcBlobModelsCreateContainerOptions namespace MicrosoftAzure Storage Blob Models directory vendormicrosoftazurestoragesrcBlobModelsCreateContainerOptions i dont know if its a bug but can you help me Which one should i use Related to Container creation is out of Gaufrette scope The container should be created by the deleveloper on its own Thus the multi container mode has been removed as it was creating containers on the fly TODO x update doc By looking at the UPGRADEmd file we can know what are the removed methods These methods should trigger a deprecation notice on the x branch We were previously on x creating the containers buckets automatically when using adapters This can lead to security flaws in case where the bucket is not created as the adapters user want to Buckets creation is beyound Gaufrette scope and so should not be managed by Gaufrette Buckets used by Gaufrette shoud be created by the developer or any other way and should be properly configured for the developer needs Thus Gaufrette should not automatically create buckets when they do not exist This will remove the create flag passed to adapterss constructor and the usage of an adapter on an unexisting bucket should raise an exception TODO AwsS AzureBlobStorage Ftp x Local x OpenCloud OpenStack PhpseclibSftp Update CHANGELOG UPGRADE guide to indicate about this change In these x places specific arguments like al or alR are being used when ftprawlist is being called I believe depending on the FTP server settings they cause trouble directoriesfiles can not be listed and ftprawlist simply returns empty list Here is the code that does not list the files on the server Hermes Germany carrier FTP used by a lot of vendors of course we use adapter new FtpAdapterdir host array port username user password pass passive false create false mode FTPBINARY ssl false filesystem new Filesystemadapter vardumpfilesystemkeys And here is the native code which works as expected connection ftpconnecthost ftploginconnection user pass vardumpftprawlistconnection dir vardumpftprawlistconnection alR dir This is how Gaufrette does it ftpcloseconnection I believe this arguments must be configurable to resolve mentioned issue they should be enabled by default to ensure backward compatibility but with an option to disable them The meta packages for adapters removed on x should be deprecated The new adapters introduced in x should have their meta packages Also the suggest section of the composerjson file should be updated with the new adapters metapackages To Deprecate gaufretteopencloudadapter metapackage adapter removed in Deprecate the OpenCloud adapter Deprecate the ObjectStoreFactory removed in To Create gaufretteopenstackadapter metapackage adapter introduced in gaufrettegooglecloudstorageadapter metapackage adapter introduced in 