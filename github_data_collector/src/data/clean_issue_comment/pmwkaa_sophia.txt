I found that the contents of two database with same scheme in the same environment always synced with each other like they were the same one Is this the natural behavior Or I got something wrong Nowadays many setups do actually require a seamless combination of ACID keyvalue pairs and best effort keyvalue pairs imagine analogy TCP packets and UDP packets treatment Would you consider adding support for a tag to distinguish between an ACID request on a keyvalue pair or set of pairs and a best effort request on a keyvalue pair or set of pairs I could imagine under high contention loads Sophia would simply ignore some ACID invariants when processing a request tagged with best effort or in the worst case simply drop the whole request pretty much like routers and switches do with UDP There is a new approach to very fast replication called CURP Consistent Unordered Replication Protocol It doesnt have any of the caveats discussed and referenced in and and shall not be difficult to implement Would you consider implementing such low hanging fruit Hi Dima I started driver Sophiacr for Sophia on Crystal Lang In near future i want to build TSDB over Sophiacr for use in monitoring and alerting for own projects I tried but did not understand C code which support iteration by multipart key I found driver Sophy for Python where Coleifer implemented Json MsgPack and UUID types It is beautiful and gives good opportunities and I would like to implement the same types and little more Do I understand correctly that Sophia pack and store multipart key as bytes with delimiter in scheme and unpacks during the iteration process How can I participate in this process Could you explain this Does sophia support armv l architecture I tried to run tests on raspberry emulator and got such error make banner SOPHIA git cc uname a Linux raspberrypi Thu Dec IST armv l GNULinux cc version cc Raspbian rpi deb u sophiatest sophia testsuite Tue Feb test combinations unitssamalloc ok unitssarealloc ok unitssorderof ok unitssordername ok unitssrqtest ok unitssrqtest ok unitssrqtest ok unitssrqtest ok unitssrqtest ok unitssrqtest ok unitssrqtest ok unitssrqtest ok unitssrqtest ok unitsshttest ok unitsszstdfiltercompressdecompress ok unitsslz filtercompressdecompress ok unitsrconfsetns ok unitsrconfsetnstrigger ok unitsrconfsetu ok unitsrconfsetnsu ok unitsrconfsetnsnsu ok unitsrconfsetnsnsu ok unitsrconfsetnsnsu bad ok unitsrconfserialize ok unitsfschemesaveload ok unitsvvkv ok unitsvindexreplace ok unitsvindexiterlteempty ok unitsvindexiterlteeq ok unitsvindexiterlteq ok unitsvindexitergteempty ok unitsvindexitergteeq ok unitsvindexitergteq ok unitsvindexiteriterate ok unitsvindexiteriterate ok unitsvmergeitermergea ok unitsvmergeitermergeb ok unitsvmergeitermergeab ok unitsvmergeitermergeabc ok unitsvmergeitermergeba ok unitsvmergeitermergedupab ok unitsvmergeitermergedupachain ok unitsvmergeitermergedupabchain ok unitsvmergeitermergedupabcchain ok unitsvwriteiteriter ok unitsvwriteiteriterlimit fail unitsvwriteitertestc i Aborted It may be that I have some configuration wrong but when I configure a table with a combination of keys and values the application segfaults on the first spset for example add new values to the examplemultipartc db declaration and attempt to run the application spsetstringenv dbtestscheme keyi spsetstringenv dbtestscheme keyj spsetstringenv dbtestscheme keyk spsetstringenv dbtestscheme a spsetstringenv dbtestscheme b spsetstringenv dbtestscheme c spsetstringenv dbtestscheme d spsetstringenv dbtestschemekeyi u key spsetstringenv dbtestschemekeyj u key spsetstringenv dbtestschemekeyk u key spsetstringenv dbtestschemea u spsetstringenv dbtestschemeb u spsetstringenv dbtestschemec u spsetstringenv dbtestschemed u for me this results in the following message Segmentation fault core dumped with the GDB output below GNU gdb Ubuntu ubuntu Copyright C Free Software Foundation Inc License GPLv GNU GPL version or later This is free software you are free to change and redistribute it There is NO WARRANTY to the extent permitted by law Type show copying and show warranty for details This GDB was configured as i linuxgnu Type show configuration for configuration details For bug reporting instructions please see Find the GDB manual and other documentation resources online at For help type help Type apropos word to search for commands related to word Reading symbols from multipartdone gdb r Starting program homesophiaexamplemultipart Thread debugging using libthreaddb enabled Using host libthreaddb library libi linuxgnulibthreaddbso New Thread xb d cb LWP New Thread xb bb LWP New Thread xb ffb LWP New Thread xb feb LWP New Thread xb fdb LWP New Thread xb dffb LWP Thread multipart received signal SIGSEGV Segmentation fault memcpysse unaligned at sysdepsi i multiarchmemcpysse unalignedS sysdepsi i multiarchmemcpysse unalignedS No such file or directory gdb bt memcpysse unaligned at sysdepsi i multiarchmemcpysse unalignedS x d in memcpy lenoptimized out srcoptimized out destoptimized out at usrincludei linuxgnubitsstring h sfwrite dest x a v x a s x f at sophiaformatsfh svvbuild r x f dc fieldsfieldsentry x a c at sophiaversionsvvh x in sedocumentcreate o x a flags at sophiaenvironmentsedocumentc x in sedbwrite db x e f o x a flagsoptimized out at sophiaenvironmentsedbc x d in sedbset o x e f v x a at sophiaenvironmentsedbc x b in spset ptr x e f ptrarg x a at sophiasophiasophiac x b e in main argc argv xbffff at multipartc gdb If theres a configuration option Im missing Im happy to close this issue but the error seems a little obtuse Any suggestions are welcome The documentation for mentions that you can drop a database Database can be created opened or deleted before or after environment startup Besides the fact that it doesnt seem possible to create databases after environment startup in it looks like the spdrop API is gone in How should one go about deleting a database in Here is a minimal repro for the first cursor yields records the second should have worked in the same way since the prefix matches What am I missing Ive just hit an issue when iterating over records using a prefix The issue comes up when keys have the following structure for sprintfbuffer log x xrecordu i i i spsetstringo key buffer strlenbuffer Ive just reduced the issue to a minimal test and will open a PR Dmitry could you take a look please What am I missing like below configuration what does it mean dbnamestorage string Set storage mode anticache cache inmemory when do set only key in memory or value also in memory for spsetstring also can put binary data right 