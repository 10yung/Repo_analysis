 ikcpupdate ikcpsendikcprecv ikcprecv make Entering directory data gameservernodemodulesnodekcpbuild CCtarget Releaseobjtargetkcpsrckcpikcpo srckcpikcpc In function ikcpsend srckcpikcpc warning comparison between signed and unsigned integer expressions Wsigncompare if count IKCPWNDRCV return CXXtarget Releaseobjtargetkcpsrckcpobjecto srckcpobjectcc In static member function static int nodekcpKCPObjectkcpoutputconst char int ikcpcb void srckcpobjectcc warning v Localv Value NanCallbackCallint v Localv Value const is deprecated declared at nannanh Wdeprecateddeclarations callbackCallargc argv srckcpobjectcc warning v Localv Value NanCallbackCallint v Localv Value const is deprecated declared at nannanh Wdeprecateddeclarations callbackCallargc argv srckcpobjectcc In static member function static NanNANMETHODRETURNTYPE nodekcpKCPObjectInputNanNANMETHODARGSTYPE srckcpobjectcc error no matching function for call to v StringValueValuev Localv Value StringValue dataarg node v v nodegyp v v npmv gcc virtual DelayPacket if ptr delete ptr ptr NULL prt delete ptr It should be propagated to ikcpupdate return via ikcpflush server include asiohpp include array include thread include iostream include ikcph define IPADDRESS define UDPPORT using asioipudp using asioipaddress uint t conv ikcpcb servicekcp NULL void Senderconst stdstring in asioioservice ioservice udpsocket socketioservice udpendpoint remoteendpoint udpendpointaddressfromstringIPADDRESS UDPPORT socketopenudpv stderrorcode err auto sent socketsendtoasiobufferin remoteendpoint err socketclose stdcout Sent Payload sent n int udpoutputconst char buf int len ikcpcb kcp void user stdstring inbuf len Senderin return void dorecvchar buf int len stdstring inbuf len stdcout kcp recv data in stdendl uint t updatenowtimems using namespace std auto timenow chronosystemclocknow auto durationinms chronodurationcastchronomillisecondstimenowtimesinceepoch return durationinmscount struct Service asioioservice ioservice udpsocket socket ioservice stdarraychar recvbuffer udpendpoint remoteendpoint int count void handlereceiveconst stderrorcode error sizet bytestransferred if error stdcout Receive failed errormessage n return stdstring datarecvbufferbegin recvbufferbegin bytestransferred ikcpinputservicekcp datacstr bytestransferred char kcpbuf memsetkcpbuf sizeofkcpbuf int kcprecvdbytes ikcprecvservicekcp kcpbuf sizeofkcpbuf if kcprecvdbytes dorecvkcpbuf kcprecvdbytes stdcout kcpbyte kcprecvdbytes udp received data errormessage n wait void wait socketasyncreceivefromasiobufferrecvbuffer remoteendpoint bind Servicehandlereceive this stdplaceholders stdplaceholders void receiver socketopenudpv socketbindudpendpointaddressfromstringIPADDRESS UDPPORT wait stdcout Receiving n ioservicerun stdcout Receiver exit n void initikcp servicekcp ikcpcreateconv void servicekcpoutput udpoutput ikcpnodelayservicekcp int mainint argc char argv initikcp Service service stdthread r servicereceiver whiletrue stdthisthreadsleepforstdchronomilliseconds ikcpupdateservicekcp updatenowtimems rjoin return client include asiohpp include array include thread include iostream include ikcph define IPADDRESS define UDPPORT using asioipudp using asioipaddress uint t conv ikcpcb clientkcp NULL void senderconst stdstring in asioioservice ioservice udpsocket socketioservice udpendpoint remoteendpoint udpendpointaddressfromstringIPADDRESS UDPPORT socketopenudpv stderrorcode err auto sent socketsendtoasiobufferin remoteendpoint err socketclose stdcout Sent Payload sent n int udpoutputconst char buf int len ikcpcb kcp void arg stdstring inbuf len senderin return void dorecvchar buf int len stdstring inbuf len stdcout recv data in stdendl void initikcp clientkcp ikcpcreateconvNULL clientkcpoutput udpoutput ikcpnodelayclientkcp uint t updatenowtimems using namespace std auto timenow chronosystemclocknow auto durationinms chronodurationcastchronomillisecondstimenowtimesinceepoch return durationinmscount int mainint argc char argv stdstring input argc argv hello world stdcout Input is inputcstr nSending it to Sender Function n initikcp whiletrue stdthisthreadsleepforstdchronomilliseconds ikcpupdateclientkcp updatenowtimems ikcpsendclientkcp inputcstr inputsize return MB Mb Mb MB TCP TCP KCP Mb Mb TCP RTT const IUINT IKCPCMDPUSH cmd push data const IUINT IKCPCMDACK cmd ack const IUINT IKCPCMDWASK cmd window probe ask const IUINT IKCPCMDWINS cmd window size tell ikcpnodelaykcp nc nc G MS MS G kcp conv kcp kcp kcp tcp kcp 