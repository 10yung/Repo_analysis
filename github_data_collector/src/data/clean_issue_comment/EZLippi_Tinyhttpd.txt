 cat fget void catint client FILE resource char buf fgetsbuf sizeofbuf resource while feofresource sendclient buf strlenbuf fgetsbuf sizeofbuf resource cat fgets resourse eof send testtxt hello world ac include stdioh define MAXLEN int main FILE fp char str MAXLEN fp fopentesttxt r if fp NULL perrorERROR OPEN FILE return if fgetsstr sizeofstr fp NULL putsstr if feoffp putseof else putsno eof fclosefp return executecgi fork sprintfbuf HTTP OK r nsendclient buf strlenbuf path html if bindhttpd struct sockaddr name sizeofname errordiebind if port if dynamically allocating a port socklent namelen sizeofname if getsocknamehttpd struct sockaddr name namelen errordiegetsockname port ntohsnamesinport bind getsockname bind bind bind bind When request compressed file such as jqueryminjs broswer cannot get complete content