Hey there Used your example config and noticed that it spits warning nginx warn duplicate MIME type texthtml in pathtonginxconf Digged around a bit and found that it is because there is no need to explicitly turn on compression for texthtml Its always turned on by default It is considered bad form to include a set e in a script destined for etcinitd If there is an error in the script the boot process may hault if set e is used See I have found that the way this gem works the unicorn rack env parameter will overwrite the rails environment name ENV RAILSENV variable Example RAILSENVstaging BUNDLEGEMFILEvarwwwgigawebappstagingcurrentGemfile bundle exec unicornrails c configunicornrb E deployment D Expect That the unicorn rack environment name is deployment it is That the ENV RAILSENV variable remains as staging Get The ENV RAILSENV variable is NOT staging it is deployment I am unable to reliably use the ENV RAILSENV variable in the unicornrb config file as a result I recommend that these two variablesenvironment names should not influence each other In a multi stage configuration a sites rails environment may change names in each different environment eg Production Staging Development plus other possible Unicorn however supports two rack environments deployment or development or none These have effects on what middleware is loaded and effects on performance Therefore it must be possible to choose a RAILSENV independently of the unicorn rack environment The suggested code change while it stops the RAILSENV variable from being overwritten is not a full solution I opened this pull request to discuss this issue and possible solutions though You will need to finish this off and add the markdown extension No worries 