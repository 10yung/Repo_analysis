Hello I am trying to run sfm pipeline with different intrinics In my setting I have different cameras so I would like to assign different intrinsics to all of them However the pipeline only allows me to set at most different intrinsics Thanks D Problem travisci CPU detection skylakeavx is sometimes detected as coreavx or broadwell Fix Desactivate skylakeavx to test CI build stability Build are gonna be done in the worst case in marchcore Log message Detected CPU skylakeavx Performing Test checkccompilerflagmarchskylakeavx Performing Test checkccompilerflagmarchskylakeavx Failed Performing Test checkcxxcompilerflagmarchskylakeavx Performing Test checkcxxcompilerflagmarchskylakeavx Failed Performing Test checkccompilerflagmarchskylake Performing Test checkccompilerflagmarchskylake Failed Performing Test checkcxxcompilerflagmarchskylake Performing Test checkcxxcompilerflagmarchskylake Failed Performing Test checkccompilerflagmarchbroadwell Performing Test checkccompilerflagmarchbroadwell Failed Performing Test checkcxxcompilerflagmarchbroadwell Performing Test checkcxxcompilerflagmarchbroadwell Failed Performing Test checkccompilerflagmarchhaswell Performing Test checkccompilerflagmarchhaswell Failed Performing Test checkcxxcompilerflagmarchhaswell Performing Test checkcxxcompilerflagmarchhaswell Failed Performing Test checkccompilerflagmarchcoreavx Performing Test checkccompilerflagmarchcoreavx Success Detected CPU skylakeavx Performing Test checkccompilerflagmarchskylakeavx Performing Test checkccompilerflagmarchskylakeavx Failed Performing Test checkcxxcompilerflagmarchskylakeavx Performing Test checkcxxcompilerflagmarchskylakeavx Failed Performing Test checkccompilerflagmarchskylake Performing Test checkccompilerflagmarchskylake Failed Performing Test checkcxxcompilerflagmarchskylake Performing Test checkcxxcompilerflagmarchskylake Failed Performing Test checkccompilerflagmarchbroadwell Performing Test checkccompilerflagmarchbroadwell Success New feaure Implement a preemptive matching strategy to quickly match large dataset approximation Preemptive matching is testing the matchability of image pair on a reduced set of X features X features are selected from the largest scale of the features of each image For each pair we then test if Y matches remain once the Lowe distance ratio has been applied Then for each selected pair a new matching using Z features is launched Default paper parameters are set as X Y and Z Preemptive matching in OpenMVG can be implemented easily using a pass mainComputeMatches Here is the additional concept to bring the feature to life Implemented a PreemptiveRegionsProvider that will select only the X regions of interest for each images Use existing matchingimagecollection engine Since the features count is small BRUTEFORCEL is gonna be the faster and most accurate Add a rejection rule as a geometric filter to test if at least Y features are kept by pair Exporting the found pairs as a pairlist and reuse it for a new matching sequence Preemptive matching pipeline Preemptive matching pair selection openMVGmainComputeMatches i PATHmatchessfmdatajson o PATHmatches P n BRUTEFORCEL preemptivefeaturecount g M Matching on the preemptive selected pairs openMVGmainComputeMatches i PATHmatchessfmdatajson o PATHmatches pairlist PATHmatchespairstxt f Details about the parameters and their meaning P enable preemptive matching n BRUTEFORCEL select brute force matcher as matching engine preemptivefeaturecount select X regions per image g M select the Match count rejection strategy Y threshold Towards Lineartime Incremental Structure from Motion C Wu DV Hi Im newbie to photogrammetry area Recently Ive been trying to reconstruct D model from pictures taken by my smartphone using openMVG and openMVS but Im stuck with openMVG process First of all since there were no sensor width database for smartphone cameras I planned to calculate it with this formula But images Im trying to use for reconstruction were taken by LGF K smartphone and images taken by this smartphone dont provide FOV info in its EXIF it provides focal length So I couldnt use the formula and had to find sensor width manually I used information on this document and added sensor width info of LGF k on sensorwidthcameradatabasetxt Not sure this is correct sensor width Here are Images I used for D reconsturctiontook them myself Im trying to make D model for the chair and backgrounds of each image are removed by deep learning based background removal open source Couldnt remove all surrounding objects since my house is quite narrow Here is python code I used MvgMvsPipelinepy I used various options to make process work but all of them failed Below is failed result Im continuously getting As you can see the process is blocked in openMVGmainopenMVG openMVS and I dont think the problem occurs in openMVGmainopenMVG openMVS I think the problem is that in ComputeMatches step only from input images were calibrated and no D points were generated hyukwonleehyukwonleeVirtualBoxDesktopopenMVSBuildbin python MvgMvsPipelinepy homehyukwonleeDesktopopenMVGMaterialImages homehyukwonleeDesktopopenMVGMaterialOutputs Using input dir homehyukwonleeDesktopopenMVGMaterialImages outputdir homehyukwonleeDesktopopenMVGMaterialOutputs First step Last step Intrinsics analysis homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainSfMInitImageListing i homehyukwonleeDesktopopenMVGMaterialImages o homehyukwonleeDesktopopenMVGMaterialOutputsmatches d homehyukwonleeDesktopopenMVGsrcopenMVGexifsensorwidthdatabasesensorwidthcameradatabasetxt You called homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainSfMInitImageListing imageDirectory homehyukwonleeDesktopopenMVGMaterialImages sensorWidthDatabase homehyukwonleeDesktopopenMVGsrcopenMVGexifsensorwidthdatabasesensorwidthcameradatabasetxt outputDirectory homehyukwonleeDesktopopenMVGMaterialOutputsmatches focal intrinsics cameramodel groupcameramodel Image listing SfMInitImageListing report listed Files usable Files listed in sfmdata usable Intrinsics listed in sfmdata Compute features homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainComputeFeatures i homehyukwonleeDesktopopenMVGMaterialOutputsmatchessfmdatajson o homehyukwonleeDesktopopenMVGMaterialOutputsmatches f m AKAZEFLOAT You called homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainComputeFeatures inputfile homehyukwonleeDesktopopenMVGMaterialOutputsmatchessfmdatajson outdir homehyukwonleeDesktopopenMVGMaterialOutputsmatches describerMethod AKAZEFLOAT upright describerPreset NORMAL force numThreads EXTRACT FEATURES Task done in s Compute matches homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainComputeMatches i homehyukwonleeDesktopopenMVGMaterialOutputsmatchessfmdatajson o homehyukwonleeDesktopopenMVGMaterialOutputsmatches n ANNL r You called homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainComputeMatches inputfile homehyukwonleeDesktopopenMVGMaterialOutputsmatchessfmdatajson outdir homehyukwonleeDesktopopenMVGMaterialOutputsmatches Optional parameters force ratio geometricmodel f videomodematching pairlist nearestmatchingmethod ANNL guidedmatching cachesize unlimited Regions Loading PUTATIVE MATCHES PREVIOUS RESULTS LOADED pair Geometric filtering Task done in s Export Adjacency Matrix of the pairwises geometric matches Incremental reconstruction homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainIncrementalSfM i homehyukwonleeDesktopopenMVGMaterialOutputsmatchessfmdatajson m homehyukwonleeDesktopopenMVGMaterialOutputsmatches o homehyukwonleeDesktopopenMVGMaterialOutputsreconstructionsequential M homehyukwonleeDesktopopenMVGMaterialOutputsmatchesmatchesfbin S MAXPAIR c SequentialIncremental reconstruction Engine Features Loading matches Initialization status Success Track stats Tracks Stats Tracks number Images Id TrackLength Occurrence Starting Structure from Motion statistics with Camera calibrated from input images Tracks D points Export to openMVS homehyukwonleeDesktopopenMVGBuildLinuxx RELEASEopenMVGmainopenMVG openMVS i homehyukwonleeDesktopopenMVGMaterialOutputsreconstructionsequentialsfmdatabin o homehyukwonleeDesktopopenMVGMaterialOutputsmvsscenemvs d homehyukwonleeDesktopopenMVGMaterialOutputsmvs The input SfMData file homehyukwonleeDesktopopenMVGMaterialOutputsreconstructionsequentialsfmdatabin cannot be read Densify point cloud homehyukwonleeDesktopopenMVSBuildbinDensifyPointCloud inputfile homehyukwonleeDesktopopenMVGMaterialOutputsmvsscenemvs resolutionlevel w homehyukwonleeDesktopopenMVGMaterialOutputsmvs App Build date Dec App CPU AMD Ryzen X EightCore Processor cores App RAM GB Physical Memory GB Virtual Memory App OS Linux generic x App SSE AVX compatible CPU OS detected App Command line inputfile homehyukwonleeDesktopopenMVGMaterialOutputsmvsscenemvs resolutionlevel w homehyukwonleeDesktopopenMVGMaterialOutputsmvs Reconstruct the mesh homehyukwonleeDesktopopenMVSBuildbinReconstructMesh homehyukwonleeDesktopopenMVGMaterialOutputsmvsscenedensemvs w homehyukwonleeDesktopopenMVGMaterialOutputsmvs d App Build date Dec App CPU AMD Ryzen X EightCore Processor cores App RAM GB Physical Memory GB Virtual Memory App OS Linux generic x App SSE AVX compatible CPU OS detected App Command line homehyukwonleeDesktopopenMVGMaterialOutputsmvsscenedensemvs w homehyukwonleeDesktopopenMVGMaterialOutputsmvs d Texture the mesh homehyukwonleeDesktopopenMVSBuildbinTextureMesh homehyukwonleeDesktopopenMVGMaterialOutputsmvsscenedensemeshmvs w homehyukwonleeDesktopopenMVGMaterialOutputsmvs resolutionlevel App Build date Dec App CPU AMD Ryzen X EightCore Processor cores App RAM GB Physical Memory GB Virtual Memory App OS Linux generic x App SSE AVX compatible CPU OS detected App Command line homehyukwonleeDesktopopenMVGMaterialOutputsmvsscenedensemeshmvs w homehyukwonleeDesktopopenMVGMaterialOutputsmvs resolutionlevel This is result match folder including sfmdatajson file Have no idea how to deal with this problem plz help We want to listen to the community better understand your usage of the library and react accordingly In order to do so we created a survey and we are really eager to see the results Please fill out this survey We will analyze results share them next year and will use them for the decisionmaking process in the future Please reshare this to your friends and remember that we are always looking for new contributors and users Happy holidays christmastree santa mrsclaus snowman christmastree Rewrite svgDrawer class to be closer to the SVG concepts attributeselements Here the new concepts svgDrawer receives and handle the XML elements svgElement provides drawing features that export XML string elements svgAttributes provides customization for drawing style I created a tool to help with getting dense geodetic point cloudsmeshes using OpenMVG and MVE It helps to solve the issue of large ECEF numbers in MVE I included some instructions in the README Hope it helps This commit fix this error usrlocalincludeopenMVGrobustestimationrobustestimatorACRansachpp erreur fatale thirdpartyhistogramhistogramhpp Aucun fichier ou dossier de ce type I think I get a result by running the code as follows but I suspect that it may be wrong because the program runs very fast and process results slightly different than How can I get the camera coordinates I have obtained using SfMDataConverter after this step gurturkgurturk openMVGmainSfMInitImageListing d homegurturkDesktopopenMVGsrcopenMVGexifsensorwidthdatabasesensorwidthcameradatabasetxt i homegurturkDesktopopenMVGtestimages o homegurturkDesktopopenMVGtestmatches f You called openMVGmainSfMInitImageListing imageDirectory homegurturkDesktopopenMVGtestimages sensorWidthDatabase homegurturkDesktopopenMVGsrcopenMVGexifsensorwidthdatabasesensorwidthcameradatabasetxt outputDirectory homegurturkDesktopopenMVGtestmatches focal intrinsics cameramodel groupcameramodel Image listing SfMInitImageListing report listed Files usable Files listed in sfmdata usable Intrinsics listed in sfmdata gurturkgurturkopenMVGmainComputeFeatures i homegurturkDesktopopenMVGtestmatches o homegurturkDesktopopenMVGtestmatches You called openMVGmainComputeFeatures inputfile homegurturkDesktopopenMVGtestmatches outdir homegurturkDesktopopenMVGtestmatches describerMethod SIFT upright describerPreset NORMAL force numThreads Unknown sfmdata input format The input file homegurturkDesktopopenMVGtestmatches cannot be read gurturkgurturkopenMVGmainComputeFeatures i homegurturkDesktopopenMVGtestmatches o homegurturkDesktopopenMVGtestmatches You called openMVGmainComputeFeatures inputfile homegurturkDesktopopenMVGtestmatches outdir homegurturkDesktopopenMVGtestmatches describerMethod SIFT upright describerPreset NORMAL force numThreads Unknown sfmdata input format The input file homegurturkDesktopopenMVGtestmatches cannot be read gurturkgurturkopenMVGmainComputeFeatures i homegurturkDesktopopenMVGtestmatchessfmdatajson o homegurturkDesktopopenMVGtestmatches You called openMVGmainComputeFeatures inputfile homegurturkDesktopopenMVGtestmatchessfmdatajson outdir homegurturkDesktopopenMVGtestmatches describerMethod SIFT upright describerPreset NORMAL force numThreads EXTRACT FEATURES Task done in s gurturkgurturkopenMVGmainComputeMatches i homegurturkDesktopopenMVGtestmatchessfmdatajson o homegurturkDesktopopenMVGtestmatches g e You called openMVGmainComputeMatches inputfile homegurturkDesktopopenMVGtestmatchessfmdatajson outdir homegurturkDesktopopenMVGtestmatches Optional parameters force ratio geometricmodel e videomodematching pairlist nearestmatchingmethod AUTO guidedmatching cachesize unlimited Regions Loading PUTATIVE MATCHES Use exhaustive pairwise matching Using FASTCASCADEHASHINGL matcher Using the OPENMP thread interface Matching Segmentation fault core dumped gurturkgurturkopenMVGmainComputeMatches i homegurturkDesktopopenMVGtestmatchessfmdatajson o homegurturkDesktopopenMVGtestmatches g e f n ANNL You called openMVGmainComputeMatches inputfile homegurturkDesktopopenMVGtestmatchessfmdatajson outdir homegurturkDesktopopenMVGtestmatches Optional parameters force ratio geometricmodel e videomodematching pairlist nearestmatchingmethod ANNL guidedmatching cachesize unlimited Regions Loading PUTATIVE MATCHES Use exhaustive pairwise matching Using ANNL matcher Using the OPENMP thread interface Matching Task Regions Matching done in s Geometric filtering Task done in s Export Adjacency Matrix of the pairwises geometric matches gurturkgurturk openMVGmainGlobalSfM i homegurturkDesktopopenMVGtestmatchessfmdatajson m homegurturkDesktopopenMVGtestmatches o homegurturkDesktopopenMVGtestoutglobal Global Structure from Motion Open Source implementation of the paper Global Fusion of Relative Motions for Robust Accurate and Scalable Structure from Motion Pierre Moulon Pascal Monasse and Renaud Marlet ICCV Features Loading CleanGraphKeepLargestBiEdgeNodes connected Component Connected component of size Relative pose computation blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure detectstructurecc Schur complement static structure blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure Relative motion computation took ms Global rotations computation relative rotations global rotations Statistics about rotation triplets min mean median max Triplets filtering based on composition error on unit cycles Triplets before Triplets after Edges removed by triplet inference CleanGraphKeepLargestBiEdgeNodes connected Component Connected component of size reorderprogramcc Block ordering stats flops lnz anz blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating CHOLMOD version May Symbolic Analysis status OK Architecture Linux sizeofint sizeofSuiteSparselong sizeofvoid sizeofdouble sizeofInt CHOLMODs basic integer sizeofBLASINT integer used in the BLAS Results from most recent analysis Cholesky flop count Nonzeros in L memory blocks in use memory in use MB peak memory usage MB maxrank updatedowndate rank supernodal control supernodal if flopslnz nmethods number of ordering methods to try method natural flop count nnzL OK Found globalrotations Timing seconds RelativeGlobal degree rotations residual errors RelativeGlobal degree rotations residual errors Statistics about global rotation evaluation min mean median max Relative translations computation Triplets Relative translations computation edge coverage algorithm TRIPLET COVERAGE TIMING Relative triplet of translations estimates computed from triplets resulting in translations estimation time to compute triplets of relative translations seconds CleanGraphKeepLargestBiEdgeNodes connected Component Connected component of size Global translations computation Ready to compute global translations from relative translations reorderprogramcc Block ordering stats flops lnz anz blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating CHOLMOD version May Symbolic Analysis status OK Architecture Linux sizeofint sizeofSuiteSparselong sizeofvoid sizeofdouble sizeofInt CHOLMODs basic integer sizeofBLASINT integer used in the BLAS Results from most recent analysis Cholesky flop count Nonzeros in L memory blocks in use memory in use MB peak memory usage MB maxrank updatedowndate rank supernodal control supernodal if flopslnz nmethods number of ordering methods to try method natural flop count nnzL OK blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes blocksparsematrixcc Allocating values array with bytes Track stats Tracks Stats Tracks number Images Id TrackLength Occurrence Blind triangulation progress removed tracks invalid triangulation Triangulation took s blocksparsematrixcc Allocating values array with bytes detectstructurecc Schur complement static structure blockrandomaccesssparsematrixcc Matrix Size detectstructurecc Schur complement static structure compressedrowsparsematrixcc of rows of columns numnonzeros Allocating compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating CHOLMOD version May Symbolic Analysis status OK Architecture Linux sizeofint sizeofSuiteSparselong sizeofvoid sizeofdouble sizeofInt CHOLMODs basic integer sizeofBLASINT integer used in the BLAS Results from most recent analysis Cholesky flop count Nonzeros in L memory blocks in use memory in use MB peak memory usage MB maxrank updatedowndate rank supernodal control supernodal if flopslnz nmethods number of ordering methods to try method natural flop count nnzL OK compressedrowsparsematrixcc of rows of columns numnonzeros Allocating compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating compressedrowsparsematrixcc of rows of columns numnonzeros Allocating compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating compressedrowsparsematrixcc of rows of columns numnonzeros Allocating compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating compressedrowsparsematrixcc of rows of columns numnonzeros Allocating compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating compressedrowsparsematrixcc of rows of columns numnonzeros Allocating compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating compressedrowsparsematrixcc of rows of columns numnonzeros Allocating compressedrowsparsematrixcc of rows of columns maxnumnonzeros Allocating Bundle Adjustment statistics approximated RMSE views poses intrinsics tracks residuals Initial RMSE Final RMSE Time s Total AcGlobalSfm took s Generating SfMReporthtml Export SfMData to disk Hello It seems that one of the header file are not installed correctly when doing sudo make install usrlocalincludeopenMVGrobustestimationrobustestimatorACRansachpp erreur fatale thirdpartyhistogramhistogramhpp Aucun fichier ou dossier de ce type Thomas