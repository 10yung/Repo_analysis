trymasterzip Hi Yesterday I upgrade tools with last version and I found issue with AddIoTAppxPackage I create my Appx package with VisualStudio and obtain myApplication ARMDebugmsix and not myApplication ARMDebugappx with commits on Nov AddIoTAppxPackage accept msix and create component With last commits AddIoTAppxPackage dont accept and generate error What do I make wrong Hi I tried to create an IoT Core image for Apollo Lake platform and ran into a problem when executing importbsp It shew Unknown argument useLegacyName foroempkg were provided but the CopyIoTBSP function was still completed I have also noticed that pkggen seems not support above two parameters from MSFTs website Is this the root cause of the error I met The IoT build command IoTAddFilePackage found in does not expose selection of the partition that the files isare to be deployed to The MainOS partition is assumed despite the underlying NewIoTWMWriter class providing an optional partition parameter It would be good to add an optional validated partition parameter to IoTAddFilePackage and have this give effect to selecting the desired partition for the files Hello i am currently try to create a retail image but all results in an short boot up with Windows logo and then a black screen appears I try to write down all the steps i did We bought a kernel mode signing certificate Certificate Issuer thawte SHA Code Signing CA G Subject Company Thumbprint f e f f bc ef fa d The cross certificate i downloaded from Link Cross Certificate Issuer Microsoft Code Verification Root Subject thawte Primary Root CA G Thumbprint ba ca e dd d d aebee e fd Both certificate were exported to certificate manager MMC i downloaded the newest version of iotadkaddonkitmaster unpack it and then start editing I edit IoTWorkspacexml found on iotadkaddonkitmaster Workspace IoTWorkspacexml with RetailSignToolParams my sha f e f f bc ef fa d fd SHA RetailSignToolParam Cross Certificate copied in iotadkaddonkitmaster Workspace Certs thawte Primary Root CAcer I opened iotadkaddonkitmaster IoTCorePShellcmd and typed in SetIoTRetailSign On NewIoTCabPackage All RedoIoTCabSignature iotadkaddonkitmaster Workspace Build arm pkgs C Users Company Desktop Test cabs xcopy C Users Company Desktop Test cabs cab C Users Company Desktop Test iotadkaddonkitmaster Workspace Build arm pkgs cab signcmd C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers dll signtoolexe sign v s my sha f e f f bc ef fa d fd SHA t C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers dll The following certificate was selected Issued to Company Issued by thawte SHA Code Signing CA G Expires Thu May SHA hash F E F F BC EF FA D Done Adding Additional Store Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers vchiqarmkerndll Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers vcoswin kerndll signcmd C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers sys signtoolexe sign v s my sha f e f f bc ef fa d fd SHA t C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers sys The following certificate was selected Issued to Company Issued by thawte SHA Code Signing CA G Expires Thu May SHA hash F E F F BC EF FA D Done Adding Additional Store Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers bcm pwmsys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers bcm sdhcsys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers bcmauxspisys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers bcmgpiosys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers bcmi csys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers bcmspisys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers piminiuartsys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers rpiqsys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers rpisdhcsys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers rpiwavsys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers SerPL sys Successfully signed C Users Company Desktop Test RPiBSP Rpi Packages RPiDrivers vchiqsys NewIoTWorkspace C Users Company Desktop Test Company arm ImportIoTOEMPackage Recovery ImportIoTBSP RPi C Users Company Desktop Test RPiBSP NewIoTCabPackage All AddIoTProduct ProductA RPi NewIoTFFUImage ProductA Retail All steps were sucessfull After that i installed the image on a MicroSD Card but only the windows logo appears Thanks for the help I have installed the application from the factory where i work on the image ffu Then i have installed the windows PE on the hard drive and added the ffu image on the root of it At least i have put the hard drive on the computer who have launched a cmd console i have done this command for launch the ffu file dismexe applyimage ImageFileFlashffu ApplyDrive PhysicalDrive skipplatformcheck Then i have turn off the computer and put out the hard drive I have launched the computer a Windows IoT page came like this And after i have a black screen Im turning off on everytime the computer but i have still the black screen Why What Am I supposed to do Im so confused i can do nothing and im at of my project now I need your help as quick as possible because the app from the factory has to work with this Windows IoT Core I recently updated AddonKit from a little bit older version created new WS just like before Everything seems to be fine image is being built BUT it appears to be clean Win IoT without any default app because I removed all sample apps from TestOEMInputxml My custom OEM application is added in OEM section just like it was added with older AddonKit and seems missing it was fine before RPi boots normally but as there is no default app it just shows black screen My feature section from TestOEMInputxml looks like that Features Microsoft FeatureIOTEFIESPFeature FeatureIOTEFIESPBCDMBRFeature FeatureIOTDMAPDRIVERFeature FeatureIOTCP xMAKERDRIVERFeature FeatureIOTFTSER KMAKERDRIVERFeature FeatureIOTGENERICPOPFeature Following two required for Appx Installation FeatureIOTUAPOOBEFeature FeatureIOTAPPTOOLKITFeature for Connectivity FeatureIOTWEBBEXTNFeature FeatureIOTPOWERSHELLFeature FeatureIOTSSHFeature FeatureIOTSIREPFeature Enabling Test images FeatureIOTENABLETESTSIGNINGFeature FeatureIOTTOOLKITFeature Debug Features FeatureIOTKDSERIALSETTINGSFeature FeatureIOTUMDFDBGSETTINGSFeature FeatureIOTWDTFFeature FeatureIOTCRT Feature FeatureIOTDIRECTXTOOLSFeature Microsoft OEM Include BSP Features FeatureRPI DRIVERSFeature FeatureRPI DRIVERSFeature Include OEM features FeatureOEMCustomCmdFeature FeatureOEMProvAutoFeature For recovery include RECOVERYBCDMBR FeatureAPPXOEMPLACEHOLDERFeature OEM Features We used the Intel N BSP for our Intel Pentium N Quad Core Apollo Lake SBC and everything seems to work except for one major issue for us If the computer is turned off and doesnt remain off for more than seconds then Windows IoT Core doesnt boot when powering back on Hi All I am working on the retail build and our UWP app talks to an inverter and battery on different comm ports It talks to battery on COM Port and to inverter on COM Port By default I think COM Port is kept open and for this reason the app is able to talk to battery but we need to open COM Port so that it can talk to inverter as well I checked that if we add IoTToolKit feature in the retail image it does open the ports but it open all the ports and it is also a test feature which should not be added in Retail Could anyone tell where are the COM Port information is stored and if we can execute a PowerShell script to enable COM Port Thanks Hi The IOTUPAOOBE is the required feature in all images But this feature is a foreground app I want use this IOTUAPOOBE for the APPX installation by use the Windows Device Portal How do this in a headless mode image What happend if I not include this feature QQ Best regards