This replaces some use of gvariantget with generated code based on a IDL description of the types The generated code is a lot more efficient than the individual gvariant calls as well as easier to read due to the use of types and field names instead of magic offsets On the other hand this is not necessarily code that needs to be very efficient and there is a risk in any change like this Is this something we want to use and over time extend to more code Linux distribution and version Ubuntu Flatpak version Description of the problem Flatpaks ld cache generation fails nonroot and flatpak doesnt launch as root flatpak run verbose comvalvesoftwareSteam F No installations directory in etcflatpakinstallationsd Skipping F Opening system flatpak installation at path varlibflatpak F Opening user flatpak installation at path homeuserlocalshareflatpak F Opening user flatpak installation at path homeuserlocalshareflatpak F Opening system flatpak installation at path varlibflatpak F Opening user flatpak installation at path homeuserlocalshareflatpak F Opening system flatpak installation at path varlibflatpak F Regenerating ldsocache homeuservarappcomvalvesoftwareSteamldso dfc ba eb a c a fb e a c d bb d F Running bwrap args ldconfig X C runldsocachedir dfc ba eb a c a fb e a c d bb d ldconfig Cant create temporary cache file runldsocachedir dfc ba eb a c a fb e a c d bb d Permission denied error ldconfig failed exit status Steps to reproduce Install the Steam flatpak Linux distribution and version Kubuntu Im running Xorg and not Wayland On Wayland it works but unfortunately Wayland is not stable for me I have this issue running both on an Nvidia card and the integrated Intel one Flatpak version Description of the problem I cannot run any flatpak application I always get Authenticator GtkWARNING cannot open display or similar This does not seem to be the same issue as because running xhost does not help Trying to run Authenticator a GTK app bjoernJaina xhost access control disabled clients can connect from any host bjoernJaina usrbinflatpak run v branchstable archx commandauthenticator comgithubbilelmoussaouiAuthenticator F No installations directory in etcflatpakinstallationsd Skipping F Opening system flatpak installation at path varlibflatpak F Opening user flatpak installation at path homebjoernlocalshareflatpak F Opening user flatpak installation at path homebjoernlocalshareflatpak F Opening system flatpak installation at path varlibflatpak F Opening user flatpak installation at path homebjoernlocalshareflatpak F Opening system flatpak installation at path varlibflatpak F Cleaning up unused container id F Allocated instance id F Add values in dir comgithubbilelmoussaouiAuthenticator prefix is comgithubbilelmoussaouiAuthenticator F Add defaults in dir comgithubbilelmoussaouiAuthenticator F Add locks in dir comgithubbilelmoussaouiAuthenticator F writing DConf values to homebjoernvarappcomgithubbilelmoussaouiAuthenticatorconfigglib settingskeyfile F Allowing wayland access F Allowing x access F Running usrlibexecflatpakbwrap args usrlibexecflatpakdbusproxy args F Running usrlibexecflatpakbwrap args authenticator Invalid MITMAGICCOOKIE keyUnable to init server Could not connect Connection refused Invalid MITMAGICCOOKIE keyUnable to init server Verbindung ist gescheitert Connection refused Invalid MITMAGICCOOKIE keyUnable to init server Verbindung ist gescheitert Connection refused Authenticator GtkWARNING cannot open display Trying to run Kube a QT app bjoernJaina usrbinflatpak run v branchmaster archx commandkube comkubeprojectkube F No installations directory in etcflatpakinstallationsd Skipping F Opening system flatpak installation at path varlibflatpak F Opening user flatpak installation at path homebjoernlocalshareflatpak F Opening user flatpak installation at path homebjoernlocalshareflatpak F Opening user flatpak installation at path homebjoernlocalshareflatpak F Cleaning up unused container id F Allocated instance id F Add defaults in dir comkubeprojectkube F Add locks in dir comkubeprojectkube F Allowing dri access F Allowing hostfs access F Allowing wayland access F Allowing x access F Running usrlibexecflatpakbwrap args usrlibexecflatpakdbusproxy args F Running usrlibexecflatpakbwrap args kube Invalid MITMAGICCOOKIE keyqtqpaxcb could not connect to display qtqpaplugin Could not load the Qt platform plugin xcb in even though it was found This application failed to start because no Qt platform plugin could be initialized Reinstalling the application may fix this problem Available platform plugins are eglfs minimal minimalegl offscreen vnc waylandegl wayland waylandxcompositeegl waylandxcompositeglx xcb SIGABRT received x bf kube xa x bf x f e usrlibx linuxgnulibcso x e x f e x f f gsignal x f f abort x f b f db appliblibQt Coreso x db x f b f db x f a bf b QGuiApplicationPrivatecreatePlatformIntegration x f a c d QGuiApplicationPrivatecreateEventDispatcher x f d QCoreApplicationPrivateinit x f a dc f QGuiApplicationPrivateinit x f QApplicationPrivateinit x bf kube xa x bf x f f e libcstartmain x bf a e start Sleeping for s to attach a debugger gdb attach Hi How do i clean up and set right the following issues flatpak update Looking for updates F Error updating remote metadata for orgqBittorrentqbittorrentorigin GPG signatures found but none are in trusted keyring F Error updating remote metadata for gnome Error resolving sdkgnomeorg Name or service not known F Warning Treating remote fetch error as nonfatal since runtimeorgfreedesktopSdkx is already installed Unable to load summary from remote gnome Error resolving sdkgnomeorg Name or service not known F Warning Cant find runtimeorgfreedesktopSdkx metadata for dependencies Unable to load metadata from remote gnome summary fetch error Error resolving sdkgnomeorg Name or service not known F Warning Treating remote fetch error as nonfatal since runtimeorgfreedesktopSdkLocalex is already installed Unable to load summary from remote gnome Error resolving sdkgnomeorg Name or service not known F Warning Cant find runtimeorgfreedesktopSdkLocalex metadata for dependencies Unable to load metadata from remote gnome summary fetch error Error resolving sdkgnomeorg Name or service not known F Warning Treating remote fetch error as nonfatal since runtimeorgfreedesktopPlatformGLdefaultx is already installed Unable to load summary from remote gnome Error resolving sdkgnomeorg Name or service not known F Warning Cant find runtimeorgfreedesktopPlatformGLdefaultx metadata for dependencies Unable to load metadata from remote gnome summary fetch error Error resolving sdkgnomeorg Name or service not known F Warning Treating remote fetch error as nonfatal since runtimeorgfreedesktopPlatformGLdefaulti is already installed Unable to load summary from remote gnome Error resolving sdkgnomeorg Name or service not known F Warning Cant find runtimeorgfreedesktopPlatformGLdefaulti metadata for dependencies Unable to load metadata from remote gnome summary fetch error Error resolving sdkgnomeorg Name or service not known F Warning Treating remote fetch error as nonfatal since apporgqBittorrentqbittorrentx stable is already installed Unable to load summary from remote orgqBittorrentqbittorrentorigin GPG signatures found but none are in trusted keyring F Warning Cant find apporgqBittorrentqbittorrentx stable metadata for dependencies Unable to load metadata from remote orgqBittorrentqbittorrentorigin summary fetch error GPG signatures found but none are in trusted keyring Nothing to do Latest Arch LInux Flatpak version Cant access CUPS server in MasterPDFEditor application Hi Im not sure if this is a app bug or a flatpak one Thanks lucasarchie etccups flatpak run v netcodeindustryMasterPDFEditor F No installations directory in etcflatpakinstallationsd Skipping F Opening system flatpak installation at path varlibflatpak F Opening user flatpak installation at path homelucaslocalshareflatpak F Opening user flatpak installation at path homelucaslocalshareflatpak F Opening system flatpak installation at path varlibflatpak F Opening user flatpak installation at path homelucaslocalshareflatpak F Opening system flatpak installation at path varlibflatpak F Allocated instance id F Add defaults in dir netcodeindustryMasterPDFEditor F Add locks in dir netcodeindustryMasterPDFEditor F Allowing dri access F skipping export for path etccups F Allowing wayland access F Allowing x access F CUPS configuration file homelucascupsclientconf Erro ao abrir arquivo homelucascupsclientconf Arquivo ou diret rio inexistente missing files F CUPS configuration file etccupsclientconf Erro ao abrir arquivo etccupsclientconf Arquivo ou diret rio inexistente missing files F Could not find CUPS server F Running bwrap args xdgdbusproxy args F Running bwrap args masterpdfeditor lucasarchie etccups ls classesconf cupsdconfdefault ppd snmpconfdefault classesconfO cupsfilesconf printersconf ssl cupsbrowsedconf cupsfilesconfdefault printersconfO subscriptionsconf cupsdconf lpoptions snmpconf subscriptionsconfO Linux distribution and version ubuntu Flatpak version Flatpak Description of the problem Hello I try to build a flatpak application Everything works fine till I try to display my helpfile with the default browser My app is written in C and based on GTK Ive first used this type of code char cmd gstrdupprintfxdgopen shelpFilePath run the browser gspawncommandlinesync cmd stdOut stdErr status err when I run my app with the flatpakbuilder run I receive a dialog box to choose the wanted browser and my file displays When I install my app via the following command flatpakbuilder reporepopwall forceclean builddir orgpwallPwalljson flatpak user remoteadd nogpgverify repopwall repopwall flatpak user install repopwall orgpwallPwall nothing happens when I try to display the help Ive also tried to use gtkshowurionwindow GTKWINDOWpWindow helpFilePath GDKCURRENTTIME err which is recommended in the help but I receive the following message GLibGIOCRITICAL gdbusconnectionsignalsubscribe assertion GISDBUSCONNECTION connection failed Thanks for your help I can not type cjk more than half of the flatpack app Only English is typed on the keyboard There are uim made in Japan fcitx made in China and nimf which solves Korean input bug When using Korean in ibus uim fcitx there is a bug that moves the last clip Will stabilization of cjk input in flatpak be possible in the future I try to report an issue to the app developer but its rarely fixed Like flatpak uses dconfkeyfile would it be possible to do something similar for gnomeonlineaccounts thus the gnome online accounts are per app or extend systemuser wide and located in varapp among others A better syntax to users who wish to disable self updates for all applications flatpak permissionset flatpak updates APPID no sets this only for one application I propose flatpak permissionset flatpak updates any no to disable it by default for everything even what gets installed after setting above Linux distribution and version Fedora Silverblue Flatpak version Description of the problem Installed dbusservice not found till reboot Steps to reproduce flatpak user install orgjamiJami flatpak user run orgjamiJami Run fails until reboot as above requires a ring dbus service which has been installed in exports but is not launched till reboot Does flatpak look in the xdg data sirs for dbus services and these are not updated