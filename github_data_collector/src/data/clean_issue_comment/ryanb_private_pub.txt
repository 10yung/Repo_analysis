I am trying to make faye work for my app but getting error after three successful requests at browser and connection halts Below are my config details nginxconf location faye proxypass proxysetheader Host host proxysetheader XForwardedFor proxyaddxforwardedfor proxysetheader XRealIP remoteaddr proxysetheader Upgrade httpupgrade proxysetheader Connection connectionupgrade proxybuffering off proxyredirect off proxyhttpversion proxyconnecttimeout proxysendtimeout proxysetheader XForwardedProto https proxyreadtimeout configprivatepubyml development server secrettoken oidb d a c b db dfh bc c e d eb f c c b test server secrettoken oidb d a c b db dfh bc c e d eb f c c b production server secrettoken oidb d a c b db dfh bc c e d eb f c c b signatureexpiration one hour port sslkeyfile homeec userwwwkey sslcertfile homeec usersslcert chainedcrt environment production rackup privatepubru fayeru require faye require Fileexpandpathconfiginitializersfayetokenrb FILE class ServerAuth def incomingmessage callback if message channel r meta if message ext authtoken FAYETOKEN message error Invalid authentication token end end callbackcallmessage end def outgoingmessage callback if message ext message ext authtoken message ext end callbackcallmessage end end fayeserver FayeRackAdapternewmount faye timeout fayeserveraddextensionServerAuthnew run fayeserver privatepubru require bundlersetup require yaml require faye require privatepub FayeWebSocketloadadapterthin PrivatePubloadconfigFileexpandpathconfigprivatepubyml FILE production run PrivatePubfayeapp hitting below command successfully starts Thin web server RAILSENVproduction bundle exec rackup privatepubru s thin E production When I added below code in my view file it shows below in Network of browser dev tools Request URL Request Method GET Status Code OK from disk cache Remote Address xxxxxxxxx Referrer Policy noreferrerwhendowngrade Request URL Request Method GET Status Code OK Remote Address xxxxxxxxx Referrer Policy noreferrerwhendowngrade Query string parameters message channelmetahandshakeversion supportedConnectionTypes websocketeventsourcelongpollingcrossoriginlongpollingcallbackpolling id jsonp jsonp Request URL wsswwwmydomaincomfaye Request Method GET Status Code Switching Protocols Request URL Request Method GET Status Code OK Remote Address xxxxxxxxx Referrer Policy noreferrerwhendowngrade Query string parameters message channelmetaconnectclientIdiwuhtrmjgzgzb cmsbvx t aetj naconnectionTypecallbackpollingid advicetimeout channelmetasubscribeclientIdiwuhtrmjgzgzb cmsbvx t aetj nasubscriptionleadsagentid id extprivatepubsignaturea b a fdc e e c fcde e d a d f privatepubtimestamp jsonp jsonp Request URL Request Method GET Status Code Bad Gateway Remote Address xxxxxxxxx Referrer Policy noreferrerwhendowngrade Query string parameters message channelmetaconnectclientIdiwuhtrmjgzgzb cmsbvx t aetj naconnectionTypecallbackpollingid jsonp jsonp Nothing happens after this request When I try to curl faye with below command I get success message curl d messagechannelleadsagentid datahello extprivatepubtokenoidb d a c b db dfh bc c e d eb f c c b Response channelleadsagentid successfultrue But nothing happens at client side Can anyone please tell me what could be the reason behing bad request or overall configuration PS I am using AWS HTTPS Any help would be greatly appreciated when i run rackup privatepubru s thin E production i got this error fdba c fdba c rwp ffffb af ffffb af rwp stack ffffb c ffffb cb rp vvar ffffb cb ffffb cd rxp vdso ffffffffff ffffffffff rxp vsyscall NOTE You may have encountered a bug in the Ruby interpreter or extension libraries Bug reports are welcome For details Aborted core dumped Following this link I have configured my thin and faye server When I run the server using thin C configprivatepubthinyml start it is saying Listening on CTRLC to stop But when I hit the url in browser This page isnt working didnt send any data Please help me in this This will prevent PrivatePub from subscribing to a channel multiple times I just got private chat working with private pub but am having trouble differentiating between the sender and recipient of a message When the message is published to the recipient the sender class is applied to the message the same problem that this user is having Is there a solution to this problem that I missed Thanks I am running application on localhostfollowing command I use to generate certificate and private key sudo openssl req x nodes days newkey rsa keyout privatekey out certcrt following is my configuration on localmachine port ssl true sslkeyfile homebissaccerprivatekey sslcertfile homebissaccercercrt environment development rackup privatepubru command to run thin server thin C configprivatepubthinyml start while post message on channel I am getting error SSLconnect returned errno stateSSLv read server certificate B certificate verify failed I am also running my application with thin thin start ssl sslkeyfile cerprivatekey sslcertfile cercercrt Please help I am having strange behavior of faye when I publish message from controller It doesnt send message to of channels subscribed I mean if I open tabs and send a message the message does not always publish on all tabs instead it misses out some tabs I am using private pub gem version I am using heruko app as faye server for implementation Please help Hello Im using jbuilder to create json responses Is there a way to publish jbuilder response I tried to pass different things as second argument for publishto class method but nothing work If you specify the host like this development server secrettoken secret Then start a server with either rackup or thin both will start it incorrectly thin C configprivatepubyml e development start Using rack adapter Thin web server v codename Gob Bluth Maximum connections set to Listening on CTRLC to stop rackup privatepubru s thin E development Thin web server v codename Gob Bluth Maximum connections set to Listening on localhost CTRLC to stop Of course I can override hostport for both but seems like the issue described its not a desired behaviour Hi I cant work with the gem in production mode In local mode it works fine In the page when i try to put a message in the chat nothing happens Im using nginx passenger thin Below it includes information that can be useful for support My privatepubyml development server secrettoken secret test server secrettoken secret production server secrettoken c f f e ba a c c d c fa b c d ac a b eb c cfe e a b d cd cfadd f a f c signatureexpiration one hour In the nginx config I added a proxy location faye proxypass proxyhttpversion proxysetheader Host host proxysetheader XForwardedFor proxyaddxforwardedfor proxysetheader XRealIP remoteaddr proxysetheader Upgrade httpupgrade proxysetheader Connection Upgrade proxybuffering off proxyredirect off proxyconnecttimeout proxysendtimeout proxyreadtimeout proxysetheader XForwardedProto https break Information about errors when I try to put a message in the chat In the browser console Failed to load resource the server responded with a status of Internal Server Error In the file productionlog Started POST messages for at Processing by MessagesControllercreate as JS Parameters utf authenticitytokenrEH anhuP jYUphNo aKNIi nDABavyJgW tSGQ messagequery bodyasd commitEnviar Completed Internal Server Error in ms EOFError end of file reached appcontrollersmessagescontrollerrb in create appcontrollersmessagescontrollerrb PrivatePubpublishtomessagesnewparams message query message message lecture lecture 