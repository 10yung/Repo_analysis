 The nonWindows implementation of bitscanforward is off by one resulting in LZX decompression failing ffs returns for the leastsignificant bit and for no bits set Fix Change both functions uint t uint t to outfirstsetindex i Note that this will result in outfirstsetindex being xFFFFFFFF if no bits are found but the function returns in that case as well THIS IS NOT A SUPPORT FORUM For support go here Xenia Discord help rxenia questions thread DO NOT CREATE ISSUES ABOUT SPECIFIC GAMES IN THIS REPOSITORY a game specific issue would be eg Game X crashes after you hit a character a certain way A Xenia issue would be eg Kernel export NtDoSomething does nothing For specific games visit Try to create a very concise title thats straight to the point Describe whats going wrong XEX files were used before final Xbox hardware was released Final X hardware uses XEX I tested several XEX executables XEDK samples and Perfect Dark zero XEX build and they usually hang on Unimplemented GPU opcode x That opcode is most likely specific for Xenos used in prerelease hardware Xenia actually does not crash but does not render anything on screen still uses some CPU power I also tried Perfect Dark Zero XEX build which has similar behavior but hangs on something different Suprisingly i once got it to hang on the GPU opcode error but it doesnt do it always If applicable upload a logfile and link it here LOGFILES Here is logfile of Dolphin XEX sample DolphinXEX log Here is logfile from Perfect Dark Zero XEX build It has very similar behavior but it hangs on something different PDZlog Another logfile from PDZ This time it actually displays the GPU Opcode error PDZ log While playing some Demos of games megabyte of log is written every seconds After playing for a while the log is megabytes large When the game crashes it feels inconvenient to upload it because it is so large Is there any way to narrow down the log to only the most relevant information For example if a game crashes after playing for an hour is there any way to determine the last few minutes of gameplay Does this happen in all games It happened for me while using the Dec release of Xenia latest while playing Diablo Pixar Up and Sonic Unleashed I can test more games if youd like me to The rapid speed of writing to log was happening during D scenes During D intro cutscenes the logs were increasing at a slower rate THIS IS NOT A SUPPORT FORUM For support go here Xenia Discord help rxenia questions thread DO NOT CREATE ISSUES ABOUT SPECIFIC GAMES IN THIS REPOSITORY a game specific issue would be eg Game X crashes after you hit a character a certain way A Xenia issue would be eg Kernel export NtDoSomething does nothing For specific games visit Try to create a very concise title thats straight to the point Describe whats going wrong Describe what should happen If applicable provide a callstack here esp for crashes If applicable upload a logfile and link it here seems git tags is gone in the project the latest build i have with tags working is builded in greetings This error frequently occurs in any games resulting in the game can not run normally Remember that there was no this bug before probably in the last two months please fix it as soon as possible thanks WIN K TI GBRAM You can see a preview here Closes The current guesttohost and hosttoguest thunks do not save registers that are volatile on Linux The current thunk layout also has the memory location for the xmm registers misaligned to bytes meaning the calls to vmovaps should throw a GP exception even on Windows followup for anyone with Windows is the struct not being properly packed After this PR is merged sizeofThunk should be x or in decimal and before this PR gets merged it should be x or in decimal This PR saves registers necessary to be saved on Linux as well as changes the layout of the Thunk struct to properly align the xmm register memory locations The scratch and dummy elements removed from the Thunk struct have sofar been unused since the structs introduction in These changes have been tested on a few games on Windows to ensure emulation still works Xenia doesnt print help to command line for example when running xeniaexe help This was probably an oversight when switching from gflags to our own config system see comment below output of latest master D modsnstuff Xbox xeniaexe help D modsnstuff Xbox Looped sounds have a short interruption Confirmed for rain in Red Dead Redemption and engine sounds in Midnight Club Los Angeles These should play seamlessly My vague guess is that the XMA codec implementation doesnt handle this correctly Fixes these issues which mainly affect developers debugging Because frame time is calculated based on GetSystemTimeAsFileTime a time delta of zero is possible Value is ns resolution but apparently not updated at that rate by the system A new imgui frame is created before it is verified the context isnt lost 