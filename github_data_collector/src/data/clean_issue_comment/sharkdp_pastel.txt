I would expect pastel set lightness to set a colors lab lightness to The code does seem to try and set labl value but it doesnt actually result in a lab lightness value of Which seemed odd pastel format lab orange Lab pastel set lightness orange pastel format lab Lab I have no idea if this is an issue with converting between colorspaces or just unavoidable At the lab lightness value seems to be shown as but it isnt pure white pastel set lightness orange pastel format lab Lab At it finally reaches pure white pastel set lightness orange pastel format lab Lab You can keep try setting it to lightness and it will increase slightly which is odd pastel set lightness orange pastel format lab Lab pastel set lightness orange pastel set lightness pastel format lab Lab pastel set lightness orange pastel set lightness pastel set lightness pastel format lab Lab Text takes up two rows of pixels in the hdcanvas We could use this to add colored drawn text and treat the first row as the foreground and the second as the background As an example usage not added in this PR Relates to This PR adds combinatorbased parsing using nom This allows the code to uniformly handle numerics percentages decimals integers and can also eventually provide error output in case of parser failure not implemented yet I havent had a chance to benchmark the differences between the parsers yet Closes This is not as straightforward to implement like the rest of the properties The way this should be implemented is probably by only adjusting the Lightness channel in Lab space until the luminance has the right value If there is no direct way to compute the correct L value we could also perform a binary search in L space until we have the right luminance value Hi I was testing pastel a bit very nice tool I noticed that the values returned by the rgbfloat format are nonlinearly encoded ie they have the sRGB inverse EOTF applied which limit their usefulness bash colour Kalidebug kelsolaar pastel format rgbfloat rgb colour Kalidebug kelsolaar python c import colourprintcolourconvert Hexadecimal SceneReferred RGB Often when people are working with floatingpoint colours they need to use linear ie scenereferred RGB colours to drive a shader for example I would thus suggest adding a new format eg rgblinear that would yield linear colours Cheers Thomas x After the optimization is done rearrange the colors such that the minimal difference between a color and any of its predecessors is maximized add maxluminance and similar options in order to generate colors for a whiteblack background add numiterationsmean numiterationsmax etc to finetune the simulated annealing parameters x support something like pastel distinct red blue yellow fix three colors generate five new optimize x do not recompute all distances order N but only the once that changed order N Is there something we can easily parallelize The mutual distancecomputation This could be incredible useful for shell scripts that want easy access to perceptually uniform color scales pastel sample viridis pastel sample blueToRed Note this would be quite similar to pastel mix blue red f and also pastel gradient blue red We should try to come up with a consistent API Basically pastel gradient red blue pastel sample redToBlue pastel sample redToBlue See In analogy to mix Resources Make sure that we can reproduce this 