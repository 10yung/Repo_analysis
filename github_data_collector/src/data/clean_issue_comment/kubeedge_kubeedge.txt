What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespaces from that line kind apichange kind bug kind cleanup kind design kind documentation kind test kind failingtest kind feature What this PR does why we need it What Changed Previously during keadm init keadm checks whether Kubernetes and Docker is installed or not If not installed it installs them Now keadm only checks if Kubernetes is installed or not If not throws an error and request user to install Kubernetes Commented code for Check and installation of Docker Installation of Kubernetes instead display a error message Why this change was made Issue ContainerRuntime and K S should not be in the management scope of keadm Special notes for your reviewer Please ignore the multiple commit history Still newbie to the git Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required releasenote NONE Hit below issue if the directory does not exist failed to listen addr listen unix varlibkubeedgekubeedgesock bind no such file or directory Signedoffby Dave Chen davechenarmcom What type of PR is this kind bug What this PR does why we need it Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required releasenote NONE Signedoffby zhangjie iamkadisi com Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines Ensure you have added or ran the appropriate tests for your PR What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespaces from that line kind apichange kind bug kind cleanup kind design kind documentation kind test kind failingtest kind feature kind feature What this PR does why we need it add make install uninstallclean command for makefile Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required releasenote add make install uninstallclean command for makefile Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines Ensure you have added or ran the appropriate tests for your PR What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespaces from that line kind bug What this PR does why we need it it fix a serious bug which may cause unexpected exit of cloudcore Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer i add a channel between handler and edgecontroller if edgecontroller watch a node deleted it will push the node name to the channel when handler get the name it will use the function cancelnode the delete the node channel from channelPool im considering about the scheme if a mutex is necessary we can discuss about it Does this PR introduce a userfacing change no If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required releasenote Please use this template while reporting a bug and provide as much info as possible Thanks What happened I delete a node from k s and shutdown the edgecore then i create the same node and restart edgecore in a short time the cloudcore can possiblely meet an error and exit this a serious problem i cannot upload the picture about the bug due to my work environment so i have to upload the log file What you expected to happen it is expected that the node connects successfully when the edgecore is restarted and nothing stopped How to reproduce it as minimally and precisely as possible kubectl delete node nodename kill edgecore kubectl create node nodename start edgecore that is all my operations Anything else we need to know here is the log E messagehandlergo write error connection for node flagshipnode will be closed affected event id dccf fc ea ce a b acfa b a parentid group resource source edgecontroller resource namespaceservicelistservice operation update reason tls use of closed connection E messagehandlergo fail to close connection reason tls use of closed connection I upstreamgo dispatch message ID cbf fad a c e c dfd W upstreamgo parse message cbf fad a c e c dfd resource type with error resource type not found panic send on closed channel goroutine running githubcomkubeedgekubeedgecloudpkgcloudhubchannelqChannelMessageQueueDispatchMessage xc d rootzhaorIEFcodesrcgithubcomkubeedgekubeedgecloudpkgcloudhubchannelqchannelqgo x d created by githubcomkubeedgekubeedgecloudpkgcloudhubcloudHubStart rootzhaorIEFcodesrcgithubcomkubeedgekubeedgecloudpkgcloudhubcloudhubgo x Environment KubeEdge versioneg cloudcoreedgecore version v Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines Ensure you have added or ran the appropriate tests for your PR What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespaces from that line kind apichange kind bug kind cleanup kind design kind documentation kind test kind failingtest kind feature What this PR does why we need it See add the delete message to edged and delete the unused pods Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required releasenote Fix pod stay in terminating state and cant be deleted Please use this template while reporting a bug and provide as much info as possible Thanks What happened When the pod is successfully scheduled but not running at this point the pod status is Pending If delete the pod at this point and it will stay in terminating state and cant be deleted What you expected to happen Pod can be deleted How to reproduce it as minimally and precisely as possible Create a deploy set replica to and make all pod schduled to one node after about s deleting the deploy some pods will stay in terminating state Anything else we need to know Environment KubeEdge versioneg cloudcoreedgecore version Master CloudSide Environment Hardware configuration eg lscpu OS eg cat etcosrelease Kernel eg uname a Go version eg go version Others EdgeSide Environment edgecore version eg edgecore version Hardware configuration eg lscpu OS eg cat etcosrelease Kernel eg uname a Go version eg go version Others Please use this template while reporting a bug and provide as much info as possible Thanks What happened Container startup failed but pod status is running What you expected to happen Pod status shouldnt be running How to reproduce it as minimally and precisely as possible Anything else we need to know Environment KubeEdge versioneg cloudcoreedgecore version CloudSide Environment Hardware configuration eg lscpu OS eg cat etcosrelease Kernel eg uname a Go version eg go version Others EdgeSide Environment edgecore version eg edgecore version Master Hardware configuration eg lscpu OS eg cat etcosrelease Kernel eg uname a ubuntu docker Go version eg go version Others Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines Ensure you have added or ran the appropriate tests for your PR What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespaces from that line kind apichange kind bug kind cleanup kind design kind documentation kind test kind failingtest kind feature What this PR does why we need it Fix the master rolling upgrade failed for large cluster Xref Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required releasenote Bump k s to 