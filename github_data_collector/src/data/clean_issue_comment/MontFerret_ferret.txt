Describe the bug When running my script I run into the element detached error after loops The same logic for another website does work Error is element detached INNERHTMLdochtml at To Reproduce Steps to reproduce the behavior LET matchurls FOR match IN ELEMENTSdoc table framelhs a RETURN CONCATFULL URL matchattributeshref LET uniquematchurls UNIQUEmatchurls LET links FOR matchurl IN uniquematchurls WAITRAND NAVIGATEdoc matchurl WAITRAND LET matchhtml INNERHTMLdoc html WAITRAND NAVIGATEBACKdoc WAITRAND RETURN url matchurl html matchhtml I added the RAND for debugging purposes Expected behavior I expect for every loaded URL the HTML returned Screenshots Desktop please complete the following information OS Windows Pro Browser Chrome Version latest from master Additional context If I replace the loop with a DOCUMENT call like this the code works although very inefficiently by opening a new tab for every page LET links FOR matchurl IN uniquematchurls WAITRAND LET innerdoc DOCUMENTmatchurl driver cdp userAgent Mozilla Macintosh Intel Mac OS X AppleWebKit KHTML like Gecko Chrome Safari keepCookies false WAITRAND LET matchhtml INNERHTMLinnerdoc html WAITRAND NAVIGATEBACKdoc WAITRAND RETURN url matchurl html matchhtml githubcomMontFerretferretpkgdriverscdp go src githubcom MontFerret ferret pkg drivers cdp drivergo undefined targetBrowserContextID Im testing the PAGINATION function on some sites What Ive noticed is that it doesnt always work and its not clear to me why Here very similar examples Here the pagination works like expected LET doc DOCUMENT driver cdp WAITELEMENTdoc t kranksorting LET nextBtnSelector a classpaginatebutton next LET listingBlock ELEMENTdoc top tbody LET rowBlocks ELEMENTSlistingBlock tr LET objs FOR pageNum IN PAGINATIONdoc nextBtnSelector LIMIT WAIT LET url ELEMENTdoc spanbtcontent ainnerText LET rank ELEMENTdoc tdt kranksorting spaninnerText PRINTurl url RETURN url url rank rank RETURN objs Output First entries of the last pages rank url Here the pagination doesnt work Ferret does not move to the next page LET listingPage DOCUMENT driver cdp userAgent Mozilla Macintosh Intel Mac OS X AppleWebKit KHTML like Gecko Chrome Safari WAIT LET nextBtnSelector divwisbbpaginator axhhighlight LET resultListSelector divwisbbplayersTable awisbbfullPlayer span WAITELEMENTlistingPage resultListSelector LET namesList FOR pageNum IN PAGINATIONlistingPage nextBtnSelector WAIT LET wait pageNum WAITNAVIGATIONlistingPage false LET waitSelector wait WAITELEMENTlistingPage resultListSelector false LET ElmList ELEMENTSlistingPage resultListSelector FOR name IN ElmList RETURN nameinnerText RETURN namesList Output Only st page Abdullah AmeerAbdullah Ameer Abernathy MicahAbernathy Micah Aboushi OdayAboushi Oday Abram JohnathanAbram Johnathan Acho SamAcho Sam Adams AndrewAdams Andrew Adams DavanteAdams Davante Adams JamalAdams Jamal Adams JerellAdams Jerell Adams JoshAdams Josh Adams KeionAdams Keion Adams MatthewAdams Matthew Adams MikeAdams Mike Adams MontraviusAdams Montravius Adams PaulAdams Paul Adams TonyAdams Tony Adams TyrellAdams Tyrell Addae JahleelAddae Jahleel Adderley NasirAdderley Nasir Addison MarioAddison Mario Adeboyejo QuincyAdeboyejo Quincy Adeniyi OlasunkanmiAdeniyi Olasunkanmi Adeoye AaronAdeoye Aaron Adewusi TennyAdewusi Tenny Afriyie PatAfriyie Pat EDIT Maybe this is more appropriate for the nd example LET doc DOCUMENT driver cdp LET nextBtnSelector wisfoxbox sectionwisbbbody div divwisbbpaginator anthchild WAIT LET objs FOR pageNum IN PAGINATIONdoc nextBtnSelector LIMIT WAIT LET name ELEMENTdoc tdwisbbtextwisbbfixedColumninnerText RETURN name RETURN objs The selector breaks after the nd page but I think with LIMIT it should work for the first iteration Here comes up another issue though Its a pain to work only with CSS Selectors I have no idea how to make the selector work for all pages Ive made a feature request for XPath and jQuery Selectors here Is your feature request related to a problem Please describe All provided functions eg PAGINATION in ferret support only CSS Selectors and these cannot cover all use cases For example in I wanted to select the next button based on the text Next but selecting an element based on the text as Ive seen isnt supported by CSS selectors Describe the solution youd like It would be better to support XPath and jQuery Selectors in the functions and give the user the option to choose the type of selectors he wants to use Eg LET nextBtnSelectorElement XPATHdoc a containstextNext and then FOR pageNum IN PAGINATIONlistingPage nextBtnSelectorElement xpath I sometimes get element detached error and I dont understand why Here an example LET listingPage DOCUMENT driver cdp userAgent Mozilla Macintosh Intel Mac OS X AppleWebKit KHTML like Gecko Chrome Safari WAIT LET nextBtnSelector wisfoxbox sectionwisbbbody div divwisbbpaginator anthchild LET listingBlock ELEMENTlistingPage wisfoxbox sectionwisbbbody div divwisbbplayersTable div table LET blocks ELEMENTSlistingBlock tr LET myObjs FOR pageNum IN PAGINATIONlistingPage nextBtnSelector WAIT LET wait pageNum WAITNAVIGATIONlistingPage false LET waitSelector wait WAITELEMENTlistingPage listingBlock false PRINTELEMENTlistingPage body FOR block IN blocks PRINTblockText blockinnerText RETURN blockText blockinnerText RETURN myObjs and the error Failed to execute the query element detached FORpageNumINPAGINATIONlistingPagenextBtnSelectorLETwaitpageNum WAITNAVIGATIONlistingPagefalseLETwaitSelectorwaitWAITELEMENTlistingPagelistingBlockfalsePRINTELEMENTlistingPagebodyFORblockINblocksPRINTblockTextblockinnerTextRETURNblockTextblockinnerText at How can I fix it What Im trying to do is get the listing and the links in each row the details for each row and of course for all pages At this moment we can only handle navigation events of an entire page but there are some situations when we need to handle the event of an individual iframe of the page Is it possible to paginate within an iframe I tried several times with the CLICK function as well as with the PAGINATION function but neither of them worked Example for CLICK LET page DOCUMENT driver cdp userAgent Mozilla Macintosh Intel Mac OS X AppleWebKit KHTML like Gecko Chrome Safari WAIT LET nextBtnSelector aw rightw btn LET frame pageframes LET frameTitleSelector main h span LET frameTitle ELEMENTframe frameTitleSelectorinnerText PRINTframeTitle PRINTELEMENTframe main divw panelw infointro pnthchild innerText CLICKframe nextBtnSelector WAIT WAITELEMENTframe main ulnthchild linthchild PRINTframeTitle RETURN DONE I see in the logs only the title of the first page Tutorial Ferret doesnt move to the next page Introduction I need help with running chrome with CLI proxyserver settings When I set up a proxy server from chrome GUI settings SettingsAdvancedOpen your computers proxy settingsUse manually specified proxy configuration it works fine checked on whatismyproxycom But when I set the proxy from command line chrome does not load any page googlechrome proxyserver The same main problem is with headless or with dockerised alpewarechromeheadlessstable googlechromestable headless disablegpu remotedebuggingport forcedevicescalefactor nofirstrun nodefaultbrowsercheck nosandbox proxyserver Have anyone experienced this problem I am using Kubuntu Thanks Describe the bug When using the cdp driver during closing of a browser page this error sometimes appears levelwarntimexurlxerrorrpcc the connection is closingtimexmessagefailed to close browser page levelerrortimexerror rpcc the connection is closing session detach timed out for session C DF E E AE CBAA E timexmessageclosing root scope To Reproduce Steps to reproduce the behavior Run a single program times instances in parallel Observe the error sometimes Expected behavior No error should be printed Desktop please complete the following information OS Windows Browser Chrome Version latest Additional context I only observed this issue when I had multiple programs running in parallel to instances at a time Im not sure the library even needs to close the page manually Here on line the page is closed manually This looks weird because of the contextBackground passed in as the parameter At the end of the function the pages connection is closed I think that this should be enough to close the page Lets add functions that implement IO operations We need to cover areas for now File system Network HTTP Each of the areas must be in a dedicated namespace IOFSREADpath string IOFSWRITEpath string data bytes IONETHTTPGETurl string params object IONETHTTPPOSTparams object IONETHTTPPUTparams object IONETHTTPDELETEurl string params object Did I miss something More detailed API will be discussed later Here is a list of things we need to add for starters x IOFSREAD x IOFSWRITE IOFSDELETE do we need it IONETHTTPGET IONETHTTPPOST IONETHTTPPUT IONETHTTPDELETE