Changed the method for selecting variables in the df to use tidyselect This allows negation as well as tidyselect helpers like startswith endswith contains matches etc Related Issue Example mtcars getdupesweight wt startswithcy Tests Includes new tests testthattidyselect specification matches exact specification expectequalmtcars getdupescontainscy mpg mtcars getdupescyl mpg expectequalmtcars getdupesmpg mtcars getdupesccyl disp hp drat wt qsec vs am gear carb expectequalsuppressMessagesmtcars selectcyl wt getdupes mtcars selectcyl wt getdupeseverything Also modifies test for specifying zero matching vars as the old function for doing so was removed tidyselect now throws its own error if nothing matches for exact specification NOTE however that using a tidyselect helper that doesnt catch anything will not produce any error or message It would be great if there were a function to calculate similarity rather than exact duplicates For instance if I have several rows that are all duplicates except for different values in one column it would return those rows and a similarity score Argument would allow for setting the similarity bounds getdupes allows you to specifiy columns positively but you cant negate them ie getdupesmpg cty does not work but getdupesmpg cty does Often theres a single column that serves as an index or key that you know wont have a dupe so it would be best to remove it rather than specifying all the vars except for it I got an automatic notification that changes to the tidyselect package which will go to CRAN on Jan rd cause a test to fail in janitor It appears to be a single test that looks for a specific error message and I expect tidyselect changed the error message text causing this to fail So not a serious problem But I think it requires CRAN submission And anyway its been months and we have implemented a bunch of nice updates to the package so its probably time to declare version and send it anyway I can handle the CRAN submission process Anyone have anything they want to try to ship quickly into v Currently cleannames converts to percent and to number Would it be possible to have an option like translate c pc no per In and way tables would it be possible to add the ability to have percentages in all rowscolumns except in any row andor column totals The results for a way table with only column totals and percentages by row would look like Row Variable Column Value Column Value Total Row Value Row Value Compared to the adornpctformatting adornns approach this seems cleaner to me both visually and from a data manipulation perspective later on if I wanted to use the tabyl in reporting or analysis This implements the changes suggested in handling numeric character factor Date and POSIXt classes for both Date and POSIXct output Currently excelnumerictodate requires numeric input but as is the case with many janitor functions input is often messy I often get files that have various formats for date and sometimes I want to use generic code to clean them up With that Id like to have excelnumerictodate be able to take in POSIXt or Date classes The return value would be an appropriate of either POSIXct if includetimeTRUE or Date if includetimeFALSE The downside to this is that things other than numbers are no longer is actually excel numeric to date but a more general to date function If interested Ill make a PR Id like to make some small adjustments regarding the readability of the makecleannames function I think these might make it more easy to reason about current and further upcoming issues The adjustments include Some smaller adjustments in the beginning explicit comments and removing of the pipe Including also unused arguments of toanycase explicitly in the source code This might make it easier to reason about issues which might get solved by providing snakecase arguments to janitor users Feature requests I think it would be nice to print tabyl frames as tibbles Especially since janitor is a tidyverseoriented package Its a small thing but consistency just makes the whole process smoother In the example below you can see how the tibble object makes it clear that color is an ordinal variable and removes nonsignificant digits from percent r libraryjanitor libraryggplot librarytibble t tabyldiamonds color printt color n percent D E F G H I J astibblet A tibble x color n percent ord dbl dbl D E F G H I J supCreated on by the reprex package v sup Edit Use reprexreprex for example