After compiling with dkms or make install I plug the Archer T U v and journalctl kf shows log jan galadriel kernel usb USB disconnect device number jan galadriel kernel usb new highspeed USB device number using xhcihcd jan galadriel kernel usb New USB device found idVendor idProduct bcdDevice jan galadriel kernel usb New USB device strings Mfr Product SerialNumber jan galadriel kernel usb Product ac NIC jan galadriel kernel usb Manufacturer Realtek jan galadriel kernel usb SerialNumber jan galadriel kernel RTL X invalid offset x jan galadriel kernel cut here jan galadriel kernel WARNING CPU PID at netwirelesscorec wiphyregistercold x x cfg jan galadriel kernel Modules linked in rtl auOE ctr ccm ath khtc ath kcommon ath khw ath mac libarc rfcomm overlay cmac bnep binfmtmisc squashfs intelraplmsr intelraplcommon zstddecompress loop x pkgtempthermal sndhdacodechdmi intelpowerclamp coretemp sofpcidev sndsofintelhdacommon kvmintel sndsofintelhda sndsofintelbyt btusb btrtl nvidiadrmPOE kvm btbcm sndsofintelipc sndsof btintel sndsofxtensadsp nvidiamodesetPOE irqbypass efipstore bluetooth sndsocskl sndsochdachda sndhdaextcore intelcstate nlsascii sndsocsklipc nlscp sndsocsstipc nvidiaPOE inteluncore eeepcwmi intelraplperf vfat sndsocsstdsp asuswmi fat sndsocacpiintelmatch sparsekeymap wmibmof sndhdacodecrealtek efivars pcspkr sndsocacpi sndhdacodecgeneric sndsoccore iTCOwdt drmkmshelper iTCOvendorsupport watchdog fuse ledtrigaudio sndcompress cfg evdev drbg sndhdaintel drm sndhdacodec ansicprng sndhdacore ecdhgeneric jan galadriel kernel sndhwdep ecc rfkill sndpcm ipmidevintf ipmimsghandler meime sndtimer sg mei snd soundcore ie edac acpipad acpitad button efivarfs iptables xtables autofs ext crc mbcache jbd crc cgeneric dmmod hidlogitechhidpp hidlogitechdj hidgeneric usbhid hid sdmod crct difpclmul crc pclmul crc cintel ghashclmulniintel aesniintel ahci xhcipci libahci xhcihcd e e libata aesx cryptosimd cryptd gluehelper ptp ppscore usbcore nvme scsimod i ci nvmecore usbcommon fan wmi video last unloaded rtl au jan galadriel kernel CPU PID Comm kworker Tainted P W OE amd Debian jan galadriel kernel Hardware name System manufacturer System Product NameTUF B MPLUS GAMINGBR BIOS jan galadriel kernel Workqueue usbhubwq hubevent usbcore jan galadriel kernel RIP wiphyregistercold x x cfg jan galadriel kernel Code b b ea ff ff ff e c fa ff c c c e b b f f b e d fa ff c c c e b b f f b b ea ff ff ff e e c fa ff c c c e d b jan galadriel kernel RSP ffffb d b EFLAGS jan galadriel kernel RAX RBX e RCX jan galadriel kernel RDX RSI ffff c ddad RDI ffff c ddad jan galadriel kernel RBP ffffb d b R ffff c ddad R jan galadriel kernel R R R ffff c e ab jan galadriel kernel R ffff c db R ffff c e e R ffff c db jan galadriel kernel FS GSffff c ddac knlGS jan galadriel kernel CS DS ES CR jan galadriel kernel CR f aa cd CR fbf e CR e jan galadriel kernel Call Trace jan galadriel kernel rtwmalloc x x a rtl au jan galadriel kernel rtwzmalloc x x b rtl au jan galadriel kernel rtwmemcpy xc xd rtl au jan galadriel kernel rtw gratesinit x x rtl au jan galadriel kernel rtwsptbandalloc xa xa rtl au jan galadriel kernel rtwwdevalloc xff x e rtl au jan galadriel kernel rtwusbif init x x f rtl au jan galadriel kernel rtwdrvinit x x bd rtl au jan galadriel kernel usbprobeinterface xe x usbcore jan galadriel kernel reallyprobe xf x jan galadriel kernel driverprobedevice x xd jan galadriel kernel driverallowsasyncprobing x x jan galadriel kernel busforeachdrv x b xc jan galadriel kernel deviceattach xdf x jan galadriel kernel busprobedevice x e xa jan galadriel kernel deviceadd x a x jan galadriel kernel usbsetconfiguration x f x c usbcore jan galadriel kernel genericprobe x c x usbcore jan galadriel kernel reallyprobe xf x jan galadriel kernel driverprobedevice x xd jan galadriel kernel driverallowsasyncprobing x x jan galadriel kernel busforeachdrv x b xc jan galadriel kernel deviceattach xdf x jan galadriel kernel busprobedevice x e xa jan galadriel kernel deviceadd x a x jan galadriel kernel adddevicerandomness x c x c jan galadriel kernel usbnewdevicecold x x e usbcore jan galadriel kernel hubevent x x usbcore jan galadriel kernel processonework x a x jan galadriel kernel workerthread x x c jan galadriel kernel kthread xf x jan galadriel kernel processonework x x jan galadriel kernel kthreadpark x x jan galadriel kernel retfromfork x x jan galadriel kernel end trace fc d ad b jan galadriel kernel usb reset highspeed USB device number using xhcihcd Aditional data console rootgaladrielhometobias lsbrelease a No LSB modules are available Distributor ID Debian Description Debian GNULinux bullseyesid Release testing Codename bullseye rootgaladrielhometobias uname a Linux galadriel amd SMP Debian x GNULinux The WiFi device TPLink AC Wireless DualBand USB Adapter doesnt work on the latest Ubuntu on the latest kernel rtl AU AUlinux gitmaster cd aTpLinkrtl AU AUlinux rtl AU AUlinux gitmaster rtl AU AUlinux gitmaster sudo make f Makefiledkms install make clean make Entering directory homeseanaTpLinkrtl AU AUlinux make ARCHx CROSSCOMPILE C libmodules genericbuild MhomeseanaTpLinkrtl AU AUlinux clean make Entering directory usrsrclinuxheaders generic CLEAN homeseanaTpLinkrtl AU AUlinuxModulesymvers make Leaving directory usrsrclinuxheaders generic make Leaving directory homeseanaTpLinkrtl AU AUlinux mkdir p usrsrcrtl au cp r dkmsconf Kconfig Makefiledkms Makefile platform core hal include osdep usrsrcrtl au cp Makefile usrsrcrtl au Makefile sed sMODULEVERSION dkmsconf usrsrcrtl au dkmsconf dkms add m rtl au v devnull true dkms build m rtl au v Module rtl au already built for kernel generic dkms install m rtl au v Module rtl au already installed on kernel genericx rtl AU AUlinux gitmaster sudo make install install p m rtl auko libmodules generickerneldriversnetwireless install cannot stat rtl auko No such file or directory make Makefile install Error rtl AU AUlinux gitmaster sudo make clean make ARCHx CROSSCOMPILE C libmodules genericbuild MhomeseanaTpLinkrtl AU AUlinux clean make Entering directory usrsrclinuxheaders generic make Leaving directory usrsrclinuxheaders generic rtl AU AUlinux gitmaster sudo make make ARCHx CROSSCOMPILE C libmodules genericbuild MhomeseanaTpLinkrtl AU AUlinux modules make Entering directory usrsrclinuxheaders generic CC M homeseanaTpLinkrtl AU AUlinuxcorertwcmdo CC M homeseanaTpLinkrtl AU AUlinuxcorertwsecurityo CC M homeseanaTpLinkrtl AU AUlinuxcorertwdebugo CC M homeseanaTpLinkrtl AU AUlinuxcorertwioo CC M homeseanaTpLinkrtl AU AUlinuxcorertwioctlqueryo CC M homeseanaTpLinkrtl AU AUlinuxcorertwioctlseto CC M homeseanaTpLinkrtl AU AUlinuxcorertwieee o CC M homeseanaTpLinkrtl AU AUlinuxcorertwmlmeo CC M homeseanaTpLinkrtl AU AUlinuxcorertwmlmeexto CC M homeseanaTpLinkrtl AU AUlinuxcorertwwlanutilo CC M homeseanaTpLinkrtl AU AUlinuxcorertwvhto CC M homeseanaTpLinkrtl AU AUlinuxcorertwpwrctrlo CC M homeseanaTpLinkrtl AU AUlinuxcorertwrfo CC M homeseanaTpLinkrtl AU AUlinuxcorertwrecvo CC M homeseanaTpLinkrtl AU AUlinuxcorertwstamgto CC M homeseanaTpLinkrtl AU AUlinuxcorertwapo CC M homeseanaTpLinkrtl AU AUlinuxcorertwxmito CC M homeseanaTpLinkrtl AU AUlinuxcorertwp po CC M homeseanaTpLinkrtl AU AUlinuxcorertwtdlso CC M homeseanaTpLinkrtl AU AUlinuxcorertwbrexto CC M homeseanaTpLinkrtl AU AUlinuxcorertwiolo CC M homeseanaTpLinkrtl AU AUlinuxcorertwsreseto CC M homeseanaTpLinkrtl AU AUlinuxcorertwbtcoexo CC M homeseanaTpLinkrtl AU AUlinuxcorertwbeamformingo CC M homeseanaTpLinkrtl AU AUlinuxcorertwodmo CC M homeseanaTpLinkrtl AU AUlinuxcoreefusertwefuseo CC M homeseanaTpLinkrtl AU AUlinuxosdeposdepserviceo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxosintfso CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxusbintfo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxusbopslinuxo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxioctllinuxo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxxmitlinuxo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxmlmelinuxo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxrecvlinuxo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxioctlcfg o CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxrtwcfgvendoro CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxwifiregdo CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxrtwandroido CC M homeseanaTpLinkrtl AU AUlinuxosdeplinuxrtwproco CC M homeseanaTpLinkrtl AU AUlinuxhalhalintfo CC M homeseanaTpLinkrtl AU AUlinuxhalhalcomo CC M homeseanaTpLinkrtl AU AUlinuxhalhalcomphycfgo CC M homeseanaTpLinkrtl AU AUlinuxhalhalphyo CC M homeseanaTpLinkrtl AU AUlinuxhalhaldmo CC M homeseanaTpLinkrtl AU AUlinuxhalhalbtcoexo CC M homeseanaTpLinkrtl AU AUlinuxhalhalhcihalusbo CC M homeseanaTpLinkrtl AU AUlinuxhalledhalusbledo CC M homeseanaTpLinkrtl AU AUlinuxhalHalPwrSeqCmdo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl aHal PwrSeqo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl aHal APwrSeqo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl axmito CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl asreseto CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl ahalinito CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl aphycfgo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl arf o CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl admo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl arxdesco CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl acmdo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl ausbusbhalinito CC M homeseanaTpLinkrtl AU AUlinuxhalrtl ausbrtl auledo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl ausbrtl auxmito CC M homeseanaTpLinkrtl AU AUlinuxhalrtl ausbrtl aurecvo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl ausbusbopslinuxo CC M homeseanaTpLinkrtl AU AUlinuxhalrtl artl ampo CC M homeseanaTpLinkrtl AU AUlinuxhalefusertl aHalEfuseMask AUSBo CC M homeseanaTpLinkrtl AU AUlinuxhalefusertl aHalEfuseMask AUSBo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmdebugo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmAntDivo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmAntDecto CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydminterfaceo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmHWConfigo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCHalPhyRfo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmEdcaTurboChecko CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmDIGo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmPathDivo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmRaInfoo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmDynamicBBPowerSavingo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmPowerTrackingo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmDynamicTxPowero CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCPhyDMAdaptivityo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmCfoTrackingo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmNoiseMonitoro CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCphydmACSo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg AFWo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg AMACo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg ABBo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg ARFo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalPhyRf Ao CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aphydmRegConfig Ao CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aphydmRTL Ao CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg AFWo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg AMACo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg ABBo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalHWImg ARFo CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aHalPhyRf Ao CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aphydmRegConfig Ao CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aphydmRTL Ao CC M homeseanaTpLinkrtl AU AUlinuxhalOUTSRCrtl aPhyDMIQK Ao CC M homeseanaTpLinkrtl AU AUlinuxplatformplatformopso CC M homeseanaTpLinkrtl AU AUlinuxcorertwmpo CC M homeseanaTpLinkrtl AU AUlinuxcorertwmpioctlo CC M homeseanaTpLinkrtl AU AUlinuxcorertwbtmpo LD M homeseanaTpLinkrtl AU AUlinuxrtl auo Building modules stage MODPOST modules CC homeseanaTpLinkrtl AU AUlinuxrtl aumodo LD M homeseanaTpLinkrtl AU AUlinuxrtl auko make Leaving directory usrsrclinuxheaders generic rtl AU AUlinux gitmaster sudo make install install p m rtl auko libmodules generickerneldriversnetwireless sbindepmod a generic rtl AU AUlinux gitmaster sudo modprobe a rtl au rtl AU AUlinux gitmaster sudo apt install linuxheadersuname r Reading package lists Done Building dependency tree Reading state information Done linuxheaders generic is already the newest version upgraded newly installed to remove and not upgraded rtl AU AUlinux gitmaster rtl AU AUlinux gitmaster rtl AU AUlinux gitmaster rtl AU AUlinux gitmaster Ive finally made it work after some modifications Using the head doesnt seem to work It compiles but DKMS shows some errors related to the kernel I believe that the kernel I have after a clean install of the OS already had some drivers for AU I modified the Makefiledkms to force DKMS to install it regardless using the force flag That didnt work I checkout b ec d a d e b e cb c f with similar results After reading the last comment on this thread I followed the advice and checkout d c ead ff d fbf c d b I manually implemented the changes done in b ec d a d e b e cb c f modified the Makefiledkms ran sudo make f Makefiledkms install and rebooted Surprisingly it worked This whole experiment implies that the changes done in f fb a a c cda ed c caused these issues Anyways Im not competent enough to make a pull so I decided to write this to guide many Jetson Nano with T U adapters users browsing this Hopefully you guys can find the issue and fix it Perhaps I should make a fork in the meantime Since the Jetson nano and Xavier have similar architecture I tried to make my usb dongle COMFAST Mbps USB Wireless AdapterModel CF AC work as if I was on a Jetson Nano Jetson AGX Xavier is an arm architecture I am on the default flashed kernel tegra and L T Ubuntu LTS Before installing the driver The usb dongle was not managed by the network manager After installing the drivers I am able to see Wifi networks however I cant connect to any of them Whenever I try to connect to a network It acts as if the password entered was wrong I tried several wifi networks and had the same results in last commit access point mode not work Hello I have the following problem the driver does not work under kernel on Openwrt What I have done export STAGINGDIRhomesrcopenwrt export LDLIBRARYPATHTOOLCHAINDIRusrlib export LDCFLAGSTOOLCHAINDIRusrlib export PATHSTAGINGDIRbinPATH export TOOLCHAINDIRSTAGINGDIRtoolchainmips kcgcc musl export ARCHmips export CROSSCOMPILESTAGINGDIRstagingdirtoolchainmips kcgcc muslbinmipsopenwrtlinux make KSRChomesrcopenwrtbuilddirtargetmips kcmusllinuxar xxgenericlinux How can I load the cfg module into the driver where do I have to edit the kernel source which file he created the driver with cfg Openwrt uses backport wireless driver package instead of the in kernel one and use it to build the entire mac subsystem and its related drivers OpenWRT is using drivers from backports project For this reason the cfg module was compiled with a header file that has a slightly different wiphy structure from the standard kernel headers To resolve this you need to apply a patch from the backports project to the kernel headers in the OpenWRTSDK before compiling the driver I did make and makeinstall then sudo modprobe a rtl au It worked in previous Kubuntu versions Hi guys the drivers seems to be installed but not recognizing my dongle I have tried different installations and still not working My dongle works on Windows but not on my Ubuntu machine Can someone help me I followed the instrucionts on the Readme file but still clowndminclowndtmpt urtl AU AUlinuxmaster ifconfig eno flags UPBROADCASTRUNNINGMULTICAST mtu inet netmask broadcast inet fe f cfffef dd prefixlen scopeid x link ether f cf dd txqueuelen Ethernet RX packets bytes MB RX errors dropped overruns frame TX packets bytes MB TX errors dropped overruns carrier collisions device interrupt memory xef ef lo flags UPLOOPBACKRUNNING mtu inet netmask inet prefixlen scopeid x host loop txqueuelen Local Loopback RX packets bytes KB RX errors dropped overruns frame TX packets bytes KB TX errors dropped overruns carrier collisions When I try to install this it fails on linux kernel cut here WARNING CPU PID at netwirelesscorec wiphyregistercold x x cfg Modules linked in uinput rtl auOE nlsiso nlscp vfat fat uas usbstorage rfcomm cmac algifhash algifskcipher afalg bnep x pkgtempthermal intelpowerclamp coretemp btusb kvmintel btrtl btbcm btintel meihdcp cfg uvcvideo bluetooth kvm sndusbaudio ecdhgeneric ecc sndusbmidilib sndrawmidi sndseqdevice irqbypass videobuf vmalloc videobuf memops videobuf v l videobuf common rtsxusbms memstick joydev mousedev sndhdaintel intelraplmsr i ofpart cmdlinepart intelspiplatform intelspi crct difpclmul spinor sndhdacodec iTCOwdt iTCOvendorsupport crc pclmul mtd ghashclmulniintel asusnbwmi asuswmi aesniintel sparsekeymap aesx rfkill sndhdacore cryptosimd cryptd i calgobit psmouse sndhwdep sndpcm r drmkmshelper gluehelper drm intelcstate inteluncore intelgtt realtek agpgart libphy sndtimer intelraplperf snd syscopyarea sysfillrect sysimgblt fbsysfops inputleds soundcore pcspkr processorthermaldevice intelraplcommon meime evdev i ci mei int thermal intelsocdtsiosf intelpchthermal lpcich machid int thermal int xthermalzone acpithermalrel asuswireless wmi battery ac videodev mc cryptouser iptables xtables ext crc cgeneric crc mbcache jbd rtsxusbsdmmc mmccore rtsxusb hidlogitechhidpp hidlogitechdj hidgeneric usbhid hid srmod cdrom sdmod ahci libahci serioraw atkbd libps libata xhcipci crc cintel scsimod ehcipci xhcihcd ehcihcd i serio last unloaded rtl au CPU PID Comm kworker Tainted G W OE arch ARCH Hardware name ASUSTeK COMPUTER INC X LAX LA BIOS X LA Workqueue usbhubwq hubevent RIP wiphyregistercold x x cfg Code b b ea ff ff ff e dc fa ff c c d c e a e e d f b e b a fa ff c c d c e e e d f b b ea ff ff ff e b fa ff c c d c e d e RSP ffffaa f af e EFLAGS RAX RBX e RCX RDX RSI ffff a c RDI ffffffff RBP ffffaa f af R R R R R ffff f c b R ffffaa f af f R ffff f c R ffff bd FS GSffff a c knlGS CS DS ES CR CR cad ad CR f a CR f Call Trace pmruntimeinit x xb rtw gratesinit x x rtl au rtwwdevalloc xff x e rtl au rtwusbif init x x f rtl au rtwdrvinit x x bd rtl au usbprobeinterface xe x reallyprobe xf x driverprobedevice xb x driverallowsasyncprobing x x busforeachdrv x c xd deviceattach xf x busprobedevice x e xa deviceadd x cd x b preemptcountadd x xa usbsetconfiguration x e x e genericprobe x c x reallyprobe xf x driverprobedevice xb x driverallowsasyncprobing x x busforeachdrv x c xd deviceattach xf x busprobedevice x e xa deviceadd x cd x b usbnewdevicecold x x e hubevent xbb x a processonework x d x a workerthread x a x d kthread xfb x processonework x a x a kthreadpark x x retfromfork x x end trace f d fc c aee 