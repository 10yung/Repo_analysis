when I use TCP instead of ICMP echo always has a error but no error use UDP why mtr n T My traceroute v T Keys Help Display mode Restart statistics Order of fields quit Packets Pings Host Loss Snt Last Avg Best Wrst StDev waiting for reply waiting for reply waiting for reply waiting for reply waiting for reply waiting for reply mtr Unexpected mtrpacket error First off mtr is great I use it on Fedora mtr fc x How can I specify a separator in order in MTROPTIONS For example I often do mtr order SRDL NBAGVW JMXI gco but if I put that in MTROPTIONS export MTROPTIONSorder SRDL NBAGVW JMXI I just get SRDL If I do export MTROPTIONSorder SRDL NBAGVW JMXI then I get an error mtr Unknown field identifier RFE add an explicit character that is a separator eg use Z to mean separator order SRDLZNBAGVWZJMXI Thanks I see that when I exit the program it will clear the screen losing all the information displayed It would be nice if it kept the trace information or that it would print it again if required so it can be read or copied later Using a network interface with IPv enabled theres usually a SLAAC IPv linklocal address fe userhosttmpmtr ip a show enp s enp s BROADCASTMULTICASTUPLOWERUP mtu qdisc fqcodel state UP group default qlen linkether xxxxxxxxxxxx brd ffffffffffff inet brd scope global dynamic noprefixroute enp s validlft sec preferredlft sec inet fe bbb b f e c scope link noprefixroute validlft forever preferredlft forever If I try the latest mtr d against this address it doesnt work userhosttmpmtr mtr fe bbb b f e cenp s mtr udp socket connect failed Invalid argument But if I add a random IPv unique local address to my interface fd sudo ip a add fd deadbeefffff dev enp s And check that its there userhosttmpmtr ip a show enp s enp s BROADCASTMULTICASTUPLOWERUP mtu qdisc fqcodel state UP group default qlen linkether xxxxxxxxxxxx brd ffffffffffff inet brd scope global dynamic noprefixroute enp s validlft sec preferredlft sec inet fd deadbeefffff scope global validlft forever preferredlft forever inet fe bbb b f e c scope link noprefixroute validlft forever preferredlft forever Then mtr to the IPv unique local address works userhosttmpmtr mtr fd deadbeefffff Id like to request support for IPv linklocal addresses Thanks in this case one path is hops longer than the other last few hops before destination does not respond et cr ams ip gttnet ntt handoffeqxam nlas com ae r amstnl nlbbginnttnet ae r amstnl nlbbginnttnet MPLS Lbl Exp S TTL et cr chi ip gttnet ae r amstnl nlbbginnttnet MPLS Lbl Exp S TTL ae r asbnva usbbginnttnet MPLS Lbl Exp S TTL MPLS Lbl Exp S TTL ip gttnet ae r chcgil usbbginnttnet MPLS Lbl Exp S TTL ae r chcgil usbbginnttnet ae r chcgil usbbginnttnet ae robloxchcgil usbbginnttnet ae robloxchcgil usbbginnttnet mtr output looks like something is horribly broken at hop but actually nothing is broken MTR should use fixed tuple and separate paths with different hop count in output This change allows effective capability bit to be dropped From now on mtrpackage will internally switch on capabilities for time the command needs them and no longer Earlier capabilities were held from start up to point when they were dropped It would be great to have an option for p Split mode to display Double values it is really needed in some cases and makes the backend very difficult to parse raw mode to calculate everything by self Also it would be great to add current ping time into it For ex current split mode pos host loss rcvd pcktsInt sent pcktsInt bestInt avgInt worstInt Very useful split mode if it can be done in following pos host loss rcvd pckts sent pckts currDouble bestDouble avgDouble worstDouble Thanks for this great work Issues only with Cygwin cygport build Cygwin builds tests and runs nicely Missing types ICMPECHOREPLY and IPOPTIONINFORMATION found in w apiipexporth usrincludew apiipexporth IPOPTIONINFORMATIONPIPOPTIONINFORMATION usrincludew apiipexporth IPOPTIONINFORMATION PIPOPTIONINFORMATION usrincludew apiipexporth ICMPECHOREPLYPICMPECHOREPLY usrincludew apiipexporth ICMPECHOREPLY PICMPECHOREPLY Should probecygwinc be including that file under Cygwin perhaps with guards or other Cygwin cygport build error log In file included from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobeh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobec mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinh error unknown type name ICMPECHOREPLY ICMPECHOREPLY reply In file included from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobeh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinh error unknown type name ICMPECHOREPLY ICMPECHOREPLY reply In file included from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobeh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketwaith from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketpacketc mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinh error unknown type name ICMPECHOREPLY ICMPECHOREPLY reply In file included from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobeh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandcygwinc mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinh error unknown type name ICMPECHOREPLY ICMPECHOREPLY reply In file included from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobeh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandc mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinh error unknown type name ICMPECHOREPLY ICMPECHOREPLY reply mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandcygwinc In function finishreadcommand mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandcygwinc warning format d expects argument of type int but argument has type DWORD aka long unsigned int Wformat fprintfstderr ReadFileEx completion failure d n status ld mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandcygwinc In function queueemptyapc mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandcygwinc warning format d expects argument of type int but argument has type DWORD aka long unsigned int Wformat fprintfstderr Unexpected QueueUserAPC failure d n ld GetLastError mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandcygwinc In function startreadcommand mntcUsersbwisrccygwinmtrmtr i srcmtrpacketcommandcygwinc warning format d expects argument of type int but argument has type DWORD aka long unsigned int Wformat fprintfstderr Unexpected ReadFileEx failure d n ld GetLastError mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc In function initnetstate mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc warning format d expects argument of type int but argument has type DWORD aka long unsigned int Wformat fprintfstderr Failure opening ICMP d n GetLastError ld mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc In function onicmpreply mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc error unknown type name ICMPECHOREPLY did you mean ICMPECHOREPLY ICMPECHOREPLY reply ICMPECHOREPLY mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc error request for member Status in something not a structure or union replystatus reply Status mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc error request for member RoundTripTime in something not a structure or union roundtripus reply RoundTripTime mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc error request for member Address in something not a structure or union remoteaddr sinaddrsaddr reply Address In file included from usrincludestringh from usrincludew apiguiddefh from usrincludew apiwinnth from usrincludew apiminwindefh from usrincludew apiwindefh from usrincludew apiwindowsh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobeh from mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc In function icmpsendprobe mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc error IPOPTIONINFORMATION undeclared first use in this function did you mean IPOPTIONINFORMATION memset option sizeofIPOPTIONINFORMATION mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc note each undeclared identifier is reported only once for each function it appears in mntcUsersbwisrccygwinmtrmtr i srcmtrpacketprobecygwinc error ICMPECHOREPLY undeclared first use in this function did you mean ICMPECHOREPLY replysize sizeofICMPECHOREPLY payloadsize ICMPECHOREPLY make Makefile packetpacketo Error Compiled todays git master projectsmtr master sudo mtr HOSTNAME T t Still gives mtr Address in use after tries Same as in I think that it would be good to make new release with updated code base 