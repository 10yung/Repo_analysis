 What does this PR do Throw an error instead of panic when the service definition is invalid Stack goroutine running runtimedebugStack xc e x e x usrlocalgosrcruntimedebugstackgo x d githubcomcontainoustraefikv pkgsafedefaultRecoverGoroutine x c x fbcdb gosrcgithubcomcontainoustraefikpkgsaferoutinego xb githubcomcontainoustraefikv pkgsafeOperationWithRecoverfunc xc fd gosrcgithubcomcontainoustraefikpkgsaferoutinego x panic x c x fbcdb usrlocalgosrcruntimepanicgo x b githubcomcontainoustraefikv pkgproviderdockerProvideraddServer xc d d x b xc cc xc x xc xb xc xb xc c b gosrcgithubcomcontainoustraefikpkgproviderdockerconfiggo x githubcomcontainoustraefikv pkgproviderdockerProviderbuildServiceConfiguration xc d d x b xc cab xc x xc xb xc xb xc c b gosrcgithubcomcontainoustraefikpkgproviderdockerconfiggo x dd githubcomcontainoustraefikv pkgproviderdockerProviderbuildConfiguration xc d d x b xc f de xc x x x gosrcgithubcomcontainoustraefikpkgproviderdockerconfiggo x e githubcomcontainoustraefikv pkgproviderdockerProviderProvidefunc x x gosrcgithubcomcontainoustraefikpkgproviderdockerdockergo x githubcomcontainoustraefikv pkgsafeOperationWithRecoverfunc x x gosrcgithubcomcontainoustraefikpkgsaferoutinego x c githubcomcenkaltibackoffv RetryNotify xc f x e xc f a xc fef x x gopkgmodgithubcomcenkaltibackoffv v retrygo xb githubcomcontainoustraefikv pkgproviderdockerProviderProvidefunc x b a xc d d gosrcgithubcomcontainoustraefikpkgproviderdockerdockergo x d githubcomcontainoustraefikv pkgsafePoolGoCtxfunc gosrcgithubcomcontainoustraefikpkgsaferoutinego x githubcomcontainoustraefikv pkgsafeGoWithRecoverfunc x df xc f gosrcgithubcomcontainoustraefikpkgsaferoutinego x created by githubcomcontainoustraefikv pkgsafeGoWithRecover gosrcgithubcomcontainoustraefikpkgsaferoutinego x Motivation Fixes More x Addedupdated tests Addedupdated documentation What did you do Hi I dont know if this know I had catch this by accident syntax error in cli too short traefik related label traefikhttpservicestest What did you expect to see A simple error message What did you see instead panic Output of traefik version What version of Traefik are you using v What is your environment configuration arguments toml provider platform When playing with traefik started by this command bash docker pull traefik docker run rm v varrundockersockvarrundockersock traefik providersdocker providersdockerexposedbydefaultfalse entrypointshttpaddress entrypointshttpsaddress I started this command bash docker run rm l traefikhttprouterstestruleHosttest l traefikhttpservicestest l traefikenabletrue containouswhoami If applicable please paste the log output in DEBUG level loglevelDEBUG switch I was flooded by this error log time T Z levelerror msgError in Go routine runtime error invalid memory address or nil pointer dereference time T Z levelerror msgStack goroutine running nruntimedebugStack xc e x e x n tusrlocalgosrcruntimedebugstackgo x d ngithubcomcontainoustraefikv pkgsafedefaultRecoverGoroutine x c x fbcdb n tgosrcgithubcomcontainoustraefikpkgsaferoutinego xb ngithubcomcontainoustraefikv pkgsafeOperationWithRecoverfunc xc fd n tgosrcgithubcomcontainoustraefikpkgsaferoutinego x npanic x c x fbcdb n tusrlocalgosrcruntimepanicgo x b ngithubcomcontainoustraefikv pkgproviderdockerProvideraddServer xc d d x b xc cc xc x xc xb xc xb xc c b n tgosrcgithubcomcontainoustraefikpkgproviderdockerconfiggo x ngithubcomcontainoustraefikv pkgproviderdockerProviderbuildServiceConfiguration xc d d x b xc cab xc x xc xb xc xb xc c b n tgosrcgithubcomcontainoustraefikpkgproviderdockerconfiggo x dd ngithubcomcontainoustraefikv pkgproviderdockerProviderbuildConfiguration xc d d x b xc f de xc x x x n tgosrcgithubcomcontainoustraefikpkgproviderdockerconfiggo x e ngithubcomcontainoustraefikv pkgproviderdockerProviderProvidefunc x x n tgosrcgithubcomcontainoustraefikpkgproviderdockerdockergo x ngithubcomcontainoustraefikv pkgsafeOperationWithRecoverfunc x x n tgosrcgithubcomcontainoustraefikpkgsaferoutinego x c ngithubcomcenkaltibackoffv RetryNotify xc f x e xc f a xc fef x x n tgopkgmodgithubcomcenkaltibackoffv v retrygo xb ngithubcomcontainoustraefikv pkgproviderdockerProviderProvidefunc x b a xc d d n tgosrcgithubcomcontainoustraefikpkgproviderdockerdockergo x d ngithubcomcontainoustraefikv pkgsafePoolGoCtxfunc n tgosrcgithubcomcontainoustraefikpkgsaferoutinego x ngithubcomcontainoustraefikv pkgsafeGoWithRecoverfunc x df xc f n tgosrcgithubcomcontainoustraefikpkgsaferoutinego x ncreated by githubcomcontainoustraefikv pkgsafeGoWithRecover n tgosrcgithubcomcontainoustraefikpkgsaferoutinego x n time T Z levelerror msgProvider connection error panic in operation snil retrying in s providerNamedocker What does this PR do Adds an explanation of the global redirection pattern Motivation Have better documentation More Addedupdated tests x Addedupdated documentation What does this PR do The tip to use htpasswd was not very clear You have to encode the result to base Adding an example command Motivation Make it easier to use basic auth and generate a base encoded string More x Addedupdated documentation Do you want to request a feature or report a bug Feature What did you expect to see Would it be possible to have a prefer own subnet load balancing first This is mainly interesting for hosting where there is a costs to go across subnetavailability zones ie GCP and AWS So when traffic arrives at the edge traefik picks the subnet that the traefik instance is already hosted within As an example consul does this with its preferred queries where you can indicate that DNS lookups should first resolve the local agent PLEASE FOLLOW THE ISSUE TEMPLATE TO HELP TRIAGE AND SUPPORT Do you want to request a feature or report a bug DO NOT FILE ISSUES FOR GENERAL SUPPORT QUESTIONS The issue tracker is for reporting bugs and feature requests only For enduser related support questions please refer to one of the following the Traefik community forum Feature What did you expect to see HOW TO WRITE A GOOD ISSUE Respect the issue template as much as possible The title should be short and descriptive Explain the conditions which led you to report this issue the context The context should lead to something an idea or a problem that you re facing Remain clear and concise Format your messages to help the reader focus on what matters and understand the structure of your message use Markdown syntax This is a feature request for the Docker provider without Swarm Mode When enabling UseBindPortIP as per the documentation the first port in the Docker API response is chosen Then theres the traefikhttpservicesmyserviceloadbalancerserverport option which allows you to inform Traefik what port to use for a server Without UseBindPortIP it makes sense that the resulting Traefik server will simply use the port given in the serverport option The documentation says Registers a port Useful when the container exposes multiples ports Mandatory for Docker Swarm see the section Port Detection with Docker Swarm however it is not clear from that how Traefik is expected to behave when UseBindPortIP is enabled I would have thought the host port to be used and the serverport option just helping Traefik to choose the right one based on the container port that matches the serverport option I realise such a change would maybe be considered breaking as people may have relied on the current behaviour in Traefik but on the other hand there is currently no way to help Traefik choose the right port when there are multiple Im not sure if this is really a bug like was for pre PLEASE READ THIS MESSAGE Documentation fixes or enhancements for Traefik v use branch v for Traefik v use branch v Bug fixes for Traefik v use branch v for Traefik v use branch v Enhancements for Traefik v we only accept bug fixes for Traefik v use branch master HOW TO WRITE A GOOD PULL REQUEST What does this PR do Converts this before to this Ive also added a long auth middleware to be more revealing after In other words my PR makes middleware span to display only time when middleware is processing not all nested middleware and forward spans Motivation To display correct span times in tracing UI More Addedupdated tests Addedupdated documentation not needed What did you do Im using consul and traefik to have a default rule for routing to a specific service According to the docs the Name should be the service name but this does not seem to be the case What did you expect to see In the traefik web ui the rule should be using the service name for Host ie Hostdemowebapp What did you see instead The rule for the service shows Hostno value Output of traefik version What version of Traefik are you using V What is your environment configuration arguments toml provider platform toml api insecure true dashboard true entryPoints entryPointsweb address Enable Consul Catalog configuration backend providersconsulCatalog defaultRule Host Name providersconsulCatalogendpoint address PLEASE READ THIS MESSAGE Documentation fixes or enhancements for Traefik v use branch v for Traefik v use branch v Bug fixes for Traefik v use branch v for Traefik v use branch v Enhancements for Traefik v we only accept bug fixes for Traefik v use branch master HOW TO WRITE A GOOD PULL REQUEST What does this PR do This PR adds limited support for UDP networking in Traefik Limited because No TLS for now which means No routing rule since there is no criterion on which to match packets there is no PathPrefix notion since there are no requests at the transport layer level and no HostSNI since no TLS Which means its pretty much only loadbalancing in one form or another at the moment file provider only for now Remark we adopted the docker syntax to distinguish TCP HTTP VS UDP for the entrypoints configuration toml entryPoints entryPointsudp address udp entryPointshttp address same as tcp A brief description of the change being made with this pull request Motivation What inspired you to submit this pull request Addresses More x Addedupdated tests x Addedupdated documentation Additional Notes Anything else we should know when reviewing Coauthoredby Julien Salleyron juliensalleyrongmailcom PLEASE FOLLOW THE ISSUE TEMPLATE TO HELP TRIAGE AND SUPPORT Do you want to request a feature or report a bug DO NOT FILE ISSUES FOR GENERAL SUPPORT QUESTIONS The issue tracker is for reporting bugs and feature requests only For enduser related support questions please refer to one of the following the Traefik community forum Bug The configurations between X and X are NOT compatible Please have a look here What did you do I set respondingTimeout in traefik static config and I get different status code while the request time exceed the timeout for scenarios bellow buffer middleware enabled without buffer middleware HOW TO WRITE A GOOD BUG REPORT Respect the issue template as much as possible The title should be short and descriptive Explain the conditions which led you to report this issue the context The context should lead to something an idea or a problem that you re facing Remain clear and concise Format your messages to help the reader focus on what matters and understand the structure of your message use Markdown syntax What did you expect to see I expected to have same HTTP status for those scenarios not status code What did you see instead buffer middleware enabled without buffer middleware it seems for HTTP requests for HTTP requests Output of traefik version What version of Traefik are you using latest is not considered as a valid version For the Traefik Docker image docker run IMAGE version ex docker run traefik version Traefik v What is your environment configuration arguments toml provider platform yaml log level INFO providers docker entrypoints web address transport respondingTimeouts readTimeout s writeTimeout s idleTimeout websecur address transport respondingTimeouts readTimeout s writeTimeout s idleTimeout accessLog Add more configuration information here If applicable please paste the log output in DEBUG level loglevelDEBUG switch Jan POST apilogv HTTP toapiservicelocationfile ms 