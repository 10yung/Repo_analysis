 Provide cli fixture for testing CLI Update behavior of c option Command Before After ckan c configini not real command Missing config No such command ckan c configini h Missing config Help message ckan c configini Missing command Missing commandnot changed If a package had an extra field and this field was deleted there is no way of adding the same extra field with the same value again Actually CKAN just marks field as deletedwe are expecting real deletion as there are no revisions anymore and one can check old values via activity stream instead and when the extra field is readded CKAN just doesnt restore state back to active When revisioned workflow was removed for packageExtras coreStatefulObjectMixin was added as the parent class for PackageExtra It has a delete method that set state column to deleted instead of real erasing We are expecting domainobjectDomainObjectdelete to be called instead which would delete a row but it shadowed by coreStatefulObjectMixindelete This PR uses sessiondelete directly so there will be no such mistakes in the future CKAN Version if known or site URL Please describe the expected behaviour to have an openapiyaml specification Please describe the actual behaviour theres no one NOTE Here you can find a superset OAS spec for ckan Note Are you submitting a security related issue that could be a potential vulnerability Please send it to securityckanorg instead CKAN Version if known or site URL ALL Please describe the expected behaviour We should provide additional way to the users so they can delete the resource view Maybe add a delete button on the resourceviewslist page specifically on resourceviewlistitem and add a delete button so the user is able to delete the view without having to go to the view form page It would be nice if we can also somehow limit the creation of incorrect views that cause a Server Error during resource creation Please describe the actual behaviour Sometimes users create wrong views for the resource and CKAN doesnt let them know during creation that something is wrong with the view that they are creating Instead CKAN creates the view for the resource and gives a Server Error for the view If the user wants to delete the view that is not possible since deleting is only available in the view edit form which cant be opened since there is a Server Error The only option that the users have is to go directly to the database and delete the view What steps can be taken to reproduce the issue Create a dataset Add a resource to the dataset Add a view to the resource something that you know is not correct and it would cause a Server Error Try deleting the view While completing Im creating tests for new click CLI commands and found an error in ckan jobs command CKAN Version if known or site URL Expected behaviour Probably ckan jobs cancel for a not existing job exits with nonzero code Actual behaviour The new TestJobsCanceltestcancelnotexisting test shows that it exits with code This test was created as an update from the old paster test At the same time the new TestJobsCanceltestcancelmissingid passes ok the command does exit with a nonzero code if its not given a job id at all Steps to reproduce checkout my branch run bash pytest ckaninitestini ckanteststestclipyTestJobsCancel CKAN latest version Is my first issue here in Github I was installing Ckan latest version with Docker Compose This is the documentation When I reach the step Datastore and datapusher and I have to edit the file productionini sudo vim VOLCKANCONFIGproductionini I get the error No file or directory It seems that the file doesnt exist even directories so vim cant reach destination and modify the file How can I solve this problem Thank you so much Fixes Set default license as notspecified when creating dataset via API Currently its None if not provided and will be changed on first entity from select box after package update from UI This behaviour may not be obvious for some users Features includes tests covering changes includes updated documentation includes uservisible changes X includes API changes includes bugfix for possible backport Please X all the boxes above that apply Fix typo in nl messages U kan hiet U kan hier Fixes typo in nl messages Proposed fixes ckani nnlLCMESSAGESckanpo U kan hiet U kan hier Features includes tests covering changes includes updated documentation includes uservisible changes includes API changes includes bugfix for possible backport Please X all the boxes above that apply Provide a unified workflow for creating core migrations creating extensions migrations applyingreverting extensions migrations There is one new command ckan generate migration p PLUGIN m Message create migration script and initialize migration repository inside extension if used for first time and new option pplugin to db upgrade db downgrade and db version that uses plugins migration scripts instead of core ones when provided Correct wrong filename productionini developmentini Fixes Proposed fixes Features includes tests covering changes X includes updated documentation X includes uservisible changes includes API changes includes bugfix for possible backport Please X all the boxes above that apply 