 CRuby x librubygems gemstty libttycommandsaddrb in read No such file or directory rbsysopen li brev testclirb ErrnoENOENT Describe the problem Specs fail on ruby p mostly due to deprecation of hash argument being treated as keywords by ruby but deprecated in Steps to reproduce the problem bundle exec rake spec using ruby p Actual behaviour Finished in seconds files took seconds to load examples failures pending Failed examples rspec specintegrationnewspecrb teletype new generates C extensions boilerplate rspec specintegrationnewspecrb teletype new generates code of conduct file rspec specintegrationnewspecrb teletype new displays help rspec specintegrationnewspecrb teletype new generates cli application rspec specintegrationnewnamespacedspecrb teletype new generates cli application namespaced rspec specintegrationaddforcespecrb teletype add force command forces adding already existing command rspec specintegrationaddsubcommandspecrb teletype add subcommad adds a new subcommand rspec specintegrationaddsubcommandspecrb teletype add subcommad adds a new subcommand with minitest rspec specintegrationaddspecrb teletype add command adds more than one command to cli file rspec specintegrationaddspecrb teletype add command adds a command rspec specintegrationaddspecrb teletype add command adds complex command name as camel case rspec specintegrationaddspecrb teletype add command adds complex command name as snake case rspec specintegrationaddspecrb teletype add command adds a command with minitests rspec specintegrationaddspecrb teletype add command displays help rspec specintegrationaddspecrb teletype add command adds command in cli without any commands rspec specintegrationaddnamespacedspecrb teletype add adds a subcommand to namespaced application rspec specintegrationaddnamespacedspecrb teletype add adds a command to namespaced application rspec specintegrationadddescargsspecrb teletype add desc args command adds command with variadic number of arguments rspec specintegrationadddescargsspecrb teletype add desc args command adds subcommand with description and custom arguments rspec specintegrationadddescargsspecrb teletype add desc args command adds command with description and custom arguments Expected behaviour Specs to pass Describe your environment OS version Ubuntu Ruby version p TTY version master adding methodoption services type boolean causes tests correctly to fail testcmd config command executes testcmd help config command successfully FailureError expectoutputto eqexpectedoutput expected Usage n testcmd config n nOptions n h help nohelp Display usage information n nCommand description n got Usage n testcmd config n nOptions n h help nohelp Display usage information n services noservices n nCommand description n and then when I copypaste the output in expectedoutput OUT Usage testcmd config Options h help nohelp Display usage information services noservices Command description OUT and I rerun the tests I get FailureError expectoutputto eqexpectedoutput expected Usage n testcmd config n nOptions n h help nohelp Display usage information n services noservices n nCommand description n got Usage n testcmd config n nOptions n h help nohelp Display usage information n services noservices n nCommand description n And Im giving up because this just feels stupid way to test and adjust whitespaces teletype new testcmd remove todos from gemspec teletype add config rake testcmd config command executes testcmd help config command successfully FailureError output testcmd help config ErrnoENOENT No such file or directory testcmd fix by prefixing runner to use exetestcmd RSpecdescribe testcmd config command type cli do it executes testcmd help config command successfully do output exetestcmd help config Describe the problem It seems teletype isnt escaping quoting the relative path ie app name for bundler which then errors due to invalid arguments Steps to reproduce the problem cd mkdir weird dir cd weird dir teletype new app Actual behaviour teletype new app returns prints traceback ERROR bundle gem was called with arguments Userstimweird dirapp Usage bundle gem NAME OPTIONS Traceback most recent call last from Userstimrbenvversions binteletype in main from Userstimrbenvversions binteletype in load from Userstimrbenvversions librubygems gemstty exeteletype in top required from Userstimrbenvversions librubygems gemsthor libthorbaserb in start from Userstimrbenvversions librubygems gemsthor libthorrb in dispatch from Userstimrbenvversions librubygems gemsthor libthorinvocationrb in invokecommand from Userstimrbenvversions librubygems gemsthor libthorcommandrb in run from Userstimrbenvversions librubygems gemstty libttyclirb in new from Userstimrbenvversions librubygems gemstty libttycommandsnewrb in execute Userstimrbenvversions librubygems gemsttycommand libttycommandrb in run Running bundle gem Userstimweird dirapp nomit noexe coc noext t rspec failed with TTYCommandExitError exit status stdout ERROR bundle gem was called with arguments Userstimweird dirapp Usage bundle gem NAME OPTIONS stderr Nothing written Expected behaviour For the presence or absence of spaces in the project path to make no noticeable difference to an endusers experience invoking teletype new Describe your environment I only noticed this because I store some stuff in iCloud Drive which has this unfortunate location on disk UserstimLibraryMobile DocumentscomappleCloudDocs ruby p revision x darwin macOS tty Describe the change Updates the READMEmd file to help people understand that subcommands cannot be added to existing commands Why are we doing this Because auf which also caused me some headaches Benefits It helps users to better understand how teletype works Drawbacks It does not address the problem the teletype crashes ungracefully when attempting to add a subcommand to an existing command Requirements Put an X between brackets on each line if you have done the item Tests written passing locally Code style checked Rebased with master branch x Documentaion updated Describe the problem Bundling a project with this gem and bundler yields the following error Bundler could not find compatible versions for gem bundler In Gemfile tty was resolved to which depends on bundler Current Bundler version bundler This Gemfile requires a different version of Bundler Perhaps you need to update Bundler by running gem install bundler Could not find gem bundler which is required by gem tty in any of the sources This is because Bundler is pinned to here Steps to reproduce the problem Install Bundler or greater Create a Gemfile with the following ruby source gem tty Run bundle Describe your environment Bundler version OS version OSX Mojave Ruby version ruby p TTY version Reposted from ttyfile by request Thanks John for reporting Does the contacts command already exist when youre trying to create contacts phonelist subcommand Would it be possible for you to report this issue at since thats where the teletype tool is developed I cannot use teletype to create a subcommand of a command When I do I get an exception teletype add contacts phonelist force ms create specintegrationcontactsphonelistspecrb create specunitcontactsphonelistspecrb create libddcacommandscontactsphonelistrb create libddcatemplatescontactsphonelistgitkeep Traceback most recent call last from Usersjschankasdfinstallsruby binteletype in main from Usersjschankasdfinstallsruby binteletype in load from Usersjschankasdfinstallsruby librubygems gemstty exeteletype in top required from Usersjschankasdfinstallsruby librubygems gemsthor libthorbaserb in start from Usersjschankasdfinstallsruby librubygems gemsthor libthorrb in dispatch from Usersjschankasdfinstallsruby librubygems gemsthor libthorinvocationrb in invokecommand from Usersjschankasdfinstallsruby librubygems gemsthor libthorcommandrb in run from Usersjschankasdfinstallsruby librubygems gemstty libttyclirb in add from Usersjschankasdfinstallsruby librubygems gemstty libttycommandsaddrb in execute from Usersjschankasdfinstallsruby librubygems gemsttyfile libttyfilerb in injectintofile Usersjschankasdfinstallsruby librubygems gemsttyfile libttyfilerb in escape no implicit conversion of nil into String TypeError It doesnt matter if I try to define parameters or not I met this problem when I tried a more complex call teletype add contacts phonelist desc Color code the phone extension list args contactsfile extensionxslx Ultimately resulted in the same exception from the same place It would be great to support banners We use this a lot in our scripts 