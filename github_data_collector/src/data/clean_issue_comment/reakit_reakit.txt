Closes This is an attempt to fix Still work in progress Need to reproduce the case in tests Does this PR introduce a breaking change No Bug report Current behavior Parent dialog closes at the same time as the child dialog after parent dialog has been opened and closed once Steps to reproduce the bug Open parent dialog Open child dialog Click away from child dialog Parent dialog stays open Close parent dialog and open it again Open child dialog Click away from child dialog Parent dialog closes at the same time as the child CodeSandbox Recording Expected behavior The parent dialog should not close at the same time as the child Possible solutions Not sure Environment sh System OS Linux Arch Linux CPU x IntelR CoreTM i CPU GHz Memory GB GB Container Yes Shell binzsh Binaries Node nvmversionsnodev binnode Yarn binyarn npm nvmversionsnodev binnpm Browsers Brave Browser unknown Firefox npmPackages react reactcompareslider reactdom reakit beta beta Im using beta but the CodeSandbox link uses beta and has the same issue it occurs on the latest on Chrome on Windows and Linux havent tested macOS If anyone knows of a solution Im happy to attempt a PR Thanks Bug report Mainly had that issue when using bootstrap css as seen in the jsbin Current behavior Click on the show dialog button the dialog contains two buttons The second one should be focused as per ReactuseEffect as seen here the first one is actually focused I tracked it down to this bootstrap class css hidden display none important And saw that a global class is added to the dialog hidden that interferes with this It seems that focusing an element that still has display none does not work Steps to reproduce the bug See above Comment out the link that holds the bootstrap css to make it work Expected behavior Second button should be focused or actually reakit shouldnt have global classes The dialog component contains a hidden class if its closed I could not definitely find in the code where a hidden class is added Ive only come near it it feels Possible solutions add setTimeout to the refcurrentfocus as seen here Environment System OS Linux Ubuntu Disco Dingo CPU x IntelR CoreTM i U CPU GHz Memory MB GB Container Yes Shell binbash Binaries Node nvmversionsnodev binnode Yarn nvmversionsnodev binyarn npm nvmversionsnodev binnpm Browsers Chrome Firefox Bug report Current behavior When I change the width and height of radio buttons in Chrome devtools the actual radio button doesnt change size Possible solutions Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Feature request Many Reakit components act as a focus trap and it looks like theres a lot of complicated and thoughtfully considered logic under the hood for correctly passing focus between these components I would like to make use of this behavior without the semantics of components like Dialog or Menu perhaps with a FocusTrap component or useFocusTrap hook in the public API Motivation I am currently rebuilding PubPubs rich text editing toolbar and using Reakit to ensure that it is as accessible as possible There is a specific part of this system that requires a focus trap and Im having trouble modeling it using existing Reakit components It is not a Popover as it usually doesnt correspond to a disclosure element and while I think it could be a Dialog I would like it to render outside of a portal while still acting as a focus trap Example Below are a few screenshots of our editor interface The strip of buttons along the top of the document is called a FormattingBar and the blue pane below it is a FormattingBarDetails FormattingBarDetails has complicated logic to determine whether its open and what it displays sometimes its triggered by a button press in the toolbar but more often by a keypress or clicking something in the text editor itself which is managed by Prosemirror Once its open FormattingBarDetails should trap all keyboard focus and tabbing should cycle within the component until its explicitly closed It also needs to be aware of clicks outside of it so it can decide whether to allow the click and handle cleanup before it closes Although this behavior is like that of a Dialog I would like the component to be statically positioned below the FormattingBar ie outside of a portal while still acting as a focus trap This component can also appear either fixed to the FormattingBar as shown in the first image or it can pop out into the editor contents as shown in the second This resembles the relationship a Popover has to a PopoverDisclosure but the position is determined by a bounding box given to us by Prosemirror rather than by reference to a specific element img width altScreen Shot at PM src img width altScreen Shot at PM src Possible implementations It looks like theres already a useFocusTrap hook internal to Reakit Exposing that in the public API could be a good start Im open to contributing a PR if theres agreement that this would work as part of Reakit I wanted to be able to set the flip behaviour on the popover in order to support the placement changing to bottom when the viewport is too small to support right I have changed the type of the unstableflip prop to be either a boolean or the flip options from PopperModifiers The existing behvaiour is the same so this shouldnt be a breaking change How do you feel about this API I think it works well but would it be better to expose all the modifier options or perhaps only expose the flip behaviour options Bug report Current behavior Rollup trows this error while building a project usign reakit as a dependency Error disableBodyScroll is not exported by nodemodulesbodyscrolllocklibbodyScrollLockminjs nodemodulesreakitesDialogDialogjs Steps to reproduce the bug Create a project that uses reakit as a dependency and build it with rollup Expected behavior Is this expected informationsource Update I think the solution or intended thing to do is to move reakit as a peerDependency Environment Please run the command below inside your project directory sh npx envinfo system binaries browsers npmPackages reactreakit Environment OS Linux Node Yarn npm Watchman Not Found Xcode NA Android Studio Not Found Bug report Current behavior Interacting with a toolbar item or menu item also inside toolbar triggers updates for all the other items Steps to reproduce the bug Open sandbox Remove any line See console logs Expected behavior Ill expect to just update the button that the user is interacting Since the api requires to pass useToolbarState and useMenuState to all items I guess this is expected if is tracking the last focused element current focused element values etc So Im not sure if this is a real issue or the intended expected behavior confused Environment Please run the command below inside your project directory sh npx envinfo system binaries browsers npmPackages reactreakit Environment OS Linux Node Yarn npm Watchman Not Found Xcode NA Android Studio Not Found Feature request Following up on what diegohaz mentioned here in the future we may have a separate package to handle those animations more easily within Reakit see how reakitsystempalette handles colors for instance I was wondering if theres any more information on the roadmap to bring animation features like fade and slide for Popovers back to the Reakit ecosystem Ive long been holding off on choosing an animation library but I think its about time I do that and it would be great to get a better idea of what if anything is planned by Reakit in this regard before we nail down the specifics here Motivation A secondary package itself that allowed for easy animations like slide and fade from reakit x would be amazing but even some discussion of the plans would be a great help for planning Example Slidefade in popovers like in v 