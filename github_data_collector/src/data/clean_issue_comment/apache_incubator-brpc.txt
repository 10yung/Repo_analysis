 UT Is your feature request related to a problem bthread Describe the solution youd like Describe alternatives youve considered Additional contextscreenshots Describe the bug bug bthread bthreadstackcount bthreadstackcount ObjectPool ObjectPool To Reproduce Expected behavior Versions OS Compiler brpc protobuf Additional contextscreenshots we want to use bthreadrwlockt in our program but it seems that brpc did not implemented cmake includeFindProtobuf includeFindThreads In practice they should be cmake findpackageProtobuf REQUIRED findpackageThreads REQUIRED these include thing caused many integration problem findpackage have many special handling of search path which will let users have finegrind control over where to find the package I do not like the magic number in the futex wake up operation arm brpc brpc arm Describe the bug bug proto errno echocbuildechopbh error bthreaderrnolocation declared as function returning a function inline googleprotobufint errno const echocbuildechopbh error bthreaderrnolocation declared as function returning a function inline googleprotobufint EchoResponseerrno const make CMakeFilesbrpcserverdirservercppo Error make CMakeFilesbrpcserverdirall Error make all Error To Reproduce protobuf message message EchoResponse required string message required int errno Versions OS centos Compiler gcc brpc master protobuf libprotoc 