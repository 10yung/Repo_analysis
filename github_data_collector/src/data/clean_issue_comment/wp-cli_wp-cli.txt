fix typos and docs standards Using version latest version as of this ticket My web sites DocumentRoot points to wwwwordpress and my sites URL should be I use the following commands to install Wordpress from the wwwwordpress directory wp core download localefrCA wp core config dbhostlocalhost dbnamewordpress dbuserwpuser dbpasswpuser wp core install url titleWordpress Local adminnamewpadmin adminpasswordwpadmin adminemailmyemaillocaldomaincom When I try to access the site the theme is broken css not loading missing images etc and I see its looking for instead of looking for files at the root If I undo the install and use the web installer instead its fine If I use the wpcli method and use the wp option get siteurl command I see it has added wordpress to the URL I can fix it by resetting the siteurl correctly using wp option set siteurl but why should I have to do this I saw a previous ticket dating from that was reporting the same thing but it had been fixed since Would this be a regression Edit The home option is also affected and has wordpress added Can also be fixed with the wp option set command Bug Report Describe the current buggy behavior When I run a command against multiple aliases using the group alias clients I get the following error ssh is not recognized as an internal or external command operable program or batch file see attachment error The weird thing though is that when I run a command with just an regular alias like wp clientname core update everything works fine Besides everything is just set up accordingly to the documentation in the configyml file Describe what you expect as the correct outcome The command should just run against all the listed aliased in the group clients clients client client client Paste the output of wp cli info into this box OS Windows NT build Windows AMD Shell C Program Files Git usr bin bashexe PHP binary C xampp php phpexe PHP version phpini used C xampp php phpini WPCLI root dir pharwpclipharvendorwpcliwpcli WPCLI vendor dir pharwpclipharvendor WPCLI phar path C Users Pieter WPCLI packages dir WPCLI global config C Users Pieterwpcliconfigyml WPCLI project config WPCLI version Bug Report Describe the current buggy behavior Running wpcli without any arguments tries to open less This will not work if less is not installed Describe how other contributors can replicate this bug run wpcli wait a couple seconds it returns sh less not found Describe what you expect as the correct outcome Maybe a simple manual page like you would get with help Let us know what environment you are running this on Ubuntu Docker OS Linux fc x SMP Fri Dec UTC x Shell PHP binary usrlocalbinphp PHP version phpini used WPCLI root dir pharwpclipharvendorwpcliwpcli WPCLI vendor dir pharwpclipharvendor WPCLI phar path varwwwhtml WPCLI packages dir WPCLI global config WPCLI project config varwwwhtmlwpcliyml WPCLI version Provide a possible solution Provide additional contextscreenshots grafik Bug Report x Yes I reviewed the contribution guidelines x Yes more specifically I reviewed the guidelines on how to write clear bug reports Describe the current buggy behavior Defining a constant in wpconfigphp that includes FILE in the name of the constant causes wpcli to fail with this error message Parse error syntax error unexpected var TVAR in pharusrlocalbinwpvendorwpcliwpcliphpWPCLIRunnerphp evald code on line Using latest v phar executable Describe how other contributors can replicate this bug Add this line to wpconfigphp php define WPCONFIGFILE FILE Run wp See the above error command fails Describe what you expect as the correct outcome I would expect the wp command list to display Let us know what environment you are running this on OS Linux linuxkit SMP Tue Jul UTC x Shell PHP binary usrlocalbinphp PHP version phpini used usrlocaletcphpphpini WPCLI root dir pharwpclipharvendorwpcliwpcli WPCLI vendor dir pharwpclipharvendor WPCLI phar path varwwwhtml WPCLI packages dir WPCLI global config WPCLI project config WPCLI version Fixes Note I dont know if returning egetMessage or converting exception to string is preferred PR does the former Bug Report x Yes I reviewed the contribution guidelines x Yes more specifically I reviewed the guidelines on how to write clear bug reports Describe the current buggy behavior When using WPCLIcolorize for values that are to be displayed in a table the line wrapping breaks the colorization and the calculated line length img width altImage at PM src Describe what you expect as the correct outcome The table formatting should be aware of colorization as it already has an optional argument to denote precolorized content and adapt the color codes when it manipulates the strings Provide a possible solution The formatting code should terminate the left part with a n and prefix the right part with the color code that was active when detecting a colorized string it needs to break up for wrapping take the manipulated color codes into account for each single line when calculating the column length Except the abstract Base class in Fetchers folder all other files were removed since version but Runnerphp still contain a line that try to instantiate a new object of type WPCLI Fetchers User The fatal error happens if the command line is invoked with useranyname and the constant WPINSTALLING has not been defined Note WPINSTALLING is a constant which gets defined by Wordpress when it start installation for a fresh site When I try to create an alias I get an error see printscreen Any thoughts on how to solve this problem Strangely enough I can get this to work without problem bash wp sshsshconfigalias pathpathtowponremoteserver rewrite flush but if I create a wpcliyml on my project root with the following yml ssh sshconfigalias path pathtowponremoteserver I then get bash wp rewrite flush Error This does not seem to be a WordPress installation Pass pathpathtowordpress or run wp core download It seems that the config file is only applying the ssh option but not path as If I then run the below it works sh wp pathpathtowponremoteserver rewrite flush So apparently I am unable to get wpcliyml working with SSH