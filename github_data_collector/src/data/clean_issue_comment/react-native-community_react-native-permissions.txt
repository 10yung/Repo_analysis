 Question Environment Info System OS macOS CPU x IntelR CoreTM i U CPU GHz Memory MB GB Shell binbash Binaries Node usrlocalbinnode Yarn usrlocalbinyarn npm usrlocalbinnpm Watchman usrlocalbinwatchman SDKs iOS SDK Platforms iOS DriverKit macOS tvOS watchOS IDEs Android Studio AI Xcode B usrbinxcodebuild npmPackages react reactnative I am working on a reactnative project and was testing my app on android and IOS Android works perfectly but I get this error on building my iOS app Undefined symbols for architecture x OBJCCLASSRNPermissionHandlerStoreKit referenced from objcclassref in libRNPermissionsaRNPermissionso ld symbols not found for architecture x clang error linker command failed with exit code use v to see invocation warning The iOS Simulator deployment target IPHONEOSDEPLOYMENTTARGET is set to but the range of supported deployment target versions is to in target leveldblibrary from project Pods warning The iOS Simulator deployment target IPHONEOSDEPLOYMENTTARGET is set to but the range of supported deployment target versions is to in target gRPCCore from project Pods warning The iOS Simulator deployment target IPHONEOSDEPLOYMENTTARGET is set to but the range of supported deployment target versions is to in target gRPCCgRPCCertificatesCpp from project Pods warning The iOS Simulator deployment target IPHONEOSDEPLOYMENTTARGET is set to but the range of supported deployment target versions is to in target gRPCC from project Pods warning The iOS Simulator deployment target IPHONEOSDEPLOYMENTTARGET is set to but the range of supported deployment target versions is to in target nanopb from project Pods warning The iOS Simulator deployment target IPHONEOSDEPLOYMENTTARGET is set to but the range of supported deployment target versions is to in target GTMSessionFetcher from project Pods warning The iOS Simulator deployment target IPHONEOSDEPLOYMENTTARGET is set to but the range of supported deployment target versions is to in target Protobuf from project Pods BUILD FAILED The following build commands failed Ld UsersyashatreyaDesktoprealyzeiosbuildrealyzeBuildProductsDebugiphonesimulatorrealyzeapprealyze normal x failure My podfile ruby platform ios requirerelative nodemodulesreactnativecommunitycliplatformiosnativemodules target realyze do Pods for realyze pod FBLazyVector path nodemodulesreactnativeLibrariesFBLazyVector pod FBReactNativeSpec path nodemodulesreactnativeLibrariesFBReactNativeSpec pod RCTRequired path nodemodulesreactnativeLibrariesRCTRequired pod RCTTypeSafety path nodemodulesreactnativeLibrariesTypeSafety pod React path nodemodulesreactnative pod ReactCore path nodemodulesreactnative pod ReactCoreModules path nodemodulesreactnativeReactCoreModules pod ReactCoreDevSupport path nodemodulesreactnative pod ReactRCTActionSheet path nodemodulesreactnativeLibrariesActionSheetIOS pod ReactRCTAnimation path nodemodulesreactnativeLibrariesNativeAnimation pod ReactRCTBlob path nodemodulesreactnativeLibrariesBlob pod ReactRCTImage path nodemodulesreactnativeLibrariesImage pod ReactRCTLinking path nodemodulesreactnativeLibrariesLinkingIOS pod ReactRCTNetwork path nodemodulesreactnativeLibrariesNetwork pod ReactRCTSettings path nodemodulesreactnativeLibrariesSettings pod ReactRCTText path nodemodulesreactnativeLibrariesText pod ReactRCTVibration path nodemodulesreactnativeLibrariesVibration pod ReactCoreRCTWebSocket path nodemodulesreactnative pod Reactcxxreact path nodemodulesreactnativeReactCommoncxxreact pod Reactjsi path nodemodulesreactnativeReactCommonjsi pod Reactjsiexecutor path nodemodulesreactnativeReactCommonjsiexecutor pod Reactjsinspector path nodemodulesreactnativeReactCommonjsinspector pod ReactCommonjscallinvoker path nodemodulesreactnativeReactCommon pod ReactCommonturbomodulecore path nodemodulesreactnativeReactCommon pod Yoga path nodemodulesreactnativeReactCommonyoga pod DoubleConversion podspec nodemodulesreactnativethirdpartypodspecsDoubleConversionpodspec pod glog podspec nodemodulesreactnativethirdpartypodspecsglogpodspec pod Folly podspec nodemodulesreactnativethirdpartypodspecsFollypodspec Firebase pod FirebaseAnalytics pod reactnativenetinfo path nodemodulesreactnativecommunitynetinfo pod RNDateTimePicker path nodemodulesreactnativecommunitydatetimepickerRNDateTimePickerpodspec pod reactnativeonesignal path nodemodulesreactnativeonesignal pod reactnativeappearance path nodemodulesreactnativeappearance RNPermissions permissionspath nodemodulesreactnativepermissionsios pod PermissionContacts path permissionspathContactspodspec pod PermissionMicrophone path permissionspathMicrophonepodspec pod PermissionNotifications path permissionspathNotificationspodspec pod PermissionPhotoLibrary path permissionspathPhotoLibrarypodspec pod RNSound path nodemodulesreactnativesound target realyzeTests do inherit searchpaths Pods for testing end target OneSignalNotificationServiceExtension do pod OneSignal end postinstall do installer installerpodsprojecttargetseach do target targetbuildconfigurationseach do config configbuildsettings APPLICATIONEXTENSIONAPIONLY No end end end usenativemodules end target realyzetvOS do Pods for realyzetvOS target realyzetvOSTests do inherit searchpaths Pods for testing end end As you can see Im not even using permissions for StoreKit even then Im getting the error in which StoreKit is mentioned Help would be very much appreciated Before submitting it please ensure that this was not already asked in another issue or on StackOverflow Ideally you should always refer to StackOverflow first This issue should serve for you to ask a question about the library to the maintainers and other fellow developers remember that even if the issue gets closed the conversation can move forward Also ideally this issue should culminate in a PR to the documentation for this library so that future developers will have that doubt cleared Bug javascript Error The operation couldn t be completed CMErrorDomain error File app js line col snip tformOSfnext breakreturn fabruptreturnlrequesttcase return fnext udefaultawraplisAvailabletcase iffsentf snip File app js line col in p snip fhfunction ptnotryreturntypenormalargtcallnocatchtreturntypethrowargttwraplvar ysuspendedStartvsu snip File app js line col snip sereturnomethod oabruptreturnoargcwvar lptnoifnormalltypeifcodoneLvlargxcontinuereturnvaluela snip File app js line col in p snip fhfunction ptnotryreturntypenormalargtcallnocatchtreturntypethrowargttwraplvar ysuspendedStartvsu snip File app js line col in n snip sinvokentfunction Ptfunction nouhfvar spt o tuifthrowstypevar lsargylvaluereturn y objecttypeof snip File app js line col snip nctiontcfunction ureturn new Promisefunctionountcoureturn ooothenuuufunction Ftnovar cyreturn function snip File app js line col in c snip return nucatchnreturn tnofunction cnuftrynufcatchnreturn tnofunction tifobjecttypeof thisthrow new Typ snip File app js line col in b snip typeof ttnullthispromiseofunction bnuvar f cnfunctionnff punfunctionnff vunfof v snip File app js line col in snip this this this nullthis nulltn btthisfunction stoureturn new tconstructorfunctionfcvar snew n snip File app js line col in u snip thisinvokefunctiontcfunction ureturn new Promisefunctionountcoureturn ooothenuuufunction Ftnovar cy snip File app js line col snip Promisefunctionountcoureturn ooothenuuufunction Ftnovar cyreturn functionuhifcwthrow new ErrorGene snip File app js line col snip new Plnocureturn tisGeneratorFunctionohhnextthenfunctiontreturn tdonetvaluehnextNGG s GeneratorG h snip File app js line col in E snip rn nstopfunction Etnvar creturn udefaultasyncfunctionfforswitchfprevfnextcase ifptfnext breakreturn f snip File app js line col snip nextcase return tnext ndefaultawrap prequestpPERMISSIONSIOSMOTIONcase return stsenttabruptreturnscase ca snip File app js line col in p snip fhfunction ptnotryreturntypenormalargtcallnocatchtreturntypethrowargttwraplvar ysuspendedStartvsu snip File app js line col snip sereturnomethod oabruptreturnoargcwvar lptnoifnormalltypeifcodoneLvlargxcontinuereturnvaluela snip File app js line col in p snip fhfunction ptnotryreturntypenormalargtcallnocatchtreturntypethrowargttwraplvar ysuspendedStartvsu snip File app js line col in n snip sinvokentfunction Ptfunction nouhfvar spt o tuifthrowstypevar lsargylvaluereturn y objecttypeof snip File app js line col snip nctiontcfunction ureturn new Promisefunctionountcoureturn ooothenuuufunction Ftnovar cyreturn function snip File app js line col in c snip return nucatchnreturn tnofunction cnuftrynufcatchnreturn tnofunction tifobjecttypeof thisthrow new Typ snip File app js line col in b snip typeof ttnullthispromiseofunction bnuvar f cnfunctionnff punfunctionnff vunfof v snip File app js line col in snip this this this nullthis nulltn btthisfunction stoureturn new tconstructorfunctionfcvar snew n snip File app js line col in u snip thisinvokefunctiontcfunction ureturn new Promisefunctionountcoureturn ooothenuuufunction Ftnovar cy snip File app js line col snip Promisefunctionountcoureturn ooothenuuufunction Ftnovar cyreturn functionuhifcwthrow new ErrorGene snip File app js line col snip new Plnocureturn tisGeneratorFunctionohhnextthenfunctiontreturn tdonetvaluehnextNGG s GeneratorG h snip File app js line col snip ction xreturn functiontovar sreturn ndefaultasyncfunctiontforswitchtprevtnextcase return tnext ndefaultawrap snip File app js line col snip nnext sdefaultawraptscreenPropsaskMotionPermissioncase return nnext sdefaultawraptscreenPropsaskNotificationsPermissi snip File app js line col in p snip fhfunction ptnotryreturntypenormalargtcallnocatchtreturntypethrowargttwraplvar ysuspendedStartvsu snip File app js line col snip sereturnomethod oabruptreturnoargcwvar lptnoifnormalltypeifcodoneLvlargxcontinuereturnvaluela snip File app js line col in p snip fhfunction ptnotryreturntypenormalargtcallnocatchtreturntypethrowargttwraplvar ysuspendedStartvsu snip File app js line col in n snip sinvokentfunction Ptfunction nouhfvar spt o tuifthrowstypevar lsargylvaluereturn y objecttypeof snip File app js line col snip yawaitPromiseresolveyawaitthenfunctiontnnextthffunctiontnthrowthfPromiseresolveythenfunctiont snip File app js line col in f snip nthencatchnreturn tnofunction fnutryreturn nucatchnreturn tnofunction cnuftrynufcatchnreturn tnofu snip File app js line col snip c n uonFulfilleduonRejectedifnullcvar fcn ovupromisetpupromiseelse n pupromisen v snip File app js line col in y snip ysetTimeouthsetIntervalhsetImmediatehIrequestAnimationFramehIorequestIdleCallbackhItimeRemaining snip File app js line col in C snip length var thsliceh forvar n ntlengthnyt n return hlength function Atv t nullf t nulls t nullb t null snip File app js line col in callImmediates snip onthrow t callImmediatesfunctionforwnullCw wforEachfunctiontreturn FsetTimeoutfunctionthrow t emitT snip File app native code in callImmediates File app js line col in value snip nullthisimmediatesCallback thisimmediatesCallbacknendEventkeycallFunctionvaluefunctiontluthislastFlushDat snip File app js line col snip ionvar tthisthisguardfunctiontcallImmediatesvar lthisqueuereturn thisqueue thiscallID l lengthln snip File app js line col in value snip efunctiontifthisshouldPauseOnThrowtelse trytcatchtsreportFatalErrortkeyshouldPauseOnThrowvaluefunction snip File app js line col in value snip keyflushedQueuevaluefunctionvar tthisthisguardfunctiontcallImmediatesvar lthisqueuereturn thisqueue snip File app native code in value File app native code in value Unminified javascript Error The operation couldn t be completed CMErrorDomain error File nodemodulesreactnativepermissionssrcindexts line col export async function request File nodemodulesregeneratorruntimeruntimejs line col in abrupt return type normal arg fncallobj arg File nodemodulesregeneratorruntimeruntimejs line col contextabruptreturn contextarg File nodemodulesregeneratorruntimeruntimejs line col in generator return type normal arg fncallobj arg File nodemodulesregeneratorruntimeruntimejs line col in this function AsyncIteratorgenerator File nodemodulesregeneratorruntimeruntimejs line col in ex return new Promisefunctionresolve reject File nodemodulespromisesetimmediatecorejs line col in c LASTERROR ex File nodemodulespromisesetimmediatecorejs line col in function doResolvefn promise File nodemodulespromisesetimmediatecorejs line col in this null File nodemodulesregeneratorruntimeruntimejs line col in reject function callInvokeWithMethodAndArg File nodemodulesregeneratorruntimeruntimejs line col in isGeneratorFunction invokemethod arg resolve reject File nodemodulesregeneratorruntimeruntimejs line col return exportsisGeneratorFunctionouterFn File nodemodulesreactnativepermissionssrcindexts line col in regenerator export async function request File srcactionsappStatejs line col return async dispatch getState File nodemodulesregeneratorruntimeruntimejs line col in abrupt return type normal arg fncallobj arg File nodemodulesregeneratorruntimeruntimejs line col contextabruptreturn contextarg File nodemodulesregeneratorruntimeruntimejs line col in generator return type normal arg fncallobj arg File nodemodulesregeneratorruntimeruntimejs line col in this function AsyncIteratorgenerator File nodemodulesregeneratorruntimeruntimejs line col in ex return new Promisefunctionresolve reject File nodemodulespromisesetimmediatecorejs line col in c LASTERROR ex File nodemodulespromisesetimmediatecorejs line col in function doResolvefn promise File nodemodulespromisesetimmediatecorejs line col in this null File nodemodulesregeneratorruntimeruntimejs line col in reject function callInvokeWithMethodAndArg File nodemodulesregeneratorruntimeruntimejs line col in isGeneratorFunction invokemethod arg resolve reject File nodemodulesregeneratorruntimeruntimejs line col return exportsisGeneratorFunctionouterFn File srcactionsappStatejs line col in screenProps return async dispatch getState File srcscenesOnboardingScenejs line col await propsscreenPropsaskMotionPermission File nodemodulesregeneratorruntimeruntimejs line col in abrupt return type normal arg fncallobj arg File nodemodulesregeneratorruntimeruntimejs line col contextabruptreturn contextarg File nodemodulesregeneratorruntimeruntimejs line col in generator return type normal arg fncallobj arg File nodemodulesregeneratorruntimeruntimejs line col in this function AsyncIteratorgenerator File nodemodulesregeneratorruntimeruntimejs line col return Promiseresolvevalueawaitthenfunctionvalue File nodemodulespromisesetimmediatecorejs line col in onRejected function tryCallOnefn a File nodemodulespromisesetimmediatecorejs line col var cb self deferredonFulfilled deferredonRejected File nodemodulesreactnativeLibrariesCoreTimersJSTimersjs line col in y type setInterval File nodemodulesreactnativeLibrariesCoreTimersJSTimersjs line col in callImmediates for let i i passImmediateslength i File nodemodulesreactnativeLibrariesCoreTimersJSTimersjs line col in callImmediates callImmediates File app native code in callImmediates File nodemodulesreactnativeLibrariesBatchedBridgeMessageQueuejs line col in value if thisimmediatesCallback null File nodemodulesreactnativeLibrariesBatchedBridgeMessageQueuejs line col in shouldPauseOnThrow thisguard File nodemodulesreactnativeLibrariesBatchedBridgeMessageQueuejs line col in flushedQueue if thisshouldPauseOnThrow File nodemodulesreactnativeLibrariesBatchedBridgeMessageQueuejs line col in value return thisflushedQueue File app native code in value File app native code in value Environment info React native info output bash info Fetching system and libraries information System OS macOS CPU x IntelR CoreTM i HQ CPU GHz Memory MB GB Shell binzsh Binaries Node nvmversionsnodev binnode Yarn usrlocalbinyarn npm nvmversionsnodev binnpm Watchman usrlocalbinwatchman SDKs iOS SDK Platforms iOS DriverKit macOS tvOS watchOS IDEs Android Studio AI Xcode C usrbinxcodebuild npmPackages react reactnative Library version Steps To Reproduce Issues without reproduction steps or code are likely to stall The issue is intermittent and I couldnt reproduce it myself But error is happening to many users reported through Sentry Describe what you expected to happen For error not to be thrown Reproducible sample code javascript const permission await requestPERMISSIONSIOSMOTION return permission Feature Request If the list is empty no handler correctly added the message could be more explicit Why it is needed This will avoid us new users to be confused This will avoid new issue with this Should be one of Possible implementation Just detect that the list is empty and change the message to something like No permissions handler detected Did you linked the one you needed correctly Maybe you didnt reinstall the app properly clean your cache build rebuild your app Bug Please provide a clear and concise description of what the bug is Include screenshots if needed Please test using the latest release of the library as maybe said bug has been already fixed If the library has multiple install methods describe installation method eg pod not pod with jetifier etc checkPERMISSIONSANDROIDACCESSFINELOCATION CAN ONLY check if location permission of an APP had been turned onoff but CAN NOT check if the user sets the location permission of the android system as FINELOCATION High accuracy or not Environment info Run reactnative info in your terminal and copy the results here Also include the precise version number of this library that you are using in the project React native info output bash System OS macOS CPU x IntelR CoreTM i H CPU GHz Memory MB GB Shell binbash Binaries Node usrlocalbinnode Yarn usrlocalbinyarn npm usrlocalbinnpm Watchman usrlocalbinwatchman SDKs iOS SDK Platforms iOS DriverKit macOS tvOS watchOS Android SDK API Levels Build Tools System Images android Google Play Intel x Atom IDEs Android Studio AI Xcode A usrbinxcodebuild npmPackages react reactnative Library version Android version and Steps To Reproduce Issues without reproduction steps or code are likely to stall Copy the following sample code into an android project Run the app on an android device Turn on the location permission of the android system Turn on the location permission of the APP Turn off the location permission of the android system OR set to a mode except High accuracy now the check result would be granted It shouldnt Describe what you expected to happen Would get denied or blocked but not granted otherwise the status would be meaningless Reproducible sample code import check PERMISSIONS from reactnativepermissions checkPERMISSIONSANDROIDACCESSFINELOCATION thenresult consolelogresult would be granted catcherror consolelogerror Feature Request Allow to request multiple android permissions in one dialog This issue should serve for you to present or pitch an idea to the maintainers but remember that it would be better if you were to submit a PR instead Why it is needed Common pattern in android is request multiple permissions in one dialog For example if you need to take a photo you need to access CAMERA and EXTERNALSTORAGE This is already implemented in PermissionsAndroid RN module Please tell us a bit more of why you want this feature to be added whats its origin Possible implementation We can dig into RN module to get code from that It really helps if you could describe from a technical POV how this new feature would work which code it rely on etc Are there any future plans to include Google Fit and HealthKit permissions via this library Would be awesome to handle all permissions through a single API