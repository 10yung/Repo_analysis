 FAQs Before you add the issue please make sure to read over the following Frequently Asked Questions XxxPermissionsDispatcher class is not generated Did you add RuntimePermissions to your class and NeedsPermission to your method Did you try a Rebuild Sync is not Rebuild Dont mix apt and annotationProcessor If youre in Kotlin use kapt If youre using Realm x please consider upgrading to x refer to Issue If you checked all these steps and the generated classes are still not showing up then attach your ActivityFragment class and buildgradle Overview When this library is applied to Fragment and run on Android System UI has stopped is displayed Expected Works on Android Actual Doesn t work on Android Environment Which library version are you using On which devices do you observe the issue Android Note any other information that might be useful The following versions will work I think you should use ActivityCompatrequestPermissions method on Fragment On Activity you use it Reproducible steps Ready on Android device What I saw was an emulator Run the following branch This is a difference FAQs Before you add the issue please make sure to read over the following Frequently Asked Questions XxxPermissionsDispatcher class is not generated Did you add RuntimePermissions to your class and NeedsPermission to your method Did you try a Rebuild Sync is not Rebuild Dont mix apt and annotationProcessor If youre in Kotlin use kapt If youre using Realm x please consider upgrading to x refer to Issue If you checked all these steps and the generated classes are still not showing up then attach your ActivityFragment class and buildgradle Overview ACCESSBACKGROUNDLOCATION is not handled for Android API less than Describe the issue briefly Compile and target SDK From Android Q special permission is required for accessing location in background This did works well for Android Q but when its less than Android Q even though user has given Allow permission for location it consider failure deny for ACCESSBACKGROUNDLOCATION Expected What is the expected behavior When Android API less than when user has given Allow permission for location it should consider success for ACCESSBACKGROUNDLOCATION Actual What is the actual behavior When Android API less than when user has given Allow permission for location it consider failure deny for ACCESSBACKGROUNDLOCATION Environment Which library version are you using On which devices do you observe the issue All which has OS less than Note any other information that might be useful Reproducible steps While its not required itd be perfect to add a link to a sample project where you encounter the issue Please guide Thanking you in advance TankJK Sometimes it is useful for apps to know when the permission dialog was actually shown Currently it is not possible with annotations because NeedsPermission methods are also called when the permission was granted before and the dialog is not shown but this is expected I am suggesting to create a new OnRequestPermission or such annotation which can be put on methods which are only called when we the permission dialog is actually presented to the user In our app the real use case is to send analytics when the permission dialog is shown Overview The library ask for permissions even if the user permanently denied it before checked Do not ask again This adds an unnecessary call and also notifies the app about a user action which is not happening the permission dialog is not shown actually Expected If we detekt the user already denied the permission with never ask again we should not call requestPermissions Actual Currently we always call requestPermissions regardless the user denied it permanetly before or not Pseudo solution kotlin fun WelcomeScreenFragmentwelcomeButtonClickedWithPermissionCheck if PermissionUtilshasSelfPermissionsthisrequireActivity PERMISSIONWELCOMEBUTTONCLICKED welcomeButtonClicked else if PermissionUtilsshouldShowRequestPermissionRationalethis PERMISSIONWELCOMEBUTTONCLICKED thisrequestPermissionsPERMISSIONWELCOMEBUTTONCLICKED REQUESTWELCOMEBUTTONCLICKED 