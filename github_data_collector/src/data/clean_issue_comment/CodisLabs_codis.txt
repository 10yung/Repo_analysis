 codis slot slot slot key codismtslot B key group group codismtslot B group group codismtslot key key codis dashboard dashboard dashboard codis codis UI curl archbits blockedclients clientbiggestinputbuf clientlongestoutputlist configfile usrlocalcodisconfsentinelconf connectedclients evictedkeys executable usrlocalcodisbinredissentinel expiredkeys gccversion hz instantaneousinputkbps instantaneousopspersec instantaneousoutputkbps keyspacehits keyspacemisses latestforkusec lruclock master namecodiswoqxprd statusokaddress slaves sentinels master namecodiswoqx statusokaddress slaves sentinels master namecodiswoqx statusokaddress slaves sentinels master namecodiswoqx statusokaddress slaves sentinels master namecodiswoqxprd statusokaddress slaves sentinels master namecodiswoqxprd statusokaddress slaves sentinels migratecachedsockets multiplexingapi epoll os Linux el x x processid pubsubchannels pubsubpatterns redisbuildid bdb aa be fbc redisgitdirty redisgitsha f bc e redismode sentinel redisversion rejectedconnections runid dc ec f dec db a dbae a dd sentinelmasters sentinelrunningscripts sentinelscriptsqueuelength sentinelsimulatefailureflags sentineltilt syncfull syncpartialerr syncpartialok tcpport totalcommandsprocessed totalconnectionsreceived totalnetinputbytes totalnetoutputbytes uptimeindays uptimeinseconds usedcpusys usedcpusyschildren usedcpuuser usedcpuuserchildren Sentinels X Dec set master codiswoqx parallelsyncs X Dec set master codiswoqx downaftermilliseconds X Dec set master codiswoqx failovertimeout X Dec set master codiswoqx authpass redis X Dec set master codiswoqx parallelsyncs X Dec set master codiswoqx downaftermilliseconds X Dec set master codiswoqx failovertimeout X Dec set master codiswoqx authpass redis X Dec set master codiswoqx parallelsyncs X Dec set master codiswoqx downaftermilliseconds X Dec set master codiswoqx failovertimeout X Dec set master codiswoqx authpass redis X Dec slave slave codiswoqx X Dec slave slave codiswoqx X Dec slave slave codiswoqx X Dec monitor master codiswoqx X Dec monitor master codiswoqx X Dec monitor master codiswoqx X Dec monitor master codiswoqx quorum X Dec monitor master codiswoqx quorum X Dec monitor master codiswoqx quorum X Dec set master codiswoqx parallelsyncs X Dec set master codiswoqx downaftermilliseconds X Dec set master codiswoqx failovertimeout X Dec set master codiswoqx authpass redis X Dec set master codiswoqx parallelsyncs X Dec set master codiswoqx downaftermilliseconds X Dec set master codiswoqx failovertimeout X Dec set master codiswoqx authpass redis X Dec set master codiswoqx parallelsyncs X Dec set master codiswoqx downaftermilliseconds X Dec set master codiswoqx failovertimeout X Dec set master codiswoqx authpass redis X Dec slave slave codiswoqx X Dec slave slave codiswoqx X Dec slave slave codiswoqx codis these two links is invalid could anyone can update maingo WARN set ncpu maxncpu maingo WARN option dashboard proxygo WARN xc a f create new proxy token aa bee d e e a a cc b starttime CST m adminaddr ilinkmaster prototype tcp proxyaddr ilinkmaster productname codisdemo pid pwd homeqianliicloudcodisbin sys Linux ilinkmaster el x SMP Tue Nov UTC x x x GNULinux hostname ilinkmaster datacenter proxygo WARN xc a f admin start service on maingo WARN create proxy with config prototype tcp proxyaddr adminaddr jodisname jodisaddr jodisauth jodistimeout s jodiscompatible false productname codisdemo productauth sessionauth proxydatacenter proxymaxclients proxymaxoffheapsize gb proxyheapplaceholder mb backendpingperiod s backendrecvbufsize kb backendrecvtimeout s backendsendbufsize kb backendsendtimeout s backendmaxpipeline backendprimaryonly false backendprimaryparallel backendreplicaparallel backendkeepaliveperiod s backendnumberdatabases sessionrecvbufsize kb sessionrecvtimeout m sessionsendbufsize kb sessionsendtimeout s sessionmaxpipeline sessionkeepaliveperiod s sessionbreakonfailure false metricsreportserver metricsreportperiod s metricsreportinfluxdbserver metricsreportinfluxdbperiod s metricsreportinfluxdbusername metricsreportinfluxdbpassword metricsreportinfluxdbdatabase metricsreportstatsdserver metricsreportstatsdperiod s metricsreportstatsdprefix proxygo WARN xc a f proxy start service on maingo WARN option pidfile homeqianliicloudcodisbincodisproxypid maingo WARN xc a f proxy waiting online maingo WARN rpc online proxy failed error Remote Error store load proxy failed homegopathsrcgithubcomCodisLabscodispkgtopomtopomcachego githubcomCodisLabscodispkgtopomTopomrefillCache homegopathsrcgithubcomCodisLabscodispkgtopomtopomgo githubcomCodisLabscodispkgtopomTopomnewContext homegopathsrcgithubcomCodisLabscodispkgtopomtopomproxygo githubcomCodisLabscodispkgtopomTopomOnlineProxy homegopathsrcgithubcomCodisLabscodispkgtopomtopomapigo githubcomCodisLabscodispkgtopomapiServerOnlineProxy homegopathsrcgithubcomCodisLabscodispkgtopomtopomapigo githubcomCodisLabscodispkgtopomapiServerOnlineProxyfm eval local flag local targetScore rediscallget KEYS local currentCount if not targetScore then rediscallset KEYS if ARGV nil and ARGV then rediscallexpire KEYS tonumberARGV end else currentCount tonumbertargetScore end local limitCount tonumberARGV if currentCount limitCount or limitCount then currentCount tonumberrediscallincr KEYS flag end local ret ret flag ret currentCount return ret luaexpiretest When we executed the above lua script on version we found the masterslave data inconsistent master ttl luaexpiretest result slave ttl luaexpiretest result Then we try again and execute the monitor command on the slave xxxxxxxx eval local flag local targetScore rediscallget KEYS local currentCount if not targetScore then rediscallset KEYS if ARGV nil and ARGV then rediscallexpire KEYS tonumberARGV end else currentCount tonumbertargetScore end local limitCount tonumberARGV if currentCount limitCount or limitCount then currentCount tonumberrediscallincr KEYS flag end local ret ret flag ret currentCount ret tonumberARGV return ret luaexpiretest lua get luaexpiretest lua set luaexpiretest lua expire luaexpiretest lua incr luaexpiretest There seems to be nothing wrong with the sync script Could you check whether this is expected behavior or an issue Thanks myid INFO mainSendThreadtest ClientCnxnSendThread Opening socket connection to server test Will not attempt to authenticate using SASL unknown error myid mainSendThread test ClientCnxn SendThread test SASL zookeeper 