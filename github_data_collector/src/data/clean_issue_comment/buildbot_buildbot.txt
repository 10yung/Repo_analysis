Removing these leftover directories can be forgotten resulting in increasing disk usage Add an option to createworkers to remove these directories when detected disabled by default to keep current behaviour buildbotworker createworker deleteleftoverdirs dir server name password mkdir p dirTFAtest Brokerclient Deleting directory TFAtest that is not being used by the buildmaster Signedoffby Robin Jarry robinjarrycc Signedoffby Thomas Faivre thomasfaivre windcom Contributor Checklist x I have updated the unit tests x I have created a file in the masterbuildbotnewsfragments directory and read the READMEtxt in that directory x I have updated the appropriate documentation reportersGitHubCommentPush is failing with the message we are using an enterprise github server Failed to update failure for Project at commitshaid context issue None Traceback most recent call last Failure exceptionsTypeError sequence item expected string NoneType found I am using token to authenticate with github Please help This fixes Contributor Checklist X I have updated the unit tests I have created a file in the masterbuildbotnewsfragments directory and read the READMEtxt in that directory Im trying the following command line shell usrbinbuildbotworker createworker test toto But it gives the following error Traceback most recent call last File usrbinbuildbotworker line in module loadentrypointbuildbotworker post consolescripts buildbotworker File usrlibpython distpackagesbuildbotworkerscriptsrunnerpy line in run configparseOptions File usrlibpython distpackagestwistedpythonusagepy line in parseOptions selfsubOptionsparseOptionsrest File usrlibpython distpackagestwistedpythonusagepy line in parseOptions selfparseArgsargs File usrlibpython distpackagesbuildbotworkerscriptsrunnerpy line in parseArgs self host self port selfvalidateMasterArgumentmaster File usrlibpython distpackagesbuildbotworkerscriptsrunnerpy line in validateMasterArgument master port masterargsplit ValueError too many values to unpack expected Is Ipv address supposed to be supported Hi I have found a problem where the build is stopped by signal and no other error occurs Full log can be found here The buildbot uses DockerLatentWorkers and there are no errors reported in the logs related to this Any ideas Thanks The current login flow uses the p option which according to the perforce documentation Display the ticket rather than storing it in the local ticket file This PR simplifies the login flow by using the default perforce login behavior the ticket is automatically stored in a file Its location can be changed using the P TICKETS environment variable There is no need to parse and store the ticket anymore This will prevent any issue in the future if the output changes again as in This PR is used in production since October It fixes the frequent random issue I detailed in Everything is working fine since this patch was applied Let me know what you think about it I can squash the commits once they are reviewed Simple patch needed to support Streams depot I will update the unit tests and documentation later Eg ERROR Traceback most recent call last File buildbotbuildbotjobbuildmasterbuildbotdbpoolpy line in thd rv callablearg args kwargs File buildbotbuildbotjobbuildmasterbuildbotdblogspy line in thdappendLog return selfthdAppendLogconn logid content File buildbotbuildbotjobbuildmasterbuildbotdblogspy line in thdAppendLog res connexecuteq File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemyenginebasepy line in execute return methself multiparams params File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemysqlelementspy line in executeonconnection return connectionexecuteclauseelementself multiparams params File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemyenginebasepy line in executeclauseelement ret selfexecutecontext File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemyenginebasepy line in executecontext selfhandledbapiexception File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemyenginebasepy line in handledbapiexception utilraisefromcausesqlalchemyexception excinfo File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemyutilcompatpy line in raisefromcause reraisetypeexception exception tbexctb causecause File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemyenginebasepy line in executecontext selfdialectdoexecute File buildbotbuildbotjobbuildsandboxlibpython sitepackagessqlalchemyenginedefaultpy line in doexecute cursorexecutestatement parameters sqlalchemyexcOperationalError sqlite OperationalError no such table logs SQL SELECT logsnumlines FROM logs WHERE logsid parameters Background on this error at buildbottestunittestdblogsTestRealDBtestdeleteOldLogChunksbasic hi I need to configure github authorization so that all team members quasarappcore could use only of builders githubworker and githubtester and could only put on rebuild and build If the user put the project on the assembly then he as the owner could stop it my current configuration python selfmasterConf www authz utilAuthz allowRules utilAnyEndpointMatcherroleadmins utilStopBuildEndpointMatcherbuilder roleowner utilForceBuildEndpointMatcherbuildergithub rolequasarcore utilRebuildBuildEndpointMatcherbuildergithub rolequasarcore roleMatchers utilRolesFromGroupsgroupPrefixQuasarApp utilRolesFromEmailsadmins EndrIIMailgmailcom utilRolesFromOwnerroleowner secret SecretManagerhomeandreibuildBotSecretsecretjson selfmasterConf www auth utilGitHubAuth secretgetValueQuasarAppCIID secretgetValueQuasarAppCIToken apiVersion getTeamsMembershipTrue my current builders python selfmasterConf workers workerWorkergithubworker pass workerWorkergithubtester pass workerWorkerqtBuilder pass workerWorkerNPM pass workerWorkerassetsbuilder pass 