Hello I have a this very simple use case Im trying to make work for hours now without any success I have a simple lambda written in Go that is zipped MB big A lambda is eventually created into my account and works But terraform is somehow try to recreate the same lambda again and fails because the lambda already exists It seems to be related to the size of this archive somehow When I try with a smaller archive around MB everything works fine Is there any workaround limitation or any clue about this issue Thanks Adrien Terraform Version Terraform v providerarchive v provideraws v providernull v Terraform Configuration Files hcl variable awsregion default euwest provider aws region varawsregion resource awsiamrole iamforlambda name iamforlambda assumerolepolicy EOF Version Statement Action stsAssumeRole Principal Service lambdaamazonawscom Effect Allow Sid EOF resource awslambdafunction foo functionname foooooo filename functionzip handler main runtime go x role awsiamroleiamforlambdaarn Debug Output Crash Output Expected Behavior A lambda should be created successfully and terraform apply should not end up with an error Actual Behavior Lambda is createduploaded to AWS because but terraform crash Error Error creating Lambda function ResourceConflictException Function already exist foooooo Message Function already exist foooooo Type User Steps to Reproduce terraform init terraform apply Additional Context The function I try to create is a MB zip Golang binary Terraform Version Terraform v Terraform Configuration Files hcl variable tenancyocid variable userocid variable fingerprint variable privatekeypath variable region variable compartmentocid variable sshpublickey provider oci tenancyocid vartenancyocid userocid varuserocid fingerprint varfingerprint privatekeypath varprivatekeypath region varregion Defines the number of volumes to create and attach to each instance NOTE Changing this value after applying it could result in reattaching existing volumes to different instances This is a result of using count variables to specify the volume and instance IDs for the volume attachment resource variable numiscsivolumesperinstance default variable instanceshape default VMStandard variable instanceimageocid type map default usphoenix ocid imageoc phxaaaaaaaa utqyolfcrdqef u aa irshacsg x y btsss otqxzpvhshvq variable dbsize default size in GBs variable tagnamespacedescription default Just a test variable tagnamespacename default testexamplestagnamespace resource ocicoreinstance testinstance foreach varinstanceparams availabilitydomain dataociidentityavailabilitydomainadname compartmentid varcompartmentocid displayname jump shape eachvalueshape createvnicdetails subnetid ocicoresubnettestsubnetid displayname Primaryvnic assignpublicip true hostnamelabel eachvaluehostname sourcedetails sourcetype image sourceid varinstanceimageocid varregion Apply this to set the size of the boot volume thats created for this instance Otherwise the default boot volume size of the image is used This should only be specified when sourcetype is set to image bootvolumesizeingbs Apply the following flag only if you wish to preserve the attached boot volume upon destroying this instance Setting this and destroying the instance will result in a boot volume that should be managed outside of this config When changing this value make sure to run terraform apply so that it takes effect before the resource is destroyed preservebootvolume true metadata sshauthorizedkeys varsshpublickey userdata base encodefileuserdatabootstrap timeouts create m resource ocicorevcn testvcn cidrblock compartmentid varcompartmentocid displayname TestVcn dnslabel testvcn resource ocicoreinternetgateway testinternetgateway compartmentid varcompartmentocid displayname TestInternetGateway vcnid ocicorevcntestvcnid resource ocicoredefaultroutetable defaultroutetable managedefaultresourceid ocicorevcntestvcndefaultroutetableid displayname DefaultRouteTable routerules destination destinationtype CIDRBLOCK networkentityid ocicoreinternetgatewaytestinternetgatewayid resource ocicoresubnet testsubnet availabilitydomain dataociidentityavailabilitydomainadname cidrblock displayname TestSubnet dnslabel testsubnet securitylistids ocicorevcntestvcndefaultsecuritylistid compartmentid varcompartmentocid vcnid ocicorevcntestvcnid routetableid ocicorevcntestvcndefaultroutetableid dhcpoptionsid ocicorevcntestvcndefaultdhcpoptionsid data ociidentityavailabilitydomain ad compartmentid vartenancyocid adnumber resource ocicorevolume block foreach varbvparams availabilitydomain ocicoreinstancetestinstance eachvalueinstancename availabilitydomain compartmentid ocicoreinstancetestinstance eachvalueinstancename compartmentid displayname eachvaluedisplayname sizeingbs eachvaluebvsize compartmentid ocicoreinstancetestinstance eachvalueinstancename compartmentid variable bvparams description Placeholder the bv parameters type mapobject displayname string bvsize number instancename string devicename string variable instanceparams description Placeholder for the parameters of the instances type mapobject shape string hostname string bootvolumesize number assignpublicip bool privateip string nsgnames liststring preservebootvolume bool subnetname string devicediskmappings string faultdomain number imagename string terraformtfvars bvparams jumpbv displayname jumpbv bvsize instancename jump instanceparams jump shape VMStandard hostname jump bootvolumesize preservebootvolume false assignpublicip false privateip nsgnames nsgtestjump subnetname calypsotestjump devicediskmappings u devoracleocioraclevdb faultdomain imagename usphoenix win Debug Output Crash Output Error Invalid index in resource ocicorevolume block availabilitydomain ocicoreinstance testinstance eachvalueinstancename availabilitydomain eachvalueinstancename is jump ocicoreinstancetestinstance is object with no attributes The given key does not identify an element in this collection value Expected Behavior Even though the apply failed the destroy operation should have succeeded Actual Behavior When Apply failed at provisioning the instance instance got in state Terminating from Provisioning TF destroy also failed Steps to Reproduce Run Terraform apply if apply fails run TF destroy Additional Context References Hello Terraform Team I am experiencing a problem while creating an awsec clientvpnnetworkassociation resource Every time I run a terraform plan it tries to recreate of awsec clientvpnnetworkassociation resources because the subnetid is not the expected one The weird thing is that the tfstate does not reflect what the terraform plan output showed before creating the resources initially I will share it in the following sections I am iterating a set value the variable used to be list with a foreach statement The resource with key id subnet fdg kuor fkq m is the only resource which does not ask to recreate Terraform Version Run terraform v to show the version and paste the result between the marks below If you are not running the latest version of Terraform please try upgrading because your issue may have already been fixed terraform v provideraws v Terraform Configuration Files Paste the relevant parts of your Terraform configuration between the marks below For large Terraform configs please use a service like Dropbox and share a link to the ZIP file For security you can also encrypt the files using our GPG public key hcl resource awsec clientvpnnetworkassociation vpndctoawsassociation foreach tosetmodulevpcprivatesubnetids clientvpnendpointid awsec clientvpnendpointvpndctoawsid subnetid eachvalue This is the modulevpcprivatesubnetids output output privatesubnetids description List of private subnets identifiers value awssubnetprivate id This is how the output looks like the subnets id hash were changed but keeping the first digits so the toset return the same order privatesubnetids subnet fdg kuor fkq m subnet m ll sct jpusqo subnet jab wrkww n w Terraform plan when creating the resource for nd time Creating for nd time because previously I deleted the inconsistent resources with terraform hcl Terraform will perform the following actions awsec clientvpnnetworkassociationvpndctoawsassociation subnet m ll sct jpusqo will be created resource awsec clientvpnnetworkassociation vpndctoawsassociation clientvpnendpointid cvpnendpoint f fb id known after apply securitygroups known after apply status known after apply subnetid subnet m ll sct jpusqo vpcid known after apply awsec clientvpnnetworkassociationvpndctoawsassociation subnet jab wrkww n w will be created resource awsec clientvpnnetworkassociation vpndctoawsassociation clientvpnendpointid cvpnendpoint f fb id known after apply securitygroups known after apply status known after apply subnetid subnet jab wrkww n w vpcid known after apply Plan to add to change to destroy Apply hcl awsec clientvpnnetworkassociationvpndctoawsassociation subnet m ll sct jpusqo Creating awsec clientvpnnetworkassociationvpndctoawsassociation subnet jab wrkww n w Creating awsec clientvpnnetworkassociationvpndctoawsassociation subnet m ll sct jpusqo Creation complete after s idcvpnassoc e ba b b awsec clientvpnnetworkassociationvpndctoawsassociation subnet jab wrkww n w Creation complete after s idcvpnassoc a f b bf e Tfstate json mode managed type awsec clientvpnnetworkassociation name vpndctoawsassociation each map provider provideraws instances indexkey subnet m ll sct jpusqo schemaversion attributes clientvpnendpointid cvpnendpoint f fb id cvpnassoc e ba b b securitygroups sg dnzaak k b asb status associated subnetid subnet fdg kuor fkq m vpcid vpcnx tigsi nuzgop k private bnVsbA dependencies awsec clientvpnendpointvpndctoaws modulevpcawssubnetprivate indexkey subnet jab wrkww n w schemaversion attributes clientvpnendpointid cvpnendpoint f fb id cvpnassoc a f b bf e securitygroups sg dnzaak k b asb status associated subnetid subnet fdg kuor fkq m vpcid vpcnx tigsi nuzgop k private bnVsbA dependencies awsec clientvpnendpointvpndctoaws modulevpcawssubnetprivate indexkey subnet fdg kuor fkq m schemaversion attributes clientvpnendpointid cvpnendpoint f fb id cvpnassoc d b b securitygroups sg dnzaak k b asb status associated subnetid subnet fdg kuor fkq m vpcid vpcnx tigsi nuzgop k private bnVsbA dependencies awsec clientvpnendpointvpndctoaws modulevpcawssubnetprivate Terraform plan when creating the resource for rd time After running the previous apply I ran a new terraform plan hcl Terraform will perform the following actions awsec clientvpnnetworkassociationvpndctoawsassociation subnet m ll sct jpusqo must be replaced resource awsec clientvpnnetworkassociation vpndctoawsassociation clientvpnendpointid cvpnendpoint f fb id cvpnassoc e ba b b known after apply securitygroups sg dnzaak k b asb known after apply status associated known after apply subnetid subnet fdg kuor fkq m subnet m ll sct jpusqo forces replacement vpcid vpcnx tigsi nuzgop k known after apply awsec clientvpnnetworkassociationvpndctoawsassociation subnet jab wrkww n w must be replaced resource awsec clientvpnnetworkassociation vpndctoawsassociation clientvpnendpointid cvpnendpoint f fb id cvpnassoc a f b bf e known after apply securitygroups sg dnzaak k b asb known after apply status associated known after apply subnetid subnet fdg kuor fkq m subnet jab wrkww n w forces replacement vpcid vpcnx tigsi nuzgop k known after apply Plan to add to change to destroy Debug Output Full debug output can be obtained by running Terraform with the environment variable TFLOGtrace Please create a GitHub Gist containing the debug output Please do not paste the debug output in the issue since debug output is long Debug output may contain sensitive information Please review it before posting publicly and if you are concerned feel free to encrypt the files using the HashiCorp security public key Crash Output If the console output indicates that Terraform crashed please share a link to a GitHub Gist containing the output of the crashlog file Expected Behavior What should have happened The subnetid in the tfstate has to match with the object key which has the same value as subnetid Actual Behavior What actually happened It wants to recreate of resources because the tfstate is created inconsistently Steps to Reproduce Please list the full steps required to reproduce the issue for example terraform init terraform apply Additional Context Are there anything atypical about your situation that we should know For example is Terraform running in a wrapper script or in a CI system Are you passing any unusual command line options or environment variables to optin to nondefault behavior I am running terraform with a homemade wrapper Anyways I dont think it is causing any problem because it forwards all terraform parameter to the terraform binary I havent tried to reproduce it without the wrapper because it is hard to play with my current infra config References Are there any other GitHub issues open or closed or Pull Requests that should be linked here For example Current Terraform Version Latest Usecases Would be nice to get failures right on plan if a given variable is not the expected pattern or allowed value just like AWS CloudFormation does with Parameters with AllowedPattern AllowedValues Proposal Something like this variable instancetype type string allowedvalues t micro m small m large References Hi there Thank you for opening an issue Please note that we try to keep the Terraform issue tracker reserved for bug reports and feature requests For general usage questions please see If your issue relates to a specific Terraform provider please open it in the providers own repository The index of providers is at When Using the Terraform habitat provider the supervisor fails to start when using any service Terraform Version Run terraform v to show the version and paste the result between the marks below If you are not running the latest version of Terraform please try upgrading because your issue may have already been fixed Terraform v provideraws v providertemplate v Terraform Configuration Files Paste the relevant parts of your Terraform configuration between the marks below For large Terraform configs please use a service like Dropbox and share a link to the ZIP file For security you can also encrypt the files using our GPG public key Snippit of TF file hcl Data This retrieves the latest AMI ID for Ubuntu data awsami ubuntu description amazon ubuntu image mostrecent true owners amazon windows ownerid filter name name values ubuntuxenial amd server filter name virtualizationtype values hvm data templatefile vaultservice template filepathmoduletemplatesvaultservicetpl resource awsinstance vaultserver ami dataawsamiubuntu id instancetype t large keyname keyaws availabilityzone uswest a subnetid subnetxxxxxxxx securitygroups sg xx xxx tags Name Hashivault rootblockdevice deleteontermination true volumesize volumetype gp connection host coalesceselfpublicip selfprivateip type ssh user ubuntu password filevarawskeypairfile provisioner habitat peer awsinstancevaultserverprivateip usesudo true servicetype systemd acceptlicense true service name corevault topology standalone strategy atonce usertoml fileconfvaulttoml Debug Output Full debug output can be obtained by running Terraform with the environment variable TFLOGtrace Please create a GitHub Gist containing the debug output Please do not paste the debug output in the issue since debug output is long Debug output may contain sensitive information Please review it before posting publicly and if you are concerned feel free to encrypt the files using the HashiCorp security public key awsinstancevaultserver habitat Created symlink from etcsystemdsystemdefaulttargetwantshabsupervisorservice to etcsystemdsystemhabsupervisorservice awsinstancevaultserver habitat Starting service corevault awsinstancevaultserver habitat Installing corevault awsinstancevaultserver habitat Determining latest version of corevault in the stable channel awsinstancevaultserver habitat Downloading corevault awsinstancevaultserver Still creating m s elapsed awsinstancevaultserver habitat Verifying corevault awsinstancevaultserver habitat Installed corevault awsinstancevaultserver habitat Install of corevault complete with new packages installed awsinstancevaultserver habitat Uploading usertoml for service corevault awsinstancevaultserver habitat awsinstancevaultserver habitat Unable to contact the Supervisor awsinstancevaultserver habitat awsinstancevaultserver habitat If the Supervisor you are contacting is local this probably means it is not running You can run a Supervisor in the foreground with awsinstancevaultserver habitat awsinstancevaultserver habitat hab sup run awsinstancevaultserver habitat awsinstancevaultserver habitat Or try restarting the Supervisor through your operating systems init process or Windows service awsinstancevaultserver habitat Error error executing env HABNONINTERACTIVEtrue HABNOCOLORINGtrue sudo E binbash c hab svc load corevault topology standalone strategy atonce Process exited with status Crash Output If the console output indicates that Terraform crashed please share a link to a GitHub Gist containing the output of the crashlog file Expected Behavior What should have happened The service that is being loaded is running and the supervisor service is running Actual Behavior What actually happened Error apperas saying that hab svc load exited with a staus Steps to Reproduce Please list the full steps required to reproduce the issue for example terraform init terraform apply Additional Context Are there anything atypical about your situation that we should know For example is Terraform running in a wrapper script or in a CI system Are you passing any unusual command line options or environment variables to optin to nondefault behavior If I log onto the server and run the hab svc manually it starts just fine and I can load any service References Are there any other GitHub issues open or closed or Pull Requests that should be linked here For example Not a real PR Id just like acctests to run Terraform Version Tested on both and terraform version Terraform v Terraform Configuration Files Can be found on the sample repo along with the steps to reproduce StepstoReproduce Expected Behavior Running either terraform plan destroy outdestroytfplan terraform apply destroytfplan or terraform destroy autoapprove should destroy the resources Actual Behavior Running the latter succeeds in destroying the resources while the former reports an error Error Cycle moduleclusteroutputhost moduleclusteroutputpassword moduleclusteroutputclustercacertificate providerkubernetes modulekuberneteskubernetesstorageclassssd destroy moduleclustergooglecontainerclustercluster destroy Steps to Reproduce Place a credentialsjson with your google account Create a project in your google account env project or set your project as vargcpproject terraform init detailssummaryoutputsummary p Initializing modules cluster in modulescluster kubernetes in moduleskubernetes Initializing the backend Initializing provider plugins Checking for available provider plugins Downloading plugin for provider google hashicorpgoogle Downloading plugin for provider googlebeta terraformprovidersgooglebeta Downloading plugin for provider kubernetes hashicorpkubernetes Downloading plugin for provider null hashicorpnull Downloading plugin for provider random hashicorprandom Downloading plugin for provider external hashicorpexternal Downloading plugin for provider tls hashicorptls Terraform has been successfully initialized p details terraform apply detailssummaryoutputsummary p moduleclusterdatagooglecontainerengineversionsvalidgkeversions Refreshing state An execution plan has been generated and is shown below Resource actions are indicated with the following symbols create Terraform will perform the following actions moduleclustergooglecomputeaddressgkeoutgoingaddress will be created resource googlecomputeaddress gkeoutgoingaddress address known after apply addresstype EXTERNAL creationtimestamp known after apply id known after apply name defaultgkeoutgoingnataddress networktier known after apply project known after apply purpose known after apply region useast selflink known after apply subnetwork known after apply users known after apply moduleclustergooglecomputeaddressgkeoutgoingaddress will be created resource googlecomputeaddress gkeoutgoingaddress address known after apply addresstype EXTERNAL creationtimestamp known after apply id known after apply name defaultgkeoutgoingnataddress networktier known after apply project known after apply purpose known after apply region useast selflink known after apply subnetwork known after apply users known after apply moduleclustergooglecomputeglobaladdressexternalip will be created resource googlecomputeglobaladdress externalip address known after apply creationtimestamp known after apply id known after apply name defaultbackendip project known after apply selflink known after apply moduleclustergooglecomputenetworknetwork will be created resource googlecomputenetwork network autocreatesubnetworks true deletedefaultroutesoncreate false gatewayipv known after apply id known after apply ipv range known after apply name defaultvpc project known after apply routingmode known after apply selflink known after apply moduleclustergooglecomputeroutergkeoutgoingrouter will be created resource googlecomputerouter gkeoutgoingrouter creationtimestamp known after apply id known after apply name defaultgkeoutgoingrouter network known after apply project known after apply region useast selflink known after apply moduleclustergooglecomputerouternatgkeoutgoingnat will be created resource googlecomputerouternat gkeoutgoingnat icmpidletimeoutsec id known after apply minportspervm name defaultgkeoutgoingnat natipallocateoption MANUALONLY natips known after apply project known after apply region useast router defaultgkeoutgoingrouter sourcesubnetworkiprangestonat LISTOFSUBNETWORKS tcpestablishedidletimeoutsec tcptransitoryidletimeoutsec udpidletimeoutsec logconfig enable true filter ALL subnetwork name secondaryiprangenames sourceiprangestonat ALLIPRANGES moduleclustergooglecontainerclustercluster will be created resource googlecontainercluster cluster clusteripv cidr known after apply defaultmaxpodspernode known after apply enablebinaryauthorization known after apply enablekubernetesalpha false enablelegacyabac false enabletpu known after apply endpoint known after apply id known after apply initialnodecount instancegroupurls known after apply location useast b loggingservice logginggoogleapiscomkubernetes masterversion known after apply minmasterversion gke monitoringservice monitoringgoogleapiscomkubernetes name defaultcluster network known after apply nodelocations known after apply nodeversion known after apply project known after apply removedefaultnodepool true resourcelabels workspace default servicesipv cidr known after apply subnetwork known after apply addonsconfig horizontalpodautoscaling disabled known after apply httploadbalancing disabled known after apply kubernetesdashboard disabled known after apply networkpolicyconfig disabled known after apply authenticatorgroupsconfig securitygroup known after apply clusterautoscaling enabled known after apply autoprovisioningdefaults oauthscopes known after apply serviceaccount known after apply resourcelimits maximum known after apply minimum known after apply resourcetype known after apply ipallocationpolicy clusteripv cidrblock known after apply clustersecondaryrangename known after apply createsubnetwork known after apply nodeipv cidrblock known after apply servicesipv cidrblock known after apply servicessecondaryrangename known after apply subnetworkname known after apply useipaliases known after apply masterauth clientcertificate known after apply clientkey sensitive value clustercacertificate known after apply password sensitive value username admin clientcertificateconfig issueclientcertificate false masterauthorizednetworksconfig cidrblocks cidrblock displayname allowall networkpolicy enabled known after apply provider known after apply nodeconfig disksizegb known after apply disktype known after apply guestaccelerator known after apply imagetype known after apply labels known after apply localssdcount known after apply machinetype known after apply metadata known after apply mincpuplatform known after apply oauthscopes known after apply preemptible known after apply serviceaccount known after apply tags known after apply taint known after apply sandboxconfig sandboxtype known after apply shieldedinstanceconfig enableintegritymonitoring known after apply enablesecureboot known after apply workloadmetadataconfig nodemetadata known after apply nodepool initialnodecount known after apply instancegroupurls known after apply maxpodspernode known after apply name known after apply nameprefix known after apply nodecount known after apply version known after apply autoscaling maxnodecount known after apply minnodecount known after apply management autorepair known after apply autoupgrade known after apply nodeconfig disksizegb known after apply disktype known after apply guestaccelerator known after apply imagetype known after apply labels known after apply localssdcount known after apply machinetype known after apply metadata known after apply mincpuplatform known after apply oauthscopes known after apply preemptible known after apply serviceaccount known after apply tags known after apply taint known after apply sandboxconfig sandboxtype known after apply shieldedinstanceconfig enableintegritymonitoring known after apply enablesecureboot known after apply workloadmetadataconfig nodemetadata known after apply privateclusterconfig enableprivatenodes true masteripv cidrblock privateendpoint known after apply publicendpoint known after apply moduleclustergooglecontainernodepoolnodepool will be created resource googlecontainernodepool nodepool cluster defaultcluster id known after apply initialnodecount instancegroupurls known after apply location known after apply maxpodspernode known after apply name defaultnodepool nameprefix known after apply nodecount known after apply project known after apply version gke autoscaling maxnodecount minnodecount management autorepair true autoupgrade false nodeconfig disksizegb known after apply disktype known after apply guestaccelerator known after apply imagetype known after apply labels workspace default localssdcount known after apply machinetype n highcpu metadata disablelegacyendpoints true mincpuplatform Intel Haswell oauthscopes preemptible false serviceaccount known after apply taint known after apply shieldedinstanceconfig enableintegritymonitoring known after apply enablesecureboot known after apply moduleclusterrandomstringclusterpassword will be created resource randomstring clusterpassword id known after apply length lower true minlower minnumeric minspecial minupper number true result known after apply special true upper true modulekuberneteskubernetesstorageclassssd will be created resource kubernetesstorageclass ssd allowvolumeexpansion true id known after apply parameters type pdssd reclaimpolicy Delete storageprovisioner kubernetesiogcepd volumebindingmode Immediate metadata generation known after apply name ssd resourceversion known after apply selflink known after apply uid known after apply Plan to add to change to destroy Do you want to perform these actions Terraform will perform the actions described above Only yes will be accepted to approve Enter a value yes p details terraform plan destroy outdestroytfplan detailssummaryoutputsummary p Refreshing Terraform state inmemory prior to plan The refreshed state will be used to calculate this plan but will not be persisted to local or remote state storage moduleclusterrandomstringclusterpassword Refreshing state idYJwwlyoF BWcFIMmU NU zkfHCA G moduleclustergooglecomputeglobaladdressexternalip Refreshing state idprojectsenv projectglobaladdressesdefaultbackendip moduleclustergooglecomputenetworknetwork Refreshing state idprojectsenv projectglobalnetworksdefaultvpc moduleclusterdatagooglecontainerengineversionsvalidgkeversions Refreshing state moduleclustergooglecomputeaddressgkeoutgoingaddress Refreshing state idprojectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress moduleclustergooglecomputeaddressgkeoutgoingaddress Refreshing state idprojectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress moduleclustergooglecomputeroutergkeoutgoingrouter Refreshing state idprojectsenv projectregionsuseast routersdefaultgkeoutgoingrouter moduleclustergooglecontainerclustercluster Refreshing state idprojectsenv projectlocationsuseast bclustersdefaultcluster moduleclustergooglecomputerouternatgkeoutgoingnat Refreshing state idenv projectuseast defaultgkeoutgoingrouterdefaultgkeoutgoingnat moduleclustergooglecontainernodepoolnodepool Refreshing state idprojectsenv projectlocationsuseast bclustersdefaultclusternodePoolsdefaultnodepool modulekuberneteskubernetesstorageclassssd Refreshing state idssd An execution plan has been generated and is shown below Resource actions are indicated with the following symbols destroy Terraform will perform the following actions moduleclustergooglecomputeaddressgkeoutgoingaddress will be destroyed resource googlecomputeaddress gkeoutgoingaddress address null addresstype EXTERNAL null creationtimestamp T null id projectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress null name defaultgkeoutgoingnataddress null networktier PREMIUM null project env project null region useast null selflink null users null moduleclustergooglecomputeaddressgkeoutgoingaddress will be destroyed resource googlecomputeaddress gkeoutgoingaddress address null addresstype EXTERNAL null creationtimestamp T null id projectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress null name defaultgkeoutgoingnataddress null networktier PREMIUM null project env project null region useast null selflink null users null moduleclustergooglecomputeglobaladdressexternalip will be destroyed resource googlecomputeglobaladdress externalip address null addresstype EXTERNAL null creationtimestamp T null id projectsenv projectglobaladdressesdefaultbackendip null name defaultbackendip null prefixlength null project env project null selflink null moduleclustergooglecomputenetworknetwork will be destroyed resource googlecomputenetwork network autocreatesubnetworks true null deletedefaultroutesoncreate false null id projectsenv projectglobalnetworksdefaultvpc null name defaultvpc null project env project null routingmode REGIONAL null selflink null moduleclustergooglecomputeroutergkeoutgoingrouter will be destroyed resource googlecomputerouter gkeoutgoingrouter creationtimestamp T null id projectsenv projectregionsuseast routersdefaultgkeoutgoingrouter null name defaultgkeoutgoingrouter null network null project env project null region useast null selflink null moduleclustergooglecomputerouternatgkeoutgoingnat will be destroyed resource googlecomputerouternat gkeoutgoingnat icmpidletimeoutsec null id env projectuseast defaultgkeoutgoingrouterdefaultgkeoutgoingnat null minportspervm null name defaultgkeoutgoingnat null natipallocateoption MANUALONLY null natips null project env project null region useast null router defaultgkeoutgoingrouter null sourcesubnetworkiprangestonat LISTOFSUBNETWORKS null tcpestablishedidletimeoutsec null tcptransitoryidletimeoutsec null udpidletimeoutsec null logconfig enable true null filter ALL null subnetwork name null secondaryiprangenames null sourceiprangestonat ALLIPRANGES null moduleclustergooglecontainerclustercluster will be destroyed resource googlecontainercluster cluster clusteripv cidr null defaultmaxpodspernode null enablekubernetesalpha false null enablelegacyabac false null endpoint null id projectsenv projectlocationsuseast bclustersdefaultcluster null initialnodecount null instancegroupurls null location useast b null loggingservice logginggoogleapiscomkubernetes null masterversion gke null minmasterversion gke null monitoringservice monitoringgoogleapiscomkubernetes null name defaultcluster null network projectsenv projectglobalnetworksdefaultvpc null nodelocations null nodeversion gke null project env project null removedefaultnodepool true null resourcelabels workspace default null servicesipv cidr null subnetwork projectsenv projectregionsuseast subnetworksdefaultvpc null addonsconfig networkpolicyconfig disabled true null clusterautoscaling enabled false null ipallocationpolicy clusteripv cidrblock null clustersecondaryrangename gkedefaultclusterpodsbaaf f null createsubnetwork false null servicesipv cidrblock null servicessecondaryrangename gkedefaultclusterservicesbaaf f null useipaliases false null masterauth clustercacertificate LS tLS CRUdJTiBDRVJUSUZJQ FURS tLS tCk JSURERENDQWZTZ F SUJBZ lSQUpNM cxNkRpUExKMGZrdXVocUQzQ l RFFZSktvWklodmNOQVFFTEJRQXcKTHpFdE Dc dBMVVFQXhNa qSTNZV prTlRJdFlUWXpaaTAwWW FeExUa dZemd TnpBeE qZzNObUkwWkRNdwpNQjRYRFRJd ERXhOakUxTVRJeE Gb hEVEkxTURFeE ERTJNVEl T Zvd x RXRNQ NHQTFVRUF TWtNakkzCllXSmtOVEl WVRZelppMDBZbUV TFRrd l Z ROekF TWpnM tSTBaRE TUlJQklqQU CZ txaGtpRzl MEIKQVFFRkFBT NBUThBTUlJQkNnS NBUUVBeW wbFQ dmFpV NuQXhBRng NlZ WXRoTlIvUVZsNVRhNU sNWdtRQovQmhoRXRuNm MOXhsMFcxaGJaUlNyK grZnRzR FUQmNwRk iWHNvVmk TDJJY hwUStyYVdoZXF dmpTNS FCkN bGU Qmk czZ QXVoeU wcFByaVNXYlBYa NDTEx VHc aTdMZGZtMHprVnU djErdGRmdkRPbFNIVVFsVGsKKzNXbHovNmsrcEluaUdNTXFmbFZJUHR QXJhejRNUGhjcTludUpKMGtsSHo UlNmMU TXJYUFhLalo LzRwNwpuSkNHR ZydDJ STRDYWRJQjhCU I ZTNsbVNOMU WEcyQ M RUQ SG MW JVHcvTDFSRCtSVDE S NrZXo ClRCQ VIdjdLekIzNG sbTRmcUprSVNQbTVyZGZMaS cDNFd ZRaVlaLzZkQXdJREFRQUJveU SVRBT JnTlYKSFE QkFmOEVCQU DQWdRd R WURWUjBUQVFIL JBVXdBd VCL pBTkJna Foa lHOXcwQkFRc ZBQU DQVFFQQpIVW Qa NlSlRQcDNXeDJVcGFqU h RDFhMk aXNIVTJPWmVtaDU M hTekJOeFVHSEE MHlSd kvRE HTmVMCm rdlJLb xRc p UkdFR JmeWkwdWlXYjlmYURTNFlxY NZbGxJZ ZOMytpb rblE R FVaXJOYUVxWTZJLzkKcWlQV J dVNLQVl b Eva JqSDA djNUNXM NHh SkM dWhlTzNsRzFZSk qaVRzM JwNnVOUllHME xSktSMQo MitQcksxOURNVGpidlI eWI bklxdkhpQ xySnF VUF V l RlNpOUNtNS VSWxuY xHeUxtTkttUkVDY dDCmN TjRoNTBaTnlneUFiazVuaFpKaGcyRmRWeDdSdksrZ M ajQ U Q VjlabjVmMXZOeDVZMkZIVFhnSys NXoKMDF VmNlNy RdkdoU hmUUlNbS pZz Ci tLS tRU EIENFUlRJRklDQVRFLS tLS K null password sensitive value username admin null clientcertificateconfig issueclientcertificate false null masterauthorizednetworksconfig cidrblocks cidrblock null displayname allowall null networkpolicy enabled false null provider PROVIDERUNSPECIFIED null nodeconfig disksizegb null disktype pdstandard null guestaccelerator null imagetype COS null labels workspace default null localssdcount null machinetype n highcpu null metadata disablelegacyendpoints true null mincpuplatform Intel Haswell null oauthscopes null preemptible false null serviceaccount default null tags null taint null shieldedinstanceconfig enableintegritymonitoring true null enablesecureboot false null nodepool initialnodecount null instancegroupurls null maxpodspernode null name defaultnodepool null nodecount null version gke null autoscaling maxnodecount null minnodecount null management autorepair true null autoupgrade false null nodeconfig disksizegb null disktype pdstandard null guestaccelerator null imagetype COS null labels workspace default null localssdcount null machinetype n highcpu null metadata disablelegacyendpoints true null mincpuplatform Intel Haswell null oauthscopes null preemptible false null serviceaccount default null tags null taint null shieldedinstanceconfig enableintegritymonitoring true null enablesecureboot false null privateclusterconfig enableprivateendpoint false null enableprivatenodes true null masteripv cidrblock null privateendpoint null publicendpoint null moduleclustergooglecontainernodepoolnodepool will be destroyed resource googlecontainernodepool nodepool cluster defaultcluster null id projectsenv projectlocationsuseast bclustersdefaultclusternodePoolsdefaultnodepool null initialnodecount null instancegroupurls null location useast b null maxpodspernode null name defaultnodepool null nodecount null project env project null version gke null autoscaling maxnodecount null minnodecount null management autorepair true null autoupgrade false null nodeconfig disksizegb null disktype pdstandard null guestaccelerator null imagetype COS null labels workspace default null localssdcount null machinetype n highcpu null metadata disablelegacyendpoints true null mincpuplatform Intel Haswell null oauthscopes null preemptible false null serviceaccount default null tags null taint null shieldedinstanceconfig enableintegritymonitoring true null enablesecureboot false null moduleclusterrandomstringclusterpassword will be destroyed resource randomstring clusterpassword id YJwwlyoF BWcFIMmU NU zkfHCA G null length null lower true null minlower null minnumeric null minspecial null minupper null number true null result YJwwlyoF BWcFIMmU NU zkfHCA G null special true null upper true null modulekuberneteskubernetesstorageclassssd will be destroyed resource kubernetesstorageclass ssd allowvolumeexpansion true null id ssd null parameters type pdssd null reclaimpolicy Delete null storageprovisioner kubernetesiogcepd null volumebindingmode Immediate null metadata annotations null generation null labels null name ssd null resourceversion null selflink apisstoragek siov storageclassesssd null uid f ae c ea da ac null Plan to add to change to destroy This plan was saved to destroytfplan To perform exactly these actions run the following command to apply terraform apply destroytfplan p details Trying to apply the plan will fail claiming there are cycles which arent clear to me terraform apply destroytfplan detailssummaryoutputsummary p Error Cycle moduleclusteroutputhost moduleclusteroutputpassword moduleclusteroutputclustercacertificate providerkubernetes modulekuberneteskubernetesstorageclassssd destroy moduleclustergooglecontainerclustercluster destroy p details Whats worse trying to destroy rather than applying the destruction plan works terraform destroy detailssummaryoutputsummary p moduleclusterrandomstringclusterpassword Refreshing state idBhsaShHbnBCX bifsCIRaEnMl OW PcPVitX moduleclustergooglecomputenetworknetwork Refreshing state idprojectsenv projectglobalnetworksdefaultvpc moduleclustergooglecomputeaddressgkeoutgoingaddress Refreshing state idprojectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress moduleclustergooglecomputeaddressgkeoutgoingaddress Refreshing state idprojectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress moduleclusterdatagooglecontainerengineversionsvalidgkeversions Refreshing state moduleclustergooglecomputeglobaladdressexternalip Refreshing state idprojectsenv projectglobaladdressesdefaultbackendip moduleclustergooglecomputeroutergkeoutgoingrouter Refreshing state idprojectsenv projectregionsuseast routersdefaultgkeoutgoingrouter moduleclustergooglecontainerclustercluster Refreshing state idprojectsenv projectlocationsuseast bclustersdefaultcluster moduleclustergooglecomputerouternatgkeoutgoingnat Refreshing state idenv projectuseast defaultgkeoutgoingrouterdefaultgkeoutgoingnat moduleclustergooglecontainernodepoolnodepool Refreshing state idprojectsenv projectlocationsuseast bclustersdefaultclusternodePoolsdefaultnodepool modulekuberneteskubernetesstorageclassssd Refreshing state idssd An execution plan has been generated and is shown below Resource actions are indicated with the following symbols destroy Terraform will perform the following actions moduleclustergooglecomputeaddressgkeoutgoingaddress will be destroyed resource googlecomputeaddress gkeoutgoingaddress address null addresstype EXTERNAL null creationtimestamp T null id projectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress null name defaultgkeoutgoingnataddress null networktier PREMIUM null project env project null region useast null selflink null users null moduleclustergooglecomputeaddressgkeoutgoingaddress will be destroyed resource googlecomputeaddress gkeoutgoingaddress address null addresstype EXTERNAL null creationtimestamp T null id projectsenv projectregionsuseast addressesdefaultgkeoutgoingnataddress null name defaultgkeoutgoingnataddress null networktier PREMIUM null project env project null region useast null selflink null users null moduleclustergooglecomputeglobaladdressexternalip will be destroyed resource googlecomputeglobaladdress externalip address null addresstype EXTERNAL null creationtimestamp T null id projectsenv projectglobaladdressesdefaultbackendip null name defaultbackendip null prefixlength null project env project null selflink null moduleclustergooglecomputenetworknetwork will be destroyed resource googlecomputenetwork network autocreatesubnetworks true null deletedefaultroutesoncreate false null id projectsenv projectglobalnetworksdefaultvpc null name defaultvpc null project env project null routingmode REGIONAL null selflink null moduleclustergooglecomputeroutergkeoutgoingrouter will be destroyed resource googlecomputerouter gkeoutgoingrouter creationtimestamp T null id projectsenv projectregionsuseast routersdefaultgkeoutgoingrouter null name defaultgkeoutgoingrouter null network null project env project null region useast null selflink null moduleclustergooglecomputerouternatgkeoutgoingnat will be destroyed resource googlecomputerouternat gkeoutgoingnat icmpidletimeoutsec null id env projectuseast defaultgkeoutgoingrouterdefaultgkeoutgoingnat null minportspervm null name defaultgkeoutgoingnat null natipallocateoption MANUALONLY null natips null project env project null region useast null router defaultgkeoutgoingrouter null sourcesubnetworkiprangestonat LISTOFSUBNETWORKS null tcpestablishedidletimeoutsec null tcptransitoryidletimeoutsec null udpidletimeoutsec null logconfig enable true null filter ALL null subnetwork name null secondaryiprangenames null sourceiprangestonat ALLIPRANGES null moduleclustergooglecontainerclustercluster will be destroyed resource googlecontainercluster cluster clusteripv cidr null defaultmaxpodspernode null enablekubernetesalpha false null enablelegacyabac false null endpoint null id projectsenv projectlocationsuseast bclustersdefaultcluster null initialnodecount null instancegroupurls null location useast b null loggingservice logginggoogleapiscomkubernetes null masterversion gke null minmasterversion gke null monitoringservice monitoringgoogleapiscomkubernetes null name defaultcluster null network projectsenv projectglobalnetworksdefaultvpc null nodelocations null nodeversion gke null project env project null removedefaultnodepool true null resourcelabels workspace default null servicesipv cidr null subnetwork projectsenv projectregionsuseast subnetworksdefaultvpc null addonsconfig networkpolicyconfig disabled true null clusterautoscaling enabled false null ipallocationpolicy clusteripv cidrblock null clustersecondaryrangename gkedefaultclusterpodsd e null createsubnetwork false null servicesipv cidrblock null servicessecondaryrangename gkedefaultclusterservicesd e null useipaliases false null masterauth clustercacertificate LS tLS CRUdJTiBDRVJUSUZJQ FURS tLS tCk JSURDekNDQWZPZ F SUJBZ lRYmlVbUh WGdsNTJ ZEsvUjc cDVVakFOQmdrcWhraUc dzBCQVFzRkFEQXYKTVMwd t WURWUVFERXlRek tSmpNR k T MwMll SmxMVFExWkRVdFlqSTRNeTFsWkRjMFpqRTRaV psTnpjdwpIaGNOTWpBd URTJNVE wTXpVNVdoY NalV TVRFME UUTBNelU V pBdk TMHdLd lEVlFRREV UXpObUpqCk HWTVPQzAyWXpKbExUUTFaRFV WWpJNE MWxaRGMwWmpFNFpXWmxOemN Z dFaU BMEdDU FHU liM RRRUIKQVFVQUE SUJEd F Z dFS FvSUJBUUNraUpVTlZONmxnNy HN Q R WjIwd VzclA dXc eGxleWlXTXdhKwpCUFdjWVFKNlVyQW KeXlWVXZlZVBkZlY Tk KMkd Q FiUEVucG KK cvbGpGcEhyUXBtdnhQVU Ta hrNVdXCnZYcTZJblA aWN Nkd VEVPbFdjYkdhdkhuTVZVTnJoVCtya l RHNFV lhcEh a eFRzbnZMbFhZekZQVGUKS hWanArZHVZN RtQ NaOXVqbTFRalFKdTdXTzdxTVViaUJXWWtPcTRRUWhoLzJ NUQzNGxpTjRPZEhsVSszTwpSY JPM wyOXprQ VVT JwV NLcTYzMERHM twbkx dThiaW rNVhtUW wbHo MDdKRGJSbUFEUXNtMlpvSy xCmxyS lwQkVSMVZDTzd aS NQW QWGFsZDB R o MS HdVBBTDM Um zTFJCQWdNQkFBR pJekFoTUE R ExVWQKRHdFQi UUVBd lDQkRBUEJnTlZIUk CQWY RUJUQURBUUgvTUEwR NTcUdTSWIzRFFFQkN VUFBNElCQVFCcQpoRTNyTW SL NER YrWUVYeGs MlY N VKdlUyaVVVNFZaVGhVM J MVZPVEY UXdKSldkd JZE UklJVStaCm VMHpocm L I RnI NG zc c RDlFZld dkp WHhVY JvaWhGLzRqdzJ YlNleERsMU HeU RL YvaFd YzcKd Vzc JrVzNqbmg UkpOS YzTk FcnhmVjg MEVkZEFyTWFxTUJXVHFTcVVuMFFNQXB OG qNTVWSHhMVC YSApyMHhETy yYytXa FIbk bi QWdRN NwNUloYUxpdmlsdG yMEprUnVoalNPL o ZHR R Zqb hQbDlmamNWCksxQ gxV RIU IxazB djB ZzAzUTVoNTUwdCtpNFU aTJMRFhhYjlZMHdQOC SEYwVVlldFVYWkNpems WGcKbS VnU SG idHc dE VDdOVnQKLS tLS FTkQgQ VSVElGSUNBVEUtLS tLQo null password sensitive value username admin null clientcertificateconfig issueclientcertificate false null masterauthorizednetworksconfig cidrblocks cidrblock null displayname allowall null networkpolicy enabled false null provider PROVIDERUNSPECIFIED null nodeconfig disksizegb null disktype pdstandard null guestaccelerator null imagetype COS null labels workspace default null localssdcount null machinetype n highcpu null metadata disablelegacyendpoints true null mincpuplatform Intel Haswell null oauthscopes null preemptible false null serviceaccount default null tags null taint null shieldedinstanceconfig enableintegritymonitoring true null enablesecureboot false null nodepool initialnodecount null instancegroupurls null maxpodspernode null name defaultnodepool null nodecount null version gke null autoscaling maxnodecount null minnodecount null management autorepair true null autoupgrade false null nodeconfig disksizegb null disktype pdstandard null guestaccelerator null imagetype COS null labels workspace default null localssdcount null machinetype n highcpu null metadata disablelegacyendpoints true null mincpuplatform Intel Haswell null oauthscopes null preemptible false null serviceaccount default null tags null taint null shieldedinstanceconfig enableintegritymonitoring true null enablesecureboot false null privateclusterconfig enableprivateendpoint false null enableprivatenodes true null masteripv cidrblock null privateendpoint null publicendpoint null moduleclustergooglecontainernodepoolnodepool will be destroyed resource googlecontainernodepool nodepool cluster defaultcluster null id projectsenv projectlocationsuseast bclustersdefaultclusternodePoolsdefaultnodepool null initialnodecount null instancegroupurls null location useast b null maxpodspernode null name defaultnodepool null nodecount null project env project null version gke null autoscaling maxnodecount null minnodecount null management autorepair true null autoupgrade false null nodeconfig disksizegb null disktype pdstandard null guestaccelerator null imagetype COS null labels workspace default null localssdcount null machinetype n highcpu null metadata disablelegacyendpoints true null mincpuplatform Intel Haswell null oauthscopes null preemptible false null serviceaccount default null tags null taint null shieldedinstanceconfig enableintegritymonitoring true null enablesecureboot false null moduleclusterrandomstringclusterpassword will be destroyed resource randomstring clusterpassword id BhsaShHbnBCX bifsCIRaEnMl OW PcPVitX null length null lower true null minlower null minnumeric null minspecial null minupper null number true null result BhsaShHbnBCX bifsCIRaEnMl OW PcPVitX null special true null upper true null modulekuberneteskubernetesstorageclassssd will be destroyed resource kubernetesstorageclass ssd allowvolumeexpansion true null id ssd null parameters type pdssd null reclaimpolicy Delete null storageprovisioner kubernetesiogcepd null volumebindingmode Immediate null metadata annotations null generation null labels null name ssd null resourceversion null selflink apisstoragek siov storageclassesssd null uid cc f ea ac null Plan to add to change to destroy Do you really want to destroy all resources Terraform will destroy all your managed infrastructure as shown above There is no undo Only yes will be accepted to confirm Enter a value yes Destroy complete Resources destroyed p details currently its not possible to have backend per workspace for example workspace bar to have bucket terraformbar and beer to have bucket terraformbeer both workspaces live in the same bucket effectively granting user access to all workspaces this is due to terraformterraformtfstate not supporting workspaces proposed solution use terraformworkspacenametfstate when workspace configured We use separate TF data directories and TFVARS files to separate environments Everything works lovely except for terraform state show Terraform Version v Terraform Configuration Files hcl module app source modulesrpsservicesapp environment varenv vpcid dataterraformremotestateregionstateoutputsvpcid Debug Output If you want Im happy to provide but I think its an issue with the Source in terraformappsapp terraformeu stg modulesmodulesjson Expected Behavior To show the resource from the state without error Actual Behavior Error Module not installed Steps to Reproduce Run init TFDATADIRterraformappsapp terraformeu stg terraform init terraformappsapp List state cd terraformappsapp TFDATADIRterraformeu stg terraform state list dataterraformremotestateregionstate modulerestaurantmonitorawss buckets bucketrm Try to show a resource cd terraformappsapp TFDATADIRterraformeu stg terraform state show moduleapp awss buckets bucketrm Error Module not installed on Usersmaxwilliamsgitdhrpssystemengineeringterraformappsapp maintf line module app This modules local cache directory terraformmodulesrpsservicesapp could not be read Run terraform init to install all modules required by this configuration But plan apply etc works TFDATADIRterraformappsapp terraformeu stg terraform plan terraformappsapp We have a few backendconfig options but Ive omitted them for simplicity I upgraded from to yesterday and found a major bug Ive rolled back and its working fine again Sorry I dont know Go or have the time or Id try to track down the issue and just PR Good Luck Terraform Version Run terraform v to show the version and paste the result between the marks below If you are not running the latest version of Terraform please try upgrading because your issue may have already been fixed Environment macOS Homebrew Terraform Terraform Configuration Files Paste the relevant parts of your Terraform configuration between the marks below For large Terraform configs please use a service like Dropbox and share a link to the ZIP file For security you can also encrypt the files using our GPG public key hcl provider aws region euwest data awssecuritygroup default name default vpcid modulevpcvpcid module vpc source terraformawsmodulesvpcaws name simpleexample cidr azs euwest a euwest b euwest c privatesubnets publicsubnets enableipv true enablenatgateway true singlenatgateway true publicsubnettags Name overriddennamepublic tags Owner user Environment dev vpctags Name vpcname Debug Output Initializing modules vpc in Initializing the backend Initializing provider plugins Checking for available provider plugins Downloading plugin for provider aws hashicorpaws The following providers do not have any version constraints in configuration so the latest version was installed To prevent automatic upgrades to new major versions that may contain breaking changes it is recommended to add version constraints to the corresponding provider blocks in configuration with the constraint strings suggested below provideraws version Terraform has been successfully initialized You may now begin working with Terraform Try running terraform plan to see any changes that are required for your infrastructure All Terraform commands should now work If you ever set or change modules or backend configuration for Terraform rerun this command to reinitialize your working directory If you forget other commands will detect it and remind you to do so if necessary levonBlackhawk UserslevonDevelopmentcommunityprojectsterraformawsmodulesterraformawsvpcexamplessimplevpc ls READMEmd maintf outputstf levonBlackhawk UserslevonDevelopmentcommunityprojectsterraformawsmodulesterraformawsvpcexamplessimplevpc vim maintf levonBlackhawk UserslevonDevelopmentcommunityprojectsterraformawsmodulesterraformawsvpcexamplessimplevpc tfi Initializing modules Downloading terraformawsmodulesvpcaws for vpc Error Failed to download module Could not download module vpc maintf source code from Get x certificate signed by unknown authority Error Failed to download module Could not download module vpc maintf source code from Get x certificate signed by unknown authority levonBlackhawk UserslevonDevelopmentcommunityprojectsterraformawsmodulesterraformawsvpcexamplessimplevpc TFLOGtrace tfi INFO Terraform version INFO Go runtime version go INFO CLI args stringusrlocalbinterraform init DEBUG Attempting to open CLI config file Userslevonterraformrc DEBUG File doesnt exist but doesnt need to Ignoring INFO CLI command args stringinit TRACE ModuleInstaller installing child modules for into terraformmodules Initializing modules DEBUG Module installer begin vpc TRACE ModuleInstaller vpc is not yet installed TRACE ModuleInstaller cleaning directory terraformmodulesvpc prior to install of vpc TRACE ModuleInstaller vpc is a registry module at terraformawsmodulesvpcaws DEBUG vpc listing available versions of terraformawsmodulesvpcaws at registryterraformio DEBUG Service discovery for registryterraformio at TRACE HTTP client GET request to DEBUG fetching module versions from TRACE HTTP client GET request to DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version pre for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws DEBUG found available version for terraformawsmodulesvpcaws TRACE ModuleInstaller vpc ignoring pre because it is a prerelease and was not requested exactly DEBUG looking up module location from TRACE HTTP client GET request to Downloading terraformawsmodulesvpcaws for vpc TRACE ModuleInstaller vpc terraformawsmodulesvpcaws is available at DEBUG will download to terraformmodulesvpc TRACE fetching to terraformmodulesvpc TRACE modsdir writing modules manifest to terraformmodulesmodulesjson Error Failed to download module Could not download module vpc maintf source code from Get x certificate signed by unknown authority Error Failed to download module Could not download module vpc maintf source code from Get x certificate signed by unknown authority Crash Output If the console output indicates that Terraform crashed please share a link to a GitHub Gist containing the output of the crashlog file Expected Behavior DownloadUpgrade modules from githubcom Actual Behavior Certificate error when attempting to download Error Failed to download module Could not download module vpc modulesvpcmaintf source code from Get x certificate signed by unknown authority Steps to Reproduce Install Homebrew brew install terraform grab example git clone cd terraformawsvpcexamplessimplevpc Change line source to url path from source to source terraformawsmodulesvpcaws terraform init Additional Context Are there anything atypical about your situation that we should know For example is Terraform running in a wrapper script or in a CI system Are you passing any unusual command line options or environment variables to optin to nondefault behavior Good Luck References Are there any other GitHub issues open or closed or Pull Requests that should be linked here For example 