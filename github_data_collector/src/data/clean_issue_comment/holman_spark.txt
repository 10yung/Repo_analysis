spark show me This value are really higher from zero Would it be possible to avoid that all values are shifted so that the minimum value is Data should print but prints The problem is the number in your character index calculation A working formula for the index is int nminmaxmin with nmax specialcased to give See also a siwconfig wlp s sed En s p s echo a s call to spark is useless and code is unsightly even for bash furthermore sparks and spark differs from spark I thought this might be a useful addition at least for some people I find that I often have numbers that benefit from log transformation and this changeset solves that for me All tests appear to be passing and in my own testing it seems like things work well It works with negative values as well though results are going to be suspect Hopefully youll find this useful Thanks spark Generates sparklines for a set of data itshowshelpwithnoargv PASS itgraphsargvdata PASS itchartspipedata PASS itchartsspaceddata PASS itchartswayspaceddata PASS ithandlesdecimals PASS itcharts lt PASS itcharts lt PASS itcharts lt PASS itchartsnotier PASS itequalizesatmidtieronsamedata PASS Tests Passed Failed Does it assume certain terminal or shell Heres how the code shows when I open it using less bash Examples spark E E E E E spark Im using Putty default options and bash This small patch interprets x in the input as an unknown value showing in the output echo x spark Inspiration and Attribution Shout out to Alexandre Pretto Nunes Alexandres PR with the fire palette was the inspiration behind these features Much thanks Additional shout out to user for the ansi color table code from Thank you both kindly Description I use sparkline every day Usually to provide quick and dirty graphs for spot checking peaksvalleys in data returned from various tools apis splunk tealeaf etc Many of these tools can also return thresholds with the data and I often find that minmax must be checked in order to understand the scale of the peaks vs valleys Additionally I like ansi colors in general bash is life This commit provides a middle class eat the rich feature set to compel sparks output to be more pleasant on the eyes and potentially speed up analysis of data from the shell Features Graph NameTitle Threshold Threshold Color Threshold Inversion Ansi Color Table and Color Palettes Feature Details Graph NameTitle n graphname Optional graph header with customizable title and minmax value usage example spark n The Graph Title data Color Palette p colorpaletteansicsv Multiple preexisting palettes to add color to each tick Palettes can also be specified as an element commaseperated list of ansi integer color codes to be passed to tput Builtin color palettes fire ice earth smoke pride lolcat usage example spark p ice data Customizable color palette Commaseparated element list ansi color codes usage example spark p data Threshold Value t thresholdvalue All values greater than or equal or less than or equal with the inversion switch see below to the threshold value will result in ticks of the specified threshold color see below Threshold Color c coloransiinteger Apply color to all ticks for values exceeding threshold This will override any colors specified in the color palette As with the color palette option the threshold color option supports ansi integer color codes usage example spark c red t data usage example spark c t data Threshold Inversion i Invert the threshold logic from greater than or equal to less than or equal usage example spark c red t i Ansi Color Table a Output a table of ansi colors for ease of color lookups usage example spark a when feeding spark with numbers that have leading zeroes bash will eventually report an error when encountering numbers with and eg etc because bash automatically considers zeroleaded numbers as octals possible solution strip leading zeroes i have modified the spark function in my testing spark fork nn These lines strip leading zeroes and fix error parsing octallike numbers etc tivasyk shopt s extglob nn shopt u extglob Fix empty n if it was if n eq then n fi it works sorry for lame code ps great script love it absolutely i had to add scaling option eg spark s data to do things like cpu load gauges for conky etc to be able to represent percentage data in a meaningfull way I love this little script See bpkg for more information We also built something more generic for drawing in the terminal Check out term 