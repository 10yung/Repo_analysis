 DOFavoriteButtonNew Support Swift This Library is not compatible with the latest versions of swift DOFavoriteButtonswift DOFavoriteButton Created by Daiki Okumura on Copyright c Daiki Okumura All rights reserved This software is released under the MIT License import UIKit IBDesignable public class DOFavoriteButton UIButton private var imageShape CAShapeLayer IBInspectable public var image UIImage didSet createLayersimage image IBInspectable public var imageColorOn UIColor UIColorred green blue alpha didSet if isSelected imageShapefillColor imageColorOncgColor IBInspectable public var imageColorOff UIColor UIColorred green blue alpha didSet if isSelected imageShapefillColor imageColorOffcgColor private var circleShape CAShapeLayer private var circleMask CAShapeLayer IBInspectable public var circleColor UIColor UIColorred green blue alpha didSet circleShapefillColor circleColorcgColor private var lines CAShapeLayer IBInspectable public var lineColor UIColor UIColorred green blue alpha didSet for line in lines linestrokeColor lineColorcgColor private let circleTransform CAKeyframeAnimationkeyPath transform private let circleMaskTransform CAKeyframeAnimationkeyPath transform private let lineStrokeStart CAKeyframeAnimationkeyPath strokeStart private let lineStrokeEnd CAKeyframeAnimationkeyPath strokeEnd private let lineOpacity CAKeyframeAnimationkeyPath opacity private let imageTransform CAKeyframeAnimationkeyPath transform IBInspectable public var duration Double didSet circleTransformduration duration circleMaskTransformduration duration lineStrokeStartduration duration lineStrokeEndduration duration lineOpacityduration duration imageTransformduration duration override public var isSelected Bool didSet if isSelected oldValue if isSelected imageShapefillColor imageColorOncgColor else deselect public convenience init selfinitframe CGRectzero public override convenience initframe CGRect selfinitframe frame image UIImage public initframe CGRect image UIImage superinitframe frame selfimage image createLayersimage image addTargets public required initcoder aDecoder NSCoder superinitcoder aDecoder createLayersimage UIImage addTargets private func createLayersimage UIImage selflayersublayers nil let imageFrame CGRectx framesizewidth framesizewidth y framesizeheight framesizeheight width framesizewidth height framesizeheight let imgCenterPoint CGPointx imageFramemidX y imageFramemidY let lineFrame CGRectx imageFrameoriginx imageFramewidth y imageFrameoriginy imageFrameheight width imageFramewidth height imageFrameheight circle layer circleShape CAShapeLayer circleShapebounds imageFrame circleShapeposition imgCenterPoint circleShapepath UIBezierPathovalIn imageFramecgPath circleShapefillColor circleColorcgColor circleShapetransform CATransform DMakeScale selflayeraddSublayercircleShape circleMask CAShapeLayer circleMaskbounds imageFrame circleMaskposition imgCenterPoint circleMaskfillRule kCAFillRuleEvenOdd circleShapemask circleMask let maskPath UIBezierPathrect imageFrame maskPathaddArcwithCenter imgCenterPoint radius startAngle CGFloat endAngle CGFloatMPI clockwise true circleMaskpath maskPathcgPath line layer lines for i in let line CAShapeLayer linebounds lineFrame lineposition imgCenterPoint linemasksToBounds true lineactions strokeStart NSNull strokeEnd NSNull linestrokeColor lineColorcgColor linelineWidth linemiterLimit linepath let path CGMutablePath pathmoveto CGPointx lineFramemidX y lineFramemidY pathaddLineto CGPointx lineFrameoriginx lineFramewidth y lineFrameoriginy return path linelineCap kCALineCapRound linelineJoin kCALineJoinRound linestrokeStart linestrokeEnd lineopacity linetransform CATransform DMakeRotationCGFloatMPI CGFloati selflayeraddSublayerline linesappendline image layer imageShape CAShapeLayer imageShapebounds imageFrame imageShapeposition imgCenterPoint imageShapepath UIBezierPathrect imageFramecgPath imageShapefillColor imageColorOffcgColor imageShapeactions fillColor NSNull selflayeraddSublayerimageShape imageShapemask CALayer imageShapemaskcontents imagecgImage imageShapemaskbounds imageFrame imageShapemaskposition imgCenterPoint circle transform animation circleTransformduration circleTransformvalues NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale circleTransformkeyTimes circleMaskTransformduration circleMaskTransformvalues NSValuecaTransform D CATransform DIdentity NSValuecaTransform D CATransform DIdentity NSValuecaTransform D CATransform DMakeScaleimageFramewidth imageFrameheight NSValuecaTransform D CATransform DMakeScaleimageFramewidth imageFrameheight NSValuecaTransform D CATransform DMakeScaleimageFramewidth imageFrameheight NSValuecaTransform D CATransform DMakeScaleimageFramewidth imageFrameheight NSValuecaTransform D CATransform DMakeScaleimageFramewidth imageFrameheight NSValuecaTransform D CATransform DMakeScaleimageFramewidth imageFrameheight NSValuecaTransform D CATransform DMakeScaleimageFramewidth imageFrameheight circleMaskTransformkeyTimes line stroke animation lineStrokeStartduration lineStrokeStartvalues lineStrokeStartkeyTimes lineStrokeEndduration lineStrokeEndvalues lineStrokeEndkeyTimes lineOpacityduration lineOpacityvalues lineOpacitykeyTimes image transform animation imageTransformduration imageTransformvalues NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DMakeScale NSValuecaTransform D CATransform DIdentity imageTransformkeyTimes private func addTargets add target selfaddTargetself action selectortouchDown for UIControlEventstouchDown selfaddTargetself action selectortouchUpInside for UIControlEventstouchUpInside selfaddTargetself action selectortouchDragExit for UIControlEventstouchDragExit selfaddTargetself action selectortouchDragEnter for UIControlEventstouchDragEnter selfaddTargetself action selectortouchCancel for UIControlEventstouchCancel objc func touchDownsender DOFavoriteButton selflayeropacity objc func touchUpInsidesender DOFavoriteButton selflayeropacity objc func touchDragExitsender DOFavoriteButton selflayeropacity objc func touchDragEntersender DOFavoriteButton selflayeropacity objc func touchCancelsender DOFavoriteButton selflayeropacity public func select isSelected true imageShapefillColor imageColorOncgColor CATransactionbegin circleShapeaddcircleTransform forKey transform circleMaskaddcircleMaskTransform forKey transform imageShapeaddimageTransform forKey transform for i in lines i addlineStrokeStart forKey strokeStart lines i addlineStrokeEnd forKey strokeEnd lines i addlineOpacity forKey opacity CATransactioncommit public func deselect isSelected false imageShapefillColor imageColorOffcgColor remove all animations circleShaperemoveAllAnimations circleMaskremoveAllAnimations imageShaperemoveAllAnimations lines removeAllAnimations lines removeAllAnimations lines removeAllAnimations lines removeAllAnimations lines removeAllAnimations rt Hi vicorente when loading the tableview the heart is getting animated Everytime there is any way to restrict it Convert swift syntax XCode Please check it Please update it in swift or swift 