As compile is going to be deprecated end this PR replaces with implementation that is the new usage I updated the gradle plugin to x for a legacy project since the library caused crashes Maybe somone else can also benefit from this Fixed behavior when orientation changes When switching from indeterminate progress state to other states it seems that stop method of CircularAnimatedDrawable is not invoked which causes the high CPU utility in other states because an invisible CircularAnimatedDrawable view still animates in the background Simply check if is in edit mode if so gives a default value for stroke width I have been using this library a lot lately It works really well But when I use proguard the drawable seems a bit off And it shows that setStrokeColor method not found This change fixed it ProGuard Enabled without keeping setStrokColor circ ProGuard Enabled with keep setStrokeColor circ add gradle version change runproguard to minifyEnabled change outputfile task the button can show the icon and text at the same time add value iconIdleiconWidthiconHeighticonPadding change the method setIcon for caculate the texts length then set the content at the center update gradle version I just added the check isInEditMode so that when you look at your layout in in design mode you dont get the following exception Rendering problem The following class could not be instanciated comddCircularProgressButton Tip Use ViewisInEditMode in your custom view to skip code or shown in the IDE javalangAssertionError at androidcontentresBridgeResourcesgetDimensionBridgeResourcesjava at comddCircularProgressButtoninitCircularProgressButtonjava at comddCircularProgressButtoninitCircularProgressButtonjava at sunreflectNativeConstructorAccessorImplnewInstance Native Method at sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava at sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava at javalangreflectConstructornewInstanceConstructorjava at orgjetbrainsandroiduipreviewViewLoadercreateNewInstanceViewLoaderjava at orgjetbrainsandroiduipreviewViewLoaderloadViewViewLoaderjava at comandroidtoolsidearenderingLayoutlibCallbackloadViewLayoutlibCallbackjava at androidviewBridgeInflaterloadCustomViewBridgeInflaterjava at androidviewBridgeInflatercreateViewFromTagBridgeInflaterjava at androidviewLayoutInflaterrInflateOriginalLayoutInflaterjava at androidviewLayoutInflaterDelegaterInflateLayoutInflaterDelegatejava at androidviewLayoutInflaterrInflateLayoutInflaterjava at androidviewLayoutInflaterinflateLayoutInflaterjava at androidviewLayoutInflaterinflateLayoutInflaterjava at comandroidlayoutlibbridgeimplRenderSessionImplinflateRenderSessionImpljava at comandroidlayoutlibbridgeBridgecreateSessionBridgejava at comandroididecommonrenderingLayoutLibrarycreateSessionLayoutLibraryjava at comandroidtoolsidearenderingRenderService computeRenderServicejava at comandroidtoolsidearenderingRenderService computeRenderServicejava at comintellijopenapiapplicationimplApplicationImplrunReadActionApplicationImpljava at comandroidtoolsidearenderingRenderServicecreateRenderSessionRenderServicejava at comandroidtoolsidearenderingRenderServicerenderRenderServicejava at comintellijandroiddesignerdesignSurfaceAndroidDesignerEditorPanel runAndroidDesignerEditorPaneljava at comintellijutiluiupdateMergingUpdateQueueexecuteMergingUpdateQueuejava at comintellijutiluiupdateMergingUpdateQueueexecuteMergingUpdateQueuejava at comintellijutiluiupdateMergingUpdateQueue runMergingUpdateQueuejava at comintellijutiluiupdateMergingUpdateQueueflushMergingUpdateQueuejava at comintellijutiluiupdateMergingUpdateQueueflushMergingUpdateQueuejava at comintellijutiluiupdateMergingUpdateQueuerunMergingUpdateQueuejava at comintellijutilconcurrencyQueueProcessorrunSafelyQueueProcessorjava at comintellijutilAlarmRequest runAlarmjava at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava at javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava at javautilconcurrentFutureTaskrunFutureTaskjava at javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava It is convenient to be able to tune the stroke width when the button is shown as idle and when a progress indicator is shown 