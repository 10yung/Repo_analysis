Im forwarding the logs of my grid using fluentd to elasticsearch the kontenafluentdelasticsearch stack The format of the tag is nodegridstackservice I launched Kibana and noticed that node grid stack and service were wrong I quickly realized it was due to the node name that contains dots So if the hostname of the node is mycompanycom the tag becomes mycompanycommygridmystackmyservice Since the tag is separated by dots fluentd will parse my as the node company as the grid com as the stack and mygrid as the service I had to change the node name by removing it from the grid renaming it and joining it back to the grid and suffer the painful consequences of doing so Luckily it was a test grid Hi First time user here Im trying to create Kontena cluster on DigitalOcean Im following this guide Steps I did Shell kontena plugin install digitalocean kontena digitalocean master create token ACCESSTOKEN sshkey PATHTOSSHPUBLICKEY After that when I try to login to new master server it says this Shell kontena master login error The server uses a certificate signed by an unknown authority You can trust this server by copying server CA pem file to kontenacertshostnamepem If kontena cannot find your system ca bundle you can set SSLCERTDIRetcsslcerts env variable to load them from another location Protip you can bypass the certificate check by setting SSLIGNOREERRORStrue env variable but any data you send to the server could be intercepted by others pem file exists in my kontenacerts folder How can I login to master server When running list commands a deprecation notice appears NOTE Gemgunzip is deprecated use GemUtilgunzip instead It will be removed on or after Gemgunzip called from optkontenaembeddedlibrubygems gemsunicodedisplaywidth libunicodedisplaywidthindexrb This has been fixed in Updating the dependency should make the message disappear Fixes CVE by upgrading to AcmeClient that drops jsonjwt dependency Kontena master at least when installed following the instructions at uses which does not properly configure strong ciphers or protocol versions and gets F rating from eg SSLLabs check It seems that on the other hand allows configuring the ciphers and also disables sslv Im not sure why there are two separate repos for loadbalancerhaproxy but if theres a reason then the kontenaloadbalancer PRs adding the secure configuration should be ported to kontenahaproxy as well Weak protocols SSL INSECURE Yes TLS Yes Weak ciphers TLSDHERSAWITHAES GCMSHA x f DH bits FS WEAK TLSDHERSAWITHAES CBCSHA x b DH bits FS WEAK TLSDHERSAWITHAES CBCSHA x DH bits FS WEAK TLSDHERSAWITHCAMELLIA CBCSHA x DH bits FS WEAK TLSRSAWITHAES GCMSHA x d WEAK TLSRSAWITHAES CBCSHA x d WEAK TLSRSAWITHAES CBCSHA x WEAK TLSRSAWITHCAMELLIA CBCSHA x WEAK TLSECDHERSAWITH DESEDECBCSHA xc ECDH secp r eq bits RSA FS WEAK TLSDHERSAWITH DESEDECBCSHA x DH bits FS WEAK TLSRSAWITH DESEDECBCSHA xa WEAK TLSDHERSAWITHAES GCMSHA x e DH bits FS WEAK TLSDHERSAWITHAES CBCSHA x DH bits FS WEAK TLSDHERSAWITHAES CBCSHA x DH bits FS WEAK TLSDHERSAWITHSEEDCBCSHA x a DH bits FS WEAK TLSDHERSAWITHCAMELLIA CBCSHA x DH bits FS WEAK TLSRSAWITHAES GCMSHA x c WEAK TLSRSAWITHAES CBCSHA x c WEAK TLSRSAWITHAES CBCSHA x f WEAK TLSRSAWITHSEEDCBCSHA x WEAK TLSRSAWITHCAMELLIA CBCSHA x WEAK TLSECDHERSAWITHRC SHA xc ECDH secp r eq bits RSA FS INSECURE TLSRSAWITHRC SHA x INSECURE TLSRSAWITHRC MD x INSECURE TLSDHERSAWITHDESCBCSHA x DH bits FS INSECURE TLSRSAWITHDESCBCSHA x INSECURE Pressing ctrlc on a prompt will just skip to the next prompt This is because of SystemExit rescuing Kontenarun used in KontenaCliStackValidateCommand bundle exec kontena cloud platform use usrlocalCellarrbenv versions librubygems gemsttyscreen libttyversionrb warning already initialized constant TTYScreenVERSION usrlocaloptrbenvversions librubygems gemsttyscreen libttyversionrb warning previous definition of VERSION was here For a stateful service bindmounting a file that exists in the container image stack teststatefulbindfile services test image redis stateful true volumes tmpbashrcrootbashrc This fails to create the data volume container regardless of what form the file exists on the host as done Creating stack statefulbindfile done Triggering deployment of stack statefulbindfile done Waiting for deployment to start fail Deploying service test Deployment of service e estatefulbindfiletest failed halting deploy of e estatefulbindfiletest one or more instances failed GridServiceInstanceDeployerServiceError DockerErrorServerError cannot mount volume over existing file file exists varlibdockeroverlay a c c d ef a cd b bc c ee c b bd b mergedrootbashrc on node terome edev This happens because the data volume container only gets the ConfigVolumes containing all of the mounted volume paths but the ConfigBinds only gets configured on the service container This means that the volume container is configured to mount an empty local volume as a directory rather than bindmounting from the host which fails if the path already exists as a file in the container image Workaround is to not use stateful true or bindmount the file at a path that does not exist in the image Testing with rootbashrc as a file that does not exist in the image the volume container will erroneously mount an empty local volume as a directory but the service container will correctly bindmount the file from the host docker run rm it volumesfromstatefulbindfiletest volumes redis ls la root total drwx root root Apr drwxrxrx root root Apr rwrr root root Jan bashrc drwxrxrx root root Apr bashrc rwrr root root Nov profile docker exec statefulbindfiletest ls la root total drwx root root Apr drwxrxrx root root Apr rwrr root root Jan bashrc rwrr users Apr bashrc rwrr root root Nov profile Now that Letsencrypt finally supports wildcard certificates it would be nice to get wildcard support directly to the Kontena loadbalancer Its currently not even possible to use wildcard certificate manually imported certificates as the loadbalancer stack fails with the error error PsychSyntaxError loadbalanceryml did not find expected alphabetic or numeric character while scanning an alias at line column Where that line is the subject line of the certificates using the domaintld format From Slack LE starts sending expiration mails when theres days left Your certificate or certificates for the names listed below will expire in days on Apr And again after days So why not set it to days to avoid expirations mails times a year Would make sense to bump the renew threshold into days