Previously the default tabheader height was different when using real coordinates This resulted in the height of tabs changing when switching tabs in sfinv if some tabs used real coordinates To do This PR is a Ready for Review delete one How to test Example code or instructions Apply the patch below to sfinv Open sfinv and switch between the crafting tab and other tabs ignore the messed up contents of the crafting tab Before tabheader height changes when switching between crafting tab and other tabs After tabheader hight unchanged between tabs diff diff git amodssfinvinitlua bmodssfinvinitlua index e ee ea amodssfinvinitlua bmodssfinvinitlua sfinvregisterpagesfinvcrafting image sfinvcraftingarrowpng listring currentplayermain listring currentplayercraft true true formspecversion size end Note the form width of comes from the conversion formula in luaapitxt but that formula did not give the correct height I arrived at by guess and check the formula suggested Not sure whats going on there Problem Youre working on an underwater buildtransforming a sea floor Then lets say you want to move forwards a bit You press W but find you hardly move forwards at all since youre looking downwards towards the floor youre working on which results in you being slowed down by the floor something that doesnt make sense considering the fact that youre technically walking on it Ive been annoyed by this to the point of turning pitch move off because it messes me up completely if I step in even a single node of water while Im building something Solutions Removing the movement decrease for floors Alternatives Allowing mods to control this somehow Add a limit to how much the movement can decrease by Additional context This is the movement decrease Im talking about I included a roof example but I guess that may make more sense than the decrease for the floor Fixes This is a revival of PR but with changes Profiler screen is no longer touched it was a huge mistake to add this completely unrelated feature in the PR Added wireframe priv because it was requested What this PR does Hide the position yaw pitch mapseed and pointed thing if player does not have the debug priv In practice the nd line of the debug text at the top will disappear and also the entity info when you point an entity Add wireframe priv which is required to view the wireframe This priv acts independently of debug Justification The F debug screen contains various spoilers eg info that can give you a gameplay advantage for free position pointed node pointed entity including health and armor groups This completely ruins mods like orienteering and compassgps in which you can craft items that expose your position and more The mods get ruined because theres no point in crafting a compass if you can get the yawpositionwhatever for free with a single key press and its unfair to force players to resist the temptation Players complained as evidenced by which also has core dev support This PR gets rid of those spoilers unless you have debug priv orienteeringstyle mods can now be created with peaceofmind To do There is an annoying minor bug If the setting showdebugtrue is set and you join a server in which you have already the debug priv you will only see the minimal debug info no pos You have to press the debug key I have not yet figured out at which point in the code I can check for privs in the initialization phase Help is appreciated I expect this PR to be extremely controversial so I guess reacting to the discission is another TODO How to test Join any world Press F while you have one of the possible combinations of you have have not debug priv and you have have not wireframe priv Expected The nd line of debug as well as pointed entity info will only show when you have debug priv otherwise not The wireframe mode will only be available if you have the wireframe priv otherwise it will be skipped Expected questions and counterarguments This PR is pointless because its the players fault for pressing F This argument is bad because its not good to force players to resist the temptation to enable a cheat that is only keypress away You could also press F by accident and you cant unsee the coordinates This is not good if a key element of a game is to earn the privilege to learn your coordinates through gameplay Why not using HUD flags HUD flags are controlled by mods This implies that mods can screw around with the debug info at will All it takes is one poorlycoded mod to strip away the extended debug info from the admin which is not fun to track down Privileges by comparison are much more reliable and predictable and there are no ugly surprises But how do I get the old behavior back Type grantme debug My gamemodserver depends on the posanglepointed thing be visible in debug screen this PR ruins everything It was never a good idea for a mod to depend on anything written in the debug screen As the name suggests its for debugging primarily The fact that its currently being abused heavily for gameplay as well is just an excuse for bad practice Instead of depending on the debug screen add a mod that exposes the desired info itself there are countless mods that do this which also can do this with a much nicer HUD than the debug screen Knowing the coordinates is a gameplay advantage and should be considered as such But you dont need to install any mods grantme debug still works Why the wireframe priv Because it was suggested by core dev in Problem In the commoditymarket mod Ive set up a formspec table that lists various items that are for sale and in one of the columns of that table I want to list the items description string Since other modders can put whatever they like in that string and columns expand their width to fit the content this means I need some method of preventing an arbitrarily long string from breaking the formspec Unfortunately the description string is localized That means I cant truncate the string as that would break translations Inserting line breaks also doesnt work because formspec table lines dont stretch vertically to accomodate multiline text a multiline string just overlaps with content of lower table lines making a mess Solutions The tablecolumns formspec element has a width property that can set the minimum width of a table column A corresponding maximum width property that causes the displayed contents of the table cell to be clipped to the cells boundaries would solve this problem ideally it would intelligently truncate the string with an at the end to indicate that the string had been shortened Alternatives Some sort of localizationfriendly minetesttruncatestring mechanism would also solve this problem for me if that is possible I expect it would involve adding additional hidden escape sequences to tell the client where to cut the string posttranslation and insert a localeappropriate This is somewhat suboptimal though since the width of a line can vary a lot depending on the types of characters it contains not just the number of characters wwwww is much wider than iiiii despite having the same character count Multiline table cells might also work if the localization engine is able to still recognize localized strings that have had line breaks inserted into them This is also somewhat suboptimal since there might not be obvious whitespace to insert line breaks into the cell could wind up very tall and because of character width vs character count issues as mentioned in the other alternative solution Additional context This is somewhat related to issue wherein I was running into problems with overlywide images stretching table columns This PR adds a compass HUD element new HUD feature Basically it is like image HUD element but it rotates or translates according to the current heading direction This allows to build various compass HUD The display is entirely updated on client side so it is quite smooth To do This PR is ready for review How to test Here is a sample code for testing it using default mod textures lua minetestregisteronjoinplayerfunctionplayer playerhudadd hudelemtype compass position x y offset x y size x y alignment x y text guifurnacearrowbgpng dir playerhudadd hudelemtype compass position x y offset x y size x y scale x y Required or scale would be alignment x y text defaultladdersteelpng transformR dir end This adds two compass HUD elements in the upper left corner of the screen better texture would be much more suitable smile screenshot Minetest version Paste Minetest version between quotes below If you are on a devel version please add git commit hash You can use minetest version to find it Minetest Using Irrlicht BUILDTYPERelease RUNINPLACE USEGETTEXT USESOUND USECURL USEFREETYPE USELUAJIT STATICSHAREDIR OS Hardware General information about your hardware and operating system Operating system Microsoft Windows Home Build CPU Intel Core i U GHz BrandModel Dell Inspiron x Summary While logging into certain Minetest x servers the client will hang as it begins media loading and then suddenly all connections to HTTP SSH etc will drop systemwide However my WiFi indicator will show that I am still connected to the Internet Likewise YouTube videos will continue playing in the background But if I try to navigate to any sites in my Web browser it will report a timeout connecting to server Likewise I can still enter the command prompt and use ping and tracert and nslookup So there clearly appears to be limited connectivity just for ICMP and UDP But higher level protocols TCPIP protocols seem to be completely nonworkable Screenshot of timeout in Chrome browser I have tried manually disabling and reenabling my WiFi adapter from the device control panel That just causes the WiFi menu to freeze up Ive also tried running the automated troubleshooter but it detects no problems with my network configuration Ive even researched ways to manually reset TCPIP in Windows including issuing the command netsh int ip reset but that does nothing Its very difficult to pin down whether this is a defect with my network adapter operating system or router But it seems very clear that Minetest is in someway related since no other applications effect my Internet connectivity I am not an expert at all in networking so I cant even begin to diagnose the problem on my own So any suggestions on what type of logs I should post and where to find them would be greatly appreciated Steps to reproduce Various servers like Must Test and IFS IhrFussels Server exhibit this problem Yet for some reason other servers like just test and VanessaEs Banananland Survival Server do not nerzhul Minetest version Paste Minetest version between quotes below If you are on a devel version please add git commit hash You can use minetest version to find it Minetest OS Hardware General information about your hardware and operating system Operating system CPU Quadcore Intel i For graphical issues only GPU model OpenGL version Summary Describe your problem here The shiftclick to bulk move a stack from one inventory to anotherie one chest to your inventory does nothing and acts as a normal click Steps to reproduce For bug reports or build issues explain how the problem happened On a Mac Boot up MT Go into a personal worldserverit does not matter try to move something intoout of your inventory via shiftclick Problem Objects have a property called weight but from looking around the source code it seems it does not have any effect So whats the point Solutions Remove it