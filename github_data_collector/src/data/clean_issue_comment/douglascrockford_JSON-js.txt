Userdefined properties taking such names as toString valueOf etc would be ignored by the forin loop under IE This pull request is aimed to solve this issue The assumption is that people who wrote the toJSON know what they are doing possibly addingremoving important information In any case an object with a toJSON function will not run into the converting circular structure problem There is an error in line It checks if DateprototypetoJSON is function If it doesnt it sets toJSON function not only for Date prototype but also for String Number and Boolean prototypes However if DateprototypetoJSON is function what is true in Chrome browser it doesnt set toJSON functions for other objects And those objects String Number Boolean doesnt have toJSON functions in Chrome So they are never set 