Replace with WebClient as default depends on From RestTemplatejavaL L The RestTemplate will be deprecated in a future version and will not have major new features added going forward See the WebClient section of the Spring Framework reference documentation for more details and example code Deprecate RestTemplate classes Allow WebClient versions to be activated by a property Currently you have to exclude jersey dependency groupIdorgspringframeworkcloudgroupId artifactIdspringcloudstarternetflixeurekaclientartifactId exclusions exclusion groupIdcomsunjerseygroupId artifactIdjerseyclientartifactId exclusion exclusion groupIdcomsunjerseygroupId artifactIdjerseycoreartifactId exclusion exclusion groupIdcomsunjerseycontribsgroupId artifactIdjerseyapacheclient artifactId exclusion exclusions dependency Let switch the default and make jersey optional Following up on since I messed it up there sorry Fixes gh ZuulProxyAutoConfiguration requires Autowired private ServiceRouteMapper serviceRouteMapper and defines it at the same time Bean ConditionalOnMissingBeanServiceRouteMapperclass public ServiceRouteMapper serviceRouteMapper return new SimpleServiceRouteMapper this makes application start up fail when circular references are disabled orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorysetAllowCircularReferencesfalse I am upgraded SpringBoot version to RELEASE java openjdk springboot v RELEASE springCloudVersion HoxtonRC Error Caused by javalangClassNotFoundException orgspringframeworkhateoasRelProvider buildgradle dependencies compile orgspringframeworkcloudspringcloudstarternetflixeurekaclient compile ioopentracingcontribopentracingspringjaegercloudstarter compile orgspringframeworkbootspringbootstarter compile orgspringframeworkbootspringbootstarteramqp compile orgspringframeworkbootspringbootstarterweb compile orgspringframeworkbootspringbootstarteractuator compile orgspringframeworkbootspringbootstartertomcat compile orgspringframeworkbootspringbootstartersecurity compile orgspringframeworkbootspringbootstarterlogging compile orgspringframeworkbootspringbootstarterdatarest compile orgspringframeworkbootspringbootstarterdatamongodb compile orgspringframeworkbootspringbootstarteraop compile orgspringframeworkspringloaded RELEASE compile commonsiocommonsiocommonsioversion compile orgspringframeworksecurityspringsecurityweb compile orgspringframeworksecurityspringsecurityconfig compile orgapachecommonscommonscollections compile comfasterxmljacksoncorejacksondatabind compile comgoogleguavaguavaguavaversion compilegroup iospringfox name springfoxswagger version excludemodule guava compile javaxcachecacheapi compile orgspringframeworkbootspringbootstarterwebsocket compile orgspringframeworkbootspringbootconfigurationprocessor compile orgspringframeworkbootspringbootstartercache compile comhazelcasthazelcastspring compile comhazelcasthazelcasteurekaone compile orgreflectionsreflections added dependencies for upgraded springboot compile group ioopentracingcontrib name opentracingspringcloudmongostarter version compile orgspringframeworkpluginspringplugincore RELEASE compile group orgspringframeworkdata name springdatarestcore version RELEASE compile orgspringframeworkhateoasspringhateoas compile orgspringframeworkbootspringbootstarterhateoas Error stacktrace javalangIllegalStateException Failed to load ApplicationContext at orgspringframeworktestcontextcacheDefaultCacheAwareContextLoaderDelegateloadContextDefaultCacheAwareContextLoaderDelegatejava at orgspringframeworktestcontextsupportDefaultTestContextgetApplicationContextDefaultTestContextjava at orgspringframeworktestcontextsupportDependencyInjectionTestExecutionListenerinjectDependenciesDependencyInjectionTestExecutionListenerjava at orgspringframeworktestcontextsupportDependencyInjectionTestExecutionListenerprepareTestInstanceDependencyInjectionTestExecutionListenerjava at orgspringframeworkboottestautoconfigureSpringBootDependencyInjectionTestExecutionListenerprepareTestInstanceSpringBootDependencyInjectionTestExecutionListenerjava at orgspringframeworktestcontextTestContextManagerprepareTestInstanceTestContextManagerjava at orgspringframeworktestcontextjunitjupiterSpringExtensionpostProcessTestInstanceSpringExtensionjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorlambdainvokeTestInstancePostProcessors ClassBasedTestDescriptorjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorexecuteAndMaskThrowableClassBasedTestDescriptorjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorlambdainvokeTestInstancePostProcessors ClassBasedTestDescriptorjava at javabasejavautilstreamReferencePipeline acceptReferencePipelinejava at javabasejavautilstreamReferencePipeline acceptReferencePipelinejava at javabasejavautilArrayListArrayListSpliteratorforEachRemainingArrayListjava at javabasejavautilstreamAbstractPipelinecopyIntoAbstractPipelinejava at javabasejavautilstreamAbstractPipelinewrapAndCopyIntoAbstractPipelinejava at javabasejavautilstreamStreamSpliteratorsWrappingSpliteratorforEachRemainingStreamSpliteratorsjava at javabasejavautilstreamStreamsConcatSpliteratorforEachRemainingStreamsjava at javabasejavautilstreamStreamsConcatSpliteratorforEachRemainingStreamsjava at javabasejavautilstreamReferencePipelineHeadforEachReferencePipelinejava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorinvokeTestInstancePostProcessorsClassBasedTestDescriptorjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorinstantiateAndPostProcessTestInstanceClassBasedTestDescriptorjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorlambdatestInstancesProvider ClassBasedTestDescriptorjava at javabasejavautilOptionalorElseGetOptionaljava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorlambdatestInstancesProvider ClassBasedTestDescriptorjava at orgjunitjupiterengineexecutionTestInstancesProvidergetTestInstancesTestInstancesProviderjava at orgjunitjupiterenginedescriptorTestMethodTestDescriptorlambdaprepare TestMethodTestDescriptorjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitjupiterenginedescriptorTestMethodTestDescriptorprepareTestMethodTestDescriptorjava at orgjunitjupiterenginedescriptorTestMethodTestDescriptorprepareTestMethodTestDescriptorjava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaprepare NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskprepareNodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteNodeTestTaskjava at javabasejavautilArrayListforEachArrayListjava at orgjunitplatformenginesupporthierarchicalSameThreadHierarchicalTestExecutorServiceinvokeAllSameThreadHierarchicalTestExecutorServicejava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodearoundNodejava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteRecursivelyNodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteNodeTestTaskjava at javabasejavautilArrayListforEachArrayListjava at orgjunitplatformenginesupporthierarchicalSameThreadHierarchicalTestExecutorServiceinvokeAllSameThreadHierarchicalTestExecutorServicejava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodearoundNodejava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteRecursivelyNodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteNodeTestTaskjava at orgjunitplatformenginesupporthierarchicalSameThreadHierarchicalTestExecutorServicesubmitSameThreadHierarchicalTestExecutorServicejava at orgjunitplatformenginesupporthierarchicalHierarchicalTestExecutorexecuteHierarchicalTestExecutorjava at orgjunitplatformenginesupporthierarchicalHierarchicalTestEngineexecuteHierarchicalTestEnginejava at orgjunitplatformlaunchercoreDefaultLauncherexecuteDefaultLauncherjava at orgjunitplatformlaunchercoreDefaultLauncherexecuteDefaultLauncherjava at orgjunitplatformlaunchercoreDefaultLauncherexecuteDefaultLauncherjava at orggradleapiinternaltaskstestingjunitplatformJUnitPlatformTestClassProcessorCollectAllTestClassesExecutorprocessAllTestClassesJUnitPlatformTestClassProcessorjava at orggradleapiinternaltaskstestingjunitplatformJUnitPlatformTestClassProcessorCollectAllTestClassesExecutoraccess JUnitPlatformTestClassProcessorjava at orggradleapiinternaltaskstestingjunitplatformJUnitPlatformTestClassProcessorstopJUnitPlatformTestClassProcessorjava at orggradleapiinternaltaskstestingSuiteTestClassProcessorstopSuiteTestClassProcessorjava at javabasejdkinternalreflectNativeMethodAccessorImplinvoke Native Method at javabasejdkinternalreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava at javabasejdkinternalreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava at javabasejavalangreflectMethodinvokeMethodjava at orggradleinternaldispatchReflectionDispatchdispatchReflectionDispatchjava at orggradleinternaldispatchReflectionDispatchdispatchReflectionDispatchjava at orggradleinternaldispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava at orggradleinternaldispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava at comsunproxyProxy stopUnknown Source at orggradleapiinternaltaskstestingworkerTestWorkerstopTestWorkerjava at javabasejdkinternalreflectNativeMethodAccessorImplinvoke Native Method at javabasejdkinternalreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava at javabasejdkinternalreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava at javabasejavalangreflectMethodinvokeMethodjava at orggradleinternaldispatchReflectionDispatchdispatchReflectionDispatchjava at orggradleinternaldispatchReflectionDispatchdispatchReflectionDispatchjava at orggradleinternalremoteinternalhubMessageHubBackedObjectConnectionDispatchWrapperdispatchMessageHubBackedObjectConnectionjava at orggradleinternalremoteinternalhubMessageHubBackedObjectConnectionDispatchWrapperdispatchMessageHubBackedObjectConnectionjava at orggradleinternalremoteinternalhubMessageHubHandlerrunMessageHubjava at orggradleinternalconcurrentExecutorPolicyCatchAndRecordFailuresonExecuteExecutorPolicyjava at orggradleinternalconcurrentManagedExecutorImpl runManagedExecutorImpljava at javabasejavautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javabasejavautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at orggradleinternalconcurrentThreadFactoryImplManagedThreadRunnablerunThreadFactoryImpljava at javabasejavalangThreadrunThreadjava Caused by javalangIllegalStateException Error processing condition on orgspringframeworkbootautoconfiguredatawebSpringDataWebAutoConfiguration at orgspringframeworkbootautoconfigureconditionSpringBootConditionmatchesSpringBootConditionjava at orgspringframeworkcontextannotationConditionEvaluatorshouldSkipConditionEvaluatorjava at orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderTrackedConditionEvaluatorshouldSkipConfigurationClassBeanDefinitionReaderjava at orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderTrackedConditionEvaluatorshouldSkipConfigurationClassBeanDefinitionReaderjava at orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsForConfigurationClassConfigurationClassBeanDefinitionReaderjava at orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsConfigurationClassBeanDefinitionReaderjava at orgspringframeworkcontextannotationConfigurationClassPostProcessorprocessConfigBeanDefinitionsConfigurationClassPostProcessorjava at orgspringframeworkcontextannotationConfigurationClassPostProcessorpostProcessBeanDefinitionRegistryConfigurationClassPostProcessorjava at orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanDefinitionRegistryPostProcessorsPostProcessorRegistrationDelegatejava at orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava at orgspringframeworkcontextsupportAbstractApplicationContextinvokeBeanFactoryPostProcessorsAbstractApplicationContextjava at orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava at orgspringframeworkbootwebservletcontextServletWebServerApplicationContextrefreshServletWebServerApplicationContextjava at orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava at orgspringframeworkbootSpringApplicationrefreshContextSpringApplicationjava at orgspringframeworkbootSpringApplicationrunSpringApplicationjava at orgspringframeworkboottestcontextSpringBootContextLoaderloadContextSpringBootContextLoaderjava at orgspringframeworktestcontextcacheDefaultCacheAwareContextLoaderDelegateloadContextInternalDefaultCacheAwareContextLoaderDelegatejava at orgspringframeworktestcontextcacheDefaultCacheAwareContextLoaderDelegateloadContextDefaultCacheAwareContextLoaderDelegatejava more Caused by javalangIllegalStateException Failed to introspect Class orgspringframeworkdatarestwebmvcconfigRepositoryRestMvcConfiguration from ClassLoader jdkinternalloaderClassLoadersAppClassLoader e d at orgspringframeworkutilReflectionUtilsgetDeclaredMethodsReflectionUtilsjava at orgspringframeworkutilReflectionUtilsdoWithMethodsReflectionUtilsjava at orgspringframeworkutilReflectionUtilsgetUniqueDeclaredMethodsReflectionUtilsjava at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorylambdagetTypeForFactoryMethod AbstractAutowireCapableBeanFactoryjava at javabasejavautilconcurrentConcurrentHashMapcomputeIfAbsentConcurrentHashMapjava at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorygetTypeForFactoryMethodAbstractAutowireCapableBeanFactoryjava at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydetermineTargetTypeAbstractAutowireCapableBeanFactoryjava at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypredictBeanTypeAbstractAutowireCapableBeanFactoryjava at orgspringframeworkbeansfactorysupportAbstractBeanFactoryisFactoryBeanAbstractBeanFactoryjava at orgspringframeworkbeansfactorysupportDefaultListableBeanFactorydoGetBeanNamesForTypeDefaultListableBeanFactoryjava at orgspringframeworkbeansfactorysupportDefaultListableBeanFactorygetBeanNamesForTypeDefaultListableBeanFactoryjava at orgspringframeworkbootautoconfigureconditionOnBeanConditioncollectBeanNamesForTypeOnBeanConditionjava at orgspringframeworkbootautoconfigureconditionOnBeanConditiongetBeanNamesForTypeOnBeanConditionjava at orgspringframeworkbootautoconfigureconditionOnBeanConditiongetBeanNamesForTypeOnBeanConditionjava at orgspringframeworkbootautoconfigureconditionOnBeanConditiongetMatchingBeansOnBeanConditionjava at orgspringframeworkbootautoconfigureconditionOnBeanConditiongetMatchOutcomeOnBeanConditionjava at orgspringframeworkbootautoconfigureconditionSpringBootConditionmatchesSpringBootConditionjava more Caused by javalangNoClassDefFoundError orgspringframeworkhateoasRelProvider at javabasejavalangClassLoaderdefineClass Native Method at javabasejavalangClassLoaderdefineClassClassLoaderjava at javabasejavasecuritySecureClassLoaderdefineClassSecureClassLoaderjava at javabasejdkinternalloaderBuiltinClassLoaderdefineClassBuiltinClassLoaderjava at javabasejdkinternalloaderBuiltinClassLoaderfindClassOnClassPathOrNullBuiltinClassLoaderjava at javabasejdkinternalloaderBuiltinClassLoaderloadClassOrNullBuiltinClassLoaderjava at javabasejdkinternalloaderBuiltinClassLoaderloadClassBuiltinClassLoaderjava at javabasejdkinternalloaderClassLoadersAppClassLoaderloadClassClassLoadersjava at javabasejavalangClassLoaderloadClassClassLoaderjava at javabasejavalangClassgetDeclaredMethods Native Method at javabasejavalangClassprivateGetDeclaredMethodsClassjava at javabasejavalangClassgetDeclaredMethodsClassjava at orgspringframeworkutilReflectionUtilsgetDeclaredMethodsReflectionUtilsjava more Caused by javalangClassNotFoundException orgspringframeworkhateoasRelProvider at javabasejdkinternalloaderBuiltinClassLoaderloadClassBuiltinClassLoaderjava at javabasejdkinternalloaderClassLoadersAppClassLoaderloadClassClassLoadersjava at javabasejavalangClassLoaderloadClassClassLoaderjava more How to solve this issue Please help me it would be grateful I want to upgrade my application to springboot v So need a solution for this version Describe the bug SCG as ssl termination doesnt work any longer When SCG listens on https but the downstream clients are using http and when using loadbalancer such as Eureka the SCG tries to use https for downstream Reason for the bug orgspringframeworkcloudnetflixeurekaEurekaServiceInstance doesnt implement orgspringframeworkcloudclientServiceInstancegetScheme so it returns null As fallback for scheme was null following method uses original uri scheme orgspringframeworkcloudclientloadbalancerLoadBalancerUriToolscomputeScheme As a result instead of using http protocol it is using https protocol WARN cloudadmin scoveryClient cnetflixdiscoveryTimedSupervisorTask task supervisor timed out javautilconcurrentTimeoutException null at javautilconcurrentFutureTaskgetFutureTaskjava at comnetflixdiscoveryTimedSupervisorTaskrunTimedSupervisorTaskjava at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava at javautilconcurrentFutureTaskrunFutureTaskjava at javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess ScheduledThreadPoolExecutorjava at javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava lastFetch is in millisecond while the divisor is interval in second 