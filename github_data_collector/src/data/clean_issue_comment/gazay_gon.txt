I have a use case where I would like to add to the gon based on variables that are set in the controllerview specifically the rails layout being used peek rails version ruby version gon version I have two actions class IndexController ApplicationController def index yourint yourarray yourhash a b gonyourint yourint gonyourotherint gonyourint gonyourarray yourarray gonyourarray gonyourint gonyourhash yourhash end def about end end in my header i put gon metacontent texthtml charsetUTF httpequiv ContentType metacontent nocache name turbolinkscachecontrol GonBaserenderdata title Testes faviconlinktag csrfmetatags cspmetatag stylesheetlinktag application media all dataturbolinkstrack reload javascriptincludetag application dataturbolinkstrack reload in browser colose on page index i write gon and returns this gon yourint yourotherint yourarray Array yourhash i navigate with turbolinks to page about and i write gon from console and return this gon so i back to index with tuborlinks and i write in console gon and the return not put the value but an empty object gon This test fails with rails works with rails even though gemspec says actionpack as dependency actionpack should be added as a development dependency or it should be made compatible with actionpack ideally for as well Failures threading behaviour is threadsafe FailureError request ActionDispatchTestRequestcreate NoMethodError undefined method create for ActionDispatchTestRequestClass specgonthreadspecrb in request specgonthreadspecrb in execute specgonthreadspecrb in block levels in top required Finished in seconds files took seconds to load examples failure Hi I found that jsoncache was not working when I was using jbuilder template with gonjbuilder I found this error message undefined method controller for StaffsController x f fb Did you mean controllerpath The error comes from this line I think this problem will be fixed by changing the argument controller to right one controller is equal to context on JbuilderTemplate Is it hard to replace it And is there other way to use jsoncache when using gonjbuilder Thanks Hi Im using something like protected def initgon gonvapidpublickey Base urlsafedecode Railsapplicationsecretsvapid publickey end But the GonBaserenderdata complains that xD from ASCII BIT to UTF Ive tried different string conversion using forceencoding method without success Any hints Thanks a lot I set up a gon variable for checking if current user is available in controller gonwatchhascurrentuser currentuserpresent I open a page with current user presents and duplicate that page to a new browser window I logged out in one page and call gonwatchhascurrentuser then call alertgonhascurrentuser in the console The variable was updated from true to false successfully Now I called the same two methods in the page I had not logged out I assume that the variable must be checked and updated again by gonwatch and become false too However the currentuser still existed there Why I dont have any suggestions here but wanted to start a thread about ways to make gon work in a webpacker world Specifically such that gon could be imported by JS files rather than being a global respondto do format formatjs gonfollowername params follower username end alertgonfollowername I wrote these lines in application layout file csrfmetatags GonBaserenderdata and assign values to gon in Rails controller and using in angular controller with scope In Rails controller gonhoteldata hoteldata In Angular controller scopehotel gonhoteldata gon variable is accessible in angular controller But when I write test case for this controller and it shows this error in angular controller when I run test case ReferenceError Cant find variable gon Kindly let me know how to initialize gon variable in Javascript test case Thanks has been released tada But we dont have a tag in git 