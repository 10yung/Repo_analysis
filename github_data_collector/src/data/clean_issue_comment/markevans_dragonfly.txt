Is it possible to add an option sslverifymode to Dragonflyappconfigure in order to use it here diff def geturl url parseurlurl http NetHTTPnewurlhost urlport httpusessl true if urlscheme https httpverifymode appsslverifymode unless appsslverifymodenil request NetHTTPGetnewurlrequesturi if urluser urlpassword requestbasicauthurluser urlpassword end httprequestrequest end My model has attachments originaluid imageuid dragonflyaccessor original do copyto image end dragonflyaccessor image do afterassign processimage end I am also using retainedoriginal in my form The problem seems to be that If I upload a graphic and submit the form And the form Fails validation thus filling the retainedoriginal And then I fix the form issue When I submit the form the originaluid is set but the imageuid is NOT set Based on reading the source code it looks like the retainedattribute method does not go through the dragonflyattachments attribute assignvalue path which prevents the afterassign callback from being fired My only idea right now is to remove the retainedoriginal usage since this is causing my models to end up in an unexpected situation Please let me know if Im using these features together incorrectly Allows us to specify nil for logger Hi markevans one of the issues with fetching urlbased files is the delay while the server downloads the file to store Do you think theres a way to offload the download to a background process and immediately return When the download completes the metadata can be updated in the database I can think that thered probably be problems around broken URLs and other validation issues I was just wondering if youve ever done any thinking around how that could potentially work Closes Allows optional headers to be passed to the request The interface for headers is a bit weird so we need to loop the passed in headers and then add each one using a hashlike interface It seems they cant be all added at once Hi markevans I hope all is going well in the leadup to Christmas Im looking to download files from Google Drive via dragonfly Theyll be specified by the user using the Google Drive file picker tool that returns a fileid and oauthtoken I can send these back to the server and have Dragonfly download the file from there The trouble is that to download the file the oauth token needs to be specified in a header GET Authorization Bearer ACCESSTOKEN See Ive had a look at the code and it appears specifying extra headers isnt currently supported Would you be interested in having this as a feature or do you think theres another way to do this I guess the biggest challenge would be working out a tidy way to pass in the extra headers Perhaps passing a hash to the assignment method that contains say photoimageurl url headers Authorization Bearer ACCESSTOKEN would work Id be keen to get onto this asap so if you had any ideas or pointers before I begin that would be really helpful The gemspec is evaluated when the gem is built and baked into the metadata and is not evaluated at install time Any logic around RUBYVERSION is applied based on the ruby that built the gem not the end users ruby as is desired This is fairly common and has been known to cause issues on other gems see This adds ruby to the travis build matrix Hi Using v here I hope its recent enough and not pertaining to the problem When I try to upload a new attachment for a record whose previous attachment file has been deleted from disc I get a DRAGONFLY DragonflyFileDataStore destroy error No such file or directory unlinkinternal error and the update fails It seems to me there ought to be an option to ignore fails like this and just assign the new attachment How should I work around this problem When I use dragonfly datastore s for upload image I got error when trying use remoteurl And if I use Dragonflyappremoteurlforimagesfirstimageuid Images no such key