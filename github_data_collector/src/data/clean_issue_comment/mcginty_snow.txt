The patterns in TryFrom a HandshakeChoice for HandshakeTokens as well as more code now match the current spec Mentioned in Tiny PR to make builder Send Boxdyn CryptoResolver cannot be sent between threads safely Client code could work around this by ensuring that the builder with a custom resolver does not get included in a futures async blocks state however it may be considered more ergonomic to add the Send trait bound Hey Ive been wondering how to properly accept multiple public keys instead of just a single one Does simply not providing a remotepublickey pubkey and checking HandshakeStategetremotestatic work Using a psk works but its not ideal the only thing that actually requires std is Cursor in srcresolversdefaultrs CipherChaChaPoly and getrandom which is an upstream issue in rand both dont seem a big problem to me since embedded users need a different resolver anyway now that hacl is gone were migrating away from rust but one of the things thats holding me back is snow since its fairly high quality and noisec is not how do you feel about supporting nostd That is ill do the majority of the work of course but youd have to maintain and defend it later D Add writemessagewithad writemessagewithnoncead readmessagewithad and readmessagewithnoncead to Session I need to save session keys to disk and restore them for failover CipherState is already public and its use is fairly obvious StatelessTransportStatenew is a bit lacking because HandshakeState contains a lot of stuff that isnt relevant after hs I could of course zero them out but meh cryptography is hard and id rather have a review here is it ok to introduce a StatelessTransportStatefromparts cipherstates StatelessCipherStates pattern HandshakePattern dhlen usize rs Toggle u MAXDHLEN initiator bool edit uuh actually CipherState doesnt have a get so you cant get the session key can we introduce that too Are you interested in this feature Heres the noise fork by Yawning Angel that has the XXhfs using NewHopeSimple Heres the spec extension Straightforward implementation of For example I need such pattern NoiseXKsecp k ChaChaPolySHA Does snow support it out of the box