Ask questions at IdleTimeout timeSecond Discover the free redis connection after seconds and it is not automatically closed add func Uint Map Uint s I have a struct like that type User struct Nickname string jsonnickname Phone string jsonphone Values are placed in redis with HMSET command values can be nil Now Im trying to scan values into a structure values err redisValuesCacheDoHMGET key nickname phone var usr User err redisScanvalues usrNickname usrPhone But I get an error redigoScan cannot assign to dest cannot convert from Redis bulk string to string Please tell me what Im doing wrong I see the only way to run lua scripts currently is to create an embedded lua script and then use the Script object to run the function Can we introduce a new function which accepts a file path and runs the lua script in redis i can use redisgoInt s redisgoUint But without redisgoUInt s This is an initial PR to address issue Fixes I think Once merged additional tags need to be added to the repo redisv redisxv This will make this repo support go modules and follows the official guidance of bumping the major version when there are released tags that are not actually for go mod It maybe worth considering not having the redis and redisx modules in the same repo Before taking this change might be a good opportunity to do that since consumers will have to change the import path anyway At the very least it may be worthwhile to move the redisx package out of this repo since its intended to be experimental and should probably remain v I like to add tracing to my code This depends on being able to pass a context around To that end I wish TestOnBorrow was passed the context thats passed to GetContext Perhaps this would require a new function so its not a breaking change TestOnBorrowContext or something similar price nil imgurlsmall feed t title tags location geo created ctitle mpid ct year imgurl vin psd is mileage ssc st did ss url imgurllarge ssf redigoScan cannot assign to dest cannot convert from Redis nil to string I get this result back from redisearch so I cant intervene here The actual hash doesnt have that field in it In these situations it would be useful if redigo would return an empty string unless there are sideeffects of that that I dont understand HGETALL p imgurlsmall feed fthemotorcafenew t title MULTISTRADA S TOURING Ducati tags vm wcouchrideteuropevm wcouchridetadventure vm vm wcouchridetdealerwcouchridetnewtimagewcouchridethasvinwcouchridettouringwcouchridetducatiwcouchridetmultistradawcouchridetmultistrada wcouchridetmultistrada swcouchridefthemotorcafenewcfd cf ariCA location Sunnyvale CA geo created ctitle MULTISTRADA S TOURING Ducati mpid cf ari ct l year imgurl vin zdmaaekw kb psd ari is n x f xeb x x x xda xdf x F a x mileage ssc st CA did cfd ss url imgurllarge ssf I would like to add some extra functionality to The Redis Pool because it seems to be useful because it prevent the connection leaks go func p Pool WithConncb funcredisConn err error conn rpoolGet defer func err recover connClose cbconn return func p Pool WithConnCtxctx contextContext cb funcredisConn err error conn err rpoolGetContextctx if err nil return defer func err recover connClose cbconn return func p Pool MustWithConncb funcredisConn error conn rpoolGet cbconn connClose return nil func p Pool MustWithConnCtxctx contextContext cb funcredisConn error conn err rpoolGetContextctx if err nil return err cbconn connClose return nil And tests of cause