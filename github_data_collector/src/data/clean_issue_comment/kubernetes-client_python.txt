What happened please include outputs or screenshots Watching listeventforallnamespaces does not return any events when a Pod is deleted I have two scripts one prints all events with listeventforallnamespaces and the other creates and then deletes a Pod The watcher prints events while the Pod is starting pulling container pulled container starting container etc But I dont get any event when the pod is deleted What you expected to happen In the apiserver audit log there are events with typeDELETED I expect to see those events returned by listeventforallnamespaces How to reproduce it as minimally and precisely as possible testyaml import yaml apiVersion v kind Pod metadata name podtesting spec restartPolicy Never containers image busybox name podtesting command sleep watchpy from kubernetes import client config watch configloadkubeconfig v clientCoreV Api w watchWatch for event in wstreamv listeventforallnamespaces printevent Start watching python watchpy In a separate terminal do kubectl apply f testyaml then after the Pod is started do kubectl delete f testyaml Anything else we need to know Environment Kubernetes version kubectl version OS eg MacOS Centos Python version python version Python client version pip list grep kubernetes python def execCmdInPodself podname cmd timeout name podname namespace default try resp streamselfmapiinstanceconnectgetnamespacedpodexec name namespace commandcmd stderrTrue stdinFalse stdoutTrue ttyFalse preloadcontentTrue requesttimeouttimeout except Exception e if selfvalidLogger selfmloggererrorExec cmd s in pod s failed the detail error msg iss cmd tracebackformatexc return False return True execCmdInPod cmd bash c python startpy startlog execCmdInPodtest cmd timeout I use below code to exec a script in the podcontaineronly one container in the pod but I use the requesttimeout to wait the scipt exec finished The problem If I use no timeout setting then the script would not be executed in the podcontainer I just want to know how to exec a script from the container in sync mode git clone recursive git branch a git branch git checkout release pip install kubernetes Installed optdeamonpy envlibpython sitepackageskubernetes b py egg Processing dependencies for kubernetes b Searching for urllib Best match urllib Adding urllib to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for requestsoauthlib Best match requestsoauthlib Adding requestsoauthlib to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for requests Best match requests Adding requests to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for websocketclient Best match websocketclient Adding websocketclient to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for googleauth Best match googleauth Adding googleauth to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for PyYAML Best match PyYAML Adding PyYAML to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for setuptools Best match setuptools Adding setuptools to easyinstallpth file Installing easyinstall script to optdeamonpy envbin Installing easyinstall script to optdeamonpy envbin Using optdeamonpy envlibpython sitepackages Searching for pythondateutil Best match pythondateutil Adding pythondateutil to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for six Best match six Adding six to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for certifi Best match certifi Adding certifi to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for oauthlib Best match oauthlib Adding oauthlib to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for chardet Best match chardet Adding chardet to easyinstallpth file Installing chardetect script to optdeamonpy envbin Using optdeamonpy envlibpython sitepackages Searching for idna Best match idna Adding idna to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for rsa Best match rsa Adding rsa to easyinstallpth file Installing pyrsadecrypt script to optdeamonpy envbin Installing pyrsaencrypt script to optdeamonpy envbin Installing pyrsakeygen script to optdeamonpy envbin Installing pyrsapriv pub script to optdeamonpy envbin Installing pyrsasign script to optdeamonpy envbin Installing pyrsaverify script to optdeamonpy envbin Using optdeamonpy envlibpython sitepackages Searching for pyasn modules Best match pyasn modules Adding pyasn modules to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for cachetools Best match cachetools Adding cachetools to easyinstallpth file Using optdeamonpy envlibpython sitepackages Searching for pyasn Best match pyasn Adding pyasn to easyinstallpth file Using optdeamonpy envlibpython sitepackages Finished processing dependencies for kubernetes b py env rootwukui python echo py env rootwukui deamon python podpy Traceback most recent call last File podpy line in module configloadkubeconfig File optdeamonpy envlibpython sitepackageskubernetesconfigkubeconfigpy line in loadkubeconfig persistconfigpersistconfig File optdeamonpy envlibpython sitepackageskubernetesconfigkubeconfigpy line in getkubeconfigloaderforyamlfile kwargs File optdeamonpy envlibpython sitepackageskubernetesconfigkubeconfigpy line in init selfsetactivecontextactivecontext File optdeamonpy envlibpython sitepackageskubernetesconfigkubeconfigpy line in setactivecontext selfcurrentcontext context cluster cluster File optdeamonpy envlibpython sitepackageskubernetesconfigkubeconfigpy line in getwithname Expected object with name s in s list name selfname kubernetesconfigconfigexceptionConfigException Invalid kubeconfig file Expected object with name kubernetes in rootkubeconfigclusters list I use the deletenamespacedpod api to delete the pod but always stuck in a long time mabye in minute I just want to delete the pod with f flag How can I do it What happened please include outputs or screenshots k sexec usrlocalCellarpython binpython kubectlexecpy usrlocallibpython sitepackagesurllib connectionpoolpy InsecureRequestWarning Unverified HTTPS request is being made Adding certificate verification is strongly advised See InsecureRequestWarning Traceback most recent call last File kubectlexecpy line in module configloadkubeconfig File usrlocallibpython sitepackageskubernetesconfigkubeconfigpy line in loadkubeconfig loaderloadandsetconfig File usrlocallibpython sitepackageskubernetesconfigkubeconfigpy line in loadandset selfloadauthentication File usrlocallibpython sitepackageskubernetesconfigkubeconfigpy line in loadauthentication if selfloadauthprovidertoken File usrlocallibpython sitepackageskubernetesconfigkubeconfigpy line in loadauthprovidertoken return selfloadoidtokenprovider File usrlocallibpython sitepackageskubernetesconfigkubeconfigpy line in loadoidtoken selfrefreshoidcprovider File usrlocallibpython sitepackageskubernetesconfigkubeconfigpy line in refreshoidc clientsecret provider config clientsecret File usrlocallibpython sitepackageskubernetesconfigkubeconfigpy line in getitem key selfname kubernetesconfigconfigexceptionConfigException Invalid kubeconfig file Expected key clientsecret in What you expected to happen No error How to reproduce it as minimally and precisely as possible Setup an OIDC IdP with a public endpoint Integrate with your API server Generate a kube config using the configuration with NO clientsecret Use the API Anything else we need to know clientsecret is optional and should not be considered to be required As a workaround adding en empty clientsecret works Environment Kubernetes version kubectl version Client Version versionInfoMajor Minor GitVersionv GitCommit b f acc bed d ba dd f e cf GitTreeStateclean BuildDate T Z GoVersiongo Compilergc Platformdarwinamd OS eg MacOS MacOS Catalina Python version python version Python client version pip list grep kubernetes b Python has reached End of Life as of January and we are still supporting it Releasing future versions of the client and maintaining released versions with Python support might lead to problems for downstream users My suggestion is to stop releasing the client with Python support and removing Python from CICD Also it would be helpful if we provide a warning message in the README against using Python versions of already released client versions Kubernetes Python client v would track Kubernetes v Tasks To be updated x Update README x Update CHANGELOG What happened please include outputs or screenshots The following api calls against CoreV Api listnamespacedsecret listnamespacedconfigmap fail straight away with wstream if the resource version is added raise ResponseNotChunked urllib exceptionsResponseNotChunked Response is not chunked Header transferencoding chunked is missing What you expected to happen Not fail straight away the below code works for listnamespacedevent etc How to reproduce it as minimally and precisely as possible w watchWatch for event in wstreamselfv apilistnamespacedconfigmap namespace resourceversionresourceversion Anything else we need to know resource version is definitely set to a string not adding the resource version kwarg makes the code work fine Environment Kubernetes version kubectl version Major Minor GitVersionv OS eg MacOS Python version python version Python Python client version pip list grep kubernetes b What we are doing we deployed our Django application on Kubernetes along with celery and rabbitmq and celery have some task to create some pods details on Kubernetes using Kubernetes python API but when I am calling the API from application then it is working properly but when it happened with celery task then it giving us following issue and we give all permission to the app pod and celery but even getting the issue kubernetesclientrestApiException Reason Forbidden HTTP response headers HTTPHeaderDictAuditId d c f d f bea cb a ContentType applicationjson Date Sun Dec GMT ContentLength HTTP response body kindStatusapiVersionv metadatastatusFailuremessagedeploymentsextensions nfsprovisionerpoddemof cca ForbiddenreasonNotFounddetailsnamenfsprovisionerpoddemof cca groupextensionskinddeploymentscode Kindly plz help