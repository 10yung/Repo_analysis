 PHPMD version PHP Version Installation type composer Operating System Distribution Version Kubuntu Current Behavior Falsepositive message Avoid using undefined variables on short list assignment php abc def Expected Behavior Recognize assignment via shot list syntax Steps To Reproduce sample code is above PHPMD version PHP Version Installation type composer Operating System Distribution Version Debian Buster Current Behavior The violation UndefinedVariable does not contain externalInfoUrl in its element like this xml pmd versionprojectversion timestamp T file nametmptestphp violation beginline endline ruleUndefinedVariable rulesetClean Code Rules priority Avoid using undefined variables such as x which will lead to PHP notices violation file pmd Expected Behavior I expect the output below xml xml version encodingUTF pmd versionprojectversion timestamp T file nametmptestphp violation beginline endline ruleUndefinedVariable rulesetClean Code Rules externalInfoUrl priority Avoid using undefined variables such as x which will lead to PHP notices violation file pmd Steps To Reproduce Prepare the file testphp php php function printX echo x And then run the following command shellsession phpmd testphp xml cleancode Checks before submitting x Be sure that there isnt already an issue about this See Issues list x Be sure that there isnt already a pull request about this See Pull requests x I have added every step to reproduce the bug x If possible I added relevant code examples x This issue is about bug and nothing more x The issue has a descriptive title For example JSON rendering failed on Windows for filenames with space I think the following patch resolves the issue but Im not sure this exactly works diff diff git asrcmainresourcesrulesetscleancodexml bsrcmainresourcesrulesetscleancodexml index f a asrcmainresourcesrulesetscleancodexml bsrcmainresourcesrulesetscleancodexml function make since messageAvoid using undefined variables such as which will lead to PHP notices classPHPMD Rule CleanCode UndefinedVariable externalInfoUrl externalInfoUrl description Detects when a variable is used that has not been defined before description The last signed version is which makes it the default version installed by phive Maybe you can add signatures to the and releases PHPMD version PHP Version Installation type composer Operating System Distribution Version clear linux Current Behavior Falsepositive message Avoid unused local variables on passing var by reference public function getFlowsFromBot childs flows foreach childs as key child flows child tag childs key text thisgetFlowsFromBotchild childnodes flows return flows give me an error on childs on line and Expected Behavior Recognize passing variables by reference Steps To Reproduce Just run phpmd Checks before submitting x Be sure that there isnt already an issue about this See Issues list x Be sure that there isnt already a pull request about this See Pull requests x I have added every step to reproduce the bug x If possible I added relevant code examples x This issue is about bug and nothing more x The issue has a descriptive title For example JSON rendering failed on Windows for filenames with space PHPMD version beta beta PHP Version Installation type composer Operating System Distribution Version Ubuntu LTS Current Behavior Foophp php php class Foo public function bararray array foreach array as item item return array Result vendorbinphpmd Foophp text cleancode echo Success homeuserprojectFoophp Avoid using undefined variables such as item which will lead to PHP notices homeuserprojectFoophp Avoid using undefined variables such as item which will lead to PHP notices Expected Behavior vendorbinphpmd Foophp text cleancode echo Success Success Steps To Reproduce See the example above Checks before submitting x Be sure that there isnt already an issue about this See Issues list x Be sure that there isnt already a pull request about this See Pull requests x I have added every step to reproduce the bug x If possible I added relevant code examples x This issue is about bug and nothing more x The issue has a descriptive title For example JSON rendering failed on Windows for filenames with space Source URL example Edit URL example And the PR will also make RST files downloable on phpmdorg see PHPMD version PHP Version Installation type composer Operating System Distribution Version Ubuntu Current Behavior The undefined variable rule does not pick up parameters passed into a method of an anonymous class This is very likely related to php final class FooChecker public function getChecker return new class public function checkFooUser user bool Avoid using undefined variables such as user return useraddFailedLoginAttempt Expected Behavior user is defined in the above example so it should not produce an undefined variable error Steps To Reproduce Run the undefined variable rule over the above example Checks before submitting x Be sure that there isnt already an issue about this See Issues list x Be sure that there isnt already a pull request about this See Pull requests x I have added every step to reproduce the bug x If possible I added relevant code examples x This issue is about bug and nothing more x The issue has a descriptive title For example JSON rendering failed on Windows for filenames with space Description Ale from Code Climate here we usually use the txt docs to pull down documentation for the rules For example I just noticed that these links are not longer accessible Were they moved or no longer available on txt format PHPMD version PHP Version Installation type composer Operating System Distribution Version Debian Current Behavior The new feature Undefined Variable Rule introduced in is not working with static class variables such as php class CmsBlock protected static cmsBlockBuffer protected function getCmsBlockByIdstring cmsBlockKey array if issetstaticcmsBlockBuffer cmsBlockKey return staticcmsBlockBuffer cmsBlockKey return staticcmsBlockBuffer cmsBlockKey thisfindCmsBlockByKeycmsBlockKey PhpMd triggers error message Avoid using undefined variables such as cmsBlockBuffer which will lead to PHP notices Expected Behavior No error messages Steps To Reproduce Explain all the steps you did to create this bug so we can reproduce it Checks before submitting Be sure that there isnt already an issue about this See Issues list Be sure that there isnt already a pull request about this See Pull requests I have added every step to reproduce the bug If possible I added relevant code examples This issue is about bug and nothing more The issue has a descriptive title For example JSON rendering failed on Windows for filenames with space Type feature Issue Resolves Breaking change no Explain what the PR does and also why If you have parts you are not sure about please explain This PR adds a baseName key to the report thatll allow for easier reading In my case I need the baseName key for GitLab CICD Please check this points before submitting your PR x Add test to cover the changes you made on the code If you have a change on the documentation please link to the page that you change If you add a new feature please update the documentation in the same PR If you really need to add a breaking change explain why it is needed Understand that this result in a lower change to get the PR accepted Any PR need approvals before it get merged sometimes this can take some time Please be patient 