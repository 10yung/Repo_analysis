 Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines and developer guide Please label this pull request according to what type of issue you are addressing especially if this is a release targeted pull request For reference on required PRissue labels read here Ensure you have added or ran the appropriate tests for your PR If you want faster PR reviews read how If the PR is unfinished see how to mark it What type of PR is this kind cleanup What this PR does why we need it Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes ref Special notes for your reviewer assign oomichi hold for waiting and merged Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required For more information on release notes see releasenote None Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc This section can be blank if this pull request does not require a release note When adding links which point to resources within git repositories like KEPs or supporting documentation please reference a specific commit and avoid linking directly to the master branch This ensures that links reference a specific point in time rather than a document that may change over time See here for guidance on getting permanent links to files Please use the following format for linking documentation KEP link Usage link Other doc link docs None What type of PR is this kind bug What this PR does why we need it This PR adds flowcontrol to apiVersionPriorities so that kubectl can recognize it Which issues this PR fixes Fixes releasenote NONE Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc docs Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines and developer guide Please label this pull request according to what type of issue you are addressing especially if this is a release targeted pull request For reference on required PRissue labels read here Ensure you have added or ran the appropriate tests for your PR If you want faster PR reviews read how If the PR is unfinished see how to mark it What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespace from that line kind apichange kind bug kind cleanup kind deprecation kind design kind documentation kind failingtest kind feature kind flake What this PR does why we need it What started as a hobby to spend a few hours on weekends has become a passion Now that IPv and dualstack are taking off and Im more familiar with the networking code base of kk Id like to continue helping Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required For more information on release notes see releasenote NONE Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc This section can be blank if this pull request does not require a release note When adding links which point to resources within git repositories like KEPs or supporting documentation please reference a specific commit and avoid linking directly to the master branch This ensures that links reference a specific point in time rather than a document that may change over time See here for guidance on getting permanent links to files Please use the following format for linking documentation KEP link Usage link Other doc link docs What type of PR is this kind cleanup What this PR does why we need it Re the TODO this command no longer needs to be prefixed by sudo as the test is already running as root Which issues this PR fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change releasenote NONE Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc docs Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines and developer guide Please label this pull request according to what type of issue you are addressing especially if this is a release targeted pull request For reference on required PRissue labels read here Ensure you have added or ran the appropriate tests for your PR If you want faster PR reviews read how If the PR is unfinished see how to mark it What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespace from that line kind apichange kind bug kind cleanup kind deprecation kind design kind documentation kind failingtest kind feature kind flake What this PR does why we need it if dualstack enabled validate that we receive one cluster cidr per IP family Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required For more information on release notes see releasenote kubeproxy operating in dualstack needs to configure one cluster CIDR per IP family Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc This section can be blank if this pull request does not require a release note When adding links which point to resources within git repositories like KEPs or supporting documentation please reference a specific commit and avoid linking directly to the master branch This ensures that links reference a specific point in time rather than a document that may change over time See here for guidance on getting permanent links to files Please use the following format for linking documentation KEP link Usage link Other doc link docs Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines and developer guide Please label this pull request according to what type of issue you are addressing especially if this is a release targeted pull request For reference on required PRissue labels read here Ensure you have added or ran the appropriate tests for your PR If you want faster PR reviews read how If the PR is unfinished see how to mark it What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespace from that line kind apichange kind bug kind cleanup kind deprecation kind design kind documentation kind failingtest kind feature kind flake What this PR does why we need it part of Migrate Kubelet flags to config Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required For more information on release notes see releasenote None Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc This section can be blank if this pull request does not require a release note When adding links which point to resources within git repositories like KEPs or supporting documentation please reference a specific commit and avoid linking directly to the master branch This ensures that links reference a specific point in time rather than a document that may change over time See here for guidance on getting permanent links to files Please use the following format for linking documentation KEP link Usage link Other doc link docs cc savitharaghunathan stealthybox mtaufen Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines and developer guide Please label this pull request according to what type of issue you are addressing especially if this is a release targeted pull request For reference on required PRissue labels read here Ensure you have added or ran the appropriate tests for your PR If you want faster PR reviews read how If the PR is unfinished see how to mark it What type of PR is this Uncomment only one kind line hit enter to put that in a new line and remove leading whitespace from that line kind apichange kind bug kind cleanup kind deprecation kind design kind documentation kind failingtest kind feature kind flake What this PR does why we need it This PR refactors QueueSet configuration into two phases so that errors can be detected before resolving concurrency shares into concurrency counts Which issues this PR fixes Automatically closes linked issue when PR is merged Usage Fixes issue number or Fixes paste link of issue If PR is about failingtests or flakes please post the related issuestests in a comment and do not use Fixes Fixes Special notes for your reviewer This is an alternative to Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required For more information on release notes see releasenote NONE Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc This section can be blank if this pull request does not require a release note When adding links which point to resources within git repositories like KEPs or supporting documentation please reference a specific commit and avoid linking directly to the master branch This ensures that links reference a specific point in time rather than a document that may change over time See here for guidance on getting permanent links to files Please use the following format for linking documentation KEP link Usage link Other doc link docs KEP Please use this template while reporting a bug and provide as much info as possible Not doing so may result in your bug not being addressed in a timely manner Thanks If the matter is security related please disclose it privately via What happened I am testing API Priority and Fairness I launched it like this RUNTIMECONFIGflowcontrolapiserverk siov alpha true FEATUREGATESAPIPriorityAndFairnesstrue LOGLEVEL hacklocalupclustersh After the logging said the cluster is running and told me how to set KUBECONFIG I did so in another shell and went looking for FlowSchema objects But kubectl erroneously told me there is no such thing kubectl get Pod A NAMESPACE NAME READY STATUS RESTARTS AGE kubesystem kubedns b jh zn Running s kubectl get flowschemas error the server doesnt have a resource type flowschemas kubectl get flowschemasflowcontrolapiserverk sio error the server doesnt have a resource type flowschemas kubectl get flowschemasv alpha flowcontrolapiserverk sio error the server doesnt have a resource type flowschemas However looking in the kubeapiserver log shows flowschemas and prioritylevelconfigurations being read and written for example I httploggo verbGET URIapisflowcontrolapiserverk siov alpha flowschemascatchall latency s resp UserAgentkubeapiserverv linuxamd kubernetes edd srcIP Also I am able to read them with curl against the insecure port Interestingly the kubeapiserver log also includes this complaint I aggregatorgo Skipping APIService creation for flowcontrolapiserverk siov alpha I will attach the kubeapiserver log What you expected to happen I expected kubectl get flowschemas to list them How to reproduce it as minimally and precisely as possible I think the report above is pretty minimal Anything else we need to know Environment Kubernetes version use kubectl version this is the master branch git commit edd e f f d ca ca fe f Cloud provider or hardware configuration bare metal intel CPUs GB of memory OS eg cat etcosrelease LTS Bionic Beaver Kernel eg uname a Linux mjsdev generic Ubuntu SMP Thu Dec UTC x x x GNULinux Install tools hacklocalupclustersh Network plugin and version if this is a networkrelated bug Others Docker version go version go linuxamd kubeapiserverlog Thanks for sending a pull request Here are some tips for you If this is your first time please read our contributor guidelines and developer guide Please label this pull request according to what type of issue you are addressing especially if this is a release targeted pull request For reference on required PRissue labels read here Ensure you have added or ran the appropriate tests for your PR If you want faster PR reviews read how If the PR is unfinished see how to mark it What type of PR is this kind feature What this PR does why we need it Add versionjson flag to kubelet to get complete information Which issues this PR fixes Fixes Special notes for your reviewer Does this PR introduce a userfacing change If no just write NONE in the releasenote block below If yes a release note is required Enter your extended release note in the block below If the PR requires additional action from users switching to the new release include the string action required For more information on release notes see releasenote Adds a new flag versionjson to kubelet binary For example kubelet versionjson major minor gitVersion v alpha b c cf dirty gitCommit b c cf de d e b gitTreeState dirty buildDate T Z goVersion go compiler gc platform linuxamd Additional documentation eg KEPs Kubernetes Enhancement Proposals usage docs etc Which jobs are failing cikubernetese egcigcescalability Which tests are failing Stages Overall listResources After listResources Before Since when has it been failing Testgrid link Reason for failure Multiple occurrences of the following error messages W Invalid value for field zone asianortheast a Unknown zone W Invalid value for field zone asianortheast b Unknown zone W Invalid value for field zone asianortheast c Unknown zone Anything else we need to know Similar error was seen in the test failure mentioned in priority criticalurgent sig scalability