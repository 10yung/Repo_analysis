Not sure if the fix implementation is good enough Let me know if you want some changes Closes Try to replace text but skip overwritting file with pretend option Before this commit dc f f d d fbd eb b bd ee f injectintofile with pretend option was printing inject line but now it complains about file didnt change The best way it would try to replace and return success without writing file If I use appendfile or insertintofile in a generator and I execute generator twice then File unchanged The supplied flag value not found warning is printed Is this the expected behavior It sounds curious to me Why doesnt it print identical or unchanged without warning since contentincludereplacement returns true Related to Hi Im curious why nobody asking insertintofile with between feature I was get embarrassed many times without any solution to do this Here is a simplified webpackeryml that we just focus on the key point yaml configwebpackeryml default default extractcss false development default test default production default extractcss true Im going to write a rails template that add extractcss true to development section with this code ruby injectintofile configwebpackeryml after development n default n do YAMLindent extractcss true YAML end unfortunately extractcss true already exists after production section which also after development section so injectintofile will do nothing what if injectintofile support option between or bioptions after before it should inserted successfully ruby injectintofile configwebpackeryml between development n default n production do YAMLindent extractcss true YAML end or ruby injectintofile configwebpackeryml after development n default n before production do YAMLindent extractcss true YAML end Hi i need to build a program which performs different action depending on the name it is called by symlinking like busybox and some other do ie instead of calling program command do a symlink ln s program command and then just call it as command A simple ARGVunshift Filebasename rb does the job but then the program does not respond to help or help anymore Would be nice to get some support for that There could be cases where users have a very short name for the package name which is the cli name in such cases it would be good to provide a way to add a toplevel package description just like there is for subcommands Example With the following class class Marvel Thor packagename marvel packagedescription A commandline interpreter for the Marvel Corporation end We would see the follosing help marvel help A commandline interpreter for the Marvel Corporation marvel commands Signedoffby Salim Afiune afiunechefio How to display a custom message when the program cannot find a command Using this toy example usrbinenv ruby require thor require thorgroup class MyGroup ThorGroup classoption opt aliases o default def one puts options opt end end class MyCLI Thor registerMyGroup printopt printopt Prints the options end MyCLIstart And running bundle exec brokenclassoptionsrb help printopt Produces this output Usage brokenclassoptionsrb printopt The class options are not printed for this group This appears related to this issue As seen in following line currently ThorShellBasicsaystatus prints its content to stdout I think in case we saystatus wed generally want to print that message to stderr if you are making an cli tool whose main purpose is to print some information to stdout then saystatus saying status to stdout is a bit troublesome So if this sounds sensible to the library maintainers then I plan to make a PR for such change changing output of saystatus to stderr Any opinionsuggestions or reason this is not good idea