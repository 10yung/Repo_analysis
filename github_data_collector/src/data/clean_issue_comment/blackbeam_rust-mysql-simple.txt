if you run in createinput arg select from table id if you run in prepareinput arg select from table id here Added an extra backslashIt shouldnt have happened I expect the following code to work rust fn preparestatementsconn mut mysqlConn mysqlStmt mysqlStmt let a connpreparefoounwrap let b connpreparebarunwrap a b but this leads to the following error message error E cannot borrow conn as mutable more than once at a time srcmainrs fn preparestatementsconn mut mysqlConn mysqlStmt mysqlStmt lets call the lifetime of this reference let a connprepareSELECT id name FROM usersunwrap first mutable borrow occurs here let b connprepareSELECT id name FROM postsunwrap second mutable borrow occurs here a b returning this value requires that conn is borrowed for Yes Im aware of the statement caching in Connprepexec but this requires to have a SQL query string This implies that one need to actual build that string in a dynamic environment but sometimes the mapping from parameters to statement could be done without building the query In such cases it would be helpful to have a way that would allow to build our own statement cache on top of this crate Hi I ran the example on the The temporary table can be created and values can be inserted However the select query will pop the error MySqlError ERROR S Table mysqlpayment doesnt exist srclibcoreresultrs If I change the Temporary table to just table everything works fine I am not sure whether this has to do with the connection pool The Temporary table has to live in a session and all the execution with the table has to go through a single connection As a new rust users cargo clippy is useful for looking at idiomatic code Cargo clippy crashes on latest version Hio During testing of my application I noticed that I was getting the following error message thread accounttestscreatetestspasswordempty panicked at called Resultunwrap on an Err value DriverError Packet out of sync srclibcoreresultrs The reason for it during testing my applications opens as many mysql connections as there are threads and I assume that these connections are not properly closed after the test has finished So after executing my tests a few times I get this error message for some random tests Taking a look at my DB log files I get this message Warning Aborted connection to db unconnected user unauthenticated host connecting host Too many connections When increasing the maximum connections using SET GLOBAL maxconnections The error is gone So your error message should read something along these lines Cheers Hi thank you for your work is it possible to derive Stmt struct from Clone i was thinking about preparing all my sql statements at program start and then just keepingusing them for all future database interaction as soon as i start working with threads for example for a webapi server it gets needed to do a clone i did clone with pool and there it works could you add this or am i completely wrong in trying to do this thanks again I have a query with rows iterating result takes ms when compiled with release and ms when not optimized rust let result connquerysql let dbstarttime Instantnow for mut rowres in result nothing printlnDB aggregate complete ms dbstarttimeelapsedasmillis Row look like this Ok Row id Bytes txnref Bytes a c status Bytes VERIFIED amount Bytes alreadyverified Null Is it expected logintime is datetime in mysql rust let logintime rowtakelogintimeunwrap Where What type should I fill in rust let result poolprepexec sql unwrap let querydate VecPassword result maprow let userid locktime mysqlfromrowrowunwrap let pwd Password userid userid locktime locktime return pwd collect When I run I will report an error thread actixrtworker panicked at Couldnt convert Row userid Bytes locktime Date to type T T see FromRow documentation rootcargoregistrysrcmirrorsustceducn ef e cd fb b mysqlcommon srcrowconvertrs note Run with RUSTBACKTRACE environment variable to display a backtrace How can I get this Datetime data Hi Im using this plugin And I can access MySQL from command line However using this code rust mysqlPoolnewmysqluserlocalhostdbunwrap will raise this error shell MySqlError ERROR Access denied for user userlocalhost Edited It seems the library doesnt support this use case yet So I applied another plugin mysqlnativepassword for that user and it worked It would be great if you consider adding support for unixsocket plugin Thank you 