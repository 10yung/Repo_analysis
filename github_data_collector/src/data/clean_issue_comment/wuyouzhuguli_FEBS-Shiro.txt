fix ENGINEINNODB Problem description For finding roles via the automatic paged query findRolePage a query counting the total number of rows findRolePage retrieves will be issued sql SELECT COUNT FROM SELECT rroleid roleId rrolename roleName rremark rcreatetime createTime rmodifytime modifyTime GROUPCONCATrmmenuid menuIds FROM trole r LEFT JOIN trolemenu rm ON rroleid rmroleid WHERE GROUP BY rroleid TOTAL However since the query use trole to left join other tables and finally group by the primary key roleid the final result is the same to query select count from trole without any join operator or grouping So the counting query has a chance to be optimized Steps to reproduce Issuing a HTTP get request to the endpoint rolelist will trigger the generation of the above count query Related screenshot Problem description For finding users detail via the automatic paged query findUserDetailPage a query counting the total number of rows findUserDetailSql retrieves will be issued sql SELECT COUNT FROM SELECT uuserid userId uusername uemail umobile ustatus ucreatetime createTime ussex sex udeptid deptId ulastlogintime lastLoginTime umodifytime modifyTime udescription uavatar ddeptname deptName GROUPCONCATrroleid roleId GROUPCONCATrROLENAME roleName FROM tuser u LEFT JOIN tdept d ON udeptid ddeptid LEFT JOIN tuserrole ur ON uuserid uruserid LEFT JOIN trole r ON rroleid urroleid WHERE GROUP BY uusername uuserid uemail umobile ustatus ucreatetime ussex udeptid ulastlogintime umodifytime udescription uavatar TOTAL However since the query use tuser to left join other tables and finally group by the primary key userid the final result is the same to query select count from tuser without any join operator or grouping So the counting query has a chance to be optimized Steps to reproduce Issuing a HTTP get request to the endpoint userlist will trigger the generation of the above count query Related screenshot emoji SQL Mysql utf m utf pichd img width altXnip src issue by MrBird tab laytitle name laytitle tab laytitle formSelects issue by MrBird 