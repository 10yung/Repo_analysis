Builds upon so that any Iterable is allowed as a dependsOn argument Suggested by bsideup Hi I found that when I use or as mountablefile with host path to regular path docker is unable to use this files during build they actually are transferred to docker in TAR payload As you can see I have created PR to check if host path is file and name is invalid to throw exception I found this glitch when I was assuming that withFileFromFile new Filepathtofiletxt will safe file to current working directory with name filetxt or in path pathtofiletxt Please check PR if it makes sense Thx Ivos When starting a MySQLContainer and using withInitScript the SQL statements in the script are not run faithfully because testcontainersjava is using its own SQL parsing logic in order to extract individual SQL statements from the script In particular the issue I am seeing is that the character is not recognized as an inline comment character see therefore the first statement after an inline comment is combined with the comment A single line string including the whole inline comments plus the following statement without any line breaks is executed against the database And of course is ignored as being a comment This is also problematicconfusing because from testcontainers perspective the statement executed successfully theres no way for it to fail because from the databases perspective its a comment Therefore you might only notice this issue occurring if it causes a referential integrity error in a later statement or if you have some other mechanism which allows you to notice the absence of the statements effect on your database Otherwise it fails silently Ideasalternatives Remove adhoc SQL parsing logic from the code base entirely and rely on mounting files to dockerentrypointinitdbd for MySQL for example This library will no longer need to maintain its own SQL parsing logic which may yet be the source of more undiscovered bugs Update ScriptUtils to support for inline comments Add javadoc to withInitScript right now it has none and other relevant documentation and mention that for comments is not supported Depend on a wellmaintained open source implementation of SQL parsing which works properly if one exists Bumps orgspringframeworkboot from RELEASE to RELEASE details summaryRelease notessummary pemSourced from a href releasesaemp blockquote h v RELEASEh h star New Featuresh ul liAvoid Not Acceptable for error pages a href liIgnore trailing slash by default when recording web metrics a href ul h beetle Bug Fixesh ul liFat jars do not tolerate entries with an invalid modification date of a href liMake equality checks defensive to null reference a href liPoolingDataSourceBean getParentLogger throws StackOverflowError a href liFailure analyser for a missing validation provider does not kick in when using the latest Jakarta Validation API a href liRejected value is null when configuration property fails validation a href liProfile with comma in name does not work in tests a href liSpring Boots antlib references a properties file that is no longer packaged in its jar a href liIncorrect target type with wildcard List a href liSince Jetty error handler cannot be overridden a href liUse RBAC credentials for Couchbase cluster info a href liHypermediaAutoConfiguration hinges on Spring MVC a href liMicrometers Dynatrace group property cannot be configured via application properties a href liMetricsWebFilter assigns UNKNOWN outcome to OK responses a href liDisable Jackson SerializationFeatureWRITEDURATIONSASTIMESTAMPS by default a href liUnset forward header strategy in kubernetes environment eats XForwarded headers in Spring Boot a href liDiagnostics are poor when using codeConfigurationPropertiesScancode and codeConstructorBindingcode on a Kotlin data class without kotlinreflect a href liNoSuchMethodError when deploying to Tomcat before and Tomcat before a href liNonpublic property in Saml RelyingPartyProperties Registration class a href liConfiguration properties that use the builder pattern are not recognized when used with a generic a href liSupport commas embedded in command line arguments from Maven plugin a href ul h notebookwithdecorativecover Documentationh ul liRemove duplicate note in Hazelcast section of reference guide a href liFix links to external types in javadoc a href liLinks to apply method in AutoTimers javadoc are broken a href liSpring MVC autoconfig doc update a href liAdd reference to OptaPlanner starter a href liOutdated reference in ArtemisConfigurationCustomizer javadoc a href liPolish note about handling of caches that are created onthefly a href liFix typo in BindHandleronFinish javadoc a href liAdapt file rotation documentation to loggings maxHistory default change to days a href liClarify documentation of repackage mojos attach property a href liClarify nonpublic nature of Boots own a href classes and multiDataSource example a href liClarify the behaviour of a href with respect to onthefly cache creation and cache metrics a href liAdd JMX note for Kafka consumer metrics a href liFix typo on ConditionMessage a href liImprove quotRunning Behind a Frontend Proxy Server quot documentation a href liLink consistently to Tomcat docs a href liFix link to Vaadin Spring Boot starter a href liImprove documentation coverage for Spring Batch a href ul trtable truncated blockquote details details summaryCommitssummary ul lia href Release v RELEASEli lia href Upgrade to Micrometer li lia href Merge branch x into xli lia href Next development version v BUILDSNAPSHOTli lia href Allow Boots Jetty error handler to be overriddenli lia href Revert quotBuild against Micrometer snapshots quotli lia href Merge branch x into xli lia href Revert quotStart building against Micrometer snapshots quotli lia href Merge branch x into xli lia href Fix file handle leak in JarFileTestsli liAdditional commits viewable in a href viewali ul details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart If all status checks pass Dependabot will automatically merge this pull request dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot close will close this PR and stop Dependabot recreating it You can achieve the same result by closing it manually dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme Additionally you can set the following in the dependabotconfigyml file in this repo Update frequency Automerge options neverpatchminor and devruntime dependencies Outofrange updates receive only lockfile updates if desired Security updates receive only security updates if desired details I want to set my custom value to OSMACTMPDIR variable In my company we changed path to jna from default tmp to custom databuilds Hi guys In order to be able to analyse issues related to TC in our CI we enable TRACE logging And all our logs contain the following which I dont believe is an issue Would it be possible to not display the stack trace when the roottestcontainersproperties file is not found Just a message would be enough no You could log the root cause if you really need to this is what we do in XWiki for warnings we keep stack traces for errors see if youre interested WDTY does that make sense to you main TRACE otuTestcontainersConfiguration Testcontainers config override was found on fileroottestcontainersproperties but the file was not found javaioFileNotFoundException roottestcontainersproperties No such file or directory at javaioFileInputStreamopen Native Method at javaioFileInputStreamopenFileInputStreamjava at javaioFileInputStreaminitFileInputStreamjava at javaioFileInputStreaminitFileInputStreamjava at sunnetwwwprotocolfileFileURLConnectionconnectFileURLConnectionjava at sunnetwwwprotocolfileFileURLConnectiongetInputStreamFileURLConnectionjava at javanetURLopenStreamURLjava at orgtestcontainersutilityTestcontainersConfigurationreadPropertiesTestcontainersConfigurationjava at orgtestcontainersutilityTestcontainersConfigurationloadConfigurationTestcontainersConfigurationjava at orgtestcontainersutilityTestcontainersConfigurationgetInstanceTestcontainersConfigurationjava at orgtestcontainerscontainersPortForwardingContainercreateSSHSessionPortForwardingContainerjava at orgtestcontainerscontainersPortForwardingContainergetSshConnectionPortForwardingContainerjava at orgtestcontainerscontainersPortForwardingContainerexposeHostPortPortForwardingContainerjava at orgtestcontainerscontainersPortForwardingContainerexposeHostPortPortForwardingContainerjava at orgtestcontainersTestcontainersexposeHostPortsTestcontainersjava at orgxwikitestdockerinternaljunit XWikiDockerExtensionbeforeAllXWikiDockerExtensionjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorlambdainvokeBeforeAllCallbacks ClassBasedTestDescriptorjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorinvokeBeforeAllCallbacksClassBasedTestDescriptorjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorbeforeClassBasedTestDescriptorjava at orgjunitjupiterenginedescriptorClassBasedTestDescriptorbeforeClassBasedTestDescriptorjava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodearoundNodejava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteRecursivelyNodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteNodeTestTaskjava at javautilArrayListforEachArrayListjava at orgjunitplatformenginesupporthierarchicalSameThreadHierarchicalTestExecutorServiceinvokeAllSameThreadHierarchicalTestExecutorServicejava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodearoundNodejava at orgjunitplatformenginesupporthierarchicalNodeTestTasklambdaexecuteRecursively NodeTestTaskjava at orgjunitplatformenginesupporthierarchicalThrowableCollectorexecuteThrowableCollectorjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteRecursivelyNodeTestTaskjava at orgjunitplatformenginesupporthierarchicalNodeTestTaskexecuteNodeTestTaskjava at orgjunitplatformenginesupporthierarchicalSameThreadHierarchicalTestExecutorServicesubmitSameThreadHierarchicalTestExecutorServicejava at orgjunitplatformenginesupporthierarchicalHierarchicalTestExecutorexecuteHierarchicalTestExecutorjava at orgjunitplatformenginesupporthierarchicalHierarchicalTestEngineexecuteHierarchicalTestEnginejava at orgjunitplatformlaunchercoreDefaultLauncherexecuteDefaultLauncherjava at orgjunitplatformlaunchercoreDefaultLauncherlambdaexecute DefaultLauncherjava at orgjunitplatformlaunchercoreDefaultLauncherwithInterceptedStreamsDefaultLauncherjava at orgjunitplatformlaunchercoreDefaultLauncherexecuteDefaultLauncherjava at orgjunitplatformlaunchercoreDefaultLauncherexecuteDefaultLauncherjava at orgapachemavensurefirejunitplatformJUnitPlatformProviderinvokeAllTestsJUnitPlatformProviderjava at orgapachemavensurefirejunitplatformJUnitPlatformProviderinvokeJUnitPlatformProviderjava at orgapachemavensurefirebooterForkedBooterinvokeProviderInSameClassLoaderForkedBooterjava at orgapachemavensurefirebooterForkedBooterrunSuitesInProcessForkedBooterjava at orgapachemavensurefirebooterForkedBooterexecuteForkedBooterjava at orgapachemavensurefirebooterForkedBootermainForkedBooterjava Thanks a lot Vincent list of them is provided via withServices Consider code StartablesdeepStartasListslowContainer anotherSlowContainer containerQuicklyFailingToStartget the call should fail fast currently in v it hangs T INFO testcontainerslifecycle myimage Creating container for image myimage T INFO testcontainerslifecycle myimage Creating container for image myimage T INFO testcontainerslifecycle myimage Creating container for image myimage T INFO testcontainerslifecycle myimage Starting container with ID b fba e f fefb ec df bbba e d be aa T INFO testcontainerslifecycle myimage Starting container with ID de b c a f ec c cd ecdaf e b bd a e T INFO testcontainerslifecycle myimage Starting container with ID f c b aad dc c f ee b e c bd ce d d fec f T ERROR testcontainerslifecycle myimage Could not start container javalangIllegalStateException Container did not start correctly at orgtestcontainerscontainersGenericContainertryStartGenericContainerjava at orgtestcontainerscontainersGenericContainerlambdadoStart GenericContainerjava at orgrnorthducttapeunreliablesUnreliablesretryUntilSuccessUnreliablesjava at orgtestcontainerscontainersGenericContainerdoStartGenericContainerjava at orgtestcontainerscontainersGenericContainerstartGenericContainerjava at javautilconcurrentCompletableFutureuniRunCompletableFuturejava at javautilconcurrentCompletableFutureUniRuntryFireCompletableFuturejava at javautilconcurrentCompletableFutureCompletionrunCompletableFuturejava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava T ERROR testcontainerslifecycle myimage Log output from the failed container false startup continues Note Im using as a workaround for Apparently with builtin wait strategy the stacktrace might not get printed When using regular containers the image name is usually sufficient for identifying which container given log line is about However when using GenericContainer instances with same image its no longer so T INFO testcontainerslifecycle centos Creating container for image centos T INFO testcontainerslifecycle centos Creating container for image centos T INFO testcontainerslifecycle centos Creating container for image centos T ERROR testcontainerslifecycle centos Could not start container javalangIllegalStateException Container exited with code at orgtestcontainerscontainersGenericContainertryStartGenericContainerjava at orgtestcontainerscontainersGenericContainerlambdadoStart GenericContainerjava at orgrnorthducttapeunreliablesUnreliablesretryUntilSuccessUnreliablesjava at orgtestcontainerscontainersGenericContainerdoStartGenericContainerjava at orgtestcontainerscontainersGenericContainerstartGenericContainerjava at javautilconcurrentCompletableFutureuniRunCompletableFuturejava at javautilconcurrentCompletableFutureUniRuntryFireCompletableFuturejava at javautilconcurrentCompletableFutureCompletionrunCompletableFuturejava at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava at javalangThreadrunThreadjava Neither the log line nor the exception provide information which container failed 