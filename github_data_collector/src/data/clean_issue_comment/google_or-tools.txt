What version of ORtools and what language are you using Version v Language Python Which solver are you using eg CPSAT Routing Solver GLOP BOP Gurobi MIP with SCIP What operating system Linux Windows and version macOS Catalina What did you do Following instructions from I downloaded SCIP tried versions and compiled using the make command as in instructions I added the path to the SCIP install folder to Makefilelocal in ortools When running make python I get the following error clang error no such file or directory scipoptsuite installdirliblibsoplexpica When looking in the install dir for SCIP I can only find libsoplexa libsoplexpica is not there Have I missed some step or is the link to the libsoplexpica file wrong Currently the RELAXIV algorithm is considered the most efficient I suggest using the following project to incorporate new ideas Some convenience methods in the java interface query the domain of an IntVar remove constraint in CpModel remove IntVarIntervalVar in CpModel The domain query would be really nice What version of ORtools and what language are you using Version Language Python Hello so i am trying to make a scenario such as to limit the number of nodes to be visited by the same vehicle after a certain node I control the problem with a timedimension as well but its irrelevant here so for instance if i choose node and have a total number of nodes then node can be anywhere in the route as long as the max number of nodes to be visited after it is three how i thought i can do it is to make a capacity for vehicles and let each node has a load of when node is passed then it resets the slackvar to that way it the vehicle can only take three more vehicles only python capacitydimension routingGetDimensionOrDieCapacity capacitydimensionSlackVar SetValue what can i do thx Issue Once calling the method RoutingModelReadAssignmentFromRoutes The method RoutingModelSolveFromAssignmentWithParameters or RoutingModelSolveWithParameters ignore the SearchParameter argument without any warning ie The log search parameter is ignored and does not print anything The solver seems to fall back to a greedy descent instead of using the specified metaheuristic I checked it by using a solution obtained by a greedy descent without initial solution This solution is close to the best one obtained when using the GLS metaheuristic without initial solution Yet the solver can not find it because it requires to degrade the solution which is impossible with a greedy descent Test Environment OR tools version OS Ubuntu using binaries Test samples Here is the tested code modified version of the CVRP tutorial code cpp START program START import include ortoolsconstraintsolverroutingh include ortoolsconstraintsolverroutingenumspbh include ortoolsconstraintsolverroutingindexmanagerh include ortoolsconstraintsolverroutingparametersh include iterator END import namespace operationsresearch START datamodel struct DataModel const stdvectorstdvectorint distancematrix START demandscapacities const stdvectorint demands const stdvectorint vehiclecapacities END demandscapacities const int numvehicles const RoutingIndexManagerNodeIndex depot END datamodel START solutionprinter brief Print the solution param in data Data of the problem param in manager Index manager used param in routing Routing solver used param in solution Solution found by the solver void PrintSolutionconst DataModel data const RoutingIndexManager manager const RoutingModel routing const Assignment solution int totaldistance int totalload for int vehicleid vehicleid datanumvehicles vehicleid int index routingStartvehicleid LOGINFO Route for Vehicle vehicleid int routedistance int routeload stdstringstream route while routingIsEndindex false int nodeindex managerIndexToNodeindexvalue routeload datademands nodeindex route nodeindex Load routeload int previousindex index index solutionValueroutingNextVarindex routedistance routingGetArcCostForVehiclepreviousindex index int vehicleid LOGINFO routestr managerIndexToNodeindexvalue LOGINFO Distance of the route routedistance m LOGINFO Load of the route routeload totaldistance routedistance totalload routeload LOGINFO Total distance of all routes totaldistance m LOGINFO Total load of all routes totalload LOGINFO LOGINFO Advanced usage LOGINFO Problem solved in routingsolverwalltime ms END solutionprinter void VrpCapacity constexpr bool useinitialsolution true Instantiate the data problem START data DataModel data END data Create Routing Index Manager START indexmanager RoutingIndexManager managerdatadistancematrixsize datanumvehicles datadepot END indexmanager Create Routing Model START routingmodel RoutingModel routingmanager END routingmodel Create and register a transit callback START transitcallback const int transitcallbackindex routingRegisterTransitCallback data manager int fromindex int toindex int Convert from routing variable Index to distance matrix NodeIndex int fromnode managerIndexToNodefromindexvalue int tonode managerIndexToNodetoindexvalue return datadistancematrix fromnode tonode END transitcallback Define cost of each arc START arccost routingSetArcCostEvaluatorOfAllVehiclestransitcallbackindex END arccost Add Capacity constraint START capacityconstraint const int demandcallbackindex routingRegisterUnaryTransitCallback data manager int fromindex int Convert from routing variable Index to demand NodeIndex int fromnode managerIndexToNodefromindexvalue return datademands fromnode routingAddDimensionWithVehicleCapacity demandcallbackindex transit callback index int null capacity slack datavehiclecapacities vehicle maximum capacities true start cumul to zero Capacity END capacityconstraint Setting first solution heuristic START parameters RoutingSearchParameters searchParameters DefaultRoutingSearchParameters searchParameterssetlocalsearchmetaheuristic LocalSearchMetaheuristicGUIDEDLOCALSEARCH googleprotobufDuration timelimit new googleprotobufDuration timelimitsetseconds searchParameterssetallocatedtimelimittimelimit searchParameterssetlogsearchtrue END parameters Solve the problem START solve const Assignment solution nullptr if useinitialsolution Start with an initial solution START init stdvectorstdvectorint nodesolution Uncomment to start with a solution close to the best one obtained from the GLS stdvectorstdvectorint nodesolution const Assignment initialsolution routingReadAssignmentFromRoutesnodesolution true LOGINFO Initial solution PrintSolutiondata manager routing initialsolution START init solution routingSolveFromAssignmentWithParametersinitialsolution searchParameters else solution routingSolveWithParameterssearchParameters Print solution on console START printsolution if solution PrintSolutiondata manager routing solution END printsolution namespace operationsresearch int mainint argc char argv operationsresearchVrpCapacity return EXITSUCCESS END program python Set default search parameters searchparameters pywrapcpDefaultRoutingSearchParameters searchparameterssolutionlimit searchparameterslocalsearchmetaheuristic routingenumspb LocalSearchMetaheuristicGREEDYDESCENT routingenumspb LocalSearchMetaheuristicSIMULATEDANNEALING searchparameterslogsearch True Using different Local search metaheuristics on the ortools vrp code results in the same solution every timeis there something I am doing wrong or dont understand about ortools Crash Logs A fatal error has been detected by the Java Runtime Environment SIGSEGV xb at pc x b cb pid tid x JRE version JavaTM SE Runtime Environment b build b Java VM Java HotSpotTM Bit Server VM b mixed mode bsdamd compressed oops Problematic frame C libjniortoolsjnilib x fcb ZN JNIEnv DeleteGlobalRefEP jobject x Failed to write core dump Core dumps have been disabled To enable core dumping try ulimit c unlimited before starting Java again If you would like to submit a bug report please visit The crash happened outside the Java Virtual Machine in native code See problematic frame for where to report the bug T H R E A D Current thread x fc JavaThread Finalizer daemon threadinnative id stack x a x a siginfo sisigno SIGSEGV sicode SEGVMAPERR siaddr x c Registers RAX x RBX x fc e RCX x RDX x b RSP x RBP x RSI x fc c e RDI x fc e f R x R x fc e b a R x R x R x fc d ca R x fc d ca f R x fc e R x fc e RIP x b cb EFLAGS x ERR x TRAPNO x e Top of Stack sp x x ba d x ba x c bf fc e x ba e x c bf fc e b x be e x c bf fc e x b c e x d x a fc d ca fc d ca f x b fc d caa c x c x d x e c x f x x fc d ca x a f x e fc x b x b a f x c d x b d x a f x e a x a a f x b e x c c bd x d ad e d d x e fc d ca ade b x f c e ade b x f fd Instructions pc x b cb x b c b d ff e e f f x b ca f f e b x b cb b b d ff e e f f x b cc f f e b Register to memory mapping RAX x is an unknown value RBX x fc e is an unknown value RCX x is an unknown value RDX x b is an unknown value RSP x is pointing into the stack for thread x fc RBP x is pointing into the stack for thread x fc RSI x fc c e is a global jni handle RDI x fc e f is an unknown value R x is an unknown value R x fc e b a is an unknown value R x is an unknown value R x is an unknown value R x fc d ca is an unknown value R x fc d ca f is an unknown value R x fc e is an unknown value R x fc e is an unknown value Stack x a x a sp x free space k Native frames Jcompiled Java code jinterpreted VvVM code Cnative code C libjniortoolsjnilib x fcb ZN JNIEnv DeleteGlobalRefEP jobject x C libjniortoolsjnilib x d ZN GlobalRefGuardD Ev x C libjniortoolsjnilib x ZNSt sharedcount releasesharedEv x C libjniortoolsjnilib x e ZNSt sharedweakcount releasesharedEv xe C libjniortoolsjnilib xab e ZNSt function funcIZ JavacomgoogleortoolsconstraintsolvermainJNIRoutingModel registerTransitCallbackE NS allocatorIS EEFxxxEE destroydeallocateEv x C libortoolsdylib x de e ZN operationsresearch RoutingModelD Ev x f C libjniortoolsjnilib x JavacomgoogleortoolsconstraintsolvermainJNIdelete RoutingModel x j comgoogleortoolsconstraintsolvermainJNIdeleteRoutingModelJV j comgoogleortoolsconstraintsolverRoutingModeldeleteV j comgoogleortoolsconstraintsolverRoutingModelfinalizeV J C javalangrefFinalizeraccess LjavalangrefFinalizerLsunmiscJavaLangAccessV bytes x c ef x c ed x f j javalangrefFinalizerFinalizerThreadrunV v StubRoutinescallstub V libjvmdylib x f b a V libjvmdylib x f de V libjvmdylib x f a V libjvmdylib x bdb V libjvmdylib x a f V libjvmdylib x a V libjvmdylib x f f C libsystempthreaddylib x d pthreadbody x e C libsystempthreaddylib x a pthreadstart x C libsystempthreaddylib x threadstart xd C x Java frames Jcompiled Java code jinterpreted VvVM code j comgoogleortoolsconstraintsolvermainJNIdeleteRoutingModelJV j comgoogleortoolsconstraintsolverRoutingModeldeleteV j comgoogleortoolsconstraintsolverRoutingModelfinalizeV J C javalangrefFinalizeraccess LjavalangrefFinalizerLsunmiscJavaLangAccessV bytes x c ef x c ed x f j javalangrefFinalizerFinalizerThreadrunV v StubRoutinescallstub Code Snippet private fun orToolsSolverdataModel DataModel HashMapInt ArrayListLong val resourceConstraints ResourceConstraints get val dimensionConstraints DimensionConstraints get val penaltiesConstraints PenaltiesAndDroppingVisitConstraints get val dd dataModeltimeDistancePairfirst val manager RoutingIndexManagerddsize dataModelmVehicleListsize dataModeldepot val routing RoutingModelmanager val transitCallbackIndex routingregisterTransitCallback fromIndex Long toIndex Long Convert from routing variable Index to user NodeIndex val fromNode managerindexToNodefromIndex val toNode managerindexToNodetoIndex dd fromNode toNode routingsetArcCostEvaluatorOfAllVehiclestransitCallbackIndex val demandCallbackIndex routingregisterUnaryTransitCallback fromIndex Long Convert from routing variable Index to user NodeIndex val fromNode managerindexToNodefromIndex dataModeldemands fromNode routingaddDimensionWithVehicleCapacity demandCallbackIndex null capacity slack dataModelvehicleCapacitiestoLongArray vehicle maximum capacities true start cumul to zero Capacity resourceConstraintsapplyResourceConstraintdataModel manager routing dimensionConstraintsapplyDimensionConstraintdataModel manager routing penaltiesConstraintsapplyPenaltyConstraintdataModel manager routing val searchParameters maindefaultRoutingSearchParameters toBuilder setFirstSolutionStrategyFirstSolutionStrategyValuePATHCHEAPESTARC build val solution routingsolveWithParameterssearchParameters val ret returnResultrouting manager solution dataModelmVehicleListsize dataModeldemands return ret ResouceConstraints File private fun applyResourceConstraintdataModel DataModel manager RoutingIndexManager routing RoutingModel val map ConstraintsUtilityprepareCustomerToVehiclesMapdataModel masterDataDao dataModelnodeToAllowedDriversMap map for index in until dataModelcustomerMapsize here to bypass depot ie there is no restriction on depot val pickupIndex managernodeToIndexindex routingsetAllowedVehiclesForIndexdataModelnodeToAllowedDriversMap index pickupIndex Dimension Constraint File private fun applyDimensionConstraint dataModel DataModel manager RoutingIndexManager routing RoutingModel val maxCeilingAmount dataModelceilingAmountmax val vehicleNumber dataModelmVehicleListsize for i in until vehicleNumber val earnedAmount maxCeilingAmount dataModelceilingAmount i routingsetFixedCostOfVehicleearnedAmount i Penalty Constraints File private fun addPenaltyConstraintsdataModel DataModel manager RoutingIndexManager routing RoutingModel val distMat dataModeltimeDistancePairfirst val noOfNodes distMatsize including depot var maxNodeDistance L distMatforEach val max itmax maxNodeDistance if maxNodeDistance max max else maxNodeDistance val basePenalty getbasePenalitydataModel maxNodeDistance noOfNodes for i in until noOfNodes val penalty basePenalty dataModelnodePriority i maxNodeDistance dataModelpenaltyaddpenalty routingaddDisjunctionlongArrayOfmanagernodeToIndexi penalty Hi I would like to ask which local search strategy the implementation of guided local search is using Fast local search or greedy local search If greedy local search is used is there any way to enable fast local search Im using ortools v Thank you Im using the routing library in order to solve some VRPs Im trying to use SolverReseedExpecting to see different results in the search log but every time i get exactly the same log The results seems to be deterministic Is there a flag or any other specific configuration that i need to do using or tools bestinsertion C and guided local search if you need more info i will be more than happy to help related issues Hello I need function SetSoftSpanUpperBoundForVehicle to penalize overdue time for each vehicle The thing is that each vehicle has different limit of time so I really need this function However it seems such function exists only in CC implementation routingh line 