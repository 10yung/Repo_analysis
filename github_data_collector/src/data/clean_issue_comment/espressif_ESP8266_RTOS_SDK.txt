If your issue is a general question starts similar to How do I or is related to rd party development kitslibs please discuss this on our community forum at bbsespressifcom instead Environment Development Kit esp chip IDF version Development Env Make Operating System Ubuntu Power Supply external V Problem Description I need to disable the wifi logs I am getting I wifi state b I wifi state I wifi state I wifi pm start type Is there any way to remove these logs smartconfig smartconfigstart vTaskDelay SDK smartconfig Environment Development Kit IDF version git revparse short HEAD to get the commit id da Development Env vscode Operating System Windows Power Supply Battery Problem Description The drive wake up from lightsleepeven if I call espwificonnectcant connnect wifi anymore I ping IP of the drivecant find drive Expected Behavior the device to go into lightsleep periodicallyand can canconnect wifi Actual Behavior the device cant connect wifi anymore Code to reproduce this issue cpp include driverrtcioh include driveruarth include drivergpioh include espeventlooph include esplogh include espsleeph include esptimerh include espwifih include freertosFreeRTOSh include freertoseventgroupsh include freertostaskh include nvsflashh include rometssysh include stringh include stdioh include stdlibh include stringh include systimeh include timeh set the ssid and password via idfpy menuconfig define EXAMPLEESPWIFISSID define EXAMPLEESPWIFIPASS FreeRTOS event group to signal when we are connected static EventGroupHandlet wifieventgroup static const char TAG sleepwifi Most development boards have boot button attached to GPIO You can also change this to another pin define BUTTONGPIONUMDEFAULT Boot button on GPIO is active low define BUTTONWAKEUPLEVELDEFAULT extern uint t espsleepgetwakeupcausevoid static esperrt eventhandlervoid ctx systemeventt event For accessing reason codes in case of disconnection systemeventinfot info eventeventinfo switch eventeventid case SYSTEMEVENTSTASTART espwificonnect break case SYSTEMEVENTSTAGOTIP ESPLOGITAG got ips ip addrntoa eventeventinfogotipipinfoip break case SYSTEMEVENTAPSTACONNECTED ESPLOGITAG station MACSTR join AIDd MAC STReventeventinfostaconnectedmac eventeventinfostaconnectedaid break case SYSTEMEVENTAPSTADISCONNECTED ESPLOGITAG station MACSTR leave AIDd MAC STReventeventinfostadisconnectedmac eventeventinfostadisconnectedaid break case SYSTEMEVENTSTADISCONNECTED ESPLOGETAG Disconnect reason d infodisconnectedreason if infodisconnectedreason WIFIREASONBASICRATENOTSUPPORT Switch to bgn mode espwifisetprotocolESPIFWIFISTA WIFIPROTOCAL B WIFIPROTOCAL G WIFIPROTOCAL N espwificonnect break default break return ESPOK void appmainvoid int sleeptime wifieventgroup xEventGroupCreate tcpipadapterinit ESPERRORCHECKespeventloopiniteventhandler NULL wifiinitconfigt cfg WIFIINITCONFIGDEFAULT ESPERRORCHECKespwifiinit cfg wificonfigt wificonfig sta ssid EXAMPLEESPWIFISSID password EXAMPLEESPWIFIPASS ESPERRORCHECKespwifisetmodeWIFIMODESTA ESPERRORCHECKespwifisetconfigESPIFWIFISTA wificonfig ESPERRORCHECKespwifistart Configure the button GPIO as input enable wakeup const int buttongpionum BUTTONGPIONUMDEFAULT const int wakeuplevel BUTTONWAKEUPLEVELDEFAULT gpioconfigt config pinbitmask ULL buttongpionum mode GPIOMODEINPUT ESPERRORCHECKgpioconfig config gpiowakeupenablebuttongpionum wakeuplevel GPIOINTRLOWLEVEL GPIOINTRHIGHLEVEL configpinbitmask ULL configmode GPIOMODEOUTPUT ESPERRORCHECKgpioconfig config gpiosetlevel ULL vTaskDelaypdMSTOTICKS while true Wake up in seconds or when button is pressed espwififpmdosleep espwififpmsetsleeptypeWIFILIGHTSLEEPT espsleepenabletimerwakeup espsleepdisablewakeupsourceESPSLEEPWAKEUPGPIO espsleepenablegpiowakeup Wait until GPIO goes high if gpiogetlevelbuttongpionum wakeuplevel printfWaiting for GPIOd to go high n buttongpionum do vTaskDelaypdMSTOTICKS while gpiogetlevelbuttongpionum wakeuplevel printfEntering light sleep r n To make sure the complete line is printed before entering sleep mode need to wait until UART TX FIFO is empty uartwaittxidlepollingCONFIGESPCONSOLEUARTNUM Get timestamp before entering sleep int t tbeforeus esptimergettime Enter sleep mode printfwill esplightsleepstart r n fflushstdout sleeptime printfwill SLEEPd r n sleeptime esplightsleepstart printfwake upd r n sleeptime espwifisetmodeWIFIMODESTA set station mode espwificonnect connect to AP printftbeforeuslld ms r n tbeforeus Execution continues here after wakeup vTaskDelaypdMSTOTICKS Get timestamp after waking up from sleep int t tafterus esptimergettime Determine wake up reason const char wakeupreason wakeupreason timer switch espsleepgetwakeupcause case ESPSLEEPWAKEUPTIMER wakeupreason timer break case ESPSLEEPWAKEUPGPIO wakeupreason pin break default wakeupreason other break printfReturned from light sleep reason s tlld ms slept for lld ms r n wakeupreason tafterus tafterus tbeforeus Debug Logs thank your for help esp mqtt s WiFi k ssid WiFi esp rtossdk espmqtttcp demo mqtt server HEAPTRACELEAKS s wifi I wifi state b D espalinkdatatransport total free heap size I wifi state E MQTTEXAMPLE Disconnect reason D espalinkdatatransport posthandle free heap size B D espalinkdatatransport readhandle free heap size B I heaptrace mem x fffd d size caller file esfbufc line I heaptrace mem x fffd c size caller file esfbufc line I heaptrace mem x fffd size caller file esfbufc line ssid Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size Line D espalinkdatatransport total free heap size wifi ssid ESPLOGDTAG get Bluefi confirm ESPERRORCHECK espwifigetconfigESPIFWIFISTA wificonfig rwlen sizeofwificonfigstassid ESPERRORCHECKgetnvsstrssid charwificonfigstassid rwlen rwlen sizeofwificonfigstapassword ESPERRORCHECKgetnvsstrpasswd charwificonfigstapassword rwlen ESPERRORCHECK espwifidisconnect ESPERRORCHECK espwifisetconfigESPIFWIFISTA wificonfig ESPERRORCHECK espwificonnect SerialCOM serialcom log Using the latest version of the SDK I wanted to ask why Secure Boot and other Security Options are missing when the target platform is selected as ESP Is there a way to manually perform these operations Or do I have to enable something in make menuconfig to be able to see these options In case CMAKECCOMPILER and CMAKECXXCOMPILER variables are set we should not override them by default but rather check if they point to a valid compiler In case they do leave them be Is is the use case of CLion IDE when user defines a toolchain selects it in build configuration that in turn generates CMAKECCOMPILER and CMAKECXXCOMPILER variables basing on that but IDF scripts are overriding it by a hardcoded value Hi In SDK v and I think we cant use flash space after x Mb for program The bootloader at boot loaderutilityc throws error in case if you image is stored after x However I found that we can use nd parameter of CacheReadEnable to access space after x Ive adde following code define ESPCACHE ADDRMAX x else if imagedatastartaddr ESPCACHE ADDRMAX Map m m space imagedatastartaddr imagedataimagelen ESPCACHE ADDRMAX map bank bank CacheReadEnablemap bank SOCCACHESIZE I need to use more flash for my OTA update scenario Modified code seems to be working good Does this modification makes sense May I have some issue with it Why it was not designed in this way from the very begging Do you want me to create a pool request Environment Development Kit IDF version git revparse short HEAD to get the commit id IDF version v g d ab Development Env VSC Operating System Windows WSL Ubuntu Power Supply external V Problem Description Exception when using onewiresearchnext because of the gpiopulldowndis function The onewiresearchnext function calls first the gpiosetpullmode to set pullup for the onewirepin which then calls first the gpiopullup and then gpiopulldown for the pin Expected Behavior gpiosetpullmode pin GPIOPULLUPONLY should just run without error Actual Behavior gpiosetpullmode pin GPIOPULLUPONLY returns error E gpio gpiopulldowndis The GPIO of esp can not be pulled down except RTC GPIO Steps to repropduce just call the function gpiosetpullmode GPIOPULLUPONLY Code to reproduce this issue gpiosetpullmode GPIOPULLUPONLY Debug Logs Other items if possible relevant code snippet from SDK esperrt gpiosetpullmodegpionumt gpionum gpiopullmodet pull switch pull case GPIOPULLUPONLY gpiopulldowndisgpionum gpiopullupengpionum break esperrt gpiopulldowndisgpionumt gpionum GPIOCHECKGPIOISVALIDGPIOgpionum GPIO number error ESPERRINVALIDARG GPIOCHECKRTCGPIOISVALIDGPIOgpionum The GPIO of esp can not be pulled down except RTC GPIO ESPERRINVALIDARG hi in SDKrelease i find a bug about title I dont init uart but I send a data to uart and then when I init uart it cant work until wdt and I find c esperrt uartisrregisteruartportt uartnum void fnvoid void arg UARTCHECKuartnum UARTNUMMAX uartnum error ESPERRINVALIDARG UARTENTERCRITICAL xtisrmask ETSUARTINUM xtisrattachETSUARTINUM uartintrservice NULL all uart interrupt will be able here uartisrfunc uartnum fn fn uartisrfunc uartnum args arg xtisrunmask ETSUARTINUM UARTEXITCRITICAL return ESPOK soI dont init uart but I send a data to uart The uart status is set to until Im done with the dataand trigger the interrupt all the time mqtt demo FreeRTOS tcp components