 Steps to Reproduce Create a React Native project Add CodePush decorator with installMode InstallModeONNEXTSUSPEND Expected Behavior Bundle should update when app is suspended Actual Behavior Works on Android but not on iOS even after leaving app foregrounded for several minutes then backgrounded for several minutes and repeating the process several times Force restarting the app also does not cause it to update on iOS Other InstallModes work as expected Looking at the source code I dont even see any iOSspecific logic for this InstallMode if not supported for iOS shouldnt the docs be updated to reflect that Version reactnativecodepush reactnative react Thanks so much for filing an issue or feature request Please fill out the following wherever relevant Steps to Reproduce This happens on iPhone I encountered this on iPhone X and iPhone Pro max Android is fine Not all the time but its serious problem in my opinion Release a silent update not mandatory Open app the app then notices there is newer version Put it into background just go to home dont quit the app Leave it in background for a while in my case its minutes Open app The moment when the app open it applies the update from CodePush And crash right after that Codepush then rollback to the last bundle it means that the user never gets the update This is definitely not what I want By the way in the meantime is there any way to disable codepush rollback feature Expected Behavior Obviously it wont be crashed Actual Behavior I got this log from bugsnag in production STACKTRACE EXCBADACCESS Attempted to dereference garbage pointer x ae f f nodemodulesreactnativeReactCommoncxxreactInstancecpp loadApplication nodemodulesreactnativeReactCommoncxxreactInstancecpp loadScriptFromString nodemodulesreactnativeReactCxxBridgeRCTCxxBridgemm RCTCxxBridge executeApplicationScripturlasync blockinvoke ApplicationsXcodeappContentsDeveloperToolchainsXcodeDefaultxctoolchainusrbinincludecv functional operator nodemodulesreactnativeReactCxxBridgeRCTCxxBridgemm RCTCxxBridge tryAndHandleError nodemodulesreactnativeReactCxxBridgeRCTCxxBridgemm RCTCxxBridge executeApplicationScripturlasync nodemodulesreactnativeReactCxxBridgeRCTCxxBridgemm RCTCxxBridge enqueueApplicationScripturlonComplete nodemodulesreactnativeReactCxxBridgeRCTCxxBridgemm RCTCxxBridge executeSourceCodesync nodemodulesreactnativeReactCxxBridgeRCTCxxBridgemm RCTCxxBridge start blockinvoke usrlibsystemlibdispatchdylib dispatchcallblockandrelease usrlibsystemlibdispatchdylib dispatchclientcallout usrlibsystemlibdispatchdylib dispatchrootqueuedrain usrlibsystemlibdispatchdylib dispatchworkerthread usrlibsystemlibsystempthreaddylib pthreadwqthread THREADS Thread usrlibsystemlibsystemkerneldylib unlink usrlibsystemlibsystemkerneldylib unlink usrlibsystemlibremovefiledylib removefiletreewalker usrlibsystemlibremovefiledylib removefile FrameworksFoundationframeworkFoundation NSFilesystemItemRemoveOperation main FrameworksFoundationframeworkFoundation NSOPERATIONISINVOKINGMAIN FrameworksFoundationframeworkFoundation NSOperation start FrameworksFoundationframeworkFoundation NSFileManager removeItemAtPatherror nodemodulesreactnativecodepushiosCodePushCodePushPackagem CodePushPackage rollbackPackage nodemodulesreactnativecodepushiosCodePushCodePushm CodePush rollbackPackage nodemodulesreactnativecodepushiosCodePushCodePushm CodePush initializeUpdateAfterRestart nodemodulesreactnativecodepushiosCodePushCodePushm CodePush init nodemodulesreactnativeReactBaseRCTModuleDatamm RCTModuleData initWithModuleClassbridge blockinvoke nodemodulesreactnativeReactBaseRCTModuleDatamm RCTModuleData setUpInstanceAndBridge nodemodulesreactnativeReactBaseRCTUtilsm RCTUnsafeExecuteOnMainQueueSync nodemodulesreactnativeReactBaseRCTModuleDatamm RCTModuleData instance nodemodulesreactnativeReactCxxBridgeRCTCxxBridgemm RCTCxxBridge prepareModulesWithDispatchGroup blockinvoke usrlibsystemlibdispatchdylib dispatchcallblockandrelease usrlibsystemlibdispatchdylib dispatchclientcallout usrlibsystemlibdispatchdylib dispatchmainqueuecallback CFVARIANTarmv FrameworksCoreFoundationframeworkCoreFoundation CFRUNLOOPISSERVICINGTHEMAINDISPATCHQUEUE FrameworksCoreFoundationframeworkCoreFoundation CFRunLoopRun FrameworksCoreFoundationframeworkCoreFoundation CFRunLoopRunSpecific PrivateFrameworksGraphicsServicesframeworkGraphicsServices GSEventRunModal PrivateFrameworksUIKitCoreframeworkUIKitCore UIApplicationMain MyAppmainm main usrlibsystemlibdylddylib start Full log includes other threads bugsnagerrorstacktraceEXCBADACCESSevent e e a d txt Environment reactnativecodepush version reactnative version iOSAndroidWindows version iOS Does this reproduce on a debug build or release build Release Does this reproduce on a simulator or only on a physical device Physical device The more info the faster we will be able to address it Hello I tried to update my app with codepush several times but no updates are found when i restart the app Steps to Reproduce Install the library for RN Push an update with codepush releasereact Production Restart the app Expected Behavior The app should be updated Actual Behavior Nothing happens when i fetch the log with adb i see that No update is found and the app is up to date even though i have several pending updates Checking for update App is up to date When i fetch the log of the play store released app i have the following notice CodePush Unable to get the hash of the binarys bundled resources codepushgradle may have not been added to the build definition Environment reactnativecodepush version reactnative version iOSAndroidWindows version Android Does this reproduce on a debug build or release build Release build Does this reproduce on a simulator or only on a physical device Physical device Any help Thanks This PR fixes an error we encountered in a hybrid Swift React Native app we re developing We use cocoapods and RN so the setup with autolinking was simple however when building the iOS app we got a build failure with a message of JWTh file not found in the CodePushUpdateUtilsm file same for SSZipArchive in CodePushPackagem In this PR we change the imports of JWT and SSZipArchive to a similar style that is used throughout the project for native React modules This fixes the issue on our end and shouldn t break anything for anyone else due to the conditional character of the import statements Would appreciate any input on this and of course will answer any questions that would help reproduce if needed If there is required update I want to download it asap and Id like to start checking for it before JS code even starts loading Is it possible to initialize check inside native iOS code AppDelegatem Thanks so much for filing an issue or feature request Please fill out the following wherever relevant Steps to Reproduce Expected Behavior push file to codepush with oss alway Actual Behavior push file to codepushstoragetype is oss alway occerd a error and the codepush process exited STACK TRACE ANDOR SCREENSHOTS Reproducible Demo eventsjs throw er Unhandled error event Error ENOENT no such file or directory open tmpcodepushAwZ CCWCKeTy t eb fJuZMiMAcX ply ee b e c c d cb d e ffa f f dataCenterCodePushindexandroidbundle at Error native Environment reactnativecodepush version reactnative version iOSAndroidWindows version Does this reproduce on a debug build or release build Does this reproduce on a simulator or only on a physical device The more info the faster we will be able to address it Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Steps to Reproduce Add Jitsi plugin Add CodePush plugin Expected Behavior What you expected to happen Code Push works on Android Actual Behavior What actually happens E ReactNativeJS TypeError null is not an object evaluating nIsAndroid E ReactNativeJS Invariant Violation Module AppRegistry is not a registered callable module calling runApplication E ReactNativeJS TypeError null is not an object evaluating tNativeModulesLocaleDetectorlocale E AndroidRuntime FATAL EXCEPTION mqtnativemodules E AndroidRuntime comfacebookreactcommonJavascriptException TypeError null is not an object evaluating nIsAndroid stack E AndroidRuntime unknown E AndroidRuntime v Reproducible Demo Trying to add code push to githubcomRocketChatRocketChatReactNative iOS works just fine Android throws that error Environment reactnativecodepush version reactnative version iOSAndroidWindows version Android Does this reproduce on a debug build or release build Release Build only Does this reproduce on a simulator or only on a physical device Both Related issue Thanks so much for filing an issue or feature request Please fill out the following wherever relevant Steps to Reproduce Show Modal call CodepushrestartApp App restart with Modal has still showing and cant hidden Expected Behavior What you expected to happen App really restart Actual Behavior What actually happens Im making CustomDialog for UpdateDialog sometime after calling CodepushrestartApp app restart with Dialog is still showing This behavior is incorrect Environment reactnativecodepush version reactnative version iOSAndroidWindows version iOS Does this reproduce on a debug build or release build Debug Does this reproduce on a simulator or only on a physical device Physical Device The more info the faster we will be able to address it Thanks so much for filing an issue or feature request Please fill out the following wherever relevant Steps to Reproduce gradle version comandroidtoolsbuildgradle Expected Behavior codepushgradle can not generate CodePush hash file in apk Actual Behavior What actually happens STACK TRACE ANDOR SCREENSHOTS Reproducible Demo Download and unzip From Examples folder run node createappjs appName reactnative reactnativecodepush beta command to generate plain CodePushified React Native app Please see description on top of createappjs file content if needed If you cant reproduce the bug on it provide us as much info as possible about your project Environment reactnativecodepush version reactnative version iOSAndroidWindows version Does this reproduce on a debug build or release build Does this reproduce on a simulator or only on a physical device The more info the faster we will be able to address it 