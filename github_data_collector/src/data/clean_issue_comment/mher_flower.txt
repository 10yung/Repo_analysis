python package version celery flower kombu redis tornado when I started flower like this celery flower brokerredis I command Visit me at I command Broker redis I command Registered tasks celeryaccumulate celerybackendcleanup celerychain celerychord celerychordunlock celerychunks celerygroup celerymap celerystarmap Fatal Python error Cannot recover from stack overflow Thread x ce most recent call first File Usersyeyuqiupyenvversions libpython socketpy line in realclose File Usersyeyuqiupyenvversions libpython socketpy line in close File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in disconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackageskombutransportredispy line in disconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in readresponse File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect Thread x bcb most recent call first File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in checkhealth File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in onconnect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in connect File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendpackedcommand File Usersyeyuqiupyenvversions envsschedulelibpython sitepackagesredisconnectionpy line in sendcommand There is likely still some amount of hacks and code organization that need to be addressed before merge but Id like feedback on this This will help solve some places where either the team doesnt want to use the celery CLI inspect or events or doesnt have access to it This specifically looks to have a simple but usable interface to seeing what tasks are queued on the broker with pagination for a given queue and nothing more Being able to filter by task and time etc would be prohibitive considered that at least redis doesnt have a native way for us to do that using a list Using redis streams or sorted sets could alleviate portions of that but that is way outside of scope since those are not currently used in the redis broker implementation at all It would be useful to have feedback on what sort of information or even additional viewspages we should show on this page Im opting for a lot of info right now just to prove that this is possible but I dont think it should be merged as is From PR Im looking to make the usage of alternative appsevent classes more pluggable for flower Plugin discoveryusage can be namebased I know celery prefers to basically install all available brokers inhouse to the project but these could be broken out if needed and updated at their own cadence Im looking to propose solutions such as hold all of the appevent backends in flower proper but allow CLIconfig to specify which to use use something more proper via python via the plugin architecture Flask is specified directly in the example There a couple reasons for why Im looking to do this I have a fork which allows use of elasticsearch for the history of the tasks Its much faster Its hard to get large code changes into flower getting approval merge Breaking these out to a plugin architecture of some sort will allow agility to be more natural even if the core project tends to be more stable I have broken out between app and indexer The app is there for the web server if wanted the event history The indexer name can be changed is specifically there to be run in history mode to be receiving the events and indexing them somewhere The app can be told how to talk to the history server eg elasticsearch You could run the normal app use elasticsearch as opposed to the inmemory event receiver But I would like to argue that for production use the runtimes be split I have a working implementation of this even having a separate entry point command native in flowers setuppy on my fork What do we think I dont particularly want to be the only contributor to my fork my company uses it extensively it would be great to see others use it and improve upon it or the plugin system itself We could even have the Event in memory receiver still exist but use it on the indexer command and have the app know to communicate via socket as others have suggested before and during my elasticsearch work here The python plugin architecture looks a bit static to me as opposed to being able to pass classpathmodule strings into CLIconfig but maybe Im not seeing the bigger picture here I have made a version of that work on my fork and then I realized python may have a better way hence the research For to make it more pluggable Im trying to find a more consistent method of passingusing configuration arguments The options variable can take adjustments correctly but it seems that the selfcappconf does not register these options unless theyre present in the flowerconfig module So are we to understand that the options variable is the only one we should be looking at for flowerspecific settings The reason this is confusing is because the docs suggest that both the CLI and settings module are valid ways to set things up with ENV and CLI taking precedence in the actual use Hi Ive been noticing that Flower likes to show only a single task at a time on the tasks tab This occurs after running for some time In my situation Im certain that there are many more tasks available then the single one displayed on this tab Im not too sure as to why this is happening but would like a fix so I can see what tasks are running The only sure way for me to see tasks running currently would be to actually restart Flower and then see the list of tasks its processing Im currently running the following versions of kombu and celery for my workers celery kombu Flower is being run on the latest docker image provided by mher Use case Running Flower behind ALB within AWS Implementation flowerviewsalivepy python from future import absoluteimport from views import BaseHandler class HealthCheckHandlerBaseHandler def getself selfsetstatus selfwriteOK flowerurlspy python ralive HealthCheckHandler testsviewstestalivepy python from testsunit import AsyncHTTPTestCase class AliveTestsAsyncHTTPTestCase def testhealthcheckself r selfgetalive selfassertEqual rcode Im install last flower form PyPI Versions flower tornado Error in the browser console d layoutminjsv d dea b d d ecf a c Uncaught TypeError Cannot read property length of undefined at Functionzero d layoutminjsv d dea b d d ecf a c at g d layoutminjsv d dea b d d ecf a c at RickshawGraphstackData rickshawminjsvfc b dd caa b bcb f at klassdomain rickshawminjsvfc b dd caa b bcb f at RickshawGraphdiscoverRange rickshawminjsvfc b dd caa b bcb f at RickshawGraphinitialize rickshawminjsvfc b dd caa b bcb f at new RickshawGraph rickshawminjsvfc b dd caa b bcb f at creategraph flowerjsv b d eed fa e d at Objectsuccess flowerjsv b d eed fa e d at o jquery minjsvb d d bc b f cc b aebcae zero d layoutminjsv d dea b d d ecf a c g d layoutminjsv d dea b d d ecf a c stackData rickshawminjsvfc b dd caa b bcb f domain rickshawminjsvfc b dd caa b bcb f discoverRange rickshawminjsvfc b dd caa b bcb f initialize rickshawminjsvfc b dd caa b bcb f RickshawGraph rickshawminjsvfc b dd caa b bcb f creategraph flowerjsv b d eed fa e d success flowerjsv b d eed fa e d o jquery minjsvb d d bc b f cc b aebcae fireWith jquery minjsvb d d bc b f cc b aebcae w jquery minjsvb d d bc b f cc b aebcae d jquery minjsvb d d bc b f cc b aebcae XMLHttpRequestsend async send jquery minjsvb d d bc b f cc b aebcae ajax jquery minjsvb d d bc b f cc b aebcae anonymous flowerjsv b d eed fa e d o jquery minjsvb d d bc b f cc b aebcae fireWith jquery minjsvb d d bc b f cc b aebcae ready jquery minjsvb d d bc b f cc b aebcae B jquery minjsvb d d bc b f cc b aebcae I have found several similar issues but all of them seem to be fixed by now but I am still getting the same error while calling Flower API from Docker apitaskinfotaskuuid Here is Traceback flower E web Uncaught exception GET apitaskinfof a ba c cbbf c b e flower HTTPServerRequestprotocolhttp hostflower methodGET uriapitaskinfof a ba c cbbf c b e versionHTTP remoteip flower Traceback most recent call last flower File usrlocallibpython sitepackagestornadowebpy line in execute flower result methodselfpathargs selfpathkwargs flower File usrlocallibpython sitepackagestornadowebpy line in wrapper flower return methodself args kwargs flower File usrlocallibpython sitepackagesflowerapitaskspy line in get flower selfwriteresponse flower File usrlocallibpython sitepackagestornadowebpy line in write flower chunk escapejsonencodechunk flower File usrlocallibpython sitepackagestornadoescapepy line in jsonencode flower return jsondumpsvaluereplace flower File usrlocallibpython jsoninitpy line in dumps flower return defaultencoderencodeobj flower File usrlocallibpython jsonencoderpy line in encode flower chunks selfiterencodeo oneshotTrue flower File usrlocallibpython jsonencoderpy line in iterencode flower return iterencodeo flower File usrlocallibpython jsonencoderpy line in default flower raise TypeErrorfObject of type oclassname flower TypeError Object of type Task is not JSON serializable Can you please tell what am I doning wrong The same error is for any of apitaskSPECIFICURLtaskuuid Taskspecific urls But it works ok for apitasks url Is Docker version outdated or something Now it shows I want to show humanreadable time format like columns Received and Started As reported by Retirejs flower incorporates a very old JQuery version that has known vulnerabilities I would recommend upgrading to jquery minjs which is the latest in x line jquery has known vulnerabilities severity medium CVE CVE bug summary Selector interpreted as HTML severity medium issue summary rd party CORS request may execute CVE CVE severity low CVE CVE summary jQuery before as used in Drupal Backdrop CMS and other products mishandles jQueryextendtrue because of Objectprototype pollution 