i just read the i have the same problem toobut i download the latest kawait still wrongi think it should be change switch workflow Here is the workflow i use kawa nowRussianChineseEnglish use chinse type something use kawa switch to Russian wrong cant type any Russia character then i need to switch to Chinesei see kawa auto switch to Russian it can type Russian I observed when want to switch to Russianfirst switch to English and then switch to Russianit worked Suggestion when switch to another language inputjust switch to the english firstthen switch to the purpose source input Sierr keyboard with a custom firmware F works like a charm but next keys simply dont detect beginning from F For me its more preferrable way to assign languages than Cmdkey and similar combos I checked in Karabiner and it see these Fkeys What may be wrong After upgrading to newer versions of macOS the old workaround for CJK input methods are not working any more I have tried with various of switching input methods and found that The Select next source in input menu shortcut works reliably The TISCopyCurrentKeyboardInputSource can return currently selected method reliably if there is recent key stroke or window switch So I have taken a policy by keep pressing Select next source in input menu until target input method has been switched to There is a bug in macOS that if one switches to different input methods in a very short time without doing any typing the TISCopyCurrentKeyboardInputSource will return wrong result I worked around it by remembering last selected input method and use it as current input method if user is switching input methods too fast Note that I dont really know much about Swift please refactor the code if necessary Could the command line version be provided Thanks