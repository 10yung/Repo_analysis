 Description Most drivers do not expect address blocking after calling i cSetDevice I cSetActive removed from I cSetDevice All drivers waiting for this call are fixed Related issue if applicable Checklist x The pull request is done against the latest dev branch x Only relevant files were touched x Only one featurefix was added per PR The code change is tested and works on core x The code change pass travis tests Your PR cannot be merged unless tests pass x I accept the CLA PROBLEM DESCRIPTION Behavior in different i s drivers implies different Some device implies Check that the device responds in the bus by I cSetDevice and then make checks to uniquely identify the device Then do I CSetActive if success One does not imply that I cSetActive is done automatically Drivers xdrv pcf xdsp ssd xdsp matrixino xdsp sh xnrg ade xsns tsl xsns mpu xsns tsl xsns ds xsns sps xsns vl l x xsns MLX If device responds in the bus by I cSetDevice drivers imply that I cSetActive is done automatically Drivers xdrv scripter xdsp lcd xdsp ILI xdsp RA I think need remove I cSetActive from function I cSetDevice in the supportino and fix all drivers which have mean automatic I cSetActive I can fix it myself but I think its better for the author to do it But I can do PR if you want REQUESTED INFORMATION x Read the Contributing Guide and Policy and the Code of Conduct Searched the problem in issues Searched the problem in the docs Searched the problem in the forum Searched the problem in the chat x Device used eg Sonoff Basic all x Tasmota binary firmware version number used all x Precompiled x Selfcompiled IDE Compiler used Flashing tools used Provide the output of command Backlog Template Module GPIO Configuration output here any If using rules provide the output of this command Backlog Rule Rule Rule Rules output here none Provide the output of this command Status STATUS output here none Provide the output of the Console log output when you experience your issue if applicable Please use weblog for more debug information Console output here none TO REPRODUCE lm ad is block the ds on the address x ever time EXPECTED BEHAVIOUR drivers must block only self devices SCREENSHOTS none ADDITIONAL CONTEXT none Thanks for suggesting an idea for this project READ THIS FIRST Please take a few minutes to complete the requested information below Our ability to provide assistance is greatly hampered without it The details requested potentially affect which options to pursue The small amount of time you spend completing the template will also help the volunteers providing the assistance to you to reduce the time required to help you DO NOT DELETE ANY TEXT from this template Otherwise the issue will be autoclosed Have you looked for this feature in other issues and in the docs Is your feature request related to a problem Please describe Is it possible to support sensor INA Describe the solution youd like A clear and concise description of what you want to happen Describe alternatives youve considered Additional context Add any other context or screenshots about the feature request here Please remember to close the issue when the problem has been addressed Thanks for suggesting an idea for this project READ THIS FIRST Please take a few minutes to complete the requested information below Our ability to provide assistance is greatly hampered without it The details requested potentially affect which options to pursue The small amount of time you spend completing the template will also help the volunteers providing the assistance to you to reduce the time required to help you DO NOT DELETE ANY TEXT from this template Otherwise the issue will be autoclosed Have you looked for this feature in other issues and in the docs yes Is your feature request related to a problem Please describe A clear and concise description of what the problem is Describe the solution youd like A clear and concise description of what you want to happen Allow for the mqtt int report message from mcp xx to be retained if powerretain is on Describe alternatives youve considered A clear and concise description of any alternative solutions or features youve considered Additional context Add any other context or screenshots about the feature request here Please remember to close the issue when the problem has been addressed PROBLEM DESCRIPTION It seems that the rule trigger SystemBoot is no longer executed since I upgraded my Shelly to Tasmota On another device that is still on Tasmota the same rule is working as expected REQUESTED INFORMATION Make sure your have performed every step and checked the applicable boxes before submitting your issue Thank you x Read the Contributing Guide and Policy and the Code of Conduct x Searched the problem in issues x Searched the problem in the docs Searched the problem in the forum Searched the problem in the chat x Device used eg Sonoff Basic Shelly x Tasmota binary firmware version number used x Precompiled Selfcompiled IDE Compiler used Flashing tools used Provide the output of command Backlog Template Module GPIO x If using rules provide the output of this command Backlog Rule Rule Rule Rule ONOnceOFFStopOnErrorOFFFree RulesON SystemBoot DO Backlog Var Var ENDON Provide the output of this command Status x Provide the output of the Console log output when you experience your issue if applicable Please use weblog for more debug information CFG Loaded from flash at FB Count QPC Flag E SRC Restart Project tasmota Garage Version tasmota WIF Checking connection WIF Attempting connection WIF Connecting to AP XXXX in mode N as shellygarage WIF Checking connection WIF Attempting connection WIF Checking connection WIF Attempting connection WIF Checking connection WIF Attempting connection WIF Checking connection WIF Connected HTP Web server active on shellygarage with IP address NTP Drift UTC Sat Jan DST Sun Mar STD Sun Oct QPC Reset APP Boot Count CFG Saved to flash at FA Count Bytes WIF Checking connection WIF Connected CMD var SRC WebConsole from CMD Group Index Command VAR Data RSL stattasmotaRESULT Var TO REPRODUCE Rule ON SystemBoot DO Backlog Var Var ENDON Rule Restart Var EXPECTED BEHAVIOUR On Tasmota this returns Var as expected But on Tasmota it returns Var Also prints the message RUL SYSTEMBOOT performs Backlog Var Var on the web console but on there is no such message Thanks for reporting a problem for this project READ THIS FIRST This issue template is meant to REPORT Tasmota software PROBLEMS ONLY Please DO NOT OPEN AN ISSUE If your Tasmota version is not the latest from the development branch please update your device before submitting your issue Your problem might already be solved The latest precompiled binaries of Tasmota can be downloaded from If you have an issue when flashing was done via Tuya Convert please address it to Tuya Convert Team If your issue is a flashing issue please address it to the Tasmota Support Chat If your issue is compilation problem please address it to the Tasmota Support Chat If your issue has been addressed before ie duplicated issue please ask in the original issue If your issue is a WiFi problem or MQTT problem please try the steps provided in the FAQ and Troubleshooting Please take a few minutes to complete the requested information below Our ability to provide assistance is greatly hampered without it The details requested potentially affect which options to pursue The small amount of time you spend completing the template will also help the volunteers providing the assistance to you to reduce the time required to help you DO NOT DELETE ANY TEXT from this template Otherwise the issue will be autoclosed PROBLEM DESCRIPTION On certain peripherals in my case SDS the metric name contains a period With the homeassistant auto discovery this ends up with invalid json as the template valtplvaluejson SDS X PM cant have a dot in the value name because that is the separator The problem is I think here Proposed fix Having this set to valtpl valuejson s s instead seems to fix the problem REQUESTED INFORMATION Make sure your have performed every step and checked the applicable boxes before submitting your issue Thank you x Read the Contributing Guide and Policy and the Code of Conduct x Searched the problem in issues x Searched the problem in the docs x Searched the problem in the forum x Searched the problem in the chat x Device used eg Sonoff Basic adafruit ESP x Tasmota binary firmware version number used x Precompiled Selfcompiled IDE Compiler used x Flashing tools used tasmotizer x Provide the output of command Backlog Template Module GPIO MQT testerstatRESULT NAMEGenericGPIO FLAG BASE MQT testerstatRESULT Module Generic MQT testerstatRESULT GPIO NoneGPIO SDS X TxGPIO NoneGPIO SDS X RxGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO None x If using rules provide the output of this command Backlog Rule Rule Rule No rules used x Provide the output of this command Status MQT testerstatSTATUS StatusModule FriendlyName tester TopictesterButtonTopic Power PowerOnState LedState LedMaskFFFFSaveData SaveState SwitchTopic SwitchMode ButtonRetain SwitchRetain SensorRetain PowerRetain MQT testerstatSTATUS StatusPRMBaudrate GroupTopictasmotasOtaUrl SystemUptime T StartupUTC T Sleep CfgHolder BootCount SaveCount SaveAddressF MQT testerstatSTATUS StatusFWRVersion tasmotaBuildDateTime T Boot Core SDK dev a eHardwareESP EXCR MQT testerstatSTATUS StatusLOGSerialLog WebLog MqttLog SysLog LogHostLogPort SSId IDIoT TelePeriod Resolution C SetOption A C A MQT testerstatSTATUS StatusMEMProgramSize Free Heap ProgramFlashSize FlashSize FlashChipId EFlashMode Features FDAE A B CD BC Drivers Sensors MQT testerstatSTATUS StatusNETHostnametester IPAddress xxGateway xxSubnetmask DNSServer xxMacxxxxxxWebserver WifiConfig MQT testerstatSTATUS StatusMQTMqttHost xxMqttPort MqttClientMaskDVES XMqttClientDVESB DBFMqttUserDVESUSERMqttCount MAXPACKETSIZE KEEPALIVE MQT testerstatSTATUS StatusTIMUTCSat Jan LocalSat Jan StartDSTSun Mar EndDSTSun Oct Timezone Sunrise Sunset MQT testerstatSTATUS StatusSNSTime T SDS X PM PM MQT testerstatSTATUS StatusSTSTime T Uptime T UptimeSec Heap SleepModeDynamicSleep LoadAvg MqttCount WifiAP SSIdxxxxBSSIdxxxxChannel RSSI Signal LinkCount Downtime T x Provide the output of the Console log output when you experience your issue if applicable Please use weblog for more debug information Not relevant TO REPRODUCE Use a peripheral like SDS with SetOption EXPECTED BEHAVIOUR valid JSON SCREENSHOTS not applicable ADDITIONAL CONTEXT MQTT Discovery topic homeassistantsensorB DBFSDS X PM config json nametester SDS X PM stattSENSORavtytLWTfrcupdtrueplavailOnlineplnotavailOfflineuniqidB DBFSDS X PM deviceidentifiers B DBF connections macxxxxxx testerteleunitofmeas valtplvaluejson SDS X PM As a sidenote there is also a bug in homeassistant that stops discovery Please remember to close the issue when the problem has been addressed Thanks for reporting a problem for this project READ THIS FIRST This issue template is meant to REPORT Tasmota software PROBLEMS ONLY Please DO NOT OPEN AN ISSUE If your Tasmota version is not the latest from the development branch please update your device before submitting your issue Your problem might already be solved The latest precompiled binaries of Tasmota can be downloaded from If you have an issue when flashing was done via Tuya Convert please address it to Tuya Convert Team If your issue is a flashing issue please address it to the Tasmota Support Chat If your issue is compilation problem please address it to the Tasmota Support Chat If your issue has been addressed before ie duplicated issue please ask in the original issue If your issue is a WiFi problem or MQTT problem please try the steps provided in the FAQ and Troubleshooting Please take a few minutes to complete the requested information below Our ability to provide assistance is greatly hampered without it The details requested potentially affect which options to pursue The small amount of time you spend completing the template will also help the volunteers providing the assistance to you to reduce the time required to help you DO NOT DELETE ANY TEXT from this template Otherwise the issue will be autoclosed PROBLEM DESCRIPTION A clear and concise description of what the problem is If the Mqtt logging level is set to Info from the default None the device will reboot every few minutes with the the restart reason Software Watchdog REQUESTED INFORMATION Make sure your have performed every step and checked the applicable boxes before submitting your issue Thank you Read the Contributing Guide and Policy and the Code of Conduct Y Searched the problem in issues Y Searched the problem in the docs Y Searched the problem in the forum Y Searched the problem in the chat Y Device used eg Sonoff Basic Avatar UK A Y Tasmota binary firmware version number used Y Precompiled N Selfcompiled N IDE Compiler used Y Flashing tools used tuya convert Y Provide the output of command Backlog Template Module GPIO Configuration output here CMD Backlog Template Module GPIO MQT statPlug RESULT NAMEAvatar UK AGPIO FLAG BASE MQT statPlug RESULT Module Avatar UK A MQT statPlug RESULT GPIO NoneGPIO NoneGPIO Led iGPIO NoneGPIO NoneGPIO BL CFGPIO NoneGPIO NoneGPIO HLWBL SELiGPIO Button GPIO HLWBL CF GPIO Relay GPIO None N If using rules provide the output of this command Backlog Rule Rule Rule Rules output here Provide the output of this command Status STATUS output here CMD Status MQT statPlug STATUS StatusModule FriendlyName Plug TopicPlug ButtonTopic Power PowerOnState LedState LedMaskFFFFSaveData SaveState SwitchTopic SwitchMode ButtonRetain SwitchRetain SensorRetain PowerRetain MQT statPlug STATUS StatusPRMBaudrate GroupTopictasmotasOtaUrl WatchdogUptime T StartupUTC T Sleep CfgHolder BootCount SaveCount SaveAddressF MQT statPlug STATUS StatusFWRVersion tasmotaBuildDateTime T Boot Core SDK dev a eHardwareESP EXCR MQT statPlug STATUS StatusLOGSerialLog WebLog MqttLog SysLog LogHostLogPort SSId VM TelePeriod Resolution A C SetOption C A MQT statPlug STATUS StatusMEMProgramSize Free Heap ProgramFlashSize FlashSize FlashChipId FlashMode Features FDAE A B CD BC Drivers Sensors MQT statPlug STATUS StatusNETHostnamePLUGFOURIPAddress Gateway Subnetmask DNSServer MacA CF C BWebserver WifiConfig MQT statPlug STATUS StatusMQTMqttHost MqttPort MqttClientMaskDVES XMqttClientDVESC BMqttUserDVESUSERMqttCount MAXPACKETSIZE KEEPALIVE MQT statPlug STATUS StatusTIMUTCSat Jan LocalSat Jan StartDSTSun Mar EndDSTSun Oct Timezone Sunrise Sunset MQT statPlug STATUS StatusPTHPowerDelta PowerLow PowerHigh VoltageLow VoltageHigh CurrentLow CurrentHigh MQT statPlug STATUS StatusSNSTime T ENERGYTotalStartTime T Total Yesterday Today Power ApparentPower ReactivePower Factor Voltage Current MQT statPlug STATUS StatusSTSTime T Uptime T UptimeSec Heap SleepModeDynamicSleep LoadAvg MqttCount POWERONWifiAP SSIdVM BSSIdB E Channel RSSI Signal LinkCount Downtime T NB This is after reseting Mqtt log level to NA Provide the output of the Console log output when you experience your issue if applicable Please use weblog for more debug information Console output here Program Version tasmota Build Date Time T CoreSDK Version dev a e Uptime T Flash write Count at xF Boot Count Restart Reason Software Watchdog Friendly Name Plug See High boot count TO REPRODUCE Steps to reproduce the behavior Change Mqtt logging to EXPECTED BEHAVIOUR A clear and concise description of what you expected to happen The device will reboot ever few minutes Changing this back to the default value stops the problem SCREENSHOTS If applicable add screenshots to help explain your problem ADDITIONAL CONTEXT Add any other context about the problem here Please remember to close the issue when the problem has been addressed PROBLEM DESCRIPTION When I tell Alexa to set the lights to WHITE the lights go out And when i tell Alexa to set the lights to BLACK the lights go white REQUESTED INFORMATION Make sure your have performed every step and checked the applicable boxes before submitting your issue Thank you x Read the Contributing Guide and Policy and the Code of Conduct x Searched the problem in issues x Searched the problem in the docs x Searched the problem in the forum x Searched the problem in the chat x Device used eg Sonoff Basic H Tasmota binary firmware version number used x Precompiled Selfcompiled IDE Compiler used x Flashing tools used Tasmotizer x Provide the output of command Backlog Template Module GPIO When I tell Alexa to set the lights to WHITE the lights go out and concole displays the following information MQT statH RESULT POWER ON Dimmer Color F HSBColor Channel CT When I tell Alexa to set the lights to BLACK the lights turn white and console display the following information MQT statH RESULT POWER ON Dimmer Color FFFFFF HSBColor Channel CT The other colours work perfectly Configuration output here If using rules provide the output of this command Backlog Rule Rule Rule Rules output here z Provide the output of this command Status STATUS output here CMD status MQT statH STATUS StatusModule FriendlyName Salon TopicH ButtonTopic Power PowerOnState LedState LedMaskFFFFSaveData SaveState SwitchTopic SwitchMode ButtonRetain SwitchRetain SensorRetain PowerRetain MQT statH STATUS StatusPRMBaudrate GroupTopictasmotasOtaUrl restartUptime T StartupUTCSleep CfgHolder BootCount SaveCount SaveAddressF MQT statH STATUS StatusFWRVersion tasmotaBuildDateTime T Boot Core SDK dev a eHardwareESP EXCR MQT statH STATUS StatusLOGSerialLog WebLog MqttLog SysLog LogHostLogPort SSId WOPR TelePeriod Resolution C C SetOption C A MQT statH STATUS StatusMEMProgramSize Free Heap ProgramFlashSize FlashSize FlashChipId EFFlashMode Features FDAE A B CD BC Drivers Sensors MQT statH STATUS StatusNETHostnameH IPAddress Gateway Subnetmask DNSServer Mac CCA Webserver WifiConfig MQT statH STATUS StatusMQTMqttHost MqttPort MqttClientMaskDVES XMqttClientDVES CCA MqttUsermainMqttCount MAXPACKETSIZE KEEPALIVE MQT statH STATUS StatusTIMUTCThu Jan LocalThu Jan StartDSTThu Jan EndDSTThu Jan Timezone Sunrise Sunset MQT statH STATUS StatusSNSTime T MQT statH STATUS StatusSTSTime T Uptime T UptimeSec Heap SleepModeDynamicSleep LoadAvg MqttCount POWERONDimmer Color FF HSBColor Channel CT Scheme FadeOFFSpeed LedTableONWifiAP SSIdWOPRBSSId C AA Channel RSSI Signal LinkCount Downtime T Provide the output of the Console log output when you experience your issue if applicable Please use weblog for more debug information Console output here TO REPRODUCE Steps to reproduce the behavior EXPECTED BEHAVIOUR A clear and concise description of what you expected to happen SCREENSHOTS If applicable add screenshots to help explain your problem ADDITIONAL CONTEXT Add any other context about the problem here Please remember to close the issue when the problem has been addressed Thanks for reporting a problem for this project READ THIS FIRST This issue template is meant to REPORT Tasmota software PROBLEMS ONLY Please DO NOT OPEN AN ISSUE If your Tasmota version is not the latest from the development branch please update your device before submitting your issue Your problem might already be solved The latest precompiled binaries of Tasmota can be downloaded from If you have an issue when flashing was done via Tuya Convert please address it to Tuya Convert Team If your issue is a flashing issue please address it to the Tasmota Support Chat If your issue is compilation problem please address it to the Tasmota Support Chat If your issue has been addressed before ie duplicated issue please ask in the original issue If your issue is a WiFi problem or MQTT problem please try the steps provided in the FAQ and Troubleshooting Please take a few minutes to complete the requested information below Our ability to provide assistance is greatly hampered without it The details requested potentially affect which options to pursue The small amount of time you spend completing the template will also help the volunteers providing the assistance to you to reduce the time required to help you DO NOT DELETE ANY TEXT from this template Otherwise the issue will be autoclosed PROBLEM DESCRIPTION A clear and concise description of what the problem is Hi i have a problem with my Sonoff Dual R I configured it with Home Assistant MQTT connection and everytime Home Assistant is not available it try to reconnect every seconds but for about second a cannot turn onoff the lights with buttons or from user interface There is a way to fix this problem Thanks Firmware version Core version dev a e REQUESTED INFORMATION Make sure your have performed every step and checked the applicable boxes before submitting your issue Thank you x Read the Contributing Guide and Policy and the Code of Conduct x Searched the problem in issues x Searched the problem in the docs x Searched the problem in the forum x Searched the problem in the chat x Device used eg Sonoff Basic Sonoff Dual R x Tasmota binary firmware version number used x Precompiled x Selfcompiled x IDE Compiler used x Flashing tools used esptoolpy x Provide the output of command Backlog Template Module GPIO Configuration output here MQT stattasmotalucisalaRESULT NAMEGenericGPIO FLAG BASE MQT stattasmotalucisalaRESULT Module Sonoff Dual R MQT stattasmotalucisalaRESULT GPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO Relay GPIO NoneGPIO Button GPIO Relay GPIO Led iGPIO NoneGPIO NoneGPIO None x If using rules provide the output of this command Backlog Rule Rule Rule Rules output here MQT stattasmotalucisalaRESULT Rule OFFOnceOFFStopOnErrorOFFFree Rules MQT stattasmotalucisalaRESULT Rule OFFOnceOFFStopOnErrorOFFFree Rules MQT stattasmotalucisalaRESULT Rule OFFOnceOFFStopOnErrorOFFFree Rules x Provide the output of this command Status STATUS output here MQT stattasmotalucisalaSTATUS StatusModule FriendlyName TasmotaTasmota TopictasmotalucisalaButtonTopic Power PowerOnState LedState LedMaskFFFFSaveData SaveState SwitchTopic SwitchMode ButtonRetain SwitchRetain SensorRetain PowerRetain MQT stattasmotalucisalaSTATUS StatusPRMBaudrate GroupTopictasmotasOtaUrl restartUptime T StartupUTC T Sleep CfgHolder BootCount SaveCount SaveAddressF MQT stattasmotalucisalaSTATUS StatusFWRVersion tasmotaBuildDateTime T Boot Core SDK dev a eHardwareESP CR MQT stattasmotalucisalaSTATUS StatusLOGSerialLog WebLog MqttLog SysLog LogHostLogPort SSId MASTRO TelePeriod Resolution C SetOption C A MQT stattasmotalucisalaSTATUS StatusMEMProgramSize Free Heap ProgramFlashSize FlashSize FlashChipId FlashMode Features FDAE A B CD BC Drivers Sensors MQT stattasmotalucisalaSTATUS StatusNETHostnametasmotalucisala IPAddress Gateway Subnetmask DNSServer MacDC F Webserver WifiConfig MQT stattasmotalucisalaSTATUS StatusMQTMqttHost MqttPort MqttClientMaskDVES XMqttClientDVES MqttUsermqttuserMqttCount MAXPACKETSIZE KEEPALIVE MQT stattasmotalucisalaSTATUS StatusTIMUTCThu Jan LocalThu Jan StartDSTSun Mar EndDSTSun Oct Timezone Sunrise Sunset MQT stattasmotalucisalaSTATUS StatusSNSTime T MQT stattasmotalucisalaSTATUS StatusSTSTime T Uptime T UptimeSec Heap SleepModeDynamicSleep LoadAvg MqttCount POWER OFFPOWER OFFWifiAP SSIdMASTRO BSSId CE C E EF Channel RSSI Signal LinkCount Downtime T x Provide the output of the Console log output when you experience your issue if applicable Please use weblog for more debug information Console output here MQT Attempting connection MQT Connect failed to rc Retry in sec TO REPRODUCE Steps to reproduce the behavior Configure MQTT connection and turn off MQTT server EXPECTED BEHAVIOUR A clear and concise description of what you expected to happen SCREENSHOTS If applicable add screenshots to help explain your problem ADDITIONAL CONTEXT Add any other context about the problem here Please remember to close the issue when the problem has been addressed PROBLEM DESCRIPTION I have been trying to get a tcrt to work as a reader for the rotating disk on the household power meter This has returns a high signal while most of the disk is rotating and every time the red marked spot passes under the sensor it goes low Problem for every pulse that the sensor sends I get the counter incrementing by two Setup D GPIO is configured as a Counter Counter relevant commands set Backlog CounterDebounce CounterType Counter I was wondering if this might be an issue with the TCRT module so I set up a simple pushbutton on a breadboard and I can get the same effect with this as well BUT With the manual button I can click significantly faster than the dial on the power meter passes but less than the ms debounce time if I click very fast I get the correct single increment of the counter but if I click slowly holding the button for I guess more than half a second I get two counts It feels to me as if counter works as long as the pulses are very short but not if they are a bit slower REQUESTED INFORMATION Make sure your have performed every step and checked the applicable boxes before submitting your issue Thank you x Read the Contributing Guide and Policy and the Code of Conduct x Searched the problem in issues x Searched the problem in the docs x Searched the problem in the forum x Searched the problem in the chat x Device used eg Sonoff Basic Wemos D mini x Tasmota binary firmware version number used x Precompiled x Selfcompiled tried both x IDE Compiler used pio run x Flashing tools used esptoolpy x Provide the output of command Backlog Template Module GPIO MQT stattasmotatest RESULT NAMED MiniGPIO FLAG BASE MQT stattasmotatest RESULT Module D Mini MQT stattasmotatest RESULT GPIO NoneGPIO NoneGPIO Counter GPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO NoneGPIO PWM GPIO None x Provide the output of this command Status MQT stattasmotatest STATUS StatusModule FriendlyName tasmotatest Topictasmotatest ButtonTopic Power PowerOnState LedState LedMaskFFFFSaveData SaveState SwitchTopic SwitchMode ButtonRetain SwitchRetain SensorRetain PowerRetain MQT stattasmotatest STATUS StatusPRMBaudrate SerialConfig N GroupTopictasmotasOtaUrl restartUptime T StartupUTC T Sleep CfgHolder BootCount SaveCount SaveAddressF MQT stattasmotatest STATUS StatusFWRVersion tasmotaBuildDateTime T Boot Core SDK dev a eHardwareESP EXCR MQT stattasmotatest STATUS StatusLOGSerialLog WebLog MqttLog SysLog LogHostLogPort SSId cundriot TelePeriod Resolution C SetOption C A MQT stattasmotatest STATUS StatusMEMProgramSize Free Heap ProgramFlashSize FlashSize FlashChipId EFFlashMode Features FDAE A B CD BC Drivers Sensors MQT stattasmotatest STATUS StatusNETHostnametasmotatest IPAddress Gateway Subnetmask DNSServer MacA CF D D A Webserver WifiConfig WifiPower MQT stattasmotatest STATUS StatusMQTMqttHosthassiolocalMqttPort MqttClientMaskDVES XMqttClientDVESD D A MqttUserhassioMqttCount MAXPACKETSIZE KEEPALIVE MQT stattasmotatest STATUS StatusTIMUTCSat Jan LocalSat Jan StartDSTSun Mar EndDSTSun Oct Timezone Sunrise Sunset MQT stattasmotatest STATUS StatusSNSTime T COUNTERC MQT stattasmotatest STATUS StatusSTSTime T Uptime T UptimeSec Heap SleepModeDynamicSleep LoadAvg MqttCount POWEROFFDimmer FadeOFFSpeed LedTableONWifiAP SSIdcundriotBSSId FC F C Channel RSSI Signal LinkCount Downtime T TO REPRODUCE As described above EXPECTED BEHAVIOUR I would expect the counter to increment exactly per pulse regardless of the length of the pulse 