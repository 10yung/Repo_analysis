 git rmsubmodule foobar If foobar is an empty directory this will delete the superprojects git folder Having this feature is useful when you want to use submodules as content addressed dependencies Currently git submodule add depth hash or git submodule add depth tag doesnt work Theres a bug in rpull where SOMETIMES it will decide to delete all of the submodule directories and then repull them No work is lost the submodules were all up to date each time Ive seen this happen But a LOT of time is lost It takes on the order of minutes to pull all of the submodule repositories over the VPN This is a pretty serious showstopper bug for me What would I need by way of logs to try to track this down My assumption is that the delete submodules that have been removed is screwing up My first thought is that the rewind was rewinding too far but it really shouldnt be rewinding so far that the submodules arent defined looking at the history it should have only rewound a few commits A related bug thats frustrating is that gitsubmoduletools forgets the branches that the submodules are set to We have each submodule set to track particular branches explicitly using gitmodules and so the heuristic that tries to guess the tracked branch is often wrong But at least thats easily fixed Could the fact were specifying branches in gitmodules be breaking something Heres an example of the output of a session that killed the subfolders tmenschSEA projectsSTXSdkOnly git rpull Launched cuserstmenschdevelbinplinkexe P tmensch gituploadpack pkgSTXSdkOnly Launched cuserstmenschdevelbinplinkexe PID remote Counting objects done remote Compressing objects done remote Total delta reused delta Unpacking objects done From sshgitamazoncom pkgSTXSdkOnly a d dd a c featureuberbuild originfeatureuberbuild First rewinding head to replay your work on top of it Fastforwarded featureuberbuild to a c e b e c ecdcf f a a f Launched cuserstmenschdevelbinplinkexe P tmensch gituploadpack pkgAmazonCompositeResult Launched cuserstmenschdevelbinplinkexe PID Launched cuserstmenschdevelbinplinkexe P tmensch gituploadpack pkgAndroidNdkCMakeToolchain Launched cuserstmenschdevelbinplinkexe PID Launched cuserstmenschdevelbinplinkexe P tmensch gituploadpack pkgBoostHeaders Launched cuserstmenschdevelbinplinkexe PID Launched cuserstmenschdevelbinplinkexe P tmensch gituploadpack pkgCurl Launched cuserstmenschdevelbinplinkexe PID 