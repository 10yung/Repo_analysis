Status currently not working completely The framework is in place Looking for early feedback to see if that would be interesting to share Use qemu in VNC server mode and then use vncdotool to drive the installation The goal is to have a booted snapshotted VM that can easily be resumed to get fast startup times qemu takes s to boot a snapshotted Ubuntu VMs If that also works for macOS is means that we can spawn ondemand VMs quickly and have a fresh install to run automated tests for example Usage start installmacOSNGsh in one terminal start automationsh in another follow the instructions once installed start bootmacOSNGsh to start the VM without the install media Howto The current steps in automationsh have been painstakingly recorded manually and tested multiple times Small variances in CPU speed can affect the outcome of some of these steps TODO actually detect the screens vncdotoolss expect seems to be broken actually create a resumable snapshot of the booted VM for some reason the installer now fails on reboot See cap errorpng currently the output image is fairly large GB Is there any way to reduce that to a reasonable size At some point I want to automate all of the installation process with Nix as the driver for the build Those tools dont always exist in the same locations For example in NixOS bash is located under runcurrentsystemswbinbash