listener ListentoFileexpandpathappapis dir only rb do modified added removed modifiedeach do path puts path load path end end listenerstart change some files in appapis dir it puts the change file path but the grape return the old code how can i make it work with grape At least I think its caused by listen Userspitosalasrbenvversions librubygems gemsguard libguardcommanderrb in stop undefined method stop for nilNilClass NoMethodError from Userspitosalasrbenvversions librubygems gemsguard libguardcommanderrb in ensure in start from Userspitosalasrbenvversions librubygems gemsguard libguardcommanderrb in start from Userspitosalasrbenvversions librubygems gemsguard libguardclienvironmentsvalidrb in startguard from Userspitosalasrbenvversions librubygems gemsguard libguardclirb in start from Userspitosalasrbenvversions librubygems gemsthor libthorcommandrb in run from Userspitosalasrbenvversions librubygems gemsthor libthorinvocationrb in invokecommand from Userspitosalasrbenvversions librubygems gemsthor libthorrb in dispatch from Userspitosalasrbenvversions librubygems gemsthor libthorbaserb in start from Userspitosalasrbenvversions librubygems gemsguard libguardarubaadapterrb in execute from Userspitosalasrbenvversions librubygems gemsguard libguardarubaadapterrb in execute from Userspitosalasrbenvversions librubygems gemsguard binguardcore in main I believe listen on JRuby will fall back on a polling implementation currently since most of the adapters require C extensions Specifically I was looking at the Windows adapter which needs the wdm extension on CRuby However JRuby runs on the JDK which has a builtin crossplatform filesystem eventing API Judging by the other adapters it seems like we wouldnt need to write much code to support efficient filesystem monitoring for JRuby on all platforms where the JDK exists which is pretty much all platforms Opening this issue in case someone with more time than me wants to give it a shot When there is many dir try multi thread handle this will make it more quick it fix my problem when my project has a nodemodules dir which have many sub directory auto generate by npm like K npm pkg this will make the guard stuck in listen snapshotsvalueseach do snapshot timedRecordbuild snapshotrecordbuild end when i debug follow to the code it stuck gos here repeat run fastbuilddir and not stop for over minute the time is unacceptable add ignore config to exclude nodemodules is not help change DEFAULTIGNOREDDIRECTORIES to add like DEFAULTIGNOREDDIRECTORIES r git svn hg rbx bundle bundle nodemodules vendorbundle log tmp vendorruby x is not help to exception while processing events Regexp Interrupted Backtrace orgjrubyRubyRegexpjava in Dgitcodehelper partrubylogstash vendorjrubylibrubystdlibpathnamerb in chopbasename Dgitcodehelper partrubylogstash vendorjrubylibrubystdlibpathnamerb in plus Dgitcodehelper partrubylogstash vendorjrubylibrubystdlibpathnamerb in Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblistenqueueop timizerrb in block in squashchanges orgjrubyRubyArrayjava in map Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblistenqueueop timizerrb in squashchanges Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblistenqueueop timizerrb in smooshchanges Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblisteneventco nfigrb in optimizechanges Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblisteneventpr ocessorrb in processchanges Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblisteneventpr ocessorrb in block in loopfor orgjrubyRubyKerneljava in loop Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblisteneventpr ocessorrb in loopfor Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblisteneventlo oprb in waitforchanges Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblisteneventlo oprb in block in setup Dgitcodehelper partrubylogstash vendorjrubylibrubygemssharedgemslisten liblisteninternal sthreadpoolrb in block in add Environment jruby p using logstash guard watch one directory normally when i change file one by one every thing is ok and when i start to change file by using a script to change very fast the guard get the exception below up there Hello When I change the file the changes are not loaded in the docker I change the files to Windows the mounted folder to the docker In Rails without gem listen everything works or when create rails new app skipactiverecord api everything works dockercomposeyml version services db image postgres alpine ports POSTGRESPORTPOSTGRESPORT volumes postgresvarlibpostgresqldata environment POSTGRESUSER POSTGRESUSER POSTGRESPASSWORD POSTGRESPASSWORD POSTGRESDB POSTGRESDB POSTGRESPORT POSTGRESPORT app build context command bash c bundle check bundle install clean rm f tmppidsserverpid bundle exec rails server ports PORTPORT volumes app environment DATABASEURL postgresqlPOSTGRESUSERPOSTGRESPASSWORDPOSTGRESHOSTPOSTGRESPORTPOSTGRESDBpoolPOSTGRESPOOL BUNDLEPATH appvendorrubygems envfile env dependson db volumes postgres Gemfile source gitsourcegithub repo ruby gem rails gem pg gem bootsnap require false gem puma group development test do gem listen gem byebug platforms mri mingw x mingw end gem tzinfodata platforms mingw mswin x mingw jruby If I comment gem listen in Gemfile then an error occurs appgemsgemsbootsnap libbootsnaploadpathcachecoreextkernelrequirerb in require Could not load the listen gem Add gem listen to the development group of your Gemfile LoadError app from appgemsgemsactivesupport libactivesupportdependenciesrb in block in require app from appgemsgemsactivesupport libactivesupportdependenciesrb in loaddependency app from appgemsgemsactivesupport libactivesupportdependenciesrb in require app from appgemsgemsactivesupport libactivesupporteventedfileupdatecheckerrb in block in initialize app from appgemsgemsactivesupport libactivesupportcoreextkernelreportingrb in block in silencewarnings app from appgemsgemsactivesupport libactivesupportcoreextkernelreportingrb in withwarnings app from appgemsgemsactivesupport libactivesupportcoreextkernelreportingrb in silencewarnings app from appgemsgemsactivesupport libactivesupporteventedfileupdatecheckerrb in initialize app from appgemsgemsactivesupport libactivesupporti nrailtierb in new app from appgemsgemsactivesupport libactivesupporti nrailtierb in initializei n app from appgemsgemsactivesupport libactivesupporti nrailtierb in block in classRailtie app from appgemsgemsactivesupport libactivesupportlazyloadhooksrb in block in executehook app from appgemsgemsactivesupport libactivesupportlazyloadhooksrb in withexecutioncontrol app from appgemsgemsactivesupport libactivesupportlazyloadhooksrb in executehook app from appgemsgemsactivesupport libactivesupportlazyloadhooksrb in block in runloadhooks app from appgemsgemsactivesupport libactivesupportlazyloadhooksrb in each app from appgemsgemsactivesupport libactivesupportlazyloadhooksrb in runloadhooks app from appgemsgemsrailties librailsapplicationfinisherrb in block in moduleFinisher app from appgemsgemsrailties librailsinitializablerb in instanceexec app from appgemsgemsrailties librailsinitializablerb in run How to fix this so that the docker loads the changes in the files Thanks Please review usage of DigestMD and migrate to a different hash algorithm that is not disabled in when FIPS is enabled rails server Booting Puma Rails application starting in development Run rails server h for more startup options md dgstc OpenSSL internal error assertion failed Digest MD forbidden in FIPS mode Aborted Im working on a Rails app and developing on Windows I got advice to add wdm to my Gemfile and did as instructed but this resulted later in a problem when deploying the same Rails app on a Linux machine where bundler complained You are trying to install in deployment mode after changing your Gemfile Run bundle install elsewhere and add the updated Gemfilelock to version control If this is a development machine remove the usrsrcappGemfile freeze by running bundle config delete frozen You have deleted from the Gemfile wdm I fixed the issue by changing my Gemfile diff gem wdm if Gemwinplatform gem wdm platforms x mingw From what I understand that way bundler knows that the gem is only needed on windows and can be smart about it Maybe you could update the advice message that you display However the platform symbol x mingw may be different for each RubyonWindows install In debugging why I no longer get any resonse from Listen when touching files in a Ubuntu docker container Ive discovered that rbinotify sees a modify event but this is NOT in the list of events that the ListenAdapterLinux listens to according to linuxrb and linuxrb What is the reasoning behind excluding the modify event And is this affecting anyone else or is there something unique to my setup where I am only actually seeing those events generated