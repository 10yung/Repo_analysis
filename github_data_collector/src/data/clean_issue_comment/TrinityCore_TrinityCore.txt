Changes proposed Move script from C to SAI Target branches Issues addressed Tests performed Works as intended Known issues and TODO list Notes Enable the setting Allow edits from maintainers when creating your pull request If this PR only contains SQL files open a new issue instead and post or link the SQL in the issue When adding new SQL files name them dbnamesql to reduce the chance of possible merge conflicts Description PathGeneratorBuildPolyPath currently creates a points path if start and end positions are on the same poly It should instead create a smooth path in the same way PathGeneratorBuildPointPath works and in particular PathGeneratorFindSmoothPath with a limited distance and slope between each point bf e cf c ccb e da d bfa d tried to fix it but all the closestPointOnPolyBoundary calls caused additional points on the border to be added to the path Current behaviour PathGeneratorBuildPolyPath currently creates a points path if start and end positions are on the same poly Expected behaviour It should instead create a smooth path in the same way PathGeneratorBuildPointPath works and in particular PathGeneratorFindSmoothPath with a limited distance and slope between each point Steps to reproduce the problem place character B on positions go xyz then place character A with charge on go xyz then make character A charge character B he will go underground kMVRy u Branches f cd bf f e afc cdee adfcf de Operating system Windows Notes This template is for problem reports For other types of report edit it accordingly For fixes containing C changes create a Pull Request Current behaviour Ulduar Xt Deconstructor seems to have serious issues When he exposes his heart he starts moving and when switching tanksagro he instantly resets Expected behaviour The boss should not move at all if the heart is exposed otherwise the encounter cannot progress or be completed Steps to reproduce the problem Go to Ulduar Engage Xt trigger Expose Heart Watch how he starts moving around Branches a c df e ddf d dcb aacd a Operating system CHANGEME OS Windows x Server Edition Changes proposed Changed script so that it uses gossips from DB Also moved it to new registration system Target branches Issues addressed Tests performed Works as intended Known issues and TODO list Notes Enable the setting Allow edits from maintainers when creating your pull request If this PR only contains SQL files open a new issue instead and post or link the SQL in the issue When adding new SQL files name them dbnamesql to reduce the chance of possible merge conflicts Add default visibility range with distance override Add Infinite gameobject check Target branches master x x master Issues addressed Closes insert issue tracker number Description We need new actions one that allow to change light and an other to change the weather For OVERRIDELIGHT packet field names are AreaLightID OverrideLightID TransitionMilliseconds For OVERRIDEWEATHER packet field names are State Grade Unk Byte Example of quest OVERRIDELIGHT OVERRIDEWEATHER Branches Both Changes proposed The current movement update logic is interrupting auras before movement generators had their turn with updating their movement state This was leading to the edge case issue that auras that should get interrupted by movement were falsely removed because the unit was still considered as moving while it might have stopped in the same update tick The most prominent case is the interrupting of instant cast channeled spells during chase movement We now wait until the movement generators had their shot to update their movement so the nasty dictatorship of UpdatePosition comes to an end Target branches master x master Issues addressed Closes insert issue tracker number fixes properly this time Tests performed Does it build tested ingame etc tested ingame on my branch Should be the same result on Description The SAI action Activate object doesnt work with gob type trap Example is a trap that cast the spell once activated if you spawn the gob and use the gm command gob activate guid it will cast the spell But this sai will not sql UPDATE gameobjecttemplate SET AINameSmartGameObjectAI WHERE entry DELETE FROM smartscripts WHERE entryorguid INSERT INTO smartscripts entryorguid sourcetype id link eventtype eventphasemask eventchance eventflags eventparam eventparam eventparam eventparam actiontype actionparam actionparam actionparam actionparam actionparam actionparam targettype targetparam targetparam targetparam targetx targety targetz targeto comment VALUES go On update activate Steps to reproduce the problem Use the SAI above gob add temp Notice nothing happen The SAI action Branches TC rev hashcommit rev Description If you miss all attacks against a dummy you will get out of combat then you will reenter combat with the next swing even if it miss Steps to reproduce the problem connect a low level char go c Start attacking Branches TC rev hashcommit rev e Changes proposed It was discussed in and closed because was not blizzlike But looks like its blizzlike As you can see here and here Video was posted on youtube in but theyre recorded in in Blizzards realms Original video was posted in warcraftmovies by this guy Check in part warlock uses devour magic in rogue and resummon pet to try dispel again Check in part Pet is dead with Spell Lock cooldown running Warlock resummon pet and Spell lock get reset Target branches Issues addressed Updates Tests performed Builded and tested in game 