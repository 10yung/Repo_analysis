ping f test and packet loss Open kni packet loss test sudo ping f PING bytes of data C ping statistics packets transmitted received packet loss time ms rtt minavgmaxmdev ms ipgewma ms Hey Fstack Geeks I am New to Fstack I am trying to make tcp connection via Fstack over dpdk The example given in Fstack package creates server but when i am trying to connect that port from same or another pc It is not responding anythingStill in netstat it is showing that server is listening but i am not able to connect from my client application I tried client application with n without eg Winshock Client app Fstack but nothing good Here is my fstack client code include stdioh include sysioctlh include stdlibh include stdinth include stringh include stringsh include systypesh include syssocketh include arpaineth include errnoh include asserth include ffconfigh include ffapih include ffepollh define MAXEVENTS struct epollevent ev struct epollevent events MAXEVENTS int epfd int sockfd char html HTTP OK r n Server FStack r n Date Sat Feb GMT r n ContentType texthtml r n ContentLength r n LastModified Tue Feb GMT r n Connection keepalive r n AcceptRanges bytes r n r n DOCTYPE html r n html r n head r n titleWelcome to FStacktitle r n style r n body r n width em r n margin auto r n fontfamily Tahoma Verdana Arial sansserif r n r n style r n head r n body r n h Welcome to FStackh r n r n pFor online documentation and support please refer to r n a href r n pemThank you for using FStackemp r n body r n html struct sockaddrin myaddr int loopvoid arg Wait for events to happen int nevents ffepollwaitepfd events MAXEVENTS int i for i i nevents i Handle new connect if events i datafd sockfd while int nclientfd ffacceptsockfd struct linuxsockaddr myaddr sizeofmyaddr if nclientfd break Add to event list evdatafd nclientfd evevents EPOLLIN if ffepollctlepfd EPOLLCTLADD nclientfd ev printfffepollctl failedd s n errno strerrorerrno break else if events i events EPOLLERR Simply close socket ffepollctlepfd EPOLLCTLDEL events i datafd NULL ffcloseevents i datafd else if events i events EPOLLIN char buf sizet readlen ffread events i datafd buf sizeofbuf ifreadlen ffwrite events i datafd html sizeofhtml else ffepollctlepfd EPOLLCTLDEL events i datafd NULL ffclose events i datafd else printfunknown event X n events i events int mainint argc char argv ffinitargc argv sockfd ffsocketAFINET SOCKSTREAM printfsockfdd n sockfd if sockfd printfffsocket failed n exit int on ffioctlsockfd FIONBIO on bzero myaddr sizeofmyaddr myaddrsinfamily AFINET myaddrsinport htons myaddrsinaddrsaddr inetaddr int ret ffbindsockfd struct linuxsockaddr myaddr sizeofmyaddr if ret printfffbind failed n exit ret ffconnectsockfd struct linuxsockaddr myaddr sizeofmyaddr ffconnect if ret printffflisten failed n exit assertepfd ffepollcreate evdatafd sockfd evevents EPOLLIN ffepollctlepfd EPOLLCTLADD sockfd ev ffrunloop NULL return ITNOA I think it is good to port to new FreeBSD release for minor improvement in tcpip stack Hi I tried to test ffsendmsg After first ffsendmsg the msgiov in struct msghdr are modified eg msgiov is a iov array and the char data in iov i iovbase are reset to and iov i iovlen becomes The internal data of struct msghdr are not changed in generic linux socket Is it a bug in fstack or and my misuse of ffsendmsg Thanks Here is the server and client codes using sendmsg and recvmsg you try your best to use DPDK and also port freebsd stack then in the final step the old application use readwrite to do memory copy oh bad thing why not modify the application use mbuf directly to avoid memory copy gives a good API to do it Hello I am investigating how the parameters in configini impact on the performance The tso is set to be by default currently I notice the commit TSO has a problem when enable TSO Is the issue resolved or not If not why does TSO degrade the fstacks performance Thanks Hello I have simple setup to test the performance of Redis with fstack v Two PCs equipped with one GbE NIC Intel X AT are directly connected by an Ethernet cable Test use fstack redis v lcore and x MB hugepages The PC A ip is binded with igbuio driver and run redisserver by redisserver conf configini proctypeprimary procid etcredisredisconf Test use offcial redis v The PC A ip is binded with igb driver and run redisserver by redisserver etcredisredisconf The PC B use generic linux network stack runs the command to test the two servers performance redisbenchmark t setget h p d n c N However I got the results fstack redis official redis num of clients SET ReqSec GET ReqSec fstack redis official redis num of clients SET ReqSec GET ReqSec fstack redis official redis num of clients SET ReqSec GET ReqSec The fstack Redis performance is similar to official Redis Is this expected Or is there any setting incorrect By the way I also test the fstack nginx and official nginx fstack nginxs performance is roughly three times better than official nginx Thans Hello I have a java program which sends many httphttps requests which deployed on aws So in this scenario does it possible to use fstack to decrease reply latency Thanks Rust is a memorysafe language suitable for low level programming Does fstack support keepalived