LP is not defined default when build for armv line causes a error It might be ifdef LP instead of if LP objc implementation UIViewController Hook voidload struct rebinding requestbinding CFReadStreamCreateForHTTPRequest wtCFReadStreamCreateForHTTPRequest void originalCFReadStreamCreateForHTTPRequest struct rebinding rebs requestbinding rebindsymbolsrebs static CFReadStreamRef wtCFReadStreamCreateForHTTPRequestCFAllocatorRef nullable alloc CFHTTPMessageRef request CFReadStreamRef wtCFReadStreamCreateForHTTPRequestCFAllocatorRef nullable alloc CFHTTPMessageRef request NSURL url bridge NSURL CFHTTPMessageCopyRequestURLrequest NSString method bridge NSString CFHTTPMessageCopyRequestMethodrequest CFReadStreamRef readStream originalCFReadStreamCreateForHTTPRequestalloc request return readStream static CFReadStreamRef originalCFReadStreamCreateForHTTPRequestCFAllocatorRef CFHTTPMessageRef end Thiss my code bind CFNetwork CFReadStreamCreateForHttpRequest function I want monitoring network status but i dont recive result in wtCFReadStreamCreateForHTTPRequest function please help me thanks CIFilter CIQRCodeGenerator qrFilter CIFilter QRCodeGenerator Thread EXCBADACCESS code address x b rebindsymbolsforimagerebindingshead header slide Thread EXCBADACCESS code address x b rcdperformrebindingwithsectionrebindings sect slide symtab strtab indirectsymtab Thread EXCBADACCESS code address x b symtabcmdsymoff is relative to linkeditsegmentfileoff so the computation should reflect the relationship its more instinctive and easy to understand I try to hook malloczonemalloc but I get crashWhy void mymalloczonemallocmalloczonet zone sizet size printfCalling real malloc zu n size return malloczonemalloczone size void mymalloczonefreemalloczonet zone void ptr printfCalling real free zu nmallocsizeptr return malloczonefreezone ptr rebindsymbolsstruct rebinding malloczonemalloc mymalloczonemallocvoid malloczonemalloc malloczonefree mymalloczonefreevoid malloczonefree objectivec static int origstrlenconst char s int mystrlenconst char s printf n return origstrlens int mainint argc const char argv autoreleasepool strlens struct rebinding strlenrebinding strlen mystrlen void origstrlen rebindsymbolsstruct rebinding strlenrebinding char str HelloWorld strlenstr hello I think the old method strlens should be called before calling the rebindsymbols method to ensure that lazy bind is already the real address right What crash When I hook fonction objectsetClass then call objectsetClass it works but when I call NSString stringWithFormat It crash Demo code c import UIKitUIKith import fishhookh import objcruntimeh Class Nullable origobjectsetClassid Nullable obj Class Nonnull cls Class Nullable myobjectsetClassid Nullable obj Class Nonnull cls return origobjectsetClassobj cls int mainint argc char argv autoreleasepool rebindsymbolsstruct rebinding objectsetClass myobjectsetClass void origobjectsetClass objectsetClass NSObjectclass NSString stringWithFormat return Version less than is valid I hook socket relevant c function in my project like getaddrinfoconnectsocket and so on When I open address sanitizer for debug I found some error like this It seems that both address sanitizer and fishhook hooked getaddrinfo and result in a conflict The following WWDC video said sanitizer hook standard c library reference 