Hello Please add another function to ServeFiles with BasicAuth go routerServeFilesstaticfilepath httpFileSystemhttpDirstaticFolder compatible with this go routerGET BasicAuthIndex user pass to avoid two different middleware Why Because I want to use middleware in the way which is similar to nethttp How to fix I added method of ServeHTTP to httprouterHandle Then you can use middleware like this func myHandlerw httpResponseWriter r httpRequest ps Params fmtPrintlnsome process func middlewareh httprouterHandle httprouterHandle return funcw httpResponseWriter r httpRequest ps Params fmtPrintlnsome process hServeHTTPw r ps func main r httprouterNew rGETroute middlewaremyHandler Additional Created test At the moment param a fparam btail matches route headparam param tail instead of param tail Theres no way we can have a in a URL param Being able to serve static files at the root indexhtml while still allowing other routes is not covered by the readme None of the issues Ive read cover this either Im posting a working solution here for those looking Perhaps this can be added to the readme go router httprouterNew routerGET funcw httpResponseWriter r httpRequest ps httprouterParams httpFileServerhttpDirtemplatesServeHTTPw r routerGETapi funcw httpResponseWriter r httpRequest ps httprouterParams httpListenAndServe router This solves the panic api in new path api conflicts with existing wildcard filepath in existing prefix filepath error when using the recommended routerServeFilesfilepath httpDirtemplates function Ive built some extras around httprouter which would work much nicer if Lookupmethod path would include the HandleOPTIONS functionality that ServeHTTP has Use Case I have user permission based routing When an options request comes in it doesnt work the way Id like it to Heres an example appUsers httprouterNew appUsersGETapiuser someHandler adminUsers httprouterNew adminUsersGETapiuser someHandler adminUsersDELETEapiuser someHandler admin only handler muxer Mux appRouter appUsers adminRouter adminUsers func m Mux ServeHTTP if userIsAppUser userIsAdminUser handler params mappRouterLookuprMethod rPath if handler nil handlerServeHTTPw r params return madminRouterServeHTTPw r return if userIsAppUser mappRouterServeHTTPw r return if userIsAdminUser mappRouterServeHTTPw r return httpNotFoundw r For some reason the requests response object is nil even when using defer How do I log the status code the endpoint resulted with func LogHandlerh httprouterHandle httprouterHandle return funcw httpResponseWriter r httpRequest ps httprouterParams lc ToContextrContext SetupLogrus requestID rHeaderGetREQUESTID if requestID requestID stringcomposeRequestID rHeaderSetREQUESTID stringrequestID f setupRequestFieldsrContext w r deletef status AddFieldslc f req rWithContextlc hw req ps defer func l Extractlc lWithFieldstatus reqResponseStatusCodeInfofs s stringrMethod rURL Hi I met a issue to use this router Im trying to add a prometheus midware into our endpoint implementation But our endpoint are using httprouter Then when I tried to add this midware into existing code base I cannot find a good way to integrate both together golang router httprouterNew routerGEThello rHello func r configuration Hellow httpResponseWriter req httpRequest ps httprouterParams func InstrumentHandlerFuncname string handler httpHandlerFunc httpHandlerFunc counter prometheusNewCounterVec do something duration prometheusNewHistogramVec do something return promhttpInstrumentHandlerDurationduration promhttpInstrumentHandlerCountercounter handler What I need is I need pass a httprouterHandle endpoint fucntion pointer into a midware function and generate a new httprouterHandle Then I can use this httprouterHandle to register it into the router When the requests comes it will call that midware first then call the real endpoint golang Below is what I want to do func InstrumentHandlerFuncname string handler httprouterHandle httprouterHandel routerGethello InstrumentHandlerFunchello rHello I was able to serve a react app which I created with createreactapp but how I serve an app which is created with createreactapp and has react router Is this possible I am using httprouter in a project and I now need to make it work with the go http server to serve image files from a few different directories for example images in path rootpath toimagespart images in path rootpath toimagespart images in pathn rootpathntoimagespartn In my code I have the following working in supporting what I wanted to do but I was wondering if there is any negative impact on my http server using httprouter go r httprouterNew imagePaths stringrootpath toimagespart coolmejpeg rootpath toimagespart png rootpath toimagespart imagenjpeg get the code executive path ex err osExecutable if err nil panicerr for idx imgPath range imagePaths if rel err filepathRelex imgPath err nil logrusErrorferr in getting relative path v n err else logrusInfoffor image s rel dir is s n imgPath filepathDirrel rServeFilesfmtSprintfstaticdfilepath idx riceMustFindBoxfilepathDirrelHTTPBox here create many different static paths to httprouter httpListenAndServe r 