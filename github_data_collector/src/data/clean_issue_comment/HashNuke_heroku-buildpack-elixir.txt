if you specify OTP for instance instead of using versioning to pull the closest match the build fails If only a Major version or only a Major and Minor version are specified and an exact match isnt found the build should use the most uptodate version for that MajorMinor combination It was really surprising that symversioning isnt followed in the absence of an exact match and instead the build just fails If a Patch version was specified and not found THEN it should fail update elixir to It seems the last merge broke the OTP release path I just set up a new app on Heroku bad timing and it cant find the OTP release it is looking here This commit d a f d e a fa e c bf a ada b just changed the format of the URL which now includes the current stack heroku in my case and the releases dont currently exist there Thanks for this buildpack This should resolve We have been running an Elixir based site on Heroku for quite some time We make updates to the site every few months We last made an update back in December and did not have any issues Unfortunately we recently tried to publish a new update for our site and ran into a strange build error Weve tried a number of things to resolve We did not change anything with respect to the Heroku stack or build packs Here is the error npm ERR Linux aws npm ERR argv tmpbuild a f c e bf b b herokunodebinnode tmpbuild a f c e bf b b herokunodebinnpm run deploy npm ERR node v npm ERR npm v npm ERR missing script deploy npm ERR npm ERR If you need help you may report this error at npm ERR npm ERR Please include the following file with any support request npm ERR tmpbuild a f c e bf b b npmdebuglog Push rejected failed to compile Phoenix app Push failed This is on Herokus cedar stack Grateful for any help which will then be picked up heroku and contain all the fixes since v Oct commits HashNuke src sh remote Stack heroku remote Erlang remote Elixir sh cat elixirbuildpackconfig erlangversion elixirversion alwaysrebuildfalse runtimepathapp git push heroku master remote Fetching app dependencies with mix remote fatal not a git repository or any parent up to mount point remote Stopping at filesystem boundary GITDISCOVERYACROSSFILESYSTEM not set GITDIR is empty gitdirvalue is also empty There is no git directory in buildpath libappfuncssh sh function appdependencies Unset this var so that if the parent dir is a git repo it isnt detected And all git operations are performed on the respective repos local gitdirvalueGITDIR unset GITDIR cd buildpath outputsection Fetching app dependencies with mix mix depsget only MIXENV exit export GITDIRgitdirvalue cd devnull In order to be able to use Heroku CI properly I had to do the following Make use of the fork because erlang was not properly getting installed Set MIXENV properly in my appjson like below environments test env MIXENV test Im happy to issue a PR to make unnecessary if you can point me to where to make the change The error I got was not obvious so it took me a while to realize MIXENV was set to prod instead of test HashNuke To reproduce git clone cd herokubuildpackelixirtest Add the following appjson file name buildpacktest scripts env formation addons plan herokupostgresql buildpacks url git add appjson git commit m Add appjson heroku create buildpack git push heroku master not sure if needed Create a Github repo and associate it to the CI of your new Heroku app git push origin master should trigger the test runner heroku cidebug pipeline pipelinename In the remote prompt erl Current behavior bash erl command not found Expected behavior Erlang shell should start I see the following error in my Heroku CI run test output any idea whats going on cp cannot create directory tmpcache hexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhex File name too long cp cannot create regular file tmpcache hexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexhexcacheets File name too long 