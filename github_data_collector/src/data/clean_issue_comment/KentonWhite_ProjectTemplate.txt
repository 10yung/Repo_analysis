 Report an Issue Request a Feature Im submitting a Check one with x x bug report feature request Issue Severity Classification Check one with x Severe Moderate x Low Severe ProjectTemplate is unable to operate or caused other critical software to fail and there is no acceptable way to work around the problem This condition requires an immediate solution Moderate Significant impact ProjectTemplate is usable but is limited Work around exists but requires significant effort Incompleteincorrect documentation poor or unexplained log messages where no clear error was evident side effect is observed which does not significantly harm operations etc Low Minimal impact Issue is an annoyance but I can get work done This indicates the problem causes little impact on operations or that a reasonable circumvention to the problem has been implemented Usability quirks requires minor documentation updates or could be enhance with some minor changes to the function Expected Behavior When following the guide on unit testing the flow of script should include loadproject prior to stubtests or will return an error libraryProjectTemplate createproject setwdnewproject stubtests Generating stub tests in testsautogeneratedR Error in getconfig envir TargetEnv object config not found Current Behavior Returns error if steps are followed in order Steps to Reproduce Behavior As above Possible Solution include loadproject in the example codeoutput to the guide Report an Issue Request a Feature Im submitting a Check one with x x bug report feature request Issue Severity Classification Check one with x Severe Moderate x Low Severe ProjectTemplate is unable to operate or caused other critical software to fail and there is no acceptable way to work around the problem This condition requires an immediate solution Moderate Significant impact ProjectTemplate is usable but is limited Work around exists but requires significant effort Incompleteincorrect documentation poor or unexplained log messages where no clear error was evident side effect is observed which does not significantly harm operations etc Low Minimal impact Issue is an annoyance but I can get work done This indicates the problem causes little impact on operations or that a reasonable circumvention to the problem has been implemented Usability quirks requires minor documentation updates or could be enhance with some minor changes to the function Expected Behavior When following the guide to add a path to the philapddb file I created in PhilaPDdatabase I expected the quoted string databasephilapddb to be a reasonable value for the dbname argument to locate the database as this is the convention for most pathtoobject scripts in R Instead I needed to unquote the string to databasephilapddb Current Behavior With the path in quotes the loadproject functions ends with Error Could not connect to database unable to open database file Steps to Reproduce Behavior Follow guide create a folder called database and place the database file in there Create the same sql file but with dbname as databasephilapddb type sqlite dbname databasephilapddb table Version Information R R studio ProjectTemplate Possible Solution If escape keys a required to unquote the quotes can a grepl assist for the sql reader function Report an Issue Request a Feature Im submitting a Check one with x bug report x feature request Issue Severity Classification Check one with x Severe Moderate x Low Expected Behavior I have a lot of files in src When I run them all runproject the output gets very messy since the same information repeats from loadproject in every file Therefore I usually start my scripts with suppressMessageslibraryProjectTemplate loadproject It would be nice however if I could omit suppressMessages here It is sometimes nice to get the output when running individual script files But then it would be nice to have an argument like quiet or verbose to use in runproject for the same behanviour Current Behavior A lot of output that is hard to grasp Steps to Reproduce Behavior runproject Version Information R ProjectTemplate Report an Issue Request a Feature Im submitting a x feature request Issue Severity Classification x Low Expected Behavior If I have an R Notebook Rmd in the reports subfolder or the src subfolder and in that document I call r libraryProjectTemplate loadproject then this should load the project Current Behavior Calling the exact same code from a R file and a Rmd file in RStudio has different behaviour The former works the latter does not This is because the latter always runs code in the files parent directory Steps to Reproduce Behavior Create a new ProjectTemplate project Create a new R Notebook document and save it in the reports subfolder In the first chunk include r libraryProjectTemplate loadproject Version Information R ProjectTemplate RStudio Possible Solution Currently the loadproject function fails if it is not run from the correct folder Would it be possible to add an argument to the loadproject function where the user can specify the path to the project folder defaulting to getwd Alternatively the package rprojroot has functionality to explore the file system by successively checking each parent folder to see if a condition is met can loadproject use this to find the ProjectTemplate project folder assuming it is a parent of the current working folder Maybe Ive misunderstood In the depends list in the cache function when I put in a variable that does not exist generally by accident the error I get is Error in if nrowdependshash argument is of length zero Unless you know the mistake youve made its hard to tell from this error message that youve made a typo in the your depends variables Would probably save some head scratching if the error was something more like Error variable x in dependencies is not found in the current environment PS Here is some code that will generate the error for me cachenewvar x depends coldvar Report an Issue Request a Feature Autoloading data creates a cache entry with the name data instead of the name of the dataset Im submitting a Check one with x x bug report feature request Issue Severity Classification Check one with x Severe x Moderate Low Severe ProjectTemplate is unable to operate or caused other critical software to fail and there is no acceptable way to work around the problem This condition requires an immediate solution Moderate Significant impact ProjectTemplate is usable but is limited Work around exists but requires significant effort Incompleteincorrect documentation poor or unexplained log messages where no clear error was evident side effect is observed which does not significantly harm operations etc Low Minimal impact Issue is an annoyance but I can get work done This indicates the problem causes little impact on operations or that a reasonable circumvention to the problem has been implemented Usability quirks requires minor documentation updates or could be enhance with some minor changes to the function Expected Behavior loadproject creates a cache entry for every file in data with the corresponding name of the file in data What do you think should happen Current Behavior loadproject creates a cache entry with the name data ignoring the original name of the file in data What currently happens Steps to Reproduce Behavior How can we reproduce the behavior loadproject with a file in data OPTIONAL Screenshots grafik Insert screenshots here Version Information r Package Version ProjectTemplate R version What are the versions of R ProjectTemplate and other dependencies Possible Solution Any ideas how to solve the problem Best regards AljoLe Report an Issue Request a Feature Im submitting a Check one with x bug report x feature request Issue Severity Classification Check one with x Severe x Moderate Low Expected Behavior When a file in data is changed but the resulting variable exists in the cache the file is not reloaded Current Behavior Currently caching of the data is only done after the variable is loaded into memory and cached variables are not reloaded if the original file was changed Version Information What are the versions of R ProjectTemplate and other dependencies Possible Solution Update the cache function to also include a file argument similar to the depends argument If the digest of the file has changed reload the file and rebuild the cache This could be done inside the reader as follows using the reader signature R csvreader functionfilename variablename cachevariablename CODE readcsvfilename file filename This way assigning the variable in global namespace is left to cache the CODE argument is evaluated as it is normally inside the cache function and is only updated if the dependency in the file argument changed How do you guys feel about this I think that ProjectTemplate should be a solid and reliable basis for building data analysis projects If a user creates a project with a set of data import functions in place we dont want that data analysis project to break six months or a year later because the data import rules have changed We want ProjectTemplate to be a solid basis for building projects For many years ProjectTemplate has provided this solid basis Specifically I think that any change to data import rules should not break existing data analysis projects In contrast converting dataframes to tibbles breaks existing code converting to tidyverse data import functions breaks existing code see post on readcsv tidyverse As a general rule data import functions have to make a wide range of choices around variable names variable types row names na conversion tibbles versus dataframes stringsfactors use of metadata and so on Thus the starting assumption should be that whenever you change a data import function you will break existing code If the tests are not breaking its more likely that the tests are not thorough enough That said several new data import functions do offer benefits readxl removes dependencies on java perl etc readr is faster than readcsv Possible resolutions So what happens if the ProjectTemplate community decides for example that readxl would be a better excel import function because it does not require dependencies Use project version number to choose data import function I suppose the code could have something conditional that looks at the configversion Thus any modification to the data import rules would involve having a condition so that the new import function only applies to projects with a later version Implement a function like archiveproject This could create some kind of localised version of ProjectTemplate in a folder in the project Im not quite sure how this would work Anyway I dont really have the solution to this tension between improving data import functions and maintaining backwards compatibility But I just thought Id post this to emphasise the value of backwards compatibility and stability as a counterpoint to the desire to improve data import functions Stub bugreport will append to later While changing the reader signature a bug was introduced that the sheetnames were incrementally appended to the variable name instead of to the workbook name So a file Filexlsx with sheets Sheet and Sheet resulted in variable names FileSheet and FileSheet Sheet Report an Issue Request a Feature Im submitting a Check one with x bug report x feature request Issue Severity Classification Check one with x Severe Moderate x Low Severe ProjectTemplate is unable to operate or caused other critical software to fail and there is no acceptable way to work around the problem This condition requires an immediate solution Moderate Significant impact ProjectTemplate is usable but is limited Work around exists but requires significant effort Incompleteincorrect documentation poor or unexplained log messages where no clear error was evident side effect is observed which does not significantly harm operations etc Low Minimal impact Issue is an annoyance but I can get work done This indicates the problem causes little impact on operations or that a reasonable circumvention to the problem has been implemented Usability quirks requires minor documentation updates or could be enhance with some minor changes to the function Expected Behavior An easy console driven method to quickly add libraries to globaldcf which would utilize autocomplete for the package names Current Behavior Today as we work on the projects adding a library to the globaldcf file is a manual process When many R files are open and the open folder is different its a cumbersome workflow to open globaldcf and add the library name without any autocomplete option Results in spelling mistakes like I did today rtsne instead of Rtsne Possible Solution Something along the lines of the devtoolsusepackage which can be called from command line as well as will autocomplete package names while typing read about it Example usage from the R console call ProjectTemplateaddpackagelattice changes the globaldcf from this loadlibraries TRUE libraries reshape plyr tidyverse stringr lubridate asfactors TRUE to this loadlibraries TRUE libraries reshape plyr tidyverse stringr lubridate lattice asfactors TRUE If the package already exists in the list then the user can be notified and no actions taken