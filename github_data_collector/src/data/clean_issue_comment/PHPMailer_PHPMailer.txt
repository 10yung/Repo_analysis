Hey first of all I have to see i have been using this code for sometime now and its really great I am trying to load PHPmailer into a system and load it from the main system file which will load globally on all the files so i can use and send mails on all files So let say the main page loading everything is indexphp and i load at the top of the document this code use PHPMailer PHPMailer PHPMailer use PHPMailer PHPMailer SMTP use PHPMailer PHPMailer Exception requireonceincludephpmailerautoloadphp Now inside indexphp i include other files that send mails Let say one of the files is secondphp and from there i send the mail I found that if i do not reuse this code at the top of secondphp file I am keep getting an error use PHPMailer PHPMailer PHPMailer use PHPMailer PHPMailer SMTP use PHPMailer PHPMailer Exception Is it possible that i have to keep using it at the top of each file i include even due i load them on the main file indexphp seems like its very inefficient and messy as i have to load them at the top of the document and not with the send mail code In the older versions of PHPMailer it wasnt required and it was easier to use Will appreciate if you can tell me if there is a way to go around that instead of including the same code over and over again Thanks use PHPMailer PHPMailer PHPMailer use PHPMailer PHPMailer Exception require vendorautoloadphp mail new PHPMailertrue try mailSMTPDebug mailisSMTP mailHost mailwtbcomz mailSMTPAuth true mailUsername xxxxxxxx mailPassword xxxxxxxxxx mailSMTPSecure tsl mailPort mailsetFromxxxx same as username w mailaddAddresscrackeddcode gmailcom mailisHTMLtrue mailSubject Subject mailBody HTML message body in bboldb mailAltBody Body in plain text for nonHTML mail clients mailsend echo Mail has been sent successfully catch Exception e echo Message could not be sent Mailer Error mailErrorInfo w If nonnull value is passed sets whether exceptions are thrown for errors Always returns the current exception setting I have a system that sends an email to a mailing list the system is configured with phpmailer and the account is gmail My problem is that sometimes it sends me some emails correctly and suddenly it gives SMTP error This is the code use PHPMailer PHPMailer PHPMailer use PHPMailer PHPMailer SMTP mail new PHPMailer mailisSMTP mailSMTPDebug SMTPDEBUGSERVER mailHost smtpgmailcom mailPort mailSMTPSecure PHPMailerENCRYPTIONSTARTTLS mailSMTPAuth true mailUsername examplegmailcom mailPassword XXXXX mailsetFromexamplegmailcom mailSubject Test whilerow mysqlifetchassocres email row email mailAltBody Example mailaddAddressemail if mailsend echo Mailer Error mailErrorInfo else echo Message sent At first it does not work sending only email but after a while it worked without changing any of the programming then I tried to send the whole list and over emails failed again I dont know why this happens Hi I have a question regarding an issue sending emails from a smartphone Usually when I send emails from the desktop it works fine however when I send it from the phone it keeps sending forever without actually sending Below my code php use PHPMailer PHPMailer PHPMailer use PHPMailer PHPMailer SMTP use PHPMailer PHPMailer Exception require phpmailersrcPHPMailerphp require phpmailersrcSMTPphp require phpmailersrcExceptionphp useExceptions true mail new PHPMailer useExceptions mailIsHTMLtrue mailIsSMTP mailCharSet UTF mailSMTPDebug mailSMTPAuth TRUE mailSMTPOptions ssl allowselfsigned true mailSMTPSecure PHPMailerENCRYPTIONSTARTTLS mailPort mailUsername mailonecom mailPassword mailHost sendonecom mailMailer smtp mailFrom mailonecom mailFromName POST userName mailAddReplyToPOST userEmail POST userName mailAddAddressmailonecom mailSubject POST subject mailWordWrap mailMsgHTML POST content POST content mailBody body styleborder px solid B margin px boxsizingborderbox padding px px h stylecolor B fontsize pxNombre del Aplicanteh p stylecolor Bfontsize px POST userName pbrh stylecolor B fontsize pxEmail del Aplicanteh p stylecolor Bfontsize px POST userEmail pbrh stylecolor B fontsize pxNumero Telefonico del aplicanteh p stylecolor Bfontsize px POST userNumber pbrh stylecolor B fontsize px POST firstQuestion h p stylecolor Bfontsize px POST content pbrh stylecolor B fontsize px POST secondQuestion h p stylecolor Bfontsize px POST content p body ifisarrayFILES mailAddAttachmentFILES attachmentFile tmpname FILES attachmentFile name ifmailSend echo p classerrorProblem in Sending Mailp else echo p classsuccessContact Mail Sentp Since there are many issues reported due to ill configuration of signing it might be helpful to add some prechecks during the signing routine and to add a header X header indicating problems in such a way that it is helpful for the developer but not exposing any security details Since these headers show up in spam testing reports even when debug is not active on the server running PHPMailer it will give an indication When I send email with digital signature SMIME the signature considered to be not valid Please check these things before submitting your issue x Read the error message youre seeing it often tells you what is wrong and may contain useful links instructions x Make sure youre using the latest version of PHPMailer x Check that your problem is not dealt with in the troubleshooting guide especially if youre having problems connecting to Gmail or GoDaddy x Include sufficient code to reproduce your problem x If youre having an SMTP issue include the debug output generated with SMTPDebug set x If you have a question about how to use PHPMailer rather than reporting a bug in it tag a question on Stack Overflow with phpmailer but search first Problem description Code to reproduce php require DIR vendorautoloadphp use PHPMailer PHPMailer PHPMailer use PHPMailer PHPMailer SMTP use PHPMailer PHPMailer Exception mail new PHPMailertrue try Server settings mailSMTPDebug SMTPDEBUGSERVER Enable verbose debug output mailisSMTP Send using SMTP mailHost somehost Set the SMTP server to send through mailSMTPAuth true Enable SMTP authentication mailUsername somemailsomehost SMTP username mailPassword password SMTP password mailSMTPSecure tls Enable TLS encryption PHPMailerENCRYPTIONSMTPS also accepted mailPort TCP port to connect to Recipients mailsetFromsomemailsomehost somemail mailaddAddresstaufikgmailcom taufik Add a recipient Content mailisHTMLtrue Set email format to HTML mailSubject Here is the subject mailBody This is the HTML message body bin boldb mailsign clcertpem keypem secret chainpem mailsend echo Message has been sent catch Exception e echo Message could not be sent Mailer Error mailErrorInfo Debug output notvalid Office Business Authenticated SMTP gives an error every time smtpoffice com Port TLS SMTP Authentication I am using SuiteCRM others appear to be having the same issue I have updated SMTPphp OAUTHphp Exceptionphp and PHPMailerphp using this Git All other mail servers can be connected to without issues Tried others without issue Many people suggested upgraded to the most recent PHPMailer this has been done to no avail I was hoping someone might guide me I am certain this is an Office type issue as other mailer servers have zero issues Thank you for your time and guidance Problem description I am trying to test some mail services such as sendinblue or sendgrid using SMTP connection I have created a test php file which uses my sendinbluecom or sendgridcom credentials to send one email message and it works fine on my local Windows machine but when I upload it to the hosting it gives the following error on request End of script output before headers Similar script works fine when I connect to smtp server directly Code to reproduce php use PHPMailer PHPMailer PHPMailer require PHPMailersrcExceptionphp require PHPMailersrcPHPMailerphp require PHPMailersrcSMTPphp mail new PHPMailertrue mailCharSet UTF mailEncoding base Server settings mailSMTPDebug mailisSMTP mailHost smtprelaysendinbluecom mailSMTPAuth true mailUsername serob mailru My SendInBlue or SendGrid username mailPassword mailSMTPSecure tls mailPort mailsetFromserob mailru Serob mailaddAddresstestgmailcom mailSubject Test Subject from gmail mailisHTMLtrue mailBody Hello dear Serob successmailsend Debug output End of script output before headers mailtestphp Reproduce with php phpcsfixer rulesnativefunctioninvocation fix allowriskyyes phpcsfixer from Details 