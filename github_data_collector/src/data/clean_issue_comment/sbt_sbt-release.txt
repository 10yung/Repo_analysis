In Scalajs for crosspublishng to x and RC it is common practice to use system env virable to switch Scalajs plugin version One example can be found on circe For Scalajs crosspublishing one will performe the steps like below Set system env to Start sbt Release to Shutdown sbt Start sbt Set system env to RC Release to RC Shutdown sbt Any idea to automate such process in single releaseProcess settings As explained in many projects running with a CI have tweeked the parameter releaseCommitMessage to add ci skip sbt releaseCommitMessage s ci skip Setting version to version in ThisBuildvalue Otherwise the CI triggers an infinite loop after a merge on master the CI hooks trigger sbtrelease sbtrelease add a commit message the commit message triggers the CI But after upgrading to which should have no breaking change according to semantic versionning this infinite loop will reappear It is mandatory to also configure the new parameter releaseNextCommitMessage added by to add ciskip I fear many projects will face this breaking change In our case we upgraded many sbt plugin and maven dependencies at once we didnt know about this ciskip tricks added by previous developers in our project so we didnt figure out right away that the sbtrelease upgrade was in cause I suggest that the default value of releaseNextCommitMessage should be the value configured for releaseCommitMessage This way it keeps the behaviour of version and fix the breaking change I had the following issue which this PR solves I have the following release process for my project that crosscompiles in and releaseProcess Seq ReleaseStep checkSnapshotDependencies inquireVersions runClean releaseStepCommandAndRemainingtest setReleaseVersion commitReleaseVersion tagRelease releaseStepCommandAndRemainingpublish setNextVersion commitNextVersion pushChanges I would like to be able to run sbt release skiptests but the tests are still running Many times I published a version only to find out there is something wrong with it typically crosspublishing not doing what I was expected When that happen I have to keep publishing until it does what I want and I end up burning version numbers with bad versions Maybe sbtrelease could provide a way to do a dry run so we see what artifacts would be published but without any impact on the source repository or the artifact repository sbtrelease sbt Scala JDK My sbt project have many sub projects to be published so I want to define shared publishing settings by in ThisBuild like this sbt lazy val project lazy val project lazy val project licenses in ThisBuild Seq scmInfo in ThisBuild Some publishConfiguration in ThisBuild publishConfigurationvaluewithOverwritetrue publishLocalConfiguration in ThisBuild publishLocalConfigurationvaluewithOverwritetrue Then when I try to overwrite the accidentallypublished artifacts it failed with the below error message details summaryStack Tracesummary error javaioIOException PUT operation failed because the destination file exists and overwriting is disabled error source homevagrantIdeaProjectsfoobartargetscala ARTIFACT pom error destination error If you have a staging repository that has failed drop it and start over error Otherwise fix the double publishing or relax the setting as follows error publishConfiguration publishConfigurationvaluewithOverwritetrue error publishLocalConfiguration publishLocalConfigurationvaluewithOverwritetrue error at sbtinternallibrarymanagementConvertResolverLocalIfFileRepoputConvertResolverscala error at orgapacheivypluginsrepositoryAbstractRepositoryputAbstractRepositoryjava error at sbtinternallibrarymanagementConvertResolverChecksumFriendlyURLResolverputConvertResolverscala error at sbtinternallibrarymanagementConvertResolverChecksumFriendlyURLResolverputConvertResolverscala error at sbtinternallibrarymanagementConvertResolveranonfundefaultConvertlzycompute PluginCapableResolver putConvertResolverscala error at orgapacheivypluginsresolverRepositoryResolverpublishRepositoryResolverjava error at sbtinternallibrarymanagementIvyActionsanonfunpublish IvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish adaptedIvyActionsscala error at scalacollectionTraversableLikeWithFilteranonfunforeach TraversableLikescala error at scalacollectionIteratorforeachIteratorscala error at scalacollectionIteratorforeachIteratorscala error at scalacollectionAbstractIteratorforeachIteratorscala error at scalacollectionIterableLikeforeachIterableLikescala error at scalacollectionIterableLikeforeachIterableLikescala error at scalacollectionAbstractIterableforeachIterablescala error at scalacollectionTraversableLikeWithFilterforeachTraversableLikescala error at sbtinternallibrarymanagementIvyActionspublishIvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish IvyActionsscala error at scalaruntimejava JFunction mcVspapplyJFunction mcVspjava error at sbtinternallibrarymanagementIvyActionswithChecksumsIvyActionsscala error at sbtinternallibrarymanagementIvyActionswithChecksumsIvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish IvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish adaptedIvyActionsscala error at sbtinternallibrarymanagementIvySbtModuleanonfunwithModule Ivyscala error at sbtinternallibrarymanagementIvySbtanonfunwithIvy Ivyscala error at sbtinternallibrarymanagementIvySbtsbtinternallibrarymanagementIvySbtaction Ivyscala error at sbtinternallibrarymanagementIvySbtanon callIvyscala error at xsbtbootLocksGlobalLockwithChannel Locksscala error at xsbtbootLocksGlobalLockxsbtbootLocksGlobalLockwithChannelRetries Locksscala error at xsbtbootLocksGlobalLockanonfunwithFileLock applyLocksscala error at xsbtbootUsingwithResourceUsingscala error at xsbtbootUsingapplyUsingscala error at xsbtbootLocksGlobalLockignoringDeadlockAvoidedLocksscala error at xsbtbootLocksGlobalLockwithLockLocksscala error at xsbtbootLocksapply Locksscala error at xsbtbootLocksapplyLocksscala error at sbtinternallibrarymanagementIvySbtwithDefaultLoggerIvyscala error at sbtinternallibrarymanagementIvySbtwithIvyIvyscala error at sbtinternallibrarymanagementIvySbtwithIvyIvyscala error at sbtinternallibrarymanagementIvySbtModulewithModuleIvyscala error at sbtinternallibrarymanagementIvyActionspublishIvyActionsscala error at sbtClasspathsanonfunpublishTask Defaultsscala error at sbtClasspathsanonfunpublishTask adaptedDefaultsscala error at scalaFunction anonfuncompose Function scala error at sbtinternalutiltildegreateranonfunu TypeFunctionsscala error at sbtstdTransformanon workSystemscala error at sbtExecuteanonfunsubmit Executescala error at sbtinternalutilErrorHandlingwideConvertErrorHandlingscala error at sbtExecuteworkExecutescala error at sbtExecuteanonfunsubmit Executescala error at sbtConcurrentRestrictionsanon anonfunsubmitValid ConcurrentRestrictionsscala error at sbtCompletionServiceanon callCompletionServicescala error at javabasejavautilconcurrentFutureTaskrunFutureTaskjava error at javabasejavautilconcurrentExecutorsRunnableAdaptercallExecutorsjava error at javabasejavautilconcurrentFutureTaskrunFutureTaskjava error at javabasejavautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava error at javabasejavautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava error at javabasejavalangThreadrunThreadjava error Caused by javaioIOException destination file exists and overwrite false error at orgapacheivypluginsrepositoryurlURLRepositoryputURLRepositoryjava error at sbtinternallibrarymanagementConvertResolverLocalIfFileRepoputConvertResolverscala error at orgapacheivypluginsrepositoryAbstractRepositoryputAbstractRepositoryjava error at sbtinternallibrarymanagementConvertResolverChecksumFriendlyURLResolverputConvertResolverscala error at sbtinternallibrarymanagementConvertResolverChecksumFriendlyURLResolverputConvertResolverscala error at sbtinternallibrarymanagementConvertResolveranonfundefaultConvertlzycompute PluginCapableResolver putConvertResolverscala error at orgapacheivypluginsresolverRepositoryResolverpublishRepositoryResolverjava error at sbtinternallibrarymanagementIvyActionsanonfunpublish IvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish adaptedIvyActionsscala error at scalacollectionTraversableLikeWithFilteranonfunforeach TraversableLikescala error at scalacollectionIteratorforeachIteratorscala error at scalacollectionIteratorforeachIteratorscala error at scalacollectionAbstractIteratorforeachIteratorscala error at scalacollectionIterableLikeforeachIterableLikescala error at scalacollectionIterableLikeforeachIterableLikescala error at scalacollectionAbstractIterableforeachIterablescala error at scalacollectionTraversableLikeWithFilterforeachTraversableLikescala error at sbtinternallibrarymanagementIvyActionspublishIvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish IvyActionsscala error at scalaruntimejava JFunction mcVspapplyJFunction mcVspjava error at sbtinternallibrarymanagementIvyActionswithChecksumsIvyActionsscala error at sbtinternallibrarymanagementIvyActionswithChecksumsIvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish IvyActionsscala error at sbtinternallibrarymanagementIvyActionsanonfunpublish adaptedIvyActionsscala error at sbtinternallibrarymanagementIvySbtModuleanonfunwithModule Ivyscala error at sbtinternallibrarymanagementIvySbtanonfunwithIvy Ivyscala error at sbtinternallibrarymanagementIvySbtsbtinternallibrarymanagementIvySbtaction Ivyscala error at sbtinternallibrarymanagementIvySbtanon callIvyscala error at xsbtbootLocksGlobalLockwithChannel Locksscala error at xsbtbootLocksGlobalLockxsbtbootLocksGlobalLockwithChannelRetries Locksscala error at xsbtbootLocksGlobalLockanonfunwithFileLock applyLocksscala error at xsbtbootUsingwithResourceUsingscala error at xsbtbootUsingapplyUsingscala error at xsbtbootLocksGlobalLockignoringDeadlockAvoidedLocksscala error at xsbtbootLocksGlobalLockwithLockLocksscala error at xsbtbootLocksapply Locksscala error at xsbtbootLocksapplyLocksscala error at sbtinternallibrarymanagementIvySbtwithDefaultLoggerIvyscala error at sbtinternallibrarymanagementIvySbtwithIvyIvyscala error at sbtinternallibrarymanagementIvySbtwithIvyIvyscala error at sbtinternallibrarymanagementIvySbtModulewithModuleIvyscala error at sbtinternallibrarymanagementIvyActionspublishIvyActionsscala error at sbtClasspathsanonfunpublishTask Defaultsscala error at sbtClasspathsanonfunpublishTask adaptedDefaultsscala error at scalaFunction anonfuncompose Function scala error at sbtinternalutiltildegreateranonfunu TypeFunctionsscala error at sbtstdTransformanon workSystemscala error at sbtExecuteanonfunsubmit Executescala error at sbtinternalutilErrorHandlingwideConvertErrorHandlingscala error at sbtExecuteworkExecutescala error at sbtExecuteanonfunsubmit Executescala error at sbtConcurrentRestrictionsanon anonfunsubmitValid ConcurrentRestrictionsscala error at sbtCompletionServiceanon callCompletionServicescala error at javabasejavautilconcurrentFutureTaskrunFutureTaskjava error at javabasejavautilconcurrentExecutorsRunnableAdaptercallExecutorsjava error at javabasejavautilconcurrentFutureTaskrunFutureTaskjava error at javabasejavautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava error at javabasejavautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava error at javabasejavalangThreadrunThreadjava error publish javaioIOException PUT operation failed because the destination file exists and overwriting is disabled error source homevagrantIdeaProjectsARTIFACTtargetscala ARTIFACT pom error destination error If you have a staging repository that has failed drop it and start over error Otherwise fix the double publishing or relax the setting as follows error publishConfiguration publishConfigurationvaluewithOverwritetrue error publishLocalConfiguration publishLocalConfigurationvaluewithOverwritetrue details but I allow overwrite explicitly in buildsbt sbt publishConfiguration in ThisBuild publishConfigurationvaluewithOverwritetrue publishLocalConfiguration in ThisBuild publishLocalConfigurationvaluewithOverwritetrue It seems that publishConfiguration in ThisBuild and publishLocalConfiguration in ThisBuild is not recognized I have put my version information in a file named Versionsbt note capital first letter SBT reads this file in and sets the version correctly I have defined the property releaseVersionFile as follows releaseVersionFile fileVersionsbt However after performing a release I find that I have both a Versionsbt file with its contents unmodified and a versionsbt file with an updated version number Any ideas Im running on Linux Mint using Java Zulu OpenJDK Hi With Play and sbtversion had included sbtrelease plugin On refreshing the project we get an error missing parameter type ver Versionver buildsbt has the following scala lazy val root project in fileenablePluginsPlayScala BuildInfoPlugin GitVersioning GitBranchPrompt build info buildInfoKeys Seq BuildInfoKey name version scalaVersion sbtVersion buildInfoPackage eubyjean git showCurrentGitBranch gituseGitDescribe true gitbaseVersion val VersionRegex v r gitgitTagToVersionNumber case VersionRegexvSNAPSHOT SomesvSNAPSHOT case VersionRegexv Somev case VersionRegexvs SomesvsSNAPSHOT case v None sbt native packager publishTo Sometemp at filetmprepository makeDeploymentSettingsUniversal packageBin in Universal zip sbt release def setVersionOnlyselectVersion Versions String ReleaseStep st State val vs stgetReleaseKeysversionsgetOrElsesyserrorNo versions are set Was this release part executed before inquireVersions val selected selectVersionvs stloginfoSetting version to s format selected val useGlobal ProjectextractstgetreleaseUseGlobalVersion val versionStr if useGlobal globalVersionString else versionString format selected reapplySeq if useGlobal version in ThisBuild selected else version selected st lazy val setReleaseVersion ReleaseStep setVersionOnly strip the qualifier off the input version eg SNAPSHOT releaseVersion ver VersionvermapwithoutQualifierstringgetOrElseversionFormatError releaseVersion releaseVersionBump bumper ver Versionver mapwithoutQualifier mapbumpbumpervaluestringgetOrElseversionFormatError val showNextVersion settingKey String the future version once releaseNextVersion has been applied to it val showReleaseVersion settingKey String the future version once releaseNextVersion has been applied to it showReleaseVersion version releaseVersionvffv showNextVersion version releaseNextVersionvffv releaseProcess Seq checkSnapshotDependencies inquireVersions setReleaseVersion runTest tagRelease publishArtifacts ReleaseStepreleaseStepTaskpublish in Universal Help appreciated mdsabz internal SBT modules as dependencies are not checked for SNAPSHOT versions currently buildsbt sbt release info Loading settings for project globalplugins from ideasbtmetalssbt info Loading global plugins from Userspbhowmicksbt plugins info Loading settings for project betterfilesbuild from pluginssbt info Loading project definition from Userspbhowmickworkspacebetterfilesproject info Loading settings for project root from versionsbtbuildsbt info Set current project to betterfilesroot in build fileUserspbhowmickworkspacebetterfiles info Forcing Scala version to on all projects info Reapplying settings info Set current project to betterfilesroot in build fileUserspbhowmickworkspacebetterfiles info Updating info Done updating Release version Next version SNAPSHOT info Setting version to info Reapplying settings info Set current project to betterfilesroot in build fileUserspbhowmickworkspacebetterfiles Tag v exists Overwrite keep or abort or enter a new tag oka a o warn Overwriting a tag can cause problems if others have already seen the tag see git help tag info Reapplying settings info Set current project to betterfilesroot in build fileUserspbhowmickworkspacebetterfiles info Wrote Userspbhowmickworkspacebetterfilescoretargetscala betterfiles pom error gpg using x aa ec aa db as default secret key for signing error gpg using x aa ec aa db as default secret key for signing error gpg using x aa ec aa db as default secret key for signing error gpg using x aa ec aa db as default secret key for signing info published betterfiles to info published betterfiles to info published betterfiles to info published betterfiles to info published betterfiles to info published betterfiles to info published betterfiles to info published betterfiles to success Total time s completed Mar AM info Setting version to SNAPSHOT info Reapplying settings info Set current project to betterfilesroot in build fileUserspbhowmickworkspacebetterfiles info Nexus repository URL info sonatypeProfileName comgithubpathikrit info Reading staging repository profiles info Repository comgithubpathikrit is already closed info Activity open started T Z stopped T Z info repositoryCreated idcomgithubpathikrit userpathikrit ip info Activity close started T Z stopped T Z info Evaluate id e e e f d a rulesourcesstaging info Evaluate javadocstaging info Passed javadocstaging info Evaluate notraversalpathsinarchivefile info Passed notraversalpathsinarchivefile info Evaluate checksumstaging info Passed checksumstaging info Evaluate pomstaging info Passed pomstaging info Evaluate signaturestaging info Passed signaturestaging info Evaluate profiletargetmatchingstaging info Passed profiletargetmatchingstaging info Evaluate sourcesstaging info Passed sourcesstaging info Passed id e e e f d a info email topathikritbhowmickmsncom info repositoryClosed idcomgithubpathikrit info Closed successfully info Reading staging profiles info Promoting staging repository comgithubpathikrit statusclosed profilecomgithubpathikrit ce c fb description Implicitly created auto staging info Activity release started T Z stopped info Evaluate idnxinternalruleset ruleRepositoryWritePolicy info Evaluate RepositoryWritePolicy info Passed RepositoryWritePolicy info Passed idnxinternalruleset info copyItems sourcecomgithubpathikrit targetreleases info email topathikritbhowmickmsncom info repositoryReleased idcomgithubpathikrit targetreleases info Promoted successfully info Dropping staging repository comgithubpathikrit statusreleased profilecomgithubpathikrit ce c fb description Implicitly created auto staging info Dropped successfully comgithubpathikrit info Closing staging repository comgithubpathikrit statusopen profilecomgithubpathikrit ce c fb description Implicitly created auto staging info Activity open started T Z stopped T Z info repositoryCreated idcomgithubpathikrit userpathikrit ip info Activity close started T Z stopped info Evaluate id e e e f d a rulesourcesstaging info Evaluate signaturestaging info Passed signaturestaging info Evaluate profiletargetmatchingstaging info Passed profiletargetmatchingstaging info Evaluate checksumstaging info Passed checksumstaging info Evaluate javadocstaging info Passed javadocstaging info Evaluate pomstaging info Passed pomstaging info Evaluate sourcesstaging info Passed sourcesstaging info Evaluate notraversalpathsinarchivefile info Passed notraversalpathsinarchivefile info Passed id e e e f d a info email topathikritbhowmickmsncom info repositoryClosed idcomgithubpathikrit info Closed successfully info Promoting staging repository comgithubpathikrit statusclosed profilecomgithubpathikrit ce c fb description Implicitly created auto staging info Activity release started T Z stopped T Z info Evaluate idnxinternalruleset ruleRepositoryWritePolicy info Evaluate RepositoryWritePolicy info Failed RepositoryWritePolicy failureMessageArtifact updating Repository releasesReleases does not allow updating artifactcomgithubpathikritbetterfiles betterfiles javadocjar info Failed idnxinternalruleset failureCount info repositoryReleaseFailed idcomgithubpathikrit causecomsonatypenexusstagingStagingRulesFailedException One or more rules have failed error Failed to promote the repository error Activity release started T Z stopped T Z error Failed RepositoryWritePolicy failureMessageArtifact updating Repository releasesReleases does not allow updating artifactcomgithubpathikritbetterfiles betterfiles javadocjar error javalangException Failed to promote the repository error at xerialsbtSonatypeNexusRESTServicepromoteStageSonatypescala error at xerialsbtSonatypeNexusRESTServicecloseAndPromoteSonatypescala error at xerialsbtSonatypeSonatypeCommandanonfunsonatypeReleaseAll Sonatypescala error at scalacollectionTraversableLikeanonfunmap TraversableLikescala error at scalacollectionimmutableListforeachListscala error at scalacollectionTraversableLikemapTraversableLikescala error at scalacollectionTraversableLikemapTraversableLikescala error at scalacollectionimmutableListmapListscala error at xerialsbtSonatypeSonatypeCommandanonfunsonatypeReleaseAll Sonatypescala error at sbtCommandanonfunapplyEffect Commandscala error at sbtCommandanonfunapplyEffect Commandscala error at sbtreleaseReleasePluginautoImportanonfunreleaseStepCommand ReleasePluginscala error at sbtreleaseReleasePluginautoImportReleaseKeysfilterFailure ReleasePluginscala error at sbtreleaseReleasePluginautoImportReleaseKeysanonfunreleaseCommand ReleasePluginscala error at scalaFunctionanonfunchain Functionscala error at scalacollectionLinearSeqOptimizedfoldLeftLinearSeqOptimizedscala error at scalacollectionLinearSeqOptimizedfoldLeftLinearSeqOptimizedscala error at scalacollectionimmutableListfoldLeftListscala error at scalacollectionTraversableOncedivcolonTraversableOncescala error at scalacollectionTraversableOncedivcolonTraversableOncescala error at scalacollectionAbstractTraversabledivcolonTraversablescala error at scalaFunctionanonfunchain Functionscala error at sbtreleaseReleasePluginautoImportReleaseKeysanonfunreleaseCommand ReleasePluginscala error at sbtCommandanonfunapplyEffect Commandscala error at sbtCommandanonfunapplyEffect Commandscala error at sbtCommandprocessCommandscala error at sbtMainLoopprocessCommandMainLoopscala error at sbtMainLoopanonfunnext MainLoopscala error at sbtStateanon runCmd Statescala error at sbtStateanon processStatescala error at sbtMainLoopanonfunnext MainLoopscala error at sbtinternalutilErrorHandlingwideConvertErrorHandlingscala error at sbtMainLoopnextMainLoopscala error at sbtMainLooprunMainLoopscala error at sbtMainLoopanonfunrunWithNewLog MainLoopscala error at sbtioUsingapplyUsingscala error at sbtMainLooprunWithNewLogMainLoopscala error at sbtMainLooprunAndClearLastMainLoopscala error at sbtMainLooprunLoggedLoopMainLoopscala error at sbtMainLooprunLoggedMainLoopscala error at sbtStandardMainrunManagedMainscala error at sbtxMainrunMainscala error at xsbtbootLaunchanonfunrun applyLaunchscala error at xsbtbootLaunchwithContextLoaderLaunchscala error at xsbtbootLaunchrunLaunchscala error at xsbtbootLaunchanonfunapply applyLaunchscala error at xsbtbootLaunchlaunchLaunchscala error at xsbtbootLaunchapplyLaunchscala error at xsbtbootBootrunImplBootscala error at xsbtbootBootmainBootscala error at xsbtbootBootmainBootscala error javalangException Failed to promote the repository error Use last for the full log 