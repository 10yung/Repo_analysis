Android Versions Android Devices Galaxy Note Galaxy S s Oboe Version Short Description Samsung phones Note Galaxy s s are not able to get stereo microphone signal when a TRRS cable is plugged in Steps To Reproduce This can be tested using the LiveEffect sample app Note these settings are required to get a stereo signal on the Note setInputPresetoboeInputPresetCamcordersetPerformanceModeoboePerformanceModeNone Select the first microphone in the list for Recording device and plug a pair of TRRS headphones Expected behavior Should get a stereo signal of phones builtin microphones Requesting a stereo microphone stream with the setDeviceId of one of the builtin microphones should work when TRRS headphones are plugged in Actual behavior The same data of only one of the phones microphones appears in both channels Stereo can only be gotten with TRS headphones Additional context Note that the Samsung Voice Recorder cannot record in interview mode when TRRS cable is plugged in Pixel a do not have such issues A stereo mic signal can be gotten with TRRS headphones when selecting either of the phones buildin mics Any ideas of how to get around this are appreciated Android Versions Various Android Devices Pixel Oboe Version Short Description After my app is running her a long time hours potentially it will eventually get a onErrorAfterClose callback with ErrorTimeout result Ive seen most examples restart the stream on ErrorDisconnected but I dont see any examples of what to do on other errors like ErrorTimeout Once this happens the app stops audio inputoutput Should we generally restart the stream on any error do not merge please just a test Use smaller buffer sizes for lower rates Base on msec period common on Android Pass mSampleRate so caller can guarantee it is set Fixes DrumThumper pull request is failing Travis but it is not clear why Logs just says the other samples eg MegaDrone failed to build I pulled down DrumThumper locally and could build individual modules But could build the Project This might be a clue or unrelated Failure is related to a LintCheck on the new wavlib Caused by orggradleapitasksTaskExecutionException Execution failed for task wavlibextractDebugAnnotations Caused by orggradleapiinternalartifactsivyserviceDefaultLenientConfigurationArtifactResolveException Could not resolve all files for configuration wavliblintClassPath Caused by orggradleinternalresolveArtifactResolveException Could not download lintchecksjar comandroidtoolslintlintchecks Caused by orggradleapiresourcesResourceException Could not get resource when change the sampling rate with setSampleRate let the numFrames parameter of onAudioReady be ms frame buffer size FPS Determine the timing profile for the DSP This only works on versions of Android that support aaudiooutmmapoffsetusec property Android Versions Android Devices Samsung galaxy s Oboe Version Short Description when I change the sampling rate with setSampleRate the numFrames parameter of onAudioReady will not be reflected at the same rate Steps To Reproduce When open oboe input stream set the builder like followings cpp oboeAudioStreamBuilder builder buildersetDirectionoboeDirectionInput buildersetPerformanceModeoboePerformanceModeLowLatency buildersetSampleRate buildersetFramesPerCallback Expected behavior when I set sample rate as I want onAudioReady s numFrames to be Actual behavior numFrames is always Additional context when I modify configureBufferSizes function in AudioStreamOpenSLEScpp like following It works cpp For high latency streams use a larger buffer size Performance Mode support was added in NMR int t framesPerHighLatencyBurstWithResamplingRate kFramesPerHighLatencyBurst if mSampleRate mSampleRate DefaultStreamValuesSampleRate framesPerHighLatencyBurstWithResamplingRate kFramesPerHighLatencyBurst mSampleRate DefaultStreamValuesSampleRate if getSdkVersion ANDROIDAPINMR mPerformanceMode PerformanceModeLowLatency mFramesPerBurst framesPerHighLatencyBurstWithResamplingRate Find a multiple of framesPerBurst resampleFramesPerHighLatencyBurst int t numBursts framesPerHighLatencyBurstWithResamplingRate mFramesPerBurst mFramesPerBurst mFramesPerBurst numBursts LOGDAudioStreamOpenSLESs NOT low latency set mFramesPerBurst d func mFramesPerBurst mFramesPerCallback mFramesPerBurst As you can see I set the performance mode to PerformanceModeLowLatency but when check mPerformanceMode value it isnt PerformanceModeLowLatency so I add upper code when I see the AudioStreamOpenSLESupdateStreamParameters It calls GetConfiguration like following cpp result configItfGetConfigurationconfigItf SLANDROIDKEYPERFORMANCEMODE performanceModeSize performanceMode but returned performanceMode value is cpp mPerformanceMode convertPerformanceModeperformanceMode so mPerformanceMode will be PerformanceModeNone If applicable please attach a recording of the sound 