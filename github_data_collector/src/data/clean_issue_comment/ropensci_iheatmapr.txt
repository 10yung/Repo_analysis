Dear Alicia its really a great tool I am trying to create a big interactive heatmap with several row and column annotations however I dont need to display the legends of all of them Is there a way to do it Ive seen that eg in addbarplot there is the option showlegend Is it possible to implement something similar for addannotation or is there a workaround From email I am using iheatmapr in one of my project I am stuck with giving grid lines to the chart below I have tried various methods but no luck First of all thanks a lot for this awesome package Currently plotting fails with an ambiguous message if rowcol annotation is continuous and contains missing values r libraryiheatmapr librarydatasets libraryreshape Indomethmatrix acastIndometh Subject time valuevar conc Indomethmatrix Indomethmatrix ascharacter rownamesIndomethmatrix pastePatientrownamesIndomethmatrix Indomethpatientcor cortIndomethmatrix patientmaxconc applyIndomethmatrix max patientminconc applyIndomethmatrix min patientgroups cAABABA Arbitrary groups patientmaxconc NA iheatmapIndomethpatientcor rowannotation dataframeMax patientmaxconc Error in if diverging missing value where TRUEFALSE needed The issue stems from these lines not using narmTRUE Alternatively you can modify pickconitnuouscolors to accommodate divergingNA Cheers Hi Tooltip for the row annotations it seems to work OK but the tooltip for column annotations seem to be not working Ivo Hello and thank you for the great work As I am planning to integrate a heatmap in a webpage with other htmlwidgets I am wondering if it would be possible to take advatage of crosstalk for triggering selection of elements rows or columns when clicking on cells or the other way round showinghidinghighlighting rowscolumns when selected from another widget To my knowledge none of the heatmap APIs allow that yet correct me if Im wrong and that would be a killer feature for many applications Is that something that could be done easily I have no idea what it really implies internally Thank you for your help Hello first of all thank you for the great work super powerful library and very nicely built On top of my heatmap I would like to add a stacked barplot summarizing stats average value for groups of columns each bar spanning all columns of the group and rows groups at the same time stacked bars Why do I need that I have a lot of columns k and while using addcolsummarygroups TRUE covers my need it is cluttered by too many points on x axis and overlapping traces I think a stacked barplot for each group of columns would do better in this case I played with addsubplot and addcolbarplot but if I did not manage to do what I want With addsubplot I can set typebar but I did not manage to control the layout to generate stacked bars I cannot use width to set bar width as argument for plotly using it needs to be done on the trace thats a plotly thing With addcolbarplot x coordinates seem tied to one point per column so I cannot plot one large bar per group of columns is stacked bars possible using this function Using addcolbarplot if stacking is possible one solution would be to use a bar for each column all bars in a group of columns would be similar but I guess it would be suboptimal lot of columns I managed to generate the barplot as a separate plotly panel but I cannot find a proper way to integrate it on top of the heatmap Is there any way to integrate an independent plotly panel somewhere around the heatmap I thought I could use the plotly subplot function with shareXTRUE to group the heatmap and my plot but it seems that your library does not depend on plotly R functions so I am not sure if this is possible at all Could you point me to the best approach for this situation Thank you very much Im attempting to overlay text over the heatmap itself to give additional information eg something like this I believe theres no builtin functionality to do so so I was trying to use the layout option to add the text via plotly As a minimum reproducible example here is a very basic plot data matrixc nrow plot iheatmapdata data layout listannotations listtext hi x y xref x yref y The heatmap I get looks like this This looks exactly the same as the same plot with no annotations plot iheatmapdata data I have very little experience with plotly so this may be on me but any help would be appreciated If there is a simpler way to overlay text please also let me know Dear Alicia I have got a feature suggestion At the moment I see that NA values are displayed as the color white in the heat map Unless I missed it which could be the case there is currently no means of changing the color of NA cells in the heat map Would it be possible to add a feature to change customise the value of the NA cells Been using iheatmapr for many of my projects now Thank you Kind Regards Igy First thanks for the great package Im using the package for heatmap with barplot as annotation I noticed that showlegend option seems not functioning for showing color legend when barplot with coloring Here is an example libraryRColorBrewer da matrixrnorm nrow rownamesda paste A colnamesda paste B db dataframeidcolnamesda valuerunif groupsampleletters replace T stringsAsFactors F g dbgroup glev uniqueg colors brewerpallengthglev Paired gcolor factorg labelscolors mainheatmapda name Score xcategorical TRUEycategoricalTRUE addcollabelsfont listsize addrowlabelssize font listsize sideright addcolbarplotydbvalue colorgcolor tracenameGroupshowlegendTRUE One option would be to use addcolannotationdataframeGroups g colorslistGroupscolors to get the legend I try to avoid this option Thanks in advance Hello can we color the dendrogram just like those in these pictures sortingdendrogram img width altskaermbillede kl src 