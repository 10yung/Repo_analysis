I see this frame already uses new MongoDB Client to support new Mongodb drive on php however in dbmongomapperphp when handling group it uses thiscollectiongroup which doesnt exist in class MongoDB Collection What should i do Hello Please consider harvesting numerous benefits of phpstan phpstan analyze a libbasephp lib l Level may go up to And see Hi I am trying to save SESSIONid through f setSESSIONid user default ttl But my SESSIONid never get saved When i go through the basephp code i see the following if ttl Persist the keyvalue pair Cacheinstancesetthishashkeyvarvalttl return ref Is this as per degined I thought ttl suppose to save the variable infinitely Thanks Hi Im playing with F and try to connect to an Azure Cosmos DB via their Mongo API new DB Mongo throws a MongoDB Driver Exception RuntimeException Command is not supported Digging into the error it seems to me that the database does not support the profile command In libdbmongophp the profiling level is set to in both legacy and normal mode Im using the normal one When I comment out that line I can work with the database FYI to everyone with a similar setup Maybe it would be worth to have the profile level as a configuration parameter BR Janos Issue In case a cURL requests failed Webinstancerequesturl options returns a string representation of the error in the returned Array This makes it hard to handle different error types I suggest adding a new errorCode to the returned Array Suggestion Add new errorCode to returned Array Example shows a request that timedOut PHP body headers engine cURL cached false error Connection timed out after milliseconds errorCode new entry Implementation suggestion Replace this code PHP obstart curlexeccurl errcurlerrorcurl curlclosecurl bodyobgetclean with something like this PHP obstart curlexeccurl iferrCode curlerrnocurl eg Must be done before curlclose returns null if no error found errMessage curlstrerrorerrCode eg Timeout was reached err curlerrorcurl eg Connection timed out after milliseconds curlclosecurl bodyobgetclean and add errCode maybe errMessage as well to the response Array As you can see the Strings are slightly different Test Either set options timeout as config option for a valid request and hope for a timeout or add this to the curlurloptions method and set the timeout to eg ms PHP curlsetoptcurlCURLOPTCONNECTTIMEOUTMS curlsetoptcurlCURLOPTTIMEOUTMS From time to time I see the following error in my error log Heres the call stack PDOStatement Duplicate entry fta qn umut re l tft hcc for key PRIMARY Internal Server Error fatfreebasephp Baseerror fatfreedbsqlphp usererror fatfreedbsqlmapperphp DB SQLexec fatfreedbcursorphp DB SQL Mapperinsert fatfreedbsqlsessionphp DB Cursorsave phpfatfreebasephp sessioncommit Why this happens and how to fix it Hello sorry if my question is dumb as reference I dont see support of this in the SQL wrapper I have found only one related issue from which is closed but when I test DB SQLexec call with the procedure which returns multiply rowsets I get only first from two in return So is there support for this and if not should it be added Thank you When custom session handler is used in my case its DB SQL Session Templateinstancerender call from a page where custom session handler is not initialized destroys the session cookie This appears to happen because of this code in basephp for the Previewrender method if issetCOOKIE sessionname headerssent sessionstatusPHPSESSIONACTIVE sessionstart Currently I work around this issue by calling unsetCOOKIE sessionname before rendering but Id like to see an option to prevent render method starting the session in the first place Hi I have a cli script that runs through a big items json file and updates a mysql database After entries the script dies with the info that sqlphp line tried to allocate X of memory Sorry I dont remember the exact words This is line php if log thislogstrreplace ms sprintf f e microtimeTRUEnowms thislog This is my script simplified php thisdblogFALSE turn off logging else it runs out of memory thiscrawlerdb new DB SQL Mapperthisdbcrawler entries jsondecodebigjsonfile foreachentries as entry thiscrawlerdbloadarraysourceid entryid thiscrawlerdbcopyfromarray type entrytype url entryurl title entrytitle more fields insert or update thiscrawlerdbsave After I set a vardumpthislog on sqlphp I saw that thislog just grows exec time and queries and then hits the php memory limit I know that this is intended to profile SQL calls but since logging is on by default it was confusing to see the script crash and not really knowing why F keeps track of all commands issued to the underlying SQL database driver as well as the time it takes for each statement to complete just the right information you need to tweak application performance With logging turned off thisdblogFALSE it seems to work So I wonder if I made a mistake in my application Or should the documentation mention this Or is this an edge case Thanks Marcus The sample nginx setup should include the rule to block all ini files