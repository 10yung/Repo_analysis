Caused by comandroiddxcfifaceParseException bad class file magic cafebabe or version the JDK version not match cause the problem Basic information of equipment Equipment type M System version Android level ROM MeizuFLYME CPU Framework arm v a Log main javalangUnsatisfiedLinkError dlopen failed datadatacompuhaliveliveappliblibpldroidsonroidsgifso is bit instead of bit javalangRuntimeExceptionUnable to start activity ComponentInfocompuhalivelivecompuhaliveliveuimainMainActivity androidviewInflateException Binary XML file line Error inflating class pldroidsonroidsgifGifImageView Caused by javalangUnsatisfiedLinkErrordlopen failed datadatacompuhaliveliveappliblibpldroidsonroidsgifso is bit instead of bit I call GifDrawablegetCurrentPosition every ms to update the UI progress This method will return a negative value when the gif is closing to the end Encountered a situation of possible memory leak or was it a misusage My code was like this java frequentlycalledbindingfunction MyGifImageViewPool pool GifImageView gifImageView poolget gifImageViewsetImageBitmapa small size bitmap as a thumbnail runOnWorkerThread ParcelFileDescriptor pfd download a gif from server runOnUiThread GifDrawable gifDrawable new GifDrawablepfdgetFileDescriptor gifImageViewsetImageDrawablegifDrawable pfdclose That pool had a fix number of GifImageViews and never recreated new GifImageView Runing this binding function a dozens of time bumped the natvie heap from mb to mb and forcing gc would not help I fix this by manually recycling GifDrawable before setImageBitmap java gifImageViewgetDrawablerecycle leaving out null check and cast gifImageViewsetImageBitmapa small size bitmap as a thumbnail Im not sure if this should be considered as a leak and Im sorry if I wasted anyones time FDEBUG Build fingerprint samsungstar qltezcstar qltechn PPR G ZCU CSABuserreleasekeys FDEBUG Revision FDEBUG ABI arm FDEBUG pid tid name pool thread comhuu FDEBUG signal SIGSEGV code SEGVMAPERR fault addr x FDEBUG Cause null pointer dereference FDEBUG r r r r edc a FDEBUG r cc a r cc a r r c eff FDEBUG r c eff r a d r ce a r FDEBUG ip eeb c sp c eff e lr ee pc ee f FDEBUG FDEBUG backtrace FDEBUG pc f systemliblibhwuiso SkPixelRefcallGenIDChangeListeners FDEBUG pc systemliblibhwuiso SkPixelRefnotifyPixelsChanged FDEBUG pc d b systemliblibandroidruntimeso androidbitmapunlockPixelsJNIEnv jobject FDEBUG pc e systemliblibjnigraphicsso AndroidBitmapunlockPixels FDEBUG pc eeb dataappcomhuuGNEfKS wiZxOc LYS SpQlibarmlibpldroidsonroidsgifso FDEBUG pc fd dataappcomhuuGNEfKS wiZxOc LYS SpQlibarmlibpldroidsonroidsgifso JavapldroidsonroidsgifGifInfoHandlerenderFrame FDEBUG pc afd b dataappcomhuuGNEfKS wiZxOc LYS SpQoatarmbaseodex offset xa pldroidsonroidsgifGifInfoHandlerenderFrame Suppose I use this gif gifzip Heres how well it works on live wallpaper vs on Activity videoszip How come Ive tested other solutions of showing GIFWEBP animation and they also had the same issue As the title says Example Taken from After updating from to I see a lot of OutOfMemoryErrors in GifDrawablescheduleNextRender I only see this in firebase over a wide range of Android versions and devices i could not recreate the issue locally In a background thread I am just loading a GifDrawable from a RandomAccessFilegetFD that I am closing after creating the GifDrawble On the main thread I am passing the GifDrawable to a ImageView and calling currentFrameIndex and numberOfFrames as well as pause start stop and seekTo once or twice I have an animation about ms but I did not execute onAnimationCompleted after execution GifDrawable gifDrawable new GifDrawablebitmapgetX gifDrawablesetLoopCount if gifDrawablegetDuration gifDrawableaddAnimationListenernew AnimationListener Override public void onAnimationCompletedint loopNumber Logeliumj onAnimationCompleted gifDrawablestart As in 