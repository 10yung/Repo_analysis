 bean bean definition bean bean spring singleton prototype bean override getBean bean definition jdkproxy invoke bug jdk if advisedgetMethodMatcher null advisedgetMethodMatchermatchesmethod advisedgetTargetSourcegetTargetgetClass AutoProxyCreator return advisedSupportgetProxy Advisor beanadvisedSupportgetProxy testClassFilter expression testMethodInterceptor ieldException helloWorldService HelloWorldService String text tinyiocxml tinyiocxml text User Integer age xml String User age javalangIllegalArgumentException String AbstractBeanFactory override public Object getBeanString name throws Exception BeanDefinition beanDefinition beanDefinitionMapgetname if beanDefinition null throw new IllegalArgumentExceptionNo bean named name is defined Object bean beanDefinitiongetBean if bean null bean doCreateBeanbeanDefinition bean initializeBeanbean name beanDefinitionsetBeanbean return bean beanDefinitionsetBeanbean aop A B AB A doCreateBeanbeanDefinition B doCreateBeanbeanDefinition BsetAA A beanDefinitionMap A B initializeBeanbean name AsetBB B jdk A initializeBeanbean name A B B A 