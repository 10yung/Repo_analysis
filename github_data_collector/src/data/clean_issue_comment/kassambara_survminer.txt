 Expected behavior I am learning to do the Cox regression analysis via I am using R version and installed all the requiered packages The script I have been using load packages librarysurvival librarysurvminer import database CSV datalung headlung fit coxphSurvtime status sex data lung ggsurvplotfit data lung Actual behavior import database CSV datalung headlung inst time status age sex phecog phkarno patkarno mealcal wtloss NA NA NA fit coxphSurvtime status sex data lung ggsurvplotfit data lung Error in ggsurvplotfit data lung object ggsurv not found Steps to reproduce the problem sessioninfo R please paste here the result of devtoolssessioninfo Am I missing some steps How can i draw figure with multiple point shape like this img width altfigure src Hi Kassambara Please help Like many others Im unable to install survmineralthough i was able to install survival Ive tried some of the steps youve recommended to other users but still unable to install it Ive tried removepackagescggplot gtable installpackagesggplot dependencies TRUE libraryggplot installpackagesgtable typewinbinary librarygtable ifrequiredevtools installpackagesdevtools devtoolsinstalgithubkassambarasurvminer devtoolsinstallgithubkassambarasurvminer buildvignettes FALSE Thank you in advance for any possible help I am using ggadjustedcurves to obtain survival curves from a fitted coxph model I have few questions please Can we obtain a risk table I can not change the legend labels is there a way I can do it the legendlabsc is not working Is there a way I can add censoring marks Is there a way I can add p value Thank you for your help Expected behavior plotting of flexsurvreg data with ggflexsurvplot Actual behavior flexsurvflexsurvregformula Survtime event arm data thedata weights weight dist gengamma method optmethod thedata Warning Error in eval object thedata not found eval eval getdata extractsurvfit survminerggflexsurvplot renderPlot func drawPlot reactiveplotObj drawReactive origRenderFunc Steps to reproduce the problem ggflexsurvplot invokes getdata twice ggflexsurvplot functionfit data NULL fun csurvival cumhaz summaryflexsurv NULL size confint FALSE confintflex confint confintkm FALSE legendlabs NULL if requireNamespaceflexsurv quietly TRUE stopflexsurv package needed for this function to work Please install it ifinheritsfit flexsurvreg stopCant handle an object of class classfit fun matchargfun data getdatafit data data complain FALSE summ summaryflexsurvfit type fun summaryflexsurv summaryflexsurv strata summstrata nstrata strata levels length fitext extractsurvfitfit At the two lines marked with asterisks getdata is implemented as such extract dataset if not provided getdata functionfit data NULL complain TRUE ifisnulldata if complain warning The data argument is not provided Data will be extracted from model fit data evalfitcalldata if isnulldata stopThe data argument should be provided either to ggsurvfit or survfit data fitcalldata evaluates as thedata which is what it equals in its invocation of flexsurvreg and R stupid nonstandard evaluation mechanism I still dont get how its supposed to work because that call has no reason to evaluate to something sensible anyway Regardless even specifying the data parameter in ggflexsurvplot wont address the issue because the parameter is then not passed to the following call see line above extractsurvfit functionfit data NULL ifinheritsfit survfitcox returnlist formula fitcallformula statsasformula survobj deparseformula survvars attrstatstermsformula termlabels dataall data getdatafit data data complain FALSE data of variables used in formula dataformula statsgetallvarsformula data data naomit listformula formula surv survobj variables survvars dataall dataall dataformula dataformula So the invocation of getdata has data NULL always and it always triggers the problem sessioninfo devtoolssessioninfo Session info setting value version R version system x darwin ui X language EN collate enGBUTF tz EuropeLondon date Packages package version date source base local compiler local datasets local devtools CRAN R digest CRAN R graphics local grDevices local memoise CRAN R methods local packrat CRAN R stats local tools local utils local withr CRAN R packageVersionsurvminer Expected behavior To get the only the selected time points on both the graph and the riskcensored tables Actual behavior The algorithm decides what to show If I choose the breaktimeby I can alter this a little but this is far from the points I want to show because it assumes equal intervals When I then switch to dm it gives fractional months If I could choose exact number of days months would be rounded to integers as I need Yes I can set the elements on the ggplot continuous scale but this doesnt affect the counts in tables scalexcontinuousbreaks sortc Tedious manual modifying the tabledata doesnt alter the plot Please at least tell me where to start which function modify to provide my own breaks I will do it on my own Expected behavior Id like to produce a figure KMplot and risk table with Arial font for all elements My code librarysurvival librarysurvminer datalung fit survfitSurvtime status sex data lung pngfilenameplotstest png width height units in res p ggsurvplotfit titleSurvival by Sex in lung Data xlab Follow Up Time Days confint FALSE pvalTRUE pvalmethodTRUE risktableTRUE risktableposout risktablecolblack risktableytextcolFALSE tablestheme themecleantable legendlabscMaleFemale legendtitleSex ggtheme themeclassic basesize basefamily Arial fontfamily Arial Actual behavior Result is at Attempt to fix the problem Used ggpar options ggparp fontmain c fontx c fonty c fontcaption c fontlegend c fonttickslab c Font size is more uniform but doesnt look like Arial Comparing two curves via survpvalue overall p is not different from comparing the two curves via pairwise comparison the n pair If we allow the various algorithms weights for the overall comparison survpvalue which could be utilized also for pairwise comparisons just using appropriate correction either controlling FWER or FDR we should allow this also for the pairwise function Now survpvalue allows me to choose among several methods while the pairwise method only via rho which gives me only options I want neither logrank nor PetoPeto Expected behavior Interface for methods should be consistent and allow one to specify the more advanced methods rather than just allowing only the FlemingHarrington Grho family survpvalue method sqrtN pairwisesurvdiff method sqrtN Actual behavior The interface differs survpvalue method sqrtN pairwisesurvdiff rho for TaroneWare Maybe you could use the I want to draw the KM curve with the pure curves without the scatter It there any solution to implement this I tried to change the linetype but the scatter always exists What I want to implement is My current implementation is The scattered made the curves look too thick Thank you very much Expected behavior r librarysurvival colonsexfact asfactorvapplycolonsexfunctionxifelsex mf character fit survfit Survtime status sexfact data colon survminerggsurvplotfacetfit colon facetby rx palette jco pval TRUE Actual behavior Error is caused by sign in the group name r librarysurvival Changing the group from m to m gives error colonsexfact asfactorvapplycolonsexfunctionxifelsex mf character fit survfit Survtime status sexfact data colon survminerggsurvplotfacetfit colon facetby rx palette jco pval TRUE Error in grDevicescol rgbcolour TRUE invalid colorname in sexfact In addition Warning message Now to change color palette use the argument palette sexfact instead of color sexfact Steps to reproduce the problem Please see actual behavior sessioninfo R R version Platform x w mingw x bit Running under Windows x build Matrix products default locale LCCOLLATEGermanGermany LCCTYPEGermanGermany LCMONETARYGermanGermany LCNUMERICC LCTIMEGermanGermany attached base packages stats graphics grDevices utils datasets methods base other attached packages survival bioWARPNTK bioWARP xtable htmlwidgets xlsx xlsxjars rJava shinyBS shiny NTK rj loaded via a namespace and not attached nlme devtools gmodels RColorBrewer ggsci rprojroot tools backports R DT rpart Hmisc lazyeval colorspace nnet withr tidyselect gridExtra GGally base compiler htmlTable Cairo BiasedUrn shinyjs xml labeling scales checkmate survMisc commonmark stringr digest foreign rmarkdown base enc pkgconfig htmltools plotrix rlang rstudioapi generics zoo gtools acepack dplyr magrittr Formula Matrix Rcpp munsell stringi pROC RJSONIO MASS plyr grid gdata forcats crayon miniUI survminer lattice haven splines knitr pillar epiR ggpubr boot markdown reshape XML glue evaluate latticeExtra datatable png httpuv gtable openssl purrr tidyr reshape kmci assertthat ggplot mime broom roxygen ggcorrplot tibble memoise KMsurv cluster Browse devtoolssessioninfo Session info setting value version R version system x mingw ui unknown language EN collate GermanGermany tz EuropeBerlin date Packages package version date source acepack CRAN R assertthat CRAN R backports CRAN R base local base CRAN R base enc CRAN R BiasedUrn CRAN R bioWARP local bioWARPNTK NA local boot CRAN R broom CRAN R Cairo CRAN R checkmate CRAN R cluster CRAN R colorspace CRAN R commonmark CRAN R compiler local crayon CRAN R datatable CRAN R datasets local devtools CRAN R digest CRAN R dplyr CRAN R DT CRAN R epiR CRAN R evaluate CRAN R forcats CRAN R foreign CRAN R Formula CRAN R gdata CRAN R generics CRAN R GGally CRAN R ggcorrplot CRAN R ggplot CRAN R ggpubr CRAN R ggsci CRAN R glue CRAN R gmodels CRAN R graphics local grDevices local grid local gridExtra CRAN R gtable CRAN R gtools CRAN R haven CRAN R Hmisc CRAN R htmlTable CRAN R htmltools CRAN R htmlwidgets CRAN R httpuv CRAN R kmci CRAN R KMsurv CRAN R knitr CRAN R labeling CRAN R lattice CRAN R latticeExtra CRAN R lazyeval CRAN R magrittr CRAN R markdown CRAN R MASS CRAN R Matrix CRAN R memoise CRAN R methods local mime CRAN R miniUI CRAN R munsell CRAN R nlme CRAN R nnet CRAN R NTK NA local openssl CRAN R pillar CRAN R pkgconfig CRAN R plotrix CRAN R plyr CRAN R png CRAN R pROC CRAN R purrr CRAN R R CRAN R RColorBrewer CRAN R Rcpp CRAN R reshape CRAN R reshape CRAN R rj local rJava CRAN R RJSONIO CRAN R rlang CRAN R rmarkdown CRAN R roxygen CRAN R rpart CRAN R rprojroot CRAN R rstudioapi CRAN R scales CRAN R shiny CRAN R shinyBS CRAN R shinyjs CRAN R splines local stats local stringi CRAN R stringr CRAN R survival CRAN R survminer CRAN R survMisc CRAN R tibble CRAN R tidyr CRAN R tidyselect CRAN R tools local utils local withr CRAN R xlsx CRAN R xlsxjars CRAN R XML CRAN R xml CRAN R xtable CRAN R zoo CRAN R 