Release Total issues resolved Total pull requests resolved Total contributors Bug Fix doctrinedatafixtures PR thanks to stephenlewis I have this issue today at doctrinedatafixtures v what I did wrong Orderormxml doctrinemapping xmlns xmlnsxsi xmlnsgedmo xsischemaLocation entity nameAcme Bundle OrderBundle Entity Order tableacmeorder id nameid columnid typeinteger generator strategyAUTO id onetoone fieldreview targetentityAcme Bundle ReviewBundle Entity OrderReview mappedbyreviewSubject onetoone fieldreport targetentityAcme Bundle ReportBundle Entity Report mappedbyorder entity doctrinemapping OrderReviewormxmln doctrinemapping xmlns entity nameAcme Bundle ReviewBundle Entity OrderReview tableacmeorderreview id nameid columnid typeinteger generator strategyAUTO id onetoone fieldreviewSubject inversedbyreview targetentityAcme Bundle OrderBundle Entity Order entity doctrinemapping Reportormxml doctrinemapping xmlns xmlnsgedmo xmlnsxsi xsischemaLocation entity nameAcme Bundle ReportBundle Entity Report tableacmeautoreport id nameid columnid typeinteger generator strategyAUTO id onetoone fieldorder inversedbyreport targetentityAcme Bundle OrderBundle Entity Order entity doctrinemapping the the result table orders are following but acmeautoreport table hold foreign key to acmeorder it must be before the acmeorder table like acmeorderreview table acmeorderreview acmeorder acmeautoreport Originally posted by videni in service php namespace App Resources DataFixtures MongoDB use App Domain Document User use Doctrine Common DataFixtures AbstractFixture use Doctrine Common DataFixtures OrderedFixtureInterface use Doctrine Common Persistence ObjectManager use Faker Factory use Faker ORM Doctrine Populator use FoundersLane UserBundle Database Contract Activatable class UserDataLoader extends AbstractFixture implements OrderedFixtureInterface public function loadObjectManager manager void stuff here service registration is as such services all other stuff here including autowiring true App Resources DataFixtures MongoDB resource kernelprojectdirsrcResourcesDataFixturesMongoDB tags doctrinefixtureodm binconsole debugautowiring all Fixture Autowirable Types The following classes interfaces can be used as typehints when autowiring only showing classesinterfaces matching Fixture App Resources DataFixtures MongoDB UserDataLoader Load data fixtures from bundles Doctrine Bundle MongoDBBundle Command LoadDataFixturesDoctrineODMCommand FoundersLane UserBundle DataFixtures Processor UserProcessor Protip use interfaces in your typehints instead of classes to benefit from the dependency inversion principle YET binconsole doctrinemongodbfixturesload n vvv tells me ERROR Could not find any fixture services to load What am I doing wrong Thanks In case of sequences based autoincrement for example in PgSQL fixture loading not clean sequence This causes certain difficulties with testing for example when we need to link cross project entities This PR resolve that issue by recreating sequences if fixtures loading requested with truncate flag When adding the excluded option to the Symfony command in a couple of questions came up with respect to how this is supposed to handle duplicate key constraints in fixtures in case fixtures are loaded that write to tables that werent purged and how to handle cascading foreign key constraints that would remove data from tables that arent supposed to be purged Since those are problems with the concept of excluding tables from purging and not with the integration of this library into Symfony I suggest discussing the issues around this functionality here Given the potentially severe issues I would suggest deprecating the functionality in the next minor release and removing it in the next major version Since the library is designed to prepopulate a database with initial data Im not sure if this is a usecase we really want to cover I add a listener to doctrine like this When I use doctrinefixturesload there is no call to the listener the listenert works well with doctrineschemacreate and work with the application So im obviously working on my website and for back end trial and error junk i require user logins to get at admin sections for reasons it would be nice if instead of a database purge wiping my users of various permission levels it would only dropcreate tables that fixtures will be working on as at present i am not creating dummy user data and its a pain to recreate the users each time i reload fixtures Should be allowed to return an empty array In our current project we have an Abstract Fixture which implements the interface but sometimes children wont have any dependencies Could be fixed in Doctrine Common DataFixtures Loader Line instead of throwing an exception when the array is empty set sequenceForClasses fixtureClass Should I open a PR for this Newer versions od doctrine deprecated doctrinecommon package Please remove this dependency and depend on new doctrine packages as needed Did a clean clone and ran tests got bunch of errors php vendorbinphpunit PHPUnit by Sebastian Bergmann and contributors Warning The configuration file did not pass validation The following problems have been detected Line Element phpunit attribute syntaxCheck The attribute syntaxCheck is not allowed Test results may not be as expected REEEEES Time ms Memory MB There were errors Doctrine Tests Common DataFixtures Executor PHPCRExecutorTesttestExecuteSingleFixtureWithNoPurge TypeError Argument passed to Doctrine Common DataFixtures Executor PHPCRExecutorconstruct must be an instance of Doctrine ODM PHPCR DocumentManagerInterface instance of MockDocumentManagerf ce given called in wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp on line wwwdoctrinedatafixtureslibDoctrineCommonDataFixturesExecutorPHPCRExecutorphp wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp Doctrine Tests Common DataFixtures Executor PHPCRExecutorTesttestExecuteMultipleFixturesWithNoPurge TypeError Argument passed to Doctrine Common DataFixtures Executor PHPCRExecutorconstruct must be an instance of Doctrine ODM PHPCR DocumentManagerInterface instance of MockDocumentManagerf ce given called in wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp on line wwwdoctrinedatafixtureslibDoctrineCommonDataFixturesExecutorPHPCRExecutorphp wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp Doctrine Tests Common DataFixtures Executor PHPCRExecutorTesttestExecuteFixtureWithPurge TypeError Argument passed to Doctrine Common DataFixtures Executor PHPCRExecutorconstruct must be an instance of Doctrine ODM PHPCR DocumentManagerInterface instance of MockDocumentManagerf ce given called in wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp on line wwwdoctrinedatafixtureslibDoctrineCommonDataFixturesExecutorPHPCRExecutorphp wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp Doctrine Tests Common DataFixtures Executor PHPCRExecutorTesttestExecuteFixtureWithoutPurge TypeError Argument passed to Doctrine Common DataFixtures Executor PHPCRExecutorconstruct must be an instance of Doctrine ODM PHPCR DocumentManagerInterface instance of MockDocumentManagerf ce given called in wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp on line wwwdoctrinedatafixtureslibDoctrineCommonDataFixturesExecutorPHPCRExecutorphp wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp Doctrine Tests Common DataFixtures Executor PHPCRExecutorTesttestFailedTransactionalStopsPurgingAndFixtureLoading TypeError Argument passed to Doctrine Common DataFixtures Executor PHPCRExecutorconstruct must be an instance of Doctrine ODM PHPCR DocumentManagerInterface instance of MockDocumentManagerf ce given called in wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp on line wwwdoctrinedatafixtureslibDoctrineCommonDataFixturesExecutorPHPCRExecutorphp wwwdoctrinedatafixturestestsDoctrineTestsCommonDataFixturesExecutorPHPCRExecutorTestphp There was risky test Doctrine Tests Common DataFixtures Executor ORMExecutorTesttestExecuteTransaction This test did not perform any assertions ERRORS Tests Assertions Errors Skipped Risky Deps cm show doctrineannotations v Docblock Annotations Parser doctrinecache v Caching library offering an objectoriented API for many cache backends doctrinecollections v Collections Abstraction library doctrinecommon v Common Library for Doctrine projects doctrinedbal v Database Abstraction Layer doctrineinflector v Common String Manipulations with regard to casing and singularplural rules doctrineinstantiator A small lightweight utility to instantiate objects in PHP without invoking their constructors doctrinelexer v Base library for a lexer that can be used in TopDown Recursive Descent Parsers doctrineorm v ObjectRelationalMapper for PHP myclabsdeepcopy Create deep copies clones of your objects phariomanifest Component for reading phario manifest information from a PHP Archive PHAR pharioversion Library for handling version information and constraints phpdocumentorreflectioncommon Common reflection classes used by phpdocumentor to reflect the code structure phpdocumentorreflectiondocblock With this component a library can provide support for annotations via DocBlocks or otherwise retrieve information that is phpdocumentortyperesolver phpspecprophecy Highly opinionated mocking framework for PHP phpunitphpcodecoverage Library that provides collection processing and rendering functionality for PHP code coverage information phpunitphpfileiterator FilterIterator implementation that filters files based on a list of suffixes phpunitphptexttemplate Simple template engine phpunitphptimer Utility class for timing phpunitphptokenstream Wrapper around PHPs tokenizer extension phpunitphpunit The PHP Unit Testing framework sebastiancodeunitreverselookup Looks up which function or method a line of code belongs to sebastiancomparator Provides the functionality to compare PHP values for equality sebastiandiff Diff implementation sebastianenvironment Provides functionality to handle HHVMPHP environments sebastianexporter Provides the functionality to export PHP variables for visualization sebastianglobalstate Snapshotting of global state sebastianobjectenumerator Traverses array structures and object graphs to enumerate all referenced objects sebastianobjectreflector Allows reflection of object attributes including inherited and nonpublic ones sebastianrecursioncontext Provides functionality to recursively process PHP variables sebastianresourceoperations Provides a list of PHP builtin functions that operate on resources sebastianversion Library that helps with managing the version number of Githosted PHP projects symfonyconsole v Symfony Console Component symfonypolyfillmbstring v Symfony polyfill for the Mbstring extension theseertokenizer A small library for converting tokenized PHP source code into XML and potentially other formats webmozartassert Assertions to validate method inputoutput with nice error messages Looking at travisyml some dependencies are missing in requiredev explicitly running composer require jackalopejackalopedoctrinedbal doctrinephpcrodm fixed the errors leaving only the risky test