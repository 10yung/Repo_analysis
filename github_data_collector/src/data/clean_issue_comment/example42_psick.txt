 Before submitting your PR Open an issue and refer to its number in your PR title If its a bug and you have the solution go on with the PR If its a new profile got with the PR possibly with docs samples and tests After submitting your PR Verify Travis checks and fix the errors if needed Feel free to ping us if we dont reply promptly Update Ruby Version Update Puppet Modules Updates for onceover Update PE Version for Vagrant Add r k to Gemfile In the page below image is missing in the line A screen like this appears during online file editing Gitlab CI variable CIBUILDREFNAME is deprecated Rename it to CICOMMITREFNAME as in future releases it will be removed Note Starting with GitLab we have deprecated the CIBUILD variables You are strongly advised to use the new variables as we will remove the old ones in future GitLab releases Reference Affected files psick gitlabciyml psick gitlab gitlabciymlintegration psick gitlab gitlabciymlwithfakes Expected Behavior Link that work on For more details check the automatically generated Control repo documentation Actual Behavior Error Ray ID fcc c UTC Bad gateway Steps to Reproduce the Problem Go to click on link automatically generated Control repo documentation Expected Behavior windows ostest boots up puppet gets installed and I can test out my puppet code Actual Behavior windows ostest boots up vagrant command gets stuck on applying Steps to Reproduce the Problem cd into psick vagrant psick vagrant environments ostest vagrant up windows ostest get stuck Specifications For the forementioned reasons I cant get add facters output result Additional details shame on me Im running vagrant from a Windows machine The vagrant up log is the following windows ostest Matching MAC address for NAT networking windows ostest Setting the name of the VM ostestwindows ostest windows ostest Clearing any previously set network interfaces windows ostest Preparing network interfaces based on configuration windows ostest Adapter nat windows ostest Adapter hostonly windows ostest Forwarding ports windows ostest guest host adapter windows ostest guest host adapter windows ostest guest host adapter windows ostest guest host adapter windows ostest guest host adapter windows ostest guest host adapter windows ostest Running preboot VM customizations windows ostest Booting VM windows ostest Waiting for machine to boot This may take a few minutes windows ostest WinRM address windows ostest WinRM username vagrant windows ostest WinRM executiontimelimit PT H windows ostest WinRM transport negotiate windows ostest Machine booted and ready Sorry dont know how to check guest version of Virtualbox Guest Additions on this platform Stopping installation windows ostest Checking for guest additions in VM windows ostest Setting hostname windows ostest Configuring and enabling network interfaces windows ostest Mounting shared folders windows ostest vagrant CUsersmassimosporchiaworkspacevagrantpsickvagrantenvironmentsostest windows ostest vagrantpuppet CUsersmassimosporchiaworkspacevagrantpsick windows ostest Running provisioner shell windows ostest Running binvagrantsethostnamesh as c tmp vagrantshellsh Expected Behavior Machine comes up without manual intervention Actual Behavior Had to install the following packages manually via vargant ssh gitlabfosspsickio sudo aptget install y git gcc make bzip sudo aptget install y libssldev libreadlinedev zlib gdev g logout After reexecuting vargant provision gitlabfosspsickio the machine came up as expected Steps to Reproduce the Problem Install CentOS Host with git VirtualBox latest Vargant Setup Ruby Environment and clone PSICK vagrant up puppetfosspsickio vagrant up gitlabfosspsickio Specifications duhduhnotebook psickvagrantenvironmentsfoss git production vagrant status Current machine states puppetfosspsickio running virtualbox gitlabfosspsickio not created virtualbox icingafosspsickio not created virtualbox grafanafosspsickio not created virtualbox buildfosspsickio not created virtualbox dockerfosspsickio not created virtualbox jenkinsfosspsickio not created virtualbox centos fosspsickio not created virtualbox centos fosspsickio not created virtualbox This environment represents multiple VMs The VMs are all listed above with their current state For more information about a specific VM run vagrant status NAME duhduhnotebook psickvagrantenvironmentsfoss git production vagrant up gitlabfosspsickio Bringing machine gitlabfosspsickio up with virtualbox provider gitlabfosspsickio Importing base box ubuntuxenial gitlabfosspsickio Matching MAC address for NAT networking gitlabfosspsickio Checking if box ubuntuxenial is up to date gitlabfosspsickio Setting the name of the VM fossgitlabfosspsickio gitlabfosspsickio Fixed port collision for Now on port gitlabfosspsickio Clearing any previously set network interfaces gitlabfosspsickio Preparing network interfaces based on configuration gitlabfosspsickio Adapter nat gitlabfosspsickio Adapter hostonly gitlabfosspsickio Forwarding ports gitlabfosspsickio guest host adapter gitlabfosspsickio guest host adapter gitlabfosspsickio Running preboot VM customizations gitlabfosspsickio Booting VM gitlabfosspsickio Waiting for machine to boot This may take a few minutes gitlabfosspsickio SSH address gitlabfosspsickio SSH username vagrant gitlabfosspsickio SSH auth method private key gitlabfosspsickio gitlabfosspsickio Vagrant insecure key detected Vagrant will automatically replace gitlabfosspsickio this with a newly generated keypair for better security gitlabfosspsickio gitlabfosspsickio Inserting generated public key within guest gitlabfosspsickio Removing insecure key from the guest if its present gitlabfosspsickio Key inserted Disconnecting and reconnecting using new SSH key gitlabfosspsickio Machine booted and ready gitlabfosspsickio Checking for guest additions in VM gitlabfosspsickio The guest additions on this VM do not match the installed version of gitlabfosspsickio VirtualBox In most cases this is fine but in rare cases it can gitlabfosspsickio prevent things such as shared folders from working properly If you see gitlabfosspsickio shared folder errors please make sure the guest additions within the gitlabfosspsickio virtual machine match the version of VirtualBox you have installed on gitlabfosspsickio your host and reload your VM gitlabfosspsickio gitlabfosspsickio Guest Additions Version gitlabfosspsickio VirtualBox Version gitlabfosspsickio Setting hostname gitlabfosspsickio Configuring and enabling network interfaces gitlabfosspsickio Mounting shared folders gitlabfosspsickio vagrant homeduhpsickvagrantenvironmentsfoss gitlabfosspsickio vagrantpuppet homeduhpsick gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell amynw sh gitlabfosspsickio Setting hostname gitlabfosspsickio gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell jc sh gitlabfosspsickio Setting external facts rolegitlab envdevel zonefoss datacentervagrant applicationpuppetinfra gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell jkwbrish gitlabfosspsickio gitlabfosspsickio Detected Linux distro ubuntu version on arch gitlabfosspsickio gitlabfosspsickio Adding repo for Puppet gitlabfosspsickio gitlabfosspsickio Running aptget update gitlabfosspsickio gitlabfosspsickio Installing Puppet and its dependencies gitlabfosspsickio dpkgpreconfigure unable to reopen stdin No such file or directory gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell a irsh gitlabfosspsickio Linking Puppet host environment to local development directory gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell i aozsh gitlabfosspsickio Installing dependencies needed for puppet apply mode gitlabfosspsickio Notice Package ruby ensure created gitlabfosspsickio package ruby gitlabfosspsickio ensure gitlabfosspsickio gitlabfosspsickio Installing gems with provider gem gitlabfosspsickio Notice Package hieraeyaml ensure created gitlabfosspsickio package hieraeyaml gitlabfosspsickio ensure gitlabfosspsickio gitlabfosspsickio Notice Package deepmerge ensure created gitlabfosspsickio package deepmerge gitlabfosspsickio ensure gitlabfosspsickio gitlabfosspsickio Installing gems with provider puppetgem gitlabfosspsickio Notice Package hieraeyaml ensure created gitlabfosspsickio package hieraeyaml gitlabfosspsickio ensure gitlabfosspsickio gitlabfosspsickio package deepmerge gitlabfosspsickio ensure gitlabfosspsickio gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell j dcgsh gitlabfosspsickio Running Puppet apply on etcpuppetlabscodeenvironmentshostmanifestssitepp Version gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Warning Undefined variable psickautoconf class psick has not been evaluated n file line not available gitlabfosspsickio Warning The function hierahash is deprecated in favor of using lookup See file line not available gitlabfosspsickio Notice Compiled catalog for gitlabfosspsickio in environment host in seconds gitlabfosspsickio Info Applying configuration version a a Alessandro Franceschi Sun Mar Updated on noop mode gitlabfosspsickio Error Execution of optpuppetlabspuppetbingem install nordoc nori msgpack returned Building native extensions This could take a while gitlabfosspsickio ERROR Error installing msgpack gitlabfosspsickio ERROR Failed to build gem native extension gitlabfosspsickio gitlabfosspsickio current directory optpuppetlabspuppetlibrubygems gemsmsgpack extmsgpack gitlabfosspsickio optpuppetlabspuppetbinruby r siteconf nju kcrb extconfrb gitlabfosspsickio checking for rubysth extconfrb failed gitlabfosspsickio Could not create Makefile due to some reason probably lack of necessary gitlabfosspsickio libraries andor headers Check the mkmflog file for more details You may gitlabfosspsickio need configuration options gitlabfosspsickio gitlabfosspsickio Provided configuration options gitlabfosspsickio withoptdir gitlabfosspsickio withoptinclude gitlabfosspsickio withoutoptincludeoptdirinclude gitlabfosspsickio withoptlib gitlabfosspsickio withoutoptliboptdirlib gitlabfosspsickio withmakeprog gitlabfosspsickio withoutmakeprog gitlabfosspsickio srcdir gitlabfosspsickio curdir gitlabfosspsickio rubyoptpuppetlabspuppetbinRUBYBASENAME gitlabfosspsickio optpuppetlabspuppetlibruby mkmfrb in trydo The compiler failed to generate an executable file RuntimeError gitlabfosspsickio You have to install development tools first gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in trycpp gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in haveheader gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block levels in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in haveheader gitlabfosspsickio from extconfrb in main gitlabfosspsickio gitlabfosspsickio To see why this extension failed to compile please check the mkmflog which can be found here gitlabfosspsickio gitlabfosspsickio optpuppetlabspuppetlibrubygems extensionsx linux msgpack mkmflog gitlabfosspsickio gitlabfosspsickio extconf failed exit code gitlabfosspsickio gitlabfosspsickio Gem files will remain installed in optpuppetlabspuppetlibrubygems gemsmsgpack for inspection gitlabfosspsickio Results logged to optpuppetlabspuppetlibrubygems extensionsx linux msgpack gemmakeout gitlabfosspsickio Error Stage main PsickPuppetGemsPackage puppetmsgpack ensure change from absent to present failed Execution of optpuppetlabspuppetbingem install nordoc nori msgpack returned Building native extensions This could take a while gitlabfosspsickio ERROR Error installing msgpack gitlabfosspsickio ERROR Failed to build gem native extension gitlabfosspsickio gitlabfosspsickio current directory optpuppetlabspuppetlibrubygems gemsmsgpack extmsgpack gitlabfosspsickio optpuppetlabspuppetbinruby r siteconf nju kcrb extconfrb gitlabfosspsickio checking for rubysth extconfrb failed gitlabfosspsickio Could not create Makefile due to some reason probably lack of necessary gitlabfosspsickio libraries andor headers Check the mkmflog file for more details You may gitlabfosspsickio need configuration options gitlabfosspsickio gitlabfosspsickio Provided configuration options gitlabfosspsickio withoptdir gitlabfosspsickio withoptinclude gitlabfosspsickio withoutoptincludeoptdirinclude gitlabfosspsickio withoptlib gitlabfosspsickio withoutoptliboptdirlib gitlabfosspsickio withmakeprog gitlabfosspsickio withoutmakeprog gitlabfosspsickio srcdir gitlabfosspsickio curdir gitlabfosspsickio rubyoptpuppetlabspuppetbinRUBYBASENAME gitlabfosspsickio optpuppetlabspuppetlibruby mkmfrb in trydo The compiler failed to generate an executable file RuntimeError gitlabfosspsickio You have to install development tools first gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in trycpp gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in haveheader gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block levels in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in haveheader gitlabfosspsickio from extconfrb in main gitlabfosspsickio gitlabfosspsickio To see why this extension failed to compile please check the mkmflog which can be found here gitlabfosspsickio gitlabfosspsickio optpuppetlabspuppetlibrubygems extensionsx linux msgpack mkmflog gitlabfosspsickio gitlabfosspsickio extconf failed exit code gitlabfosspsickio gitlabfosspsickio Gem files will remain installed in optpuppetlabspuppetlibrubygems gemsmsgpack for inspection gitlabfosspsickio Results logged to optpuppetlabspuppetlibrubygems extensionsx linux msgpack gemmakeout gitlabfosspsickio Notice Stage main PsickHostnameFile etchostname content gitlabfosspsickio etchostname gitlabfosspsickio tmppuppetfile vqhj gitlabfosspsickio gitlabfosspsickio gitlab gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio Info Computing checksum on file etchostname gitlabfosspsickio Info Stage main PsickHostnameFile etchostname Filebucketed etchostname to puppet with sum e c ef d cf f ba gitlabfosspsickio Notice Stage main PsickHostnameFile etchostname content content changed md e c ef d cf f ba to md c be be dfb f efe f f gitlabfosspsickio Info Stage main PsickHostnameFile etchostname Scheduling refresh of Exec applyhostname gitlabfosspsickio Notice Stage main PsickHostnameExec applyhostname Triggered refresh from event gitlabfosspsickio Notice Stage main PsickHostsFileFile etchosts content gitlabfosspsickio etchosts gitlabfosspsickio tmppuppetfile r oztw gitlabfosspsickio gitlabfosspsickio localhost gitlabfosspsickio gitlabfosspsickio The following lines are desirable for IPv capable hosts gitlabfosspsickio ip localhost ip loopback gitlabfosspsickio fe ip localnet gitlabfosspsickio ff ip mcastprefix gitlabfosspsickio ff ip allnodes gitlabfosspsickio ff ip allrouters gitlabfosspsickio ff ip allhosts gitlabfosspsickio gitlabfosspsickio gitlab gitlabfosspsickio File managed by Puppet gitlabfosspsickio localhost localhostlocaldomain gitlabfosspsickio gitlab gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio puppet puppetfosspsickio gitlabfosspsickio git gitfosspsickio gitlabfosspsickio cirunner cirunnerfosspsickio gitlabfosspsickio build buildlabpsickio gitlabfosspsickio docker dockerfosspsickio gitlabfosspsickio jenkins jenkinsfosspsickio gitlabfosspsickio gitlabfosspsickio Info Computing checksum on file etchosts gitlabfosspsickio Info Stage main PsickHostsFileFile etchosts Filebucketed etchosts to puppet with sum adae a af c a e a cd f gitlabfosspsickio Notice Stage main PsickHostsFileFile etchosts content content changed md adae a af c a e a cd f to md a bdd ac dda eee be b e gitlabfosspsickio Notice Stage main PsickDnsResolverFile etcresolvconf ensure defined content as md ccdb ea bdf b ae a d gitlabfosspsickio Notice Stage main PsickUsersUser al ensure created gitlabfosspsickio Info Class PsickPre Unscheduling all events on Class PsickPre gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersd Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersd Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersd cloudinitusers Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersd cloudinitusers Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersdREADME Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersdREADME Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersdvagrant Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersdvagrant Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimezoneFile timezone Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimezoneFile timezone Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimezoneExec settimezone Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimezoneExec settimezone Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSysctlFile etcsysctlconf Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSysctlFile etcsysctlconf Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSysctlExec psick refresh sysctl Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSysctlExec psick refresh sysctl Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickUpdateFile usrlocalsbinupdatesh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickUpdateFile usrlocalsbinupdatesh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickUpdateFile etccrondsystemupdate Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickUpdateFile etccrondsystemupdate Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMotdFile etcmotd Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMotdFile etcmotd Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMotdFile etcissue Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMotdFile etcissue Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickProfileFile etcprofiledtzsh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickProfileFile etcprofiledtzsh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main NetworkExec sbinifdown a sbinifup a Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main NetworkExec sbinifdown a sbinifup a Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMonitorSarPackage sysstat Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMonitorSarPackage sysstat Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMonitorSarFile etccrondsysstat Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMonitorSarFile etccrondsysstat Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPuppetTpTpInstall puppetagent Service puppet ensure ensure changed stopped to running gitlabfosspsickio Info Stage main PsickPuppetTpTpInstall puppetagent Service puppet Unscheduling refresh on Service puppet gitlabfosspsickio Notice Stage main TpFile etctp ensure created gitlabfosspsickio Notice Stage main TpFile etctpapp ensure created gitlabfosspsickio Notice Stage main PsickPuppetTpTpInstall puppetagent File etctpapppuppetagent ensure defined content as md d dca f c a de b f ea gitlabfosspsickio Notice Stage main TpFile etctptest ensure created gitlabfosspsickio Notice Stage main TpFile usrlocalbintp ensure defined content as md f e efb cf cebf f ba gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix Package postfix Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpInstall postfix Package postfix Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix File etctpapppostfix Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpInstall postfix File etctpapppostfix Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix Service postfix Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpInstall postfix Service postfix Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickOpensshTpInstall openssh Package opensshserver Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickOpensshTpInstall openssh Package opensshserver Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickOpensshTpInstall openssh Service ssh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickOpensshTpInstall openssh Service ssh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickOpensshTpInstall openssh File etctpappopenssh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickOpensshTpInstall openssh File etctpappopenssh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpInstall rsyslog Package rsyslog Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpInstall rsyslog Package rsyslog Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpInstall rsyslog File etctpapprsyslog Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpInstall rsyslog File etctpapprsyslog Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpDir rsyslog File etcrsyslogd Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpDir rsyslog File etcrsyslogd Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpInstall rsyslog Service rsyslog Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpInstall rsyslog Service rsyslog Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimeNtpdateTpInstall ntpdate Package ntpdate Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimeNtpdateTpInstall ntpdate Package ntpdate Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimeNtpdateTpInstall ntpdate File etctpappntpdate Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimeNtpdateTpInstall ntpdate File etctpappntpdate Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimeNtpdateExec ntpdate s poolntporg Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimeNtpdateExec ntpdate s poolntporg Skipping because of failed dependencies gitlabfosspsickio Info Stage main Unscheduling all events on Stage main gitlabfosspsickio Notice Applied catalog in seconds gitlabfosspsickio Changes gitlabfosspsickio Total gitlabfosspsickio Events gitlabfosspsickio Failure gitlabfosspsickio Success gitlabfosspsickio Total gitlabfosspsickio Resources gitlabfosspsickio Failed gitlabfosspsickio Restarted gitlabfosspsickio Changed gitlabfosspsickio Out of sync gitlabfosspsickio Skipped gitlabfosspsickio Total gitlabfosspsickio Time gitlabfosspsickio Schedule gitlabfosspsickio Exec gitlabfosspsickio User gitlabfosspsickio File gitlabfosspsickio Service gitlabfosspsickio Package gitlabfosspsickio Transaction evaluation gitlabfosspsickio Catalog application gitlabfosspsickio Last run gitlabfosspsickio Config retrieval gitlabfosspsickio Filebucket gitlabfosspsickio Total gitlabfosspsickio Version gitlabfosspsickio Config a a Alessandro Franceschi Sun Mar Updated on noop mode gitlabfosspsickio Puppet The SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed The output for this command should be in the log above Please read the output to determine what went wrong vagrant up gitlabfosspsickio s user s system cpu total duhduhnotebook psickvagrantenvironmentsfoss git production vagrant provision gitlabfosspsickio gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell w ons sh gitlabfosspsickio Setting hostname gitlabfosspsickio gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell aaugysh gitlabfosspsickio Setting external facts rolegitlab envdevel zonefoss datacentervagrant applicationpuppetinfra gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell rh uftsh gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio Puppet version or higher present Skipping installation gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell rqyt vsh gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell h m sh gitlabfosspsickio Found vartmpvagrantsetuppapplylock Skipping installation of dependencies needed for puppet apply mode gitlabfosspsickio Remove vartmpvagrantsetuppapplylock on the Vagrant VM to retry their installation gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell phrc gsh gitlabfosspsickio Running Puppet apply on etcpuppetlabscodeenvironmentshostmanifestssitepp Version gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Warning Undefined variable psickautoconf class psick has not been evaluated n file line not available gitlabfosspsickio Warning The function hierahash is deprecated in favor of using lookup See file line not available gitlabfosspsickio Notice Compiled catalog for gitlabfosspsickio in environment host in seconds gitlabfosspsickio Info Applying configuration version a a Alessandro Franceschi Sun Mar Updated on noop mode gitlabfosspsickio Error Execution of optpuppetlabspuppetbingem install nordoc nori msgpack returned Building native extensions This could take a while gitlabfosspsickio ERROR Error installing msgpack gitlabfosspsickio ERROR Failed to build gem native extension gitlabfosspsickio gitlabfosspsickio current directory optpuppetlabspuppetlibrubygems gemsmsgpack extmsgpack gitlabfosspsickio optpuppetlabspuppetbinruby r siteconf yyk rb extconfrb gitlabfosspsickio checking for rubysth extconfrb failed gitlabfosspsickio Could not create Makefile due to some reason probably lack of necessary gitlabfosspsickio libraries andor headers Check the mkmflog file for more details You may gitlabfosspsickio need configuration options gitlabfosspsickio gitlabfosspsickio Provided configuration options gitlabfosspsickio withoptdir gitlabfosspsickio withoptinclude gitlabfosspsickio withoutoptincludeoptdirinclude gitlabfosspsickio withoptlib gitlabfosspsickio withoutoptliboptdirlib gitlabfosspsickio withmakeprog gitlabfosspsickio withoutmakeprog gitlabfosspsickio srcdir gitlabfosspsickio curdir gitlabfosspsickio rubyoptpuppetlabspuppetbinRUBYBASENAME gitlabfosspsickio optpuppetlabspuppetlibruby mkmfrb in trydo The compiler failed to generate an executable file RuntimeError gitlabfosspsickio You have to install development tools first gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in trycpp gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in haveheader gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block levels in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in haveheader gitlabfosspsickio from extconfrb in main gitlabfosspsickio gitlabfosspsickio To see why this extension failed to compile please check the mkmflog which can be found here gitlabfosspsickio gitlabfosspsickio optpuppetlabspuppetlibrubygems extensionsx linux msgpack mkmflog gitlabfosspsickio gitlabfosspsickio extconf failed exit code gitlabfosspsickio gitlabfosspsickio Gem files will remain installed in optpuppetlabspuppetlibrubygems gemsmsgpack for inspection gitlabfosspsickio Results logged to optpuppetlabspuppetlibrubygems extensionsx linux msgpack gemmakeout gitlabfosspsickio Error Stage main PsickPuppetGemsPackage puppetmsgpack ensure change from absent to present failed Execution of optpuppetlabspuppetbingem install nordoc nori msgpack returned Building native extensions This could take a while gitlabfosspsickio ERROR Error installing msgpack gitlabfosspsickio ERROR Failed to build gem native extension gitlabfosspsickio gitlabfosspsickio current directory optpuppetlabspuppetlibrubygems gemsmsgpack extmsgpack gitlabfosspsickio optpuppetlabspuppetbinruby r siteconf yyk rb extconfrb gitlabfosspsickio checking for rubysth extconfrb failed gitlabfosspsickio Could not create Makefile due to some reason probably lack of necessary gitlabfosspsickio libraries andor headers Check the mkmflog file for more details You may gitlabfosspsickio need configuration options gitlabfosspsickio gitlabfosspsickio Provided configuration options gitlabfosspsickio withoptdir gitlabfosspsickio withoptinclude gitlabfosspsickio withoutoptincludeoptdirinclude gitlabfosspsickio withoptlib gitlabfosspsickio withoutoptliboptdirlib gitlabfosspsickio withmakeprog gitlabfosspsickio withoutmakeprog gitlabfosspsickio srcdir gitlabfosspsickio curdir gitlabfosspsickio rubyoptpuppetlabspuppetbinRUBYBASENAME gitlabfosspsickio optpuppetlabspuppetlibruby mkmfrb in trydo The compiler failed to generate an executable file RuntimeError gitlabfosspsickio You have to install development tools first gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in trycpp gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in haveheader gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block levels in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in block in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in open gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in postpone gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in checkingfor gitlabfosspsickio from optpuppetlabspuppetlibruby mkmfrb in haveheader gitlabfosspsickio from extconfrb in main gitlabfosspsickio gitlabfosspsickio To see why this extension failed to compile please check the mkmflog which can be found here gitlabfosspsickio gitlabfosspsickio optpuppetlabspuppetlibrubygems extensionsx linux msgpack mkmflog gitlabfosspsickio gitlabfosspsickio extconf failed exit code gitlabfosspsickio gitlabfosspsickio Gem files will remain installed in optpuppetlabspuppetlibrubygems gemsmsgpack for inspection gitlabfosspsickio Results logged to optpuppetlabspuppetlibrubygems extensionsx linux msgpack gemmakeout gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersd Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersd Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersd cloudinitusers Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersd cloudinitusers Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersdREADME Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersdREADME Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersdvagrant Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSudoFile etcsudoersdvagrant Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimezoneFile timezone Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimezoneFile timezone Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimezoneExec settimezone Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimezoneExec settimezone Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSysctlFile etcsysctlconf Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSysctlFile etcsysctlconf Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickSysctlExec psick refresh sysctl Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickSysctlExec psick refresh sysctl Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickUpdateFile usrlocalsbinupdatesh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickUpdateFile usrlocalsbinupdatesh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickUpdateFile etccrondsystemupdate Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickUpdateFile etccrondsystemupdate Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMotdFile etcmotd Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMotdFile etcmotd Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMotdFile etcissue Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMotdFile etcissue Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickProfileFile etcprofiledtzsh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickProfileFile etcprofiledtzsh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main NetworkExec sbinifdown a sbinifup a Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main NetworkExec sbinifdown a sbinifup a Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMonitorSarPackage sysstat Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMonitorSarPackage sysstat Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickMonitorSarFile etccrondsysstat Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickMonitorSarFile etccrondsysstat Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix Package postfix Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpInstall postfix Package postfix Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix File etctpapppostfix Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpInstall postfix File etctpapppostfix Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix Service postfix Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickPostfixTpTpInstall postfix Service postfix Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickOpensshTpInstall openssh Package opensshserver Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickOpensshTpInstall openssh Package opensshserver Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickOpensshTpInstall openssh Service ssh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickOpensshTpInstall openssh Service ssh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickOpensshTpInstall openssh File etctpappopenssh Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickOpensshTpInstall openssh File etctpappopenssh Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpInstall rsyslog Package rsyslog Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpInstall rsyslog Package rsyslog Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpInstall rsyslog File etctpapprsyslog Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpInstall rsyslog File etctpapprsyslog Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpDir rsyslog File etcrsyslogd Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpDir rsyslog File etcrsyslogd Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpInstall rsyslog Service rsyslog Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickLogsRsyslogTpInstall rsyslog Service rsyslog Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimeNtpdateTpInstall ntpdate Package ntpdate Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimeNtpdateTpInstall ntpdate Package ntpdate Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimeNtpdateTpInstall ntpdate File etctpappntpdate Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimeNtpdateTpInstall ntpdate File etctpappntpdate Skipping because of failed dependencies gitlabfosspsickio Notice Stage main PsickTimeNtpdateExec ntpdate s poolntporg Dependency Package puppetmsgpack has failures true gitlabfosspsickio Warning Stage main PsickTimeNtpdateExec ntpdate s poolntporg Skipping because of failed dependencies gitlabfosspsickio Notice Applied catalog in seconds gitlabfosspsickio Changes gitlabfosspsickio Events gitlabfosspsickio Failure gitlabfosspsickio Total gitlabfosspsickio Resources gitlabfosspsickio Failed gitlabfosspsickio Out of sync gitlabfosspsickio Skipped gitlabfosspsickio Total gitlabfosspsickio Time gitlabfosspsickio Filebucket gitlabfosspsickio Schedule gitlabfosspsickio User gitlabfosspsickio File gitlabfosspsickio Exec gitlabfosspsickio Service gitlabfosspsickio Package gitlabfosspsickio Transaction evaluation gitlabfosspsickio Catalog application gitlabfosspsickio Last run gitlabfosspsickio Config retrieval gitlabfosspsickio Total gitlabfosspsickio Version gitlabfosspsickio Config a a Alessandro Franceschi Sun Mar Updated on noop mode gitlabfosspsickio Puppet The SSH command responded with a nonzero exit status Vagrant assumes that this means the command failed The output for this command should be in the log above Please read the output to determine what went wrong duhduhnotebook psickvagrantenvironmentsfoss git production vagrant ssh gitlabfosspsickio Welcome to Ubuntu LTS GNULinux generic x Documentation Management Support Get cloud support with Ubuntu Advantage Cloud Guest packages can be updated updates are security updates vagrantgitlab aptget install y git gcc make bzip E Could not open lock file varlibdpkglock open Permission denied E Unable to lock the administration directory varlibdpkg are you root vagrantgitlab sudo su rootgitlab aptget install y git gcc make bzip Reading package lists Done Building dependency tree Reading state information Done bzip is already the newest version git is already the newest version ubuntu The following additional packages will be installed binutils cpp cpp gcc libasan libatomic libcdevbin libc dev libcc libcilkrts libgcc dev libgomp libisl libitm liblsan libmpc libmpx libquadmath libtsan libubsan linuxlibcdev manpagesdev Suggested packages binutilsdoc cppdoc gcc locales gccmultilib autoconf automake libtool flex bison gdb gccdoc gcc multilib gcc doc libgcc dbg libgomp dbg libitm dbg libatomic dbg libasan dbg liblsan dbg libtsan dbg libubsan dbg libcilkrts dbg libmpx dbg libquadmath dbg glibcdoc makedoc The following NEW packages will be installed binutils cpp cpp gcc gcc libasan libatomic libcdevbin libc dev libcc libcilkrts libgcc dev libgomp libisl libitm liblsan libmpc libmpx libquadmath libtsan libubsan linuxlibcdev make manpagesdev upgraded newly installed to remove and not upgraded Need to get MB of archives After this operation MB of additional disk space will be used Get xenialmain amd libmpc amd kB Get xenialupdatesmain amd binutils amd ubuntu kB Get xenialmain amd libisl amd kB Get xenialupdatesmain amd cpp amd ubuntu kB Get xenialmain amd cpp amd ubuntu kB Get xenialupdatesmain amd libcc amd ubuntu kB Get xenialupdatesmain amd libgomp amd ubuntu kB Get xenialupdatesmain amd libitm amd ubuntu kB Get xenialupdatesmain amd libatomic amd ubuntu B Get xenialupdatesmain amd libasan amd ubuntu kB Get xenialupdatesmain amd liblsan amd ubuntu kB Get xenialupdatesmain amd libtsan amd ubuntu kB Get xenialupdatesmain amd libubsan amd ubuntu kB Get xenialupdatesmain amd libcilkrts amd ubuntu kB Get xenialupdatesmain amd libmpx amd ubuntu B Get xenialupdatesmain amd libquadmath amd ubuntu kB Get xenialupdatesmain amd libgcc dev amd ubuntu kB Get xenialupdatesmain amd gcc amd ubuntu kB Get xenialmain amd gcc amd ubuntu B Get xenialupdatesmain amd libcdevbin amd ubuntu kB Get xenialupdatesmain amd linuxlibcdev amd kB Get xenialupdatesmain amd libc dev amd ubuntu kB Get xenialmain amd make amd kB Get xenialmain amd manpagesdev all kB Fetched MB in s kBs Selecting previously unselected package libmpc amd Reading database files and directories currently installed Preparing to unpack libmpc amd deb Unpacking libmpc amd Selecting previously unselected package binutils Preparing to unpack binutils ubuntu amd deb Unpacking binutils ubuntu Selecting previously unselected package libisl amd Preparing to unpack libisl amd deb Unpacking libisl amd Selecting previously unselected package cpp Preparing to unpack cpp ubuntu amd deb Unpacking cpp ubuntu Selecting previously unselected package cpp Preparing to unpack cpp a ubuntu amd deb Unpacking cpp ubuntu Selecting previously unselected package libcc amd Preparing to unpack libcc ubuntu amd deb Unpacking libcc amd ubuntu Selecting previously unselected package libgomp amd Preparing to unpack libgomp ubuntu amd deb Unpacking libgomp amd ubuntu Selecting previously unselected package libitm amd Preparing to unpack libitm ubuntu amd deb Unpacking libitm amd ubuntu Selecting previously unselected package libatomic amd Preparing to unpack libatomic ubuntu amd deb Unpacking libatomic amd ubuntu Selecting previously unselected package libasan amd Preparing to unpack libasan ubuntu amd deb Unpacking libasan amd ubuntu Selecting previously unselected package liblsan amd Preparing to unpack liblsan ubuntu amd deb Unpacking liblsan amd ubuntu Selecting previously unselected package libtsan amd Preparing to unpack libtsan ubuntu amd deb Unpacking libtsan amd ubuntu Selecting previously unselected package libubsan amd Preparing to unpack libubsan ubuntu amd deb Unpacking libubsan amd ubuntu Selecting previously unselected package libcilkrts amd Preparing to unpack libcilkrts ubuntu amd deb Unpacking libcilkrts amd ubuntu Selecting previously unselected package libmpx amd Preparing to unpack libmpx ubuntu amd deb Unpacking libmpx amd ubuntu Selecting previously unselected package libquadmath amd Preparing to unpack libquadmath ubuntu amd deb Unpacking libquadmath amd ubuntu Selecting previously unselected package libgcc devamd Preparing to unpack libgcc dev ubuntu amd deb Unpacking libgcc devamd ubuntu Selecting previously unselected package gcc Preparing to unpack gcc ubuntu amd deb Unpacking gcc ubuntu Selecting previously unselected package gcc Preparing to unpack gcc a ubuntu amd deb Unpacking gcc ubuntu Selecting previously unselected package libcdevbin Preparing to unpack libcdevbin ubuntu amd deb Unpacking libcdevbin ubuntu Selecting previously unselected package linuxlibcdevamd Preparing to unpack linuxlibcdev amd deb Unpacking linuxlibcdevamd Selecting previously unselected package libc devamd Preparing to unpack libc dev ubuntu amd deb Unpacking libc devamd ubuntu Selecting previously unselected package make Preparing to unpack archivesmake amd deb Unpacking make Selecting previously unselected package manpagesdev Preparing to unpack manpagesdev alldeb Unpacking manpagesdev Processing triggers for libcbin ubuntu Processing triggers for mandb Setting up libmpc amd Setting up binutils ubuntu Setting up libisl amd Setting up cpp ubuntu Setting up cpp ubuntu Setting up libcc amd ubuntu Setting up libgomp amd ubuntu Setting up libitm amd ubuntu Setting up libatomic amd ubuntu Setting up libasan amd ubuntu Setting up liblsan amd ubuntu Setting up libtsan amd ubuntu Setting up libubsan amd ubuntu Setting up libcilkrts amd ubuntu Setting up libmpx amd ubuntu Setting up libquadmath amd ubuntu Setting up libgcc devamd ubuntu Setting up gcc ubuntu Setting up gcc ubuntu Setting up libcdevbin ubuntu Setting up linuxlibcdevamd Setting up libc devamd ubuntu Setting up make Setting up manpagesdev Processing triggers for libcbin ubuntu rootgitlab aptget install y libssldev libreadlinedev zlib gdev g Reading package lists Done Building dependency tree Reading state information Done The following additional packages will be installed g libreadline dev libssldoc libstdc dev libtinfodev Suggested packages gmultilib g multilib gcc doc libstdc dbg readlinedoc libstdc doc The following NEW packages will be installed g g libreadlinedev libreadline dev libssldev libssldoc libstdc dev libtinfodev zlib gdev upgraded newly installed to remove and not upgraded Need to get MB of archives After this operation MB of additional disk space will be used Get xenialupdatesmain amd libstdc dev amd ubuntu kB Get xenialupdatesmain amd g amd ubuntu kB Get xenialmain amd g amd ubuntu B Get xenialmain amd libtinfodev amd ubuntu kB Get xenialmain amd libreadline dev amd ubuntu kB Get xenialmain amd libreadlinedev amd ubuntu B Get xenialupdatesmain amd zlib gdev amd dfsg ubuntu kB Get xenialupdatesmain amd libssldev amd g ubuntu kB Get xenialupdatesmain amd libssldoc all g ubuntu kB Fetched MB in s kBs Selecting previously unselected package libstdc devamd Reading database files and directories currently installed Preparing to unpack libstdc dev ubuntu amd deb Unpacking libstdc devamd ubuntu Selecting previously unselected package g Preparing to unpack g ubuntu amd deb Unpacking g ubuntu Selecting previously unselected package g Preparing to unpack g a ubuntu amd deb Unpacking g ubuntu Selecting previously unselected package libtinfodevamd Preparing to unpack libtinfodev ubuntu amd deb Unpacking libtinfodevamd ubuntu Selecting previously unselected package libreadline devamd Preparing to unpack libreadline dev ubuntu amd deb Unpacking libreadline devamd ubuntu Selecting previously unselected package libreadlinedevamd Preparing to unpack libreadlinedev ubuntu amd deb Unpacking libreadlinedevamd ubuntu Selecting previously unselected package zlib gdevamd Preparing to unpack zlib gdev a dfsg ubuntu amd deb Unpacking zlib gdevamd dfsg ubuntu Selecting previously unselected package libssldevamd Preparing to unpack libssldev g ubuntu amd deb Unpacking libssldevamd g ubuntu Selecting previously unselected package libssldoc Preparing to unpack libssldoc g ubuntu alldeb Unpacking libssldoc g ubuntu Processing triggers for mandb Processing triggers for installinfo dfsg Setting up libstdc devamd ubuntu Setting up g ubuntu Setting up g ubuntu updatealternatives using usrbing to provide usrbinc c in auto mode Setting up libtinfodevamd ubuntu Setting up libreadline devamd ubuntu Setting up libreadlinedevamd ubuntu Setting up zlib gdevamd dfsg ubuntu Setting up libssldevamd g ubuntu Setting up libssldoc g ubuntu rootgitlab logout vagrantgitlab C vagrantgitlab logout Connection to closed duhduhnotebook psickvagrantenvironmentsfoss git production vagrant provision gitlabfosspsickio gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell a nsh gitlabfosspsickio Setting hostname gitlabfosspsickio gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell yc rnsh gitlabfosspsickio Setting external facts rolegitlab envdevel zonefoss datacentervagrant applicationpuppetinfra gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell aghyyzsh gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio Puppet version or higher present Skipping installation gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell qn n sh gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell pr l sh gitlabfosspsickio Found vartmpvagrantsetuppapplylock Skipping installation of dependencies needed for puppet apply mode gitlabfosspsickio Remove vartmpvagrantsetuppapplylock on the Vagrant VM to retry their installation gitlabfosspsickio Running provisioner shell gitlabfosspsickio Running tmpvagrantshell rvkamnsh gitlabfosspsickio Running Puppet apply on etcpuppetlabscodeenvironmentshostmanifestssitepp Version gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Info Loading facts gitlabfosspsickio Warning Undefined variable psickautoconf class psick has not been evaluated n file line not available gitlabfosspsickio Warning The function hierahash is deprecated in favor of using lookup See file line not available gitlabfosspsickio Notice Compiled catalog for gitlabfosspsickio in environment host in seconds gitlabfosspsickio Info Applying configuration version a a Alessandro Franceschi Sun Mar Updated on noop mode gitlabfosspsickio Notice Stage main PsickPuppetGemsPackage puppetmsgpack ensure created gitlabfosspsickio Notice Stage main PsickSudoFile etcsudoersd mode mode changed to gitlabfosspsickio Notice Stage main PsickTimezoneFile timezone content gitlabfosspsickio etctimezone gitlabfosspsickio tmppuppetfile kko bf gitlabfosspsickio gitlabfosspsickio EtcUTC gitlabfosspsickio EuropeBerlin gitlabfosspsickio gitlabfosspsickio Info Computing checksum on file etctimezone gitlabfosspsickio Info Stage main PsickTimezoneFile timezone Filebucketed etctimezone to puppet with sum f b ba d fd c aedeb gitlabfosspsickio Notice Stage main PsickTimezoneFile timezone content content changed md f b ba d fd c aedeb to md f f f ec d f a gitlabfosspsickio Info Stage main PsickTimezoneFile timezone Scheduling refresh of Exec settimezone gitlabfosspsickio Notice Stage main PsickTimezoneExec settimezone Triggered refresh from event gitlabfosspsickio Notice Stage main PsickSysctlFile etcsysctlconf content gitlabfosspsickio etcsysctlconf gitlabfosspsickio tmppuppetfile w sylt gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio etcsysctlconf Configuration file for setting system variables gitlabfosspsickio See etcsysctld for additional system variables gitlabfosspsickio See sysctlconf for information gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio kerneldomainname examplecom gitlabfosspsickio gitlabfosspsickio Uncomment the following to stop lowlevel messages on console gitlabfosspsickio kernelprintk gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio Functions previously found in netbase gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio Uncomment the next two lines to enable Spoof protection reversepath filter gitlabfosspsickio Turn on Source Address Verification in all interfaces to gitlabfosspsickio prevent some spoofing attacks gitlabfosspsickio netipv confdefaultrpfilter gitlabfosspsickio netipv confallrpfilter gitlabfosspsickio gitlabfosspsickio Uncomment the next line to enable TCPIP SYN cookies gitlabfosspsickio See gitlabfosspsickio Note This may impact IPv TCP sessions too gitlabfosspsickio netipv tcpsyncookies gitlabfosspsickio gitlabfosspsickio Uncomment the next line to enable packet forwarding for IPv gitlabfosspsickio netipv ipforward gitlabfosspsickio gitlabfosspsickio Uncomment the next line to enable packet forwarding for IPv gitlabfosspsickio Enabling this option disables Stateless Address Autoconfiguration gitlabfosspsickio based on Router Advertisements for this host gitlabfosspsickio netipv confallforwarding gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio Additional settings these settings can improve the network gitlabfosspsickio security of the host and prevent against some network attacks gitlabfosspsickio including spoofing attacks and man in the middle attacks through gitlabfosspsickio redirection Some network environments however require that these gitlabfosspsickio settings are disabled so review and enable them as needed gitlabfosspsickio gitlabfosspsickio Do not accept ICMP redirects prevent MITM attacks gitlabfosspsickio netipv confallacceptredirects gitlabfosspsickio netipv confallacceptredirects gitlabfosspsickio or gitlabfosspsickio Accept ICMP redirects only for gateways listed in our default gitlabfosspsickio gateway list enabled by default gitlabfosspsickio netipv confallsecureredirects gitlabfosspsickio gitlabfosspsickio Do not send ICMP redirects we are not a router gitlabfosspsickio netipv confallsendredirects gitlabfosspsickio gitlabfosspsickio Do not accept IP source route packets we are not a router gitlabfosspsickio netipv confallacceptsourceroute gitlabfosspsickio netipv confallacceptsourceroute gitlabfosspsickio gitlabfosspsickio Log Martian Packets gitlabfosspsickio netipv confalllogmartians gitlabfosspsickio gitlabfosspsickio File managed by Puppet gitlabfosspsickio netipv confallforwarding gitlabfosspsickio gitlabfosspsickio Info Computing checksum on file etcsysctlconf gitlabfosspsickio Info Stage main PsickSysctlFile etcsysctlconf Filebucketed etcsysctlconf to puppet with sum c d c d e c e b gitlabfosspsickio Notice Stage main PsickSysctlFile etcsysctlconf content content changed md c d c d e c e b to md f c ad fec ecd c b gitlabfosspsickio Info Stage main PsickSysctlFile etcsysctlconf Scheduling refresh of Exec psick refresh sysctl gitlabfosspsickio Notice Stage main PsickSysctlExec psick refresh sysctl Triggered refresh from event gitlabfosspsickio Notice Stage main PsickUpdateFile usrlocalsbinupdatesh ensure defined content as md cca b faaa ec a ba e d gitlabfosspsickio Notice Stage main PsickUpdateFile etccrondsystemupdate ensure defined content as md f ab b f a gitlabfosspsickio Notice Stage main PsickMotdFile etcmotd ensure defined content as md d c ac a db f gitlabfosspsickio Notice Stage main PsickMotdFile etcissue content gitlabfosspsickio etcissue gitlabfosspsickio tmppuppetfile zwchr gitlabfosspsickio gitlabfosspsickio Ubuntu LTS n l gitlabfosspsickio gitlabfosspsickio System Managed by Puppet gitlabfosspsickio Role gitlab gitlabfosspsickio Environment devel gitlabfosspsickio Datacenter vagrant gitlabfosspsickio Zone foss gitlabfosspsickio Application puppetinfra gitlabfosspsickio Puppet environment host gitlabfosspsickio gitlabfosspsickio Info Computing checksum on file etcissue gitlabfosspsickio Info Stage main PsickMotdFile etcissue Filebucketed etcissue to puppet with sum df af aaf b ebec fb c a gitlabfosspsickio Notice Stage main PsickMotdFile etcissue content content changed md df af aaf b ebec fb c a to md d e f ba abe gitlabfosspsickio Notice Stage main PsickProfileFile etcprofiledtzsh ensure defined content as md b a fd b e d a b gitlabfosspsickio Notice Stage main PsickMonitorSarPackage sysstat ensure created gitlabfosspsickio Notice Stage main PsickMonitorSarFile etccrondsysstat content gitlabfosspsickio etccrondsysstat gitlabfosspsickio tmppuppetfile noybrs gitlabfosspsickio gitlabfosspsickio The first element of the path is a directory where the debiansa gitlabfosspsickio script is located gitlabfosspsickio PATHusrlibsysstatusrsbinusrsbinusrbinsbinbin gitlabfosspsickio gitlabfosspsickio Activity reports every minutes everyday gitlabfosspsickio root command v debiansa devnull debiansa gitlabfosspsickio gitlabfosspsickio Additional run at to rotate the statistics file gitlabfosspsickio root command v debiansa devnull debiansa gitlabfosspsickio File managed by Puppet gitlabfosspsickio PATHusrlib sysstatusrlibsysstatusrlib sausrlibsausrsbinusrsbinusrbinsbinbin gitlabfosspsickio root sa gitlabfosspsickio root sa A gitlabfosspsickio gitlabfosspsickio Info Computing checksum on file etccrondsysstat gitlabfosspsickio Info Stage main PsickMonitorSarFile etccrondsysstat Filebucketed etccrondsysstat to puppet with sum c c b daabb e c gitlabfosspsickio Notice Stage main PsickMonitorSarFile etccrondsysstat content content changed md c c b daabb e c to md c dea ea ec gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix Package postfix ensure created gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix File etctpapppostfix ensure defined content as md e d c f bdc bcef gitlabfosspsickio Notice Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf content gitlabfosspsickio etcpostfixmaincf gitlabfosspsickio tmppuppetfile xiawdt gitlabfosspsickio gitlabfosspsickio See usrsharepostfixmaincfdist for a commented more complete version gitlabfosspsickio File managed by Puppet gitlabfosspsickio gitlabfosspsickio gitlabfosspsickio Debian specific Specifying a file name will cause the first gitlabfosspsickio line of that file to be used as the name The Debian default gitlabfosspsickio is etcmailname gitlabfosspsickio myorigin etcmailname gitlabfosspsickio gitlabfosspsickio smtpdbanner myhostname ESMTP mailname Ubuntu gitlabfosspsickio biff no gitlabfosspsickio gitlabfosspsickio appending domain is the MUAs job gitlabfosspsickio appenddotmydomain no gitlabfosspsickio gitlabfosspsickio Uncomment the next line to generate delayed mail warnings gitlabfosspsickio delaywarningtime h gitlabfosspsickio gitlabfosspsickio readmedirectory no gitlabfosspsickio gitlabfosspsickio TLS parameters gitlabfosspsickio smtpdtlscertfileetcsslcertssslcertsnakeoilpem gitlabfosspsickio smtpdtlskeyfileetcsslprivatesslcertsnakeoilkey gitlabfosspsickio smtpdusetlsyes gitlabfosspsickio smtpdtlssessioncachedatabase btreedatadirectorysmtpdscache gitlabfosspsickio smtptlssessioncachedatabase btreedatadirectorysmtpscache gitlabfosspsickio gitlabfosspsickio See usrsharedocpostfixTLSREADMEgz in the postfixdoc package for gitlabfosspsickio information on enabling SSL in the smtp client gitlabfosspsickio gitlabfosspsickio smtpdrelayrestrictions permitmynetworks permitsaslauthenticated deferunauthdestination gitlabfosspsickio softbounce no gitlabfosspsickio queuedirectory varspoolpostfix gitlabfosspsickio commanddirectory usrsbin gitlabfosspsickio daemondirectory usrlibpostfixsbin gitlabfosspsickio datadirectory varlibpostfix gitlabfosspsickio mailowner postfix gitlabfosspsickio defaultprivs nobody gitlabfosspsickio myhostname gitlab gitlabfosspsickio mydomain fosspsickio gitlabfosspsickio inetinterfaces gitlabfosspsickio inetprotocols all gitlabfosspsickio proxyinterfaces gitlabfosspsickio mydestination gitlabfosspsickio localrecipientmaps gitlabfosspsickio unknownlocalrecipientrejectcode gitlabfosspsickio mynetworksstyle host gitlabfosspsickio relayrecipientmaps hashetcpostfixrelayrecipients gitlabfosspsickio inflowdelay s gitlabfosspsickio aliasmaps hashetcaliases gitlabfosspsickio aliasdatabase hashetcaliases gitlabfosspsickio myorigin etcmailname gitlabfosspsickio mydestination myhostname gitlabfosspsickio gitlab localhostlocaldomain localhost gitlabfosspsickio relayhost gitlabfosspsickio mynetworks ffff gitlabfosspsickio mailboxsizelimit gitlabfosspsickio recipientdelimiter gitlabfosspsickio inetinterfaces all gitlabfosspsickio inetprotocols all gitlabfosspsickio recipientdelimiter gitlabfosspsickio homemailbox Maildir gitlabfosspsickio mailspooldirectory varspoolmail gitlabfosspsickio mailboxcommand somewhereprocmail a EXTENSION gitlabfosspsickio mailboxtransport lmtpunixvarlibimapsocketlmtp gitlabfosspsickio localdestinationrecipientlimit gitlabfosspsickio localdestinationconcurrencylimit gitlabfosspsickio mailboxtransport cyrus gitlabfosspsickio fallbacktransport lmtpunixvarlibimapsocketlmtp gitlabfosspsickio luserrelay adminlocal gitlabfosspsickio headerchecks regexpetcpostfixheaderchecks gitlabfosspsickio fastflushdomains relaydomains gitlabfosspsickio smtpdbanner myhostname ESMTP mailname gitlabfosspsickio localdestinationconcurrencylimit gitlabfosspsickio defaultdestinationconcurrencylimit gitlabfosspsickio debugpeerlevel gitlabfosspsickio debugpeerlist gitlabfosspsickio debuggercommand gitlabfosspsickio PATHbinusrbinusrlocalbinusrX R bin gitlabfosspsickio ddd daemondirectoryprocessname processid sleep gitlabfosspsickio sendmailpath usrsbinsendmail gitlabfosspsickio newaliasespath usrsbinsendmail gitlabfosspsickio mailqpath usrbinmailq gitlabfosspsickio setgidgroup postdrop gitlabfosspsickio htmldirectory no gitlabfosspsickio manpagedirectory usrshareman gitlabfosspsickio sampledirectory usrsharedocpostfix samples gitlabfosspsickio readmedirectory usrsharedocpostfix READMEFILES gitlabfosspsickio gitlabfosspsickio Info Computing checksum on file etcpostfixmaincf gitlabfosspsickio Info Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf Filebucketed etcpostfixmaincf to puppet with sum ffb aec d fd d b b e gitlabfosspsickio Notice Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf content content changed md ffb aec d fd d b b e to md c d e d b c da a ea c c gitlabfosspsickio Info Stage main PsickPostfixTpTpConf postfix File etcpostfixmaincf Scheduling refresh of Service postfix gitlabfosspsickio Notice Stage main PsickPostfixTpTpInstall postfix Service postfix Triggered refresh from event gitlabfosspsickio Notice Stage main PsickOpensshTpInstall openssh File etctpappopenssh ensure defined content as md b c a c cb e e db gitlabfosspsickio Notice Stage main PsickLogsRsyslogTpInstall rsyslog File etctpapprsyslog ensure defined content as md e b bc b a e a bfd gitlabfosspsickio Notice Stage main PsickTimeNtpdateTpInstall ntpdate Package ntpdate ensure created gitlabfosspsickio Notice Stage main PsickTimeNtpdateTpInstall ntpdate File etctpappntpdate ensure defined content as md bbe a af f gitlabfosspsickio Info TpInstall ntpdate Scheduling refresh of Exec ntpdate s poolntporg gitlabfosspsickio Notice Stage main PsickTimeNtpdateExec ntpdate s poolntporg Triggered refresh from event gitlabfosspsickio Notice Applied catalog in seconds gitlabfosspsickio Changes gitlabfosspsickio Total gitlabfosspsickio Events gitlabfosspsickio Success gitlabfosspsickio Total gitlabfosspsickio Resources gitlabfosspsickio Changed gitlabfosspsickio Out of sync gitlabfosspsickio Restarted gitlabfosspsickio Total gitlabfosspsickio Time gitlabfosspsickio Schedule gitlabfosspsickio User gitlabfosspsickio Exec gitlabfosspsickio Service gitlabfosspsickio File gitlabfosspsickio Last run gitlabfosspsickio Package gitlabfosspsickio Transaction evaluation gitlabfosspsickio Catalog application gitlabfosspsickio Filebucket gitlabfosspsickio Config retrieval gitlabfosspsickio Total gitlabfosspsickio Version gitlabfosspsickio Config a a Alessandro Franceschi Sun Mar Updated on noop mode gitlabfosspsickio Puppet duhduhnotebook psickvagrantenvironmentsfoss git production vagrant status Current machine states puppetfosspsickio running virtualbox gitlabfosspsickio running virtualbox icingafosspsickio not created virtualbox grafanafosspsickio not created virtualbox buildfosspsickio not created virtualbox dockerfosspsickio not created virtualbox jenkinsfosspsickio not created virtualbox centos fosspsickio not created virtualbox centos fosspsickio not created virtualbox This environment represents multiple VMs The VMs are all listed above with their current state For more information about a specific VM run vagrant status NAME Verify if all the available Vagrant environments are working flawlessly Review configurations defined in each configyaml Optimise Vagrantfile 