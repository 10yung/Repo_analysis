function statabline doesnt work anymore in ggplot updating it to geomabline spampath filepathC Classification data spam spam path filepathC Classification data spam easyhampath filepathC Classification data easyham easyham path filepathC Classification data easyham hardhampath filepathC Classification data hardham hardham path filepathC Classification data hardham x runif y cbindrunif y cbindrunif y cbindrunif val dataframecbindx rbindy y y stringsAsFactors TRUE ex ggplotval aesx V geomjitteraesshape asfactorV position positionjitterheight scaleshapediscreteguide none solid FALSE geomhlineaesyintercept c linetype themebw xlabX ylabY ggsaveplot ex filename filepathC Classification images Ex pdf height width Error in grDevicespdf version version cannot open file C Classification images Ex pdf ggsaveplot ex filename filepathC Classification images Ex pdf height width Error Aesthetics must be either length or the same as the data yintercept getwd CUsersmmDocuments The problem lies in the ggplot function scalexdate In the original code this is coded as quickhist ggplotufous aesx DateOccurred geomhistogram scalexdatebreaks years The breaks in scalexdate has been adjusted to datebreaks If you adjust the code to the following it works quickhist ggplotufous aesx DateOccurred geomhistogram scalexdatedatebreaks years datelabels Y librarytm libraryggplot tm is the text mining package of R ggplot is for visualization there are sets of files for each type of mail and one will be used for training while other will be for testing spampathdataspam spam pathdataspam easyhampathdataeasyham easyham pathdataeasyham hardhampathdatahardham hardham pathdatahardham getmsgfunctionpath printpath connectionfilepathopenrt encodingLatin textreadLinesconnection the message begins after a full line break twhichtext printlengthtext printt msgtext seqt lengthtext printmsg closeconnection return pastemsg collapse n tdmterm document matrix gettdmfunctiondocvec doccorpusCorpusVectorSourcedocvec controlliststopwordsTRUE removePunctuationTRUE removeNumbersTRUE minDocFreq docdtmTermDocumentMatrixdoccorpus control return docdtm create a vector of emails use apply function spamdocsdirspampath this returns a list of file names in the directory spamdocsspamdocs seq lengthspamdocs spamdocsspamdocs whichspamdocs cmds file is a UNIX file which we dont need spamdocsspamdocs startsWithspamdocs cmds allspamsapplyspamdocs functionp getmsgpastespampathp sep spamtdmgettdmallspam use the command below for inspection headallspam zTermDocumentMatrixCorpusVectorSourceallspam liststopwordsTRUE removeNumbersTRUE removePunctuationTRUE minDocFreq spammatrix asmatrixspamtdm spamcountsrowSumsspammatrix spamdfdataframecbindnamesspamcounts asnumericspamcounts stringAsFactorsFALSE namesspamdfcterm frequency spamdffrequencyasnumericspamdffrequency spamoccurencesapply nrowspammatrix functioni lengthwhichspammatrix i ncolspammatrix spamdensityspamdffrequencysumspamdffrequency spamdftransformspamdf densityspamdensity occurencespamoccurence headspamdf withspamdforderoccurence constructuon of Ham dataset easyhamdocsdireasyhampath this returns a list of file names in the directory easyhamdocseasyhamdocs seq spamdocsspamdocs whichspamdocs cmds file is a UNIX file which we dont need spamdocsspamdocs startsWithspamdocs cmds alleasyhamsapplyeasyhamdocs functionp getmsgpasteeasyhampathp sep easyhamtdmgettdmalleasyham use the command below for inspection headallspam zTermDocumentMatrixCorpusVectorSourceallspam liststopwordsTRUE removeNumbersTRUE removePunctuationTRUE minDocFreq easyhammatrix asmatrixeasyhamtdm easyhamcountsrowSumseasyhammatrix easyhamdfdataframecbindnameseasyhamcounts asnumericeasyhamcounts stringAsFactorsFALSE nameseasyhamdfcterm frequency easyhamdffrequencyasnumericeasyhamdffrequency easyhamoccurencesapply nroweasyhammatrix functioni lengthwhicheasyhammatrix i ncoleasyhammatrix easyhamdensityeasyhamdffrequencysumeasyhamdffrequency easyhamdftransformeasyhamdf densityeasyhamdensity occurenceeasyhamoccurence easyhamdfNANULL headeasyhamdf witheasyhamdforderoccurence Classification function classifyemailfunctionpath trainingdf prior c e msggetmsgpath msgtdmgettdmmsg msgfreqrowSumsasmatrixmsgtdm Find intersection of words msgmatchintersectnamesmsgfreq trainingdfterm iflengthmsgmatch return priorc lengthmsgfreq else matchprobstrainingdfoccurence matchmsgmatch trainingdfterm return priorprodmatchprobs c lengthmsgfreqlengthmsgmatch hardhamdocsdirhardhampath hardhamdocshardhamdocs seq lengthhardhamdocs hardhamspamtestsapplyhardhamdocs functionp classifyemailpastehardhampathp sep trainingdf easyhamdf hardhamhamtestsapplyhardhamdocs functionp classifyemailpastehardhampath p sep trainingdf easyhamdf hardhamresifelsehardhamspamtesthardhamhamtest TRUE FALSE summaryhardhamres This code only returns false for all values Hola fpcMotif has created a ZenHub account for the johnmyleswhite organization ZenHub is the only project management tool integrated natively in GitHub created specifically for fastmoving softwaredriven teams How do I use ZenHub To get set up with ZenHub all you have to do is download the browser extension and log in with your GitHub account Once you do you ll get access to ZenHub s complete featureset immediately What can ZenHub do ZenHub adds a series of enhancements directly inside the GitHub UI Realtime customizable task boards for GitHub issues MultiRepository burndown charts estimates and velocity tracking based on GitHub Milestones Personal todo lists and task prioritization Timesaving shortcuts like a quick repo switcher a Move issue button and much more Add ZenHub to GitHub Still curious See more ZenHub features or read user reviews This issue was written by your friendly ZenHub bot posted by request from fpcMotif ZenHub Board datadtm datatdm the code are running from Rstudio with R under osx issue line in emailclassifyR geomhlineaesyintercept c linetype yintercept need to be put outside aes function like this geomhlineyintercept c linetype issue error occurs when reading msg by sapply at line allspam sapplyspamdocs functionp getmsgfilepathspampath p here is the traceback Error in seqdefaultwhichtext lengthtext from cannot be NA NaN or infinite stopfrom cannot be NA NaN or infinite seqdefaultwhichtext lengthtext seqwhichtext lengthtext getmsgfilepathspampath p FUNX i lapplyX X FUN FUN sapplyspamdocs functionp getmsgfilepathspampath p seems some file does not have a blank line In the following sentence strsplit wont feedback a error when no comma in ufoLocation As a result we cannot extract the City State from City by the trycatchstrsplit method splitlocation tryCatchstrsplitl error functione returncNA NA Suggest to revised to getlocationfunctionl splitlocationstrsplitl cleanlocation gsub splitlocation iflengthcleanlocation returncNANA else returncleanlocation 