Initialization of this gem triggers a deprecation warning in rails DEPRECATION WARNING Initialization autoloaded the constants ActionTextContentHelper and ActionTextTagHelper Being able to do this is deprecated Autoloading during initialization is going to be an error condition in future versions of Rails Reloading does not reboot the application and therefore code executed during initialization does not run again So if you reload ActionTextContentHelper for example the expected changes wont be reflected in that stale Module object These autoloaded constants have been unloaded Please check the Autoloading and Reloading Constants guide for solutions called from main at myappconfigenvironmentrb Steps to reproduce gem install rails version rc rails new myapp skipjavascript cd myapp rails dbsetup rails dbmigrate rails server verify it works CTRLC tail logdevelopmentlog no warnings echo gem simplenavigation Gemfile bundle install rails server verify it works CTRLC tail n logdevelopmentlog DEPRECATION WARNING Initialization autoloaded the constants ActionTextContentHelper and ActionTextTagHelper Being able to do this is deprecated Autoloading during initialization is going to be an error condition in future versions of Rails Reloading does not reboot the application and therefore code executed during initialization does not run again So if you reload ActionTextContentHelper for example the expected changes wont be reflected in that stale Module object These autoloaded constants have been unloaded Please check the Autoloading and Reloading Constants guide for solutions called from main at myappconfigenvironmentrb Analysis The initialization of this gem seems to trigger an autoload of ActionControllerBase which triggers the loading of the ActionText helpers Autoloading in intializers is going to be deprecated see also railsrails Thanks for this great gem Does this support rails A great gem Unfortunately I have issues getting it to work properly for CRUD routes Maybe you can point me to a solution I followed the advice in to define the navigation structure For example confignavigationrb dataitem archobjects archobjects archobjectspath do i iitem archobject new archobject newarchobjectpath iitem archobject show archobject lambda archobjectpatharchobject unless lambda archobjectnil iitem archobject edit archobject lambda editarchobjectpatharchobject unless lambda archobjectnil end Unfortunately with this setting everything works fine only for the edit and the show action For the new action I get the following error No route matches actionshow controllerarchobjects idnil missing required keys id If I turn off the navigation for the edit and the show action the new action view is displayed normally and the breadcrumb menu works confignavigationrb dataitem archobjects archobjects archobjectspath do i iitem archobject new archobject newarchobjectpath iitem archobject show archobject lambda archobjectpatharchobject unless lambda archobjectnil iitem archobject edit archobject lambda editarchobjectpatharchobject unless lambda archobjectnil end Whats the reason for this strange behaviour How is the new action related to the show action with simplenavigation activated Tests are failing with Rails Please enable the same Here are the logs Failures SimpleNavigationRendererListrender sets the right html classes on the rendered ul tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender renders an ul tag for the navigation FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender sets the right html id on the rendered ul tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when an item is selected renders the items li tag with its id and selected classes FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when an item is selected renders the items a tag with the selected classes FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when an item has no specified id renders the items li tag with the items stingified key as id FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when an item has a specified id renders the items li tag with the specified id FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when the ordered option is true sets the right html id on the rendered ol tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when the ordered option is true sets the right html classes on the rendered ol tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when the ordered option is true renders an ol tag for the navigation FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when no item is selected renders each item as a tag without any selected class FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when no item is selected renders each item as li tag without any selected class FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when a sub navigation item is selected renders the selected nested items link as selected FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererListrender when a sub navigation item is selected renders the parent items as selected FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlistspecrb in block levels in moduleRenderer specsimplenavigationrendererlistspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender sets the right html classes on the rendered div tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender sets the right html id on the rendered div tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender renders a div tag for the navigation FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender renders the a tags with the corresponding items htmloptions FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender renders an a tag for each item FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender when an item has no specified id uses a default id by stringifying the items key FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender when an item has a specified id renders the a tags with the specified id FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender when no item is selected renders items without the selected class FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender when an item is selected renders the selected item with the selected class FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender when a sub navigation item is selected renders the main parent as selected FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererLinksrender when a sub navigation item is selected doesnt render the nested items link FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer specsimplenavigationrendererlinksspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender sets the right html id on the rendered div tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender renders a div tag for the navigation FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender sets the right html classes on the rendered div tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when no item is selected doesnt render any a tag in the div tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when a sub navigation item is selected renders all items as links FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when a sub navigation item is selected when the staticleaf option is true renders the last item as simple text FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when a sub navigation item is selected when the staticleaf option is true renders the items as links FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when an item is selected remders the a tag without any html id FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when an item is selected renders the a tag without any html class FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when an item is selected renders the selected a tag FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when an item is selected and the allowclassesandids option is true renders the a tag with the selected class FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when an item is selected and the allowclassesandids option is true and the item has an explicitly set id renders the a tag with an html id FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer SimpleNavigationRendererBreadcrumbsrender when an item is selected and the allowclassesandids option is true and the item hasnt any id explicitly set renders the a tag without any html id FailureError letoutput HTMLDocumentnewrawoutputroot NameError uninitialized constant SimpleNavigationRendererHTML specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer specsimplenavigationrendererbreadcrumbsspecrb in block levels in moduleRenderer Finished in seconds files took seconds to load examples failures Failed examples rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender sets the right html classes on the rendered ul tag rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender renders an ul tag for the navigation rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender sets the right html id on the rendered ul tag rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when an item is selected renders the items li tag with its id and selected classes rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when an item is selected renders the items a tag with the selected classes rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when an item has no specified id renders the items li tag with the items stingified key as id rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when an item has a specified id renders the items li tag with the specified id rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when the ordered option is true sets the right html id on the rendered ol tag rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when the ordered option is true sets the right html classes on the rendered ol tag rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when the ordered option is true renders an ol tag for the navigation rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when no item is selected renders each item as a tag without any selected class rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when no item is selected renders each item as li tag without any selected class rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when a sub navigation item is selected renders the selected nested items link as selected rspec specsimplenavigationrendererlistspecrb SimpleNavigationRendererListrender when a sub navigation item is selected renders the parent items as selected rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender sets the right html classes on the rendered div tag rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender sets the right html id on the rendered div tag rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender renders a div tag for the navigation rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender renders the a tags with the corresponding items htmloptions rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender renders an a tag for each item rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender when an item has no specified id uses a default id by stringifying the items key rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender when an item has a specified id renders the a tags with the specified id rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender when no item is selected renders items without the selected class rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender when an item is selected renders the selected item with the selected class rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender when a sub navigation item is selected renders the main parent as selected rspec specsimplenavigationrendererlinksspecrb SimpleNavigationRendererLinksrender when a sub navigation item is selected doesnt render the nested items link rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender sets the right html id on the rendered div tag rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender renders a div tag for the navigation rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender sets the right html classes on the rendered div tag rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when no item is selected doesnt render any a tag in the div tag rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when a sub navigation item is selected renders all items as links rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when a sub navigation item is selected when the staticleaf option is true renders the last item as simple text rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when a sub navigation item is selected when the staticleaf option is true renders the items as links rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when an item is selected remders the a tag without any html id rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when an item is selected renders the a tag without any html class rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when an item is selected renders the selected a tag rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when an item is selected and the allowclassesandids option is true renders the a tag with the selected class rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when an item is selected and the allowclassesandids option is true and the item has an explicitly set id renders the a tag with an html id rspec specsimplenavigationrendererbreadcrumbsspecrb SimpleNavigationRendererBreadcrumbsrender when an item is selected and the allowclassesandids option is true and the item hasnt any id explicitly set renders the a tag without any html id idk why from renderer to renderer item params so differ if we have some navigation with params it should return all of the defined options regardless of renderer isnt it The READMEmd states To run the test suite locally against all supported frameworks bundle install rake specall But this results in rake specall BUNDLEGEMFILEgemfilesrails stablegemfile bundle j quiet Could not find gem rake in any of the gem sources listed in your Gemfile Run bundle install to install missing gems rake aborted Command failed with status BUNDLEGEMFILEgemfilesrails stable homesvkdevelopmentscsimplenavigationRakefile in block levels in top required homesvkrbenvversions binbundle in load homesvkrbenvversions binbundle in main Tasks TOP specall specrails stable See full trace by running task with trace Only when running bundle install with BUNDLEGEMFILEgemfilesrails stablegemfile rake specall works When there is an error in the navigation config the stack trace wont include a pointer to the actual config file and line but only something like eval in block in evalconfig This change supplies the path to the config file to instanceeval so that the stack trace now include path and line where the error occurs Hi When generating the configuration in a rails app with simplenavigation the generated config does not seem to work For example I have this line ruby primaryitem key Admin url class special if currentuseradmin In this case the class does not get applied using all the time the default renderer List The only way for me to get it to work was to write it in the form I am not interested in the if ruby primaryitem key Admin url html class special I could not find anything about this html parameter in the documentation Also if I try to use the html parameter in an item which will be passed a submenu well I cant figure out how to make it work The following snippet ruby primaryitem about About html class navlink do subnav subnavitem whoarewe Who are we pagepathwhoarewe html class navlink end gives me the error undefined method split for htmlclassnavlinkHash Thanks for your help I use custom renderer and in some places has double classesselected selected May be problem in SimpleNavigationItemhtmloptions if I call it twice I get double classes if I set any html options in navigationrb for item def htmloptions Here if my options html is not blank I get Link not copy to options html htmlopts optionsfetchhtml Hashnew htmlopts id autogenerateditemid classes htmlopts class selectedclass activeleafclass classes classesflattencompactjoin And at this place it modifies options html If I call this method second time it will be doubledselectedclass and activeleafclass will be added second time htmlopts class classes if classes classesempty htmlopts end From issue Example custom renderer ruby class ContentListRenderer SimpleNavigationRendererList private def listcontentitemcontainer itemcontaineritemsmap item lioptions itemhtmloptionsexceptlink licontent tagforitem licontent itemcontentbefore licontent itemcontentafter if includesubnavigationitem licontent rendersubnavigationforitem end contenttagli licontent lioptions join end end and in navigation bootstrap list group ruby SimpleNavigationConfigurationrun do navigation navigationitems do m mdomclass listgroup mitem approvallist List html class listgroupitem contentafter span class badge spanhtmlsafe linkhtml data push true target messages areacontent end end 