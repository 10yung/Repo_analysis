I am trying to add any middleware as example php php declarestricttypes use App Application Middleware SessionMiddleware use Middlewares TrailingSlash use Slim App return function App app appaddSessionMiddlewareclass appaddnew TrailingSlashtrue true adds the trailing slash false removes it But this doesnt work and I dont understand Why Can you help please This issue is similar to but on IIS My sites physical path is inetpubwwwprojectname bound to port When I call an API assuming its name is test calling with and will return The route went through indexphp I fixed it by adding a webconfig file in the project root directory not inside public with these rules xml version encodingUTF configuration systemwebServer rewrite rules rule nameImported Rule stopProcessingtrue match url ignoreCasefalse action typeRewrite urlpublic rule rule nameImported Rule stopProcessingtrue match url ignoreCasefalse action typeRewrite urlpublicindexphpR rule rules rewrite systemwebServer configuration Now it returns the results as intended Referring to my comment in converting the htaccess inside the folder public is not needed and you dont need to install any packages nor set the base path with appsetBasePathbasePath like in Apache Add unit test to cover findAll function for the case when calling the InMemoryUserRepository constructor passing users with null value The arraykeyexists method allow to accepts the null value Most of the time we need to connect to a database Could we have a setup for example for PDO database connections In settingphp something like db host xxx dbname db username user password password options charset utf db host xxx dbname db username user password password options charset utf and some code in dependenciesphp or external file dbphp and then update the indexphp and include some repository example how to use db and db My document root was MAMPhtdocs and my indexphp was in htdocsprojectnamepublic Going to returned a error My routes were going through the indexphp but were always returning a code I eventually fixed it by adding the following htaccess file to my projects root directory RewriteEngine On RewriteCond REQUESTFILENAME f RewriteCond REQUESTFILENAME d RewriteRule publicindexphp QSAL Then worked