I was working on awsecs module and I noticed that every time I ran buildup command awsec package would be installed as a dependency for awsroute targets By submitting this pull request I confirm that my contribution is made under the terms of the Apache license Please read the contribution guidelines and follow the pullrequest checklist short description of the feature you are proposing AppSync L constructs are missing some features which currently have to be handcoded namely support for DynamoDB queries This entails support for the query key conditions as well as indexes and filters We can and should start with the basics with is support for key conditions Use Case why do you need this feature To avoid handcoding AppSync resolvers which issue a DynamoDB query Proposed Solution Please include prototypeworkaroundsketchreference implementation A possible API is typescript MappingTemplatedynamoDbQuery KeyConditionequser userand KeyConditionbeginsWithtitle startStrrenderTemplate Other eg detailed explanation stacktraces related issues suggestions on how to fix links for us to have context eg associated pullrequest stackoverflow gitter etc X wave I may be able to implement this feature request warning This feature might incur a breaking change This is a rocket Feature Request Reproduction Steps import cdk requireawscdkcore import NestedStack from awscdkawscloudformation import Queue from awscdkawssqs export class CdkFifoQueueStack extends cdkStack constructorscope cdkConstruct id string props cdkStackProps superscope id props new MyNestedStackthis NestedStack export class MyNestedStack extends NestedStack constructorscope cdkConstruct id string superscope id new Queuethis MyQueue fifo true source MUST USE cdk deploy THE STACK SYNTHESIZES FINE Feel free to removeadjust text above Calling it out because of attitude in a previous comment Error Log CloudFormation error after running cdk deploy The name of a FIFO queue can only include alphanumeric characters hyphens or underscores must end with fifo suffix and be to in length Service AmazonSQS Status Code Error Code InvalidParameterValue Request ID e bf eec d b e eebec Environment CLI Version Framework Version OS macOS Language TypeScript This is bug Bug Report fix By submitting this pull request I confirm that my contribution is made under the terms of the Apache license Please read the contribution guidelines and follow the pullrequest checklist developer guide raise issuepr here want to help submit a pull request here link to reference doc page It is illustrated as follows However it is actually defined as targetGroupId newTargetGroupId containerTargetcontainerName containerName containerTargetcontainerPort containerPort describe your issue This is a documentation issue By submitting this pull request I confirm that my contribution is made under the terms of the Apache license Please read the contribution guidelines and follow the pullrequest checklist This is the logic of the new bootstrap command deploying the template discussed in and then further in You activate the new bootstrap behavior by passing the newbootstraptrue option to the CLI Ive manually verified that bootstrapping succeeds and that a CDK app using assets can successfully be deployed using this new bootstrap stack Ive posting this as a draft to get early feedback as there are a few ways we can go about incorporating this new functionality so I wanted to get the teams opinion on the direction taken Im in the process of writing an automated integ test that checks whether this works without the need for manual testing but its proving to be a little tricky so I figured I wont hold up the main logic PR on it By submitting this pull request I confirm that my contribution is made under the terms of the Apache license Please read the contribution guidelines and follow the pullrequest checklist Itd be great if we can add conditions to AccountPrincipal when creating iamRole Currently AccountPrincipal only accepts accountId param Were creating an iam role for rd party SaaS and we need to provide a Condition property Other Current workaround is using addPropertyOverride typescript const role new iamRolethis role assumedBy new iamAccountPrincipal let roleRef rolenodedefaultChild as iamCfnRole roleRefaddPropertyOverrideAssumeRolePolicyDocumentStatement ConditionStringEqualsfoo baz yaml Resources Role EF C Type AWSIAMRole Properties AssumeRolePolicyDocument Statement Action stsAssumeRole Effect Allow Principal AWS FnJoin arn Ref AWSPartition iam root Condition StringEquals foo baz Version eg detailed explanation stacktraces related issues suggestions on how to fix links for us to have context eg associated pullrequest stackoverflow gitter etc wave I may be able to implement this feature request warning This feature might incur a breaking change This is a rocket Feature Request Stack names are not honoured when creating a multistack multienvironment CDK application Reproduction Steps I am trying to create a CDK app with multiple stacks that is deployed to multiple environments eg typescript usrbinenv node import as cdk from awscdkcore import as s from awscdkawss import as lambda from awscdkawslambda class PersistenceStack extends cdkStack public readonly bucket s Bucket constructorscope cdkConstruct id string props cdkStackProps superscope id props thisbucket new s Bucketthis bucket interface ApplicationStackProps extends cdkStackProps bucket s Bucket class ApplicationStack extends cdkStack constructorscope cdkConstruct id string props ApplicationStackProps superscope id props const myLambda new lambdaFunctionthis lambda runtime lambdaRuntimeNODEJS X code new lambdaAssetCodemylambda handler indexhandler propsbucketgrantReadWritemyLambda class MyApp extends cdkConstruct constructorscope cdkConstruct id string props cdkStackProps superscope id const persistenceStack new PersistenceStackthis persistencestack props description persistence stack stackName idpersistencestack const applicationStack new ApplicationStackthis applicationstack props description application stack stackName idapplicationstack bucket persistenceStackbucket applicationStackaddDependencypersistenceStack const app new cdkApp new MyAppapp test env account region euwest new MyAppapp prod env account region euwest Expected result I expected to see is nice or at least predictable stack names when executing npx cdk synth since I have specified the stackName properties when calling the constructors eg Successfully synthesized to myappcdkout Supply a stack id prodpersistencestack testpersistencestack prodapplicationstack testapplicationstack to display its template Actual result Stack names similar to Successfully synthesized to myappcdkout Supply a stack id prodpersistencestackFE DF testpersistencestack C C prodapplicationstackA A testapplicationstackE AB to display its template Motivation I need to the nice stack names to feed into the next step our CICD pipeline so that I can configure the build server to deploy the CDK app eg npx cdk deploy app cdkout requireapproval never testpersistencestack npx cdk deploy app cdkout requireapproval never testapplicationstack Environment CLI Version build cc f Framework Version OS macOS Catalina Version Language TypeScript This is bug Bug Report This is a reposting of which was linked to PR but persists from to Reproduction Steps Using an account not linked to credentials from the default configuration gives errors in the execution of cdk synth Error Log console context availabilityzonesaccount regionuseast providerError Need to perform AWS calls for account but no credentials found Tried default credentials dontSaveContext true awscdkenablepathmetadata true awscdkenableassetmetadata true outdir cdkout env CDKDEFAULTREGION eucentral CDKDEFAULTACCOUNT redactedmain account CDKCONTEXTJSON availabilityzonesaccount regionuseast providerErrorNeed to perform AWS calls for account but no credentials found Tried default credentialsdontSaveContexttrueawscdkenablepathmetadatatrueawscdkenableassetmetadatatrue CDKOUTDIR cdkout CDKCLIASMVERSION CDKCLIVERSION Not making progress trying to resolve environmental context Giving up Error at upgskeleton Need to perform AWS calls for account but no credentials found Tried default credentials Environment CLI Version Framework Version OS Mac OS Catalina Language Python Other Attached output file with v and output with authentication which is what we do not want to do at the stage that cdk synth is called And the code that causes the error zipped Archivezip outputvpdf outputdummyvsauthenticatedpdf This is bug Bug Report 