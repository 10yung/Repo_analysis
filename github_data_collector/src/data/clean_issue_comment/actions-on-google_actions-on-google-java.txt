Currently it seems that smarthome integration always returns an empty response for DisconnectRequest This could be problematic as developer might need to return an errorCode when the DisconnectRequest is failing According to SyncResponsePayload can contains an errorCode property Currently the libraries exposes JSONObject as part of the public smarthome API object This force reverse dependencies to both depens on orgjson as a direct dependency and gson transitively It would be nice if the library instead only surfaced standard MapString Object types in the public API cc taycaldwell Fleker Running on a project that depens on actionsongoogle will trigger the following warning comgoogleactionsactionsongoogle in configuration implementation has classes duplicated by comgoogleapigrpcprotogooglecommonprotos Duplicate classes comgoogleapiCustomHttpPatternOrBuilder comgoogleapiAnnotationsProto comgoogleapiCustomHttpPattern comgoogleapiAnnotationsProto comgoogleapiCustomHttpPattern comgoogleapiHttpBuilder comgoogleapiHttpOrBuilder comgoogleapiCustomHttpPatternBuilder comgoogleapiHttpRule comgoogleapiHttpRuleOrBuilder comgoogleapiHttpRulePatternCase comgoogleapiHttpProto comgoogleapiHttpRuleBuilder comgoogleapiHttpRule comgoogleapiHttpRule comgoogleapiHttp comgoogleapiHttp comgoogleapiHttpProto This project contains lint violations A complete listing of the violations follows Because none were serious the builds overall status was unaffected warning duplicatedependencyclass comgoogleactionsactionsongoogle in configuration implementation has classes duplicated by comgoogleapigrpcprotogooglecommonprotos use info for detailed class list no autofix available I believe this is due to the project vendoring the generated class from the following proto While those are also available as part of the comgoogleapigrpcprotogooglecommonprotos which actionsongoogle depends transitively thru iogrpcgrpcprotobuf in see join unzip Z usrlocalgooglehomeproppygradlecachesmodules files comgoogleapigrpcprotogooglecommonprotos bf c da b fcfd a protogooglecommonprotos jar sort unzip Z gradlecachesmodules files comgoogleactionsactionsongoogle c c a b a afe f e d a ff actionsongoogle jar sort com comgoogle comgoogleapi comgoogleapiAnnotationsProto class comgoogleapiAnnotationsProtoclass comgoogleapiCustomHttpPattern class comgoogleapiCustomHttpPatternBuilderclass comgoogleapiCustomHttpPatternclass comgoogleapiCustomHttpPatternOrBuilderclass comgoogleapiHttp class comgoogleapiHttpBuilderclass comgoogleapiHttpclass comgoogleapiHttpOrBuilderclass comgoogleapiHttpProto class comgoogleapiHttpProtoclass comgoogleapiHttpRule class comgoogleapiHttpRule class comgoogleapiHttpRuleBuilderclass comgoogleapiHttpRulePatternCaseclass comgoogleapiHttpRuleclass comgoogleapiHttpRuleOrBuilderclass google googleapi googleapiannotationsproto googleapihttpproto METAINF METAINFMANIFESTMF cc taycaldwell Fleker This fixes As of version noInputPrompts is not supported There is a field in DialogflowGooglePayload declared for it but it is never used This is important for us to be able to migrate away from our own SDK To avoid having to first create an intermediary JSON string it would be great if an InputStreamOutputStream could be used to parse requests and serialize responses Seeing as you are using gson already it would likely be a minor change Id be happy to open a PR if this is something you feel worth implementing This version is not compatible if we are using any GCP functionality within the action I got following dependency conflict Description Resource Path Location Type Could not resolve version conflict among StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar comgoogleapigaxgrpcjar iogrpcgrpcnettyshadedjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar comgoogleapigaxgrpcjar iogrpcgrpcaltsjar iogrpcgrpcgrpclbjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar comgoogleapigaxgrpcjar iogrpcgrpcaltsjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpcnettyjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpcokhttpjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpctestingjar iogrpcgrpccorejar comstarfishutilsintentparserjar SNAPSHOT comgooglecloudgoogleclouddatastorejar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcprotobufjar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcprotobufjar iogrpcgrpcprotobuflitejar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcstubjar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcauthjar iogrpcgrpccorejar orgeclipseaethercollectionUnsolvableVersionConflictException Could not resolve version conflict among StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar comgoogleapigaxgrpcjar iogrpcgrpcnettyshadedjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar comgoogleapigaxgrpcjar iogrpcgrpcaltsjar iogrpcgrpcgrpclbjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar comgoogleapigaxgrpcjar iogrpcgrpcaltsjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT comgooglecloudgooglecloudloggingjar comgooglecloudgooglecloudcoregrpcjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpcnettyjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpcokhttpjar iogrpcgrpccorejar StarfishELKStarfishELKjar SNAPSHOT iogrpcgrpcalljar iogrpcgrpctestingjar iogrpcgrpccorejar comstarfishutilsintentparserjar SNAPSHOT comgooglecloudgoogleclouddatastorejar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcprotobufjar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcprotobufjar iogrpcgrpcprotobuflitejar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcstubjar iogrpcgrpccorejar comgoogleactionsactionsongooglejar iogrpcgrpcauthjar iogrpcgrpccorejar at orgeclipseaetherutilgraphtransformerNearestVersionSelectornewFailureNearestVersionSelectorjava at orgeclipseaetherutilgraphtransformerNearestVersionSelectorbacktrackNearestVersionSelectorjava at orgeclipseaetherutilgraphtransformerNearestVersionSelectorselectVersionNearestVersionSelectorjava at orgeclipseaetherutilgraphtransformerConflictResolvertransformGraphConflictResolverjava at orgeclipseaetherinternalimplcollectDefaultDependencyCollectorcollectDependenciesDefaultDependencyCollectorjava at orgeclipseaetherinternalimplDefaultRepositorySystemcollectDependenciesDefaultRepositorySystemjava at orgapachemavenprojectDefaultProjectDependenciesResolverresolveDefaultProjectDependenciesResolverjava at orgapachemavenprojectDefaultProjectBuilderresolveDependenciesDefaultProjectBuilderjava at orgapachemavenprojectDefaultProjectBuilderbuildDefaultProjectBuilderjava at orgapachemavenprojectDefaultProjectBuilderbuildDefaultProjectBuilderjava at orgeclipsem ecoreinternalembedderMavenImplreadMavenProjectMavenImpljava at orgeclipsem ecoreinternalprojectregistryDefaultMavenDependencyResolverresolveProjectDependenciesDefaultMavenDependencyResolverjava at orgeclipsem ecoreinternalprojectregistryProjectRegistryManagerrefreshPhase ProjectRegistryManagerjava at orgeclipsem ecoreinternalprojectregistryProjectRegistryManagerlambda ProjectRegistryManagerjava at orgeclipsem ecoreinternalembedderMavenExecutionContextexecuteBareMavenExecutionContextjava at orgeclipsem ecoreinternalembedderMavenExecutionContextexecuteMavenExecutionContextjava at orgeclipsem ecoreinternalprojectregistryProjectRegistryManagerrefreshProjectRegistryManagerjava at orgeclipsem ecoreinternalprojectregistryProjectRegistryManagerrefreshProjectRegistryManagerjava at orgeclipsem ecoreinternalprojectregistryProjectRegistryManagerrefreshProjectRegistryManagerjava at orgeclipsem ecoreinternalbuilderMavenBuilderBuildMethodgetProjectFacadeMavenBuilderjava at orgeclipsem ecoreinternalbuilderMavenBuilderBuildMethod callMavenBuilderjava at orgeclipsem ecoreinternalembedderMavenExecutionContextexecuteBareMavenExecutionContextjava at orgeclipsem ecoreinternalembedderMavenExecutionContextexecuteMavenExecutionContextjava at orgeclipsem ecoreinternalembedderMavenExecutionContextexecuteMavenExecutionContextjava at orgeclipsem ecoreinternalbuilderMavenBuilderBuildMethodexecuteMavenBuilderjava at orgeclipsem ecoreinternalbuilderMavenBuilderbuildMavenBuilderjava at orgeclipsecoreinternaleventsBuildManager runBuildManagerjava at orgeclipsecoreruntimeSafeRunnerrunSafeRunnerjava at orgeclipsecoreinternaleventsBuildManagerbasicBuildBuildManagerjava at orgeclipsecoreinternaleventsBuildManagerbasicBuildBuildManagerjava at orgeclipsecoreinternaleventsBuildManager runBuildManagerjava at orgeclipsecoreruntimeSafeRunnerrunSafeRunnerjava at orgeclipsecoreinternaleventsBuildManagerbasicBuildBuildManagerjava at orgeclipsecoreinternaleventsBuildManagerbasicBuildLoopBuildManagerjava at orgeclipsecoreinternaleventsBuildManagerbuildBuildManagerjava at orgeclipsecoreinternaleventsAutoBuildJobdoBuildAutoBuildJobjava at orgeclipsecoreinternaleventsAutoBuildJobrunAutoBuildJobjava at orgeclipsecoreinternaljobsWorkerrunWorkerjava pomxml MyMPBean line Maven Dependency Problem I have resolved it for now by excluding it like this dependency groupIdcomgoogleactionsgroupId artifactIdactionsongoogleartifactId version version exclusions exclusion groupIdiogrpcgroupId artifactIdgrpcnettyshadedartifactId exclusion exclusion groupIdiogrpcgroupId artifactIdgrpcprotobufartifactId exclusion exclusion groupIdiogrpcgroupId artifactIdgrpcauthartifactId exclusion exclusions dependency There is a requirement of Action on Google that richResponse must have SimpleResponse as first item of an Items array But in the app you can provide different way to implement this array and there is no way to sort it manually because that property is internal kotlin internal var responseItems MutableListRichResponseItem ArrayList So you have to create your fulfillment logic in the certain way which is not really great It would be nice if after building response there was a sorting to set the SimpleResponse as a first response as it is in requirements For example in MockRequestBuilder a build method sets user field of appRequest and creates aogRequest out of it kotlin if userStorage null useruserStorage gsontoJsonuserStorage appRequestuser user val aogRequest AogRequestappRequest But inside internal constructor of AogRequest userStorage field is not set at all only useruserStorage does kotlin internal class AogRequest internal constructor override val appRequest AppRequest ActionRequest override var userStorage MutableMapString Any HashMap override val user User get appRequestuser So if we try in a test to set this userStorage the field will be empty kotlin Test fun userStorageTest val actionRequest MockRequestBuilder setUserStoragemapOfPairuserId someId build printlnuserStorage actionRequestuserStorage printlnuseruserStorage actionRequestuseruserStorage the output will be userStorage useruserStorage userIdsomeId 