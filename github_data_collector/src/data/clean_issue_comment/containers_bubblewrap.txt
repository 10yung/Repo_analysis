 The first time PKGCHECKMODULES is called also checks for pkgconfig If that first call is in an optional block then later calls to PKGCHECKMODULES will fail See Section Optional Modules Test with This fails autogensh withbashcompletiondirusrsharebashcompletioncompletions enableselinux This succeeds autogensh withbashcompletiondiryes enableselinux Signedoffby Jason Zaman jasonperfinioncom This is a pure cleanup patch and should not affect anything I was gonna use it for some other work which required yet another fd argument but that fell through Applications that legitimately need network access might exploit servers listening on the local network linklocal loopback or private IP ranges which often do not have any authentication or have insufficient authentication One example is the EC metadata API which exposes secrets without authentication It would be very useful to block connections to these IPs entirely One way I think is to set up a network namespace a NATed tunnel device and a set of iptables rules but it might be simpler to use seccomp and block all IP addresses in the private range in the connect syscall Originally reported at jwilk writes If the file specified by the robinddata option doesnt exist yet bubblewrap creates it as worldwritable umask ls moo ls cannot access homejwilkmoo No such file or directory bwrap robind bind robinddata moo true devnull ls l moo rwrwrw jwilk users Nov homejwilkmoo This is bad when the directory for the robinddata file is shared between the host and the container as in the example above If I use lockfile or syncfd without unsharepid I get exit status instead of the exit status of the wrapped command bwrap robind lockfile tmpref unsharepid echo hello echo hello bwrap robind lockfile tmpref echo hello echo hello bwrap robind lockfile tmpref sh c exit echo bwrap robind lockfile tmpref unsharepid sh c exit echo Similarly bwrap robind syncfd echo hello tmpref echo hello This repository currently uses PAPR which is in the process of being decomissioned There is no one successor to PAPR Github has a powerful pluggable API for CI and you can use multiple However the CoreOS group is increasingly using OpenShift Prow If you wish to use the OpenShift Prow instance please create an OWNERS file in this repository to indicate agreement Heres an example from this Github organization If you do not wish to have this repository onboarded to OpenShift Prow simply close this issue Fixes devshm without bubblewrap has permissions and devshm with bubblewrap has permissions This fixes that so the permissions are the same This is a workaround for It checks if procmounts contains anything related to hidepid Im very new to C so sorry if theres anything wrong It worked fine when testing So Ive been using bubblewrap to isolate environments and Ive been using the dev option to populate dev in the mount namespace Unfortunately I cant enter the created namespaces with nsenter as a normal user I think this is related to the devoption binding stdout of the process to devstdout What are the considerations of this when comparing it to setting up a tmpfs and linking the relevant dev nullrandom Considerations are terminal wont work This seems really weird Removing all the code in the casestatement for SETUPMOUNTDEV also does not work