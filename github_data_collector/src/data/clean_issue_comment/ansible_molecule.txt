gundalow I would like to switch the default location of published documentation of molecule from to so it would also match how ansiblelint is published Do you think this is possible Issue Type This is a doc bug regarding gitlabci config Bug report PR edited the gitlabci config to remove tags and make it more generic It also removed the part of the config where the virtualenv is setup However the descriptive text in the docs still contains Here is an example setting up a virtualenv and testing an Ansible role via Molecule Userlevel pip is cached and so is the virtual environment to save time And this is run over a runner tagged pip and docker because its a minimal CentOS VM installed with pip from IUS repository and docker Desired Behavior This is confusing given that the example config no longer uses tags or venv I would suggest adding a separate config for users who want to use tags and a more generic one for those who dont I actually think the example using a venv is valuable and should be added back Either this or the descriptive text needs to change to reflect what is actually in the current example Actual Behaviour See above description of doc bug Issue Type Bug report Molecule and Ansible details ansibleversion ansible config file None configured module search path rootansiblepluginsmodules usrshareansiblepluginsmodules ansible python module location varlibjenkinsvirtualenvsjirawebappinstallfeature FDEVENA libpython sitepackagesansible executable location varlibjenkinsvirtualenvsjirawebappinstallfeature FDEVENA binansible python version default Aug GCC Red Hat molecule version molecule version Molecule installation method one of pip Ansible installation method one of pip Detail any linters or test runners used yamllint Desired Behavior Molecule destroy works successfully System Details Operating System CentOS Linux Core CPE OS Name cpeocentoscentos Kernel Linux el x Architecture x Actual Behaviour NOTE Im not concerned about the unable to parse error just why the deletion fails with this error message or indeed if it should This is also running inside a virtualenv m WARNING Unable to parse varlibjenkinsworkspaceinstallfeatureDEVENA m m FECK MZYNSDU YR SUPJ NZW S DISNVPATCWYJYHUCJRACJC Qjirawebapp m minstallmoleculedefault inventory as an inventory source m m WARNING No inventory was parsed only implicit localhost is available m m WARNING provided hosts list is empty only localhost is available Note that m mthe implicit localhost does not match all m PLAY Destroy TASK Destroy molecule instances fatal localhost FAILED msg An unhandled exception occurred while templating lookupfile moleculefile moleculefromyaml Error was a class FileNotFoundError original message Errno No such file or directory stateyml PLAY RECAP localhost ok changed unreachable failed skipped rescued ignored The line if not issharded cannot be evaluated as true so the condition it controls is dead not reachable issharded is assigned True on line boolean Issue Type Feature request Its possible to provide a template for scenario with drivertemplate but its quite limited Is there a way to change the moleculeyml template Molecule and Ansible details ansible version molecule version ansible molecule Molecule installation method one of pip Ansible installation method one of OS package Desired Behavior Please give some details of the feature being requested Im using the same moleculeyml file for role testing with the only difference being the instance name and the docker image to use for my docker based tests In reality its the same moleculeyml everywhere and Im using variables Of course its not the same as the default one provided by molecule It would be nice if it was possible to provide a template for it instead of using molecule init scenario and then overwrite the moleculeyml file That would make one thing less to do We should migrate from Travis CI to Ansible Zuul CI as this would allow us to test on many other plaforms and also speedup the gating We do expect to run Travis and Zuul in paralele for a long time before disabling travis Pending actions ssbarnea gundalow to add ansiblezuul as maintainer of molecule package also to cleanup the list of accounts there keep two humans as backups in case we ever need to remove a bad release Delayed actions gundalow to perform repository move to ansiblecommunity ssbarnea to remove travis config Here we are testing molecule on zuulansiblecom This PR should not be merged Signedoffby Paul Belanger pabelangerredhatcom Fixes DependsOn Podman tests would fail with older version of podman due to missing cp command Now we also check the version and skip the tests if installed version is too old Issue Type Bug report Molecule and Ansible details ansible molecule Molecule installation method one of pip Ansible installation method one of pip Detail any linters or test runners used Desired Behavior I would like my baseconfig to merge with moleculeyml correctly Actually the params dockerfile and image from baseconfigyml are ignored and skipped in the Create Dockerfiles from image names task I would like the moleculeymlplatforms object to be merged between baseconfigyml and moleculeyml at this step Actual Behaviour So currently my use case is that i have this baseconfigyml dependency name galaxy driver name docker lint name yamllint options configfile yamllint platforms image jreisystemddebian dockerfile testmoleculeDockerfilej command libsystemdsystemd env container docker image jreisystemdcentos dockerfile testmoleculeDockerfilej command libsystemdsystemd env container docker provisioner name ansible playbooks create testmoleculecreateyml destroy testmoleculedestroyyml converge sharedfilesconvergeyml inventory links hostvars inventoriesmoleculehostvars lint name ansiblelint scenario convergesequence dependency create prepare converge destroy testsequence lint destroy dependency syntax create prepare converge idempotence sideeffect verify destroy verifier name testinfra directory sharedfilestests options vvv true lint name flake I set my moleculeyml as following platforms name moleculebashdeb name moleculebashrhel provisioner log true scenario name default I faced this error using molecule c testmoleculebaseconfigyml test And as you can see here i added some debug I added a task in the createyml playbook to check the content of moleculeymlplatforms And I can see that there are only moleculeyml variables When i decide to fill image parameter in my moleculeyml it gives me the same error but with dockerfile parameter And when i decide to fill dockerfile param in my moleculeyml all works good and the variables used well came from my baseconfigyml Thats why Im sure that the problem is only from here Im currently investigating to make a PR by myself but if you can drive me it would be good And PS yes i saw that PR passed So I tried with molecule molecule a and its not works too for image and dockerfile params in the Create Dockerfile from image names step from createyml Issue Type Bug report Molecule and Ansible details ansible config file etcansibleansiblecfg configured module search path uhomejoshuaansiblepluginsmodules uusrshareansiblepluginsmodules ansible python module location usrlibpython distpackagesansible executable location usrbinansible python version default Oct GCC molecule version Molecule installation method one of pip Ansible installation method one of OS package Detail any linters or test runners used Desired Behavior When I run the moleculetest It shows run the code successfully but instead it throwing some error System Detail No LSB modules are available Distributor ID Ubuntu Description Ubuntu LTS Release Codename bionic Actual Behaviour When I run the molecule debug test I give the error in destroying step DEBUG COMMAND usrbinansibleplaybook skiptagsmoleculenotestnotest inventoryhomejoshuacachemoleculejoshuaexampledefaultinventory diff usrlocallibpython distpackagesmoleculeprovisioneransibleplaybooksdockerdestroyyml vvv ansibleplaybook config file etcansibleansiblecfg configured module search path uusrlocallibpython distpackagesmoleculeprovisioneransiblepluginslibraries uhomejoshuacachemoleculejoshuaexampledefaultlibrary uhomejoshuajoshuaexamplelibrary ansible python module location usrlibpython distpackagesansible executable location usrbinansibleplaybook python version default Oct GCC Using etcansibleansiblecfg as config file hostlist declined parsing homejoshuacachemoleculejoshuaexampledefaultinventoryansibleinventoryyml as it did not pass its verifyfile method Skipping due to inventory source not existing or not being readable by the current user script declined parsing homejoshuacachemoleculejoshuaexampledefaultinventoryansibleinventoryyml as it did not pass its verifyfile method Skipping due to inventory source not existing or not being readable by the current user auto declined parsing homejoshuacachemoleculejoshuaexampledefaultinventoryansibleinventoryyml as it did not pass its verifyfile method Skipping due to inventory source not existing or not being readable by the current user yaml declined parsing homejoshuacachemoleculejoshuaexampledefaultinventoryansibleinventoryyml as it did not pass its verifyfile method Skipping due to inventory source not existing or not being readable by the current user ini declined parsing homejoshuacachemoleculejoshuaexampledefaultinventoryansibleinventoryyml as it did not pass its verifyfile method Skipping due to inventory source not existing or not being readable by the current user toml declined parsing homejoshuacachemoleculejoshuaexampledefaultinventoryansibleinventoryyml as it did not pass its verifyfile method WARNING Unable to parse homejoshuacachemoleculejoshuaexampledefault inventoryansibleinventoryyml as an inventory source WARNING Unable to parse homejoshuacachemoleculejoshuaexampledefaultinventory as an inventory source WARNING No inventory was parsed only implicit localhost is available WARNING provided hosts list is empty only localhost is available Note that the implicit localhost does not match all PLAYBOOK destroyyml plays in usrlocallibpython distpackagesmoleculeprovisioneransibleplaybooksdockerdestroyyml PLAY Destroy META ran handlers TASK Destroy molecule instances task path usrlocallibpython distpackagesmoleculeprovisioneransibleplaybooksdockerdestroyyml fatal localhost FAILED msg moleculeyml is undefined PLAY RECAP localhost ok changed unreachable failed skipped rescued ignored ERROR An error occurred during the test sequence action destroy Cleaning up Scenario default Action cleanup Skipping cleanup playbook 