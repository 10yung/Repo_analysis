reshape on CRAN says it NeedsCompilation but it does not stringr dependency is only used in a sample for castr It seems its not even used in the sample no str function It could be safely removed no str function at all in your code As you well know datatable also has a dcast function There is one option that it is very helpful sep Character vector of length indicating the separating character in variable names generated during casting Default is for backwards compatibility Is there a way to do the same thing with reshape dcast I really like reshape and that option for dcast would be really useful Im running into memory allocation issues using the melt function postWindows update KB Intel microcode updates on Im using the bit version of R on a computer with GB RAM and trying to replicate the same data format as I was able to complete preWindows update I wasnt experiencing this allocation issue prior to the update leading me to believe that the relationship between reshape and the new Windows update may have been compromised Hi I am having difficulty using the sparse matrices supplied by the Matrix package with the reshape package Example using a dgCMatrix requireMatrix m Matrixc strm m meltm This is problematic as igraph by default in the asadj method produces dgCMatrix objects making it difficult to use with the reshape package without internal conversion scripts When the argument drop is set to FALSE in some cases dcast incorrectly assigns the column names Note I understand that the reshape package is retired but I think this might be important because if I am not mistaken currently some data manipulation tasks including usage of formulas are available only true the reshape package and not through the newer package tidyr Note If anyone knows an alternative way to accomplish the task mentioned in the clarifying example below I would appreciate it if they can let me know Example to demonstrate the issue a dataframeYear c Country cA B B NA City cA B NA C Cost c printa Year Country City Cost A A B B B NA NA C Now we apply the dcast function with the argument drop F dcasta Year Country City aggregatefun sum valuevar Cost drop F Output Year AA AB AC BA BB BC NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA Note that the value at BC at year is incorrectly mentioned to be I think that is just because the columns names are mistakenly assigned Things look good with the argument drop T dcasta Year Country City aggregatefun sum valuevar Cost drop T Output Year AA BB BNA NAC NA NA NA NA Please include this German translation reshape teststestthattestmeltR uses an illegalonCRAN Internalinspectx along with some ugliness to see if an item is an S object objectbitset functionx grepl OBJ captureoutputInternalinspectx tlong melttwide measurevarsct t t valuenametime expecttrueobjectbitsettlongtime I believe objectbitsetx is equivalent to isobjectx and isobject is a core R function On StackOverflow a recent answer by G Grothendieck mentioned an old email of yours about an idempotent apply Have you would you consider adding an iapply to your reshape package Perhaps simply r iapply function X MARGIN FUN dims c lengthdimX lengthdimX in MARGIN MARGIN res applyX MARGIN FUN if lengthdimres lengthdims apermres orderdims else res I added the to the apply call since I thought it was appropriate otherwise this is verbatim from your email Edit d ff eba fd df c f a e suggests functions were moved to plyr I find no use of it there and c bfce c a f c d efdc b ea is what actually removed iapply with no direct mention of why it was removed Margin variables grandrow and grandcol have been dropped but still show up in cast 