 This is useful if eg a remote selenium installation is used because raster makes eyes bleed on retina displays colored gem which is a dependency for other gem Further description Updating the way Konacha uses colorize gem so that it does not conflict with other gems Colorize conflicts with colored gem Konacha uses colorize gem as a dependency to color the dots to indicate the tests Where konacha libkonachaformatterrb The colorize method is in conflict with the colorize method in the colored gem Ive raised an issue with the colorize gem as well If you can work something out with the developers of that gem or if you can try to use some other gem for coloring or anything that will resolve this conflict Itll be very helpful and we wont have to switch to another testing framework due to this Thanks For people facing this issue heres a temporary work around To resolve the incompatibility the only way for now is to monkey patch the Konacha formatter to disable coloring Monkey patch to get around the colored colorize gem incompatibility Disabling colors for konacha module Konacha class Formatter def colorenabled false end private def failuremessageexample msg msg Failed examplefulldescription msg exampleexceptionmessage msg in exampleexceptionbacktracefirst if exampleexceptionbacktracepresent msgjoin n end end end Putting this at the top of the initializer works for now Konacha doesnt work with Mocha v All of the tests passing with the default progress formatter but things break when I try to use the documentation formatter The configuration file looks like this Konachaconfigure do config require rspec require rspeccoreformattersdocumentationformatter require capybarawebkit configspecdir specjavascripts configspecmatcher spec test configstylesheets wapplication configdriver webkit configformatters RSpecCoreFormattersDocumentationFormatternewSTDOUT end if definedKonacha When I run on the console with bundle exec rake konacharun I get the following error and trace rake aborted NoMethodError Error communicating with browser process undefined method count for Fixnum Usersandrewculverrvmgemsruby gemswhenever libwhenevernumericrb in methodmissing Usersandrewculverrvmgemsruby gemsrspeccore librspeccoreformattersbaseformatterrb in start Usersandrewculverrvmgemsruby gemskonacha libkonachareporterrb in block in processevent Usersandrewculverrvmgemsruby gemskonacha libkonachareporterrb in each Usersandrewculverrvmgemsruby gemskonacha libkonachareporterrb in processevent Usersandrewculverrvmgemsruby gemskonacha libkonachareporterrb in start Usersandrewculverrvmgemsruby gemskonacha libkonachareporterrb in handlemochastart Usersandrewculverrvmgemsruby gemskonacha libkonachareporterrb in processmochaevent Usersandrewculverrvmgemsruby gemskonacha libkonacharunnerrb in block in run Usersandrewculverrvmgemsruby gemskonacha libkonacharunnerrb in each Usersandrewculverrvmgemsruby gemskonacha libkonacharunnerrb in run Usersandrewculverrvmgemsruby gemskonacha libkonacharunnerrb in start Usersandrewculverrvmgemsruby gemskonacha libkonacharb in run Usersandrewculverrvmgemsruby gemskonacha libtaskskonacharake in block levels in top required Usersandrewculverrvmgemsruby gemsrake exerake in top required Usersandrewculverrvmgemsruby binrubyexecutablehooks in eval Usersandrewculverrvmgemsruby binrubyexecutablehooks in main More than happy to try and help debug this further and I suspect it might have something to do with capybarawebkit but wanted to first check whether there is something obvious going on here When I use the server bundle exec rake konachaserve and load the page all of my mocha tests run and are green But when I attempt to run the same suite with the runner bundle exec rake konacharun no tests run and I get the following error report SeleniumWebDriverErrorJavascriptError Error communicating with browser process TypeError windowtopKonacha is undefined Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremoteresponserb in assertok Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremoteresponserb in initialize Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpcommonrb in new Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpcommonrb in createresponse Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpdefaultrb in request Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpcommonrb in call Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotew cbridgerb in rawexecute Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotew cbridgerb in execute Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotew cbridgerb in executescript Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdrivercommondriverrb in executescript Usersuserrvmgemsruby gemscapybara libcapybaraseleniumdriverrb in evaluatescript Usersuserrvmgemsruby gemscapybara libcapybarasessionrb in evaluatescript Usersuserprojectskonachalibkonacharunnerrb in run Usersuserprojectskonachalibkonacharunnerrb in start Usersuserprojectskonachalibkonacharb in run Usersuserprojectskonachalibtaskskonacharake in block levels in top required Usersuserrvmgemsruby gemsrake exerake in top required Usersuserrvmgemsruby binrubyexecutablehooks in eval Usersuserrvmgemsruby binrubyexecutablehooks in main SeleniumWebDriverErrorJavascriptError TypeError windowtopKonacha is undefined Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremoteresponserb in assertok Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremoteresponserb in initialize Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpcommonrb in new Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpcommonrb in createresponse Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpdefaultrb in request Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotehttpcommonrb in call Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotew cbridgerb in rawexecute Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotew cbridgerb in execute Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdriverremotew cbridgerb in executescript Usersuserrvmgemsruby gemsseleniumwebdriver libseleniumwebdrivercommondriverrb in executescript Usersuserrvmgemsruby gemscapybara libcapybaraseleniumdriverrb in evaluatescript Usersuserrvmgemsruby gemscapybara libcapybarasessionrb in evaluatescript Usersuserprojectskonachalibkonacharunnerrb in run Usersuserprojectskonachalibkonacharunnerrb in start Usersuserprojectskonachalibkonacharb in run Usersuserprojectskonachalibtaskskonacharake in block levels in top required Usersuserrvmgemsruby gemsrake exerake in top required Usersuserrvmgemsruby binrubyexecutablehooks in eval Usersuserrvmgemsruby binrubyexecutablehooks in main Tasks TOP konacharun A couple of things that may be helpful to know I am running these tests from within a dummy app in a rails engine that I also use to run specs for the engine These are the stats Rails Konacha Capybara Seleniumwebdriver I would be grateful for any advice I would like to have these tests run on our CI and need the command line runner to do that Rails is the current stable release and is not supported by this projects current gemspec gemadddependency railties gemadddependency actionpack Hello Thank you for the very useful testing framework I am relying on it to test some complex frontend code I have one issue with the links to suites To the right of every test Mocha displays a link to a page that runs just that test a triangle within a circle The URL is incorrect though Eg if I run the models tests and then want to test a Book model it will link to modelsbookspecmodelsgrepBook Instead it should be modelsbookspecgrepBook I think it has to do with the grepString variable in konachaparentjs file Besides storing the grepBook part it also has the current path modelsgrepBook This part needs to be filtered out Adding js grepString grepStringsubstrgrepStringindexOf fixes the problem for me Am I the only one with this problem If not should I make a PR Thank you 