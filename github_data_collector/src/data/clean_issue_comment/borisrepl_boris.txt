A really good repl would allow redefine classes and functions Since boris has a internal handling of errors seems reasonable that we could catch redeclare errors and starting again the session and re applying fixing this problem What is your opinions about this PHP projects Im working on lately are adding php declarestricttypes to the top of every file but I dont know how or if its possible to enable this in boris This isnt a huge issue assuming you test your code but its nice to have the same behavior for things I write in boris as the code Im working on boris php boris declarestricttypes boris function foo int return NULL boris foo php r declarestricttypes function foo int return foo php PHP Fatal error Uncaught TypeError Return value of foo must be of the type integer string returned in Command line code Stack trace Command line code foo main thrown in Command line code on line Composer now reloads PHP in order to disable XDebug This results in the following error being generated whenever the library is used PHP Warning Module pcntl already loaded in Unknown on line Warning Module pcntl already loaded in Unknown on line other packages are affected by this too more info How It works Prefix all data sent to EvalWorker with a byte command identifier can be either CMDEVAL or CMDCOMPLETE completiion function sends CMDCOMPLETE substrinfo linebuffer info end to eval worker eval worker sends back completions as a JSON blob Completion function inspired from Remove some dead code keep eval worker alive if evaluation fails Trying out a dowhile loop I get this error boris do total i whilei PHP Parse error syntax error unexpected end of file expecting while TWHILE in Usersrodrigofigueroa composervendord wtqborislibBorisEvalWorkerphp evald code on line This package is used by Laravel and at the time was used Laravels version for boris is d wtqboris By moving the pcntl extension from a suggestion to a requirement in a patch release that change has broken Windows use This PR allow people using Boris to import function and constants using the new use function use const syntax introduced with PHP I also used a named regexp to make things clearer unirestphp guzzle and httpful requests may fail silently Below is an example behaviour screen shot at Failing code pieces run fine as a scripts Hello This is my code phperphper boris boris books aaa bbb array aaa bbb boris function serveBooks global books vardumpbooks boris serveBooks NULL NULL boris 