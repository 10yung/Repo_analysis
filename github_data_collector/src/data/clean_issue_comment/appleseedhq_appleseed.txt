To merge after In particular Why are there more fireflies in SPPM than PT Why are MRI disabled in PT and MRI enabled in PT the same A good resolution Im taking for is to stop having a parallel private list of issues and things to do and use GitHubs issue tracker instead What youll find below is a random list of TODOs and issues some of which might be already done obsolete or just plain bad ideas They are roughly sorted in ascending creation time ie top issues are very old and bottom ones are newer These entries as they are tackled should be converted one by one to GitHub tickets adaptive sampling in path tracer missing parse error exceptions in objmeshfilelexerh measure performance of computemotionbboxes for large trees add rayssecond stats update docs parameters hsl hsv h in instead of see standard indirect range limit gi to short range MIS bug when maxpathlength is set to in PT retest allow choosing EXR compression mode in appleseed and in tools print warning if hdr texture not in linear RGB cant stop progressive rendering during first pass update acc structures for each frame not just when reinitializing rendering make size of triangle tree cache configurable support ordering statistics wally change default color space for textures to linear RGB make it a default setting same for colors support transformation motion of lights themselves on Linux set CMAKESKIPRPATH and CMAKESKIPINSTALLRPATH to true in Ship configuration readonly settings window to allow peeking at settings during rendering plastic teapot checkerboard sampling artifacts plastic teapot slow with DRT spp bounces seconds modify appleseedpackage to make targz archives on linuxosx objmeshfilewriter should take perface materials into account add test scenes for BinaryMesh format alpha mapping without intersection filters updateprojectfile should have an option to remove unused entities noshadow diagnostic mode colored fresnel add support for integer pixel formats in OpenEXR image file writer cache bvh on disk crash when picking during reconstruction of assembly bvh build intersection filters in parallel with the construction of the bvh use all cores pool in case multiple triangle trees are built at the same time optimization mark zero AOVs to avoid multiplyingaddingclamping them generalize alpha mode to scalar mode fix all getmemorysize add an option to compute aovs in interactive render mode sbvh works assertion in sbvh on teslacoilinri sbvhappleseed UPDATE still crashes lots of optimizations possible if we could know if a BSDF is purely specular add cast indirect flag to environment allow to skip lights whose max contribution is below a userspecified threshold zooming inout with doesnt work after picking an object because focus is in the explorer allow scheduling multiple jobs at once optimize randint try photon relaxation add support for moving photons see PM at Pixar slides test adaptive photon tracing based on visibility reorder photon data to increase cache locality when sampling bsdfmix and bsdfblend evaluate the nonsampled bsdf if the sampled bsdf is not purely specular why not suggested by elvic but careful about caustics when theyre disabled see issue on github interactive sppm need to regularly build a new photon map add ShadingPointgetoriginalshadingbasis material with edfbsdf fireflies sometimes implement Light Near Start and Light Low Threshold issue new attempt at prefetching studio crash after picking and modifying object instance confirmed final average luminance is INF when using straight alpha not due to straight alpha add a flag to edfs to force them to be sampled picking should clear the entity filter issue sampling a mixture of mesh lights where some have many polygons and some have few results in massive noise for those that have few polygons importance sampling should solve that was it tried python scripts allow to set the path to the appleseed tool via an env variable or rather path to a bin directory since we need many tools python scripts move common code to separate module difference brightness with dllightsamples set to vs prefix all preprocessor symbols with APPLESEED at least those defined in CMakeListstxt such as USEQMCSAMPLER or ARCH Quaternionextractaxisangle extractrotation document limitation can only instantiate objects of current assembly not of parent assemblies bug light near start not honored by ptne when hitting emitter quicksaves get overwritten when main output is absent set default value of ParamArray parameters to an empty ParamArray profile curve rendering use geometry hash instead of assembly version ids in assemblytreecpp foundationTilesetcomponent API is confusing and dangerous in studio text boxes are always scrolled to the right investigate optimization opportunities in replacing stdsort by more efficient algorithms for the actual data sets were concerned with trim trailing blank lines in SeExpr expressions implement autoframing ctrlshiftf automatically adjust the films aspect ratio when the resolution is changed allow to choose another bvh partitioner eg a plain median split one for faster bvh builds add case sensitivity mode next to regex filters in studio UI uniformize entity human readable names cant reload project file with accentuated characters when encountering singular matrix during parsing print name of entity being parsed object instance item in focus should be pink when object instance has no materials allow importing multiple Disney materials at once implement Select All for entities of a given type allow assigning materials to all slots of an object instance at once allow saving a project during rendering immediately commit changes when foldingunfolding Disney material layers immediately commit changes when renaming Disney material layers panels in attributeentity editors should be draggable like in ds Max add a quick way to enabledisable layers in Disney material without having to change mask add a way to duplicate an entity eg a Disney material make convertmeshfile incremental object per object should be easy compare our implementation of Bezier curve intersection with pbrts improve scheduling of tiles in multipass rendering define unary for Vectors to be able to write w backside n n speed up microfacets unit tests seconds in release importing twice the same texture then deleting one of them results in crash of studio pivot point set with f not saved to project also does not mark project as dirty proper handling of multiscreens remember on which screen studio and each of its window was last open implement consistent normal interpolation investigate precision and performance gains of using mmrsqrtss for inverse square root possibly followed by one or more NewtonRaphson iterations pressing Delete twice rapidly on eg an object instance item leads to crash two events triggered nd one on a nolongerexisting item showhide on assembly instances sss add reduced intensity term S sss add single scattering term S sss fix black outlines in SSS see Peter Kutz blog post sss in cube test scene SSSs next event estimation requires back material of light object while pure path tracing code requires front material objs have no normals everything is front side sss GI wont work if mesh has no vertex normals because unable to distinguish frontback faces sss build a bvh per sss material to speed up probe ray tracing sss separate Rmax radius per color channel randomly choosing Rmax sss we need to use getbiasedpoint to get ray origins different than offsetandrefined point but does that really work sss add debug scene to test suite sss move BSDFDiracDelta to ScatteringModes sss fix banding artifacts with ND sss evaluate the BSSRDF only once when it is directional already makes sense already evaluated twice for a given shading point in pathtracerh and ptlightingengineh sss make sss work with sppm sss if there are multiple intersections we build a conditional CDF based on the distance to each point then stochastically choose a point to sample improve interface of foundationDual d to avoid expensive copies warnings optimization flags on Linux OSLBSDF shouldnt be wrapped into BSDFWrapper double wrapping artifactsblinkings when zoomingpanning light paths view faster updates when changing false colors settings export from ds Max textures are not copied when intersecting procedural objects initialize resultmdistance to the t value found so far fresnel multiplier with specular BTDF specular BTDF leads to gray surfaces while glass BSDF doesnt improve logging around loading plugins seems like some paths from APPLESEEDSEARCHPATH are silently ignored when containing accentuated chars direct light samples decay rate constrain foundationnextmultiple and similar functions to integer types crash with TitleRenderAppleseedV appleseed scene when switching to Albedo mode with a render region renumber test scenes and improve consistency naming subfolders etc rename RegularSpectrum to CombSpectrum factorize common code between computesmoothvertextangentsbasepose and computesmoothvertextangentspose curves single strand shadowsappleseed evaluatetangent returns z bitangent normalize fails use APPLESEEDSIMD ALIGN everywhere instead of APPLESEEDALIGN Switch to the BSSRDFs BSDF update all vertex members including medf etc mcoson fishy should be always can be computed in getbsdfprobarea where its used is indirect lighting correctly disabled in PT without NEE probably not sppm does not match ptptne reference even with lambertian brdf flags handling in lights when linking appleseedpy obj in Ship configuration LINK MSIL netmodule or module compiled with GL found restarting link with LTCG add LTCG to the link command line to improve linker performance update copyright notices for triplanar zip The problem appears to be caused by these lines in astexturehelpersh Even when Object Space is used intersection point coordinates are not normalized with respect to the objects bounding box That means that if the object is say a box with dimensions x x in object space then the texture will be tiled three times in each direction assuming frequency With frequency it will be tiled six times etc Is it possible to optionally normalized texture coordinates Its supposed to switch between shading override modes but it no longer does This fixes issue How the lighting should be appleseed How the lighting is now appleseed 