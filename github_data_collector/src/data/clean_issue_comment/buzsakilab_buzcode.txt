the defaults make the function work but give you garbage if you are not recording a single channel at kHz is this anybodys default I propose loading in from the xml when user specs are omitted I propose a function with the following capabilities With the help of an XML in the same basepath read in data from a flat binary file basenamedat or basenameanalogindat or basenamedigitalindat with chosen channels there will be two modes of running the script A look for pulses with user defined thresholds or a median threshold defined from the first chunk of the recording session This will read the entire file in chunks and only detect pulses B rely on the existence of an event file basenameevtsti which defines the start and stop of either pulses pulseonpulseoff or sines sineonsineoff Then a slightly different algorithm will be used for pulse detection and sine detection where onset will be first crossing above some noise threshold around some peak threshold buzcode manipulation files will be saved with stim onset offset type amplitude raw channel origin and description which will need to be inputted manually data will be saved in a cell array Nx where N of channels with control signals FMA event files will also be generated for neuroscope compatability QUESTION if you want to make this an automated batch script and populate the decription field which is fixed across experiments there should be some way to do this same for animal metadata what do you propose See also extended bzgetSessionInfo that incorporates Peters metadatasystem for sessionInfomat creation and loading Make sure ripples code have same output Possibly rereferencing to noise channel add Elie CellExplorer should save a cellinfomat Should go from after recording to basic set of buzcode files Manipulation structure around those filetypes create CellClasscellinfomat Start with output from bzCellClassification 