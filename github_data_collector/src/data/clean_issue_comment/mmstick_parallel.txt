Scenario We launch two different tasks in parallel Lets say two bash scripts One sleeps and echos that is done The other sleeps and doesnt echo and simply exits If the entire bash script does not send any output to console or error and exits it may not be perceived as completed My hunch The wrong exit code or wrong signal is sent and parallel doesnt capture that signal and never perceives that bash script as completed As a result all of the parallel did not complete and did not exit its own process OR The empty output or empty error never gets closed because it never got used The buffer that was reading the output console or error console output never closed or exited so it never perceived that thread to be completed either and hung on reading an empty file expecting to read something As a result all of the parallel did not complete and did not exit its own process If I try to run two parallel commands at once I get weird issues and panics This is because both commands use the same directory tmpparallel for their internal state Every time a parallel command is ran a different tmp directory should be chosen by appending several random characters to the end of the existing directory name like other utilities using tmp directories do Alternatively use tmpparallelPID as the tmp directory to avoid collisions In practice this bug causes hard to debug issues when shell scripts involving parallel are ran concurrently When using parallel with grepripgrep without particular options neither this parallel nor GNU parallel will display the file name xargs works well But GNU parallel has an X that can solve this issue How can I achieve with this parallels command line x scrot BTW when using xargs with ripgrep the matched patterns can still be highlighted automatically colorauto while neither GNU parallel nor this parallel can keep the highlighting Do you intend to keep maintaining it My intent was to continue the packaging for Fedora but if upstream is dead its moot parallel seems not to be able to understand Windows directory structure and thus when I put for basename it just outputs the whole entire line and when I use it outputs the whole entire line minus the files extension This is under Powershell in Windows not only that it seems to not be able to understand Asian characters When I use ls Recurse file Path m a select ExpandProperty FullName parallel echo it will not understand at all Dear Michael Attached is a security bug It has been encrypted for the key IDs xB D C C xAAA BBBF CC A xE FA A DCA x A F B EFB xD ED F E D x CCB They all refer to the email address michaelsystem com so I hope you have the private key to at least one of them BEGIN PGP MESSAGE Version GnuPG v hQIMA ZBibGYo SgARAAuHmsHIMu HOZ BKqpTbuFXnd UOI Ax jlBN UyWYQz BvmvJoTfa Xr G gou QI uUxUAzQbW RaDitOX CyZYpndasElpm w GREchn RxDHhZFH jnDM OwTNaMBvDQRae JM Q ZyTVemsfbUozbpEAx f gCUfmj y rWYPOGNOyIfdSu vrpldOx MUbae pWKevDEgYDxJvVy pirR qerdu G INo hG TJbXcnNhbVwPd ELSGC lr mbQxGw wlZZEzl f hDC kuJhiH nwkEYzRV Sh fjVuIgtJjqYbgQOxeEaeUFcc kzGpNAFEeOA OKav hN NvhMyoFWrx SwOi GboCOonPSd WmNgClChibKBWe cxfsPHOdycHzFU khcsorcTaNgfW Epnt Mw pteKKscNtgd r vZYCZGXV SJkwcrSwIsQGPABdHYvAneFKm jLrgmi zqCUI htgvOCw akX js DMrY fw ADRYHIXtZOD rKaY rkyGYUO SKgXRtvoP ImqZPiNHC mZ TUOQEQqXKQCfyJHI tbECPp JKf idItMRkk rZ MvrR O MQct TdnmSvKdulCFIQucqhTrfJFGhyDcp bgSNX XAa sAgGoCjqdFTcaqB F AgwDolBG em ogkBD cWCXFE Q obrootqgY fWx OYVhXpLt oYr uKcTrlki VFiks qnevigvAamTefdRP PJK eK U RrjaVDBqspjsHtfY jsuHr JNhASuK Fabg Q GkjoTl oR ee BjmmKTK M ggseiYkXGPOsi OBxProiOb BOnan vgCaaquR IGzYFl Lr KRhg ESIIPDCbEka CZ tPgwCxEH HFt bXrFab Yy WT hO f y gJF dvqcfaksUdwlzB loWZ AYOsM Kt TYt EAT jhSDG X p fZ gxPqHhvSFuYfddyiKbc f W H dZfueMM r inP OkbvCpxckUurSb tBX AIDVTdUgmbmbx IvPsqHouBq JdwxceQ vrjHSIC FibrGV toEPvc MvoSCPLPRhsndmkMCtWaGfX rgeJAJCgSNSo QXHGJc HHnWExQY asQzX Y bmyk eK e zEvvhPLK aLcuUjIFCPQl pGOhlKw wr VLP DUgboGvA d sO T PXdI x ftvHaYcL tuxb zjmr tIy V PXPU VLmReiuCpQxuJrIqlm EdFpHbM X RCS AnV Nv Q KN zHRgumO ve h M fbhy NFNIS BdpYUC DAOSI jNDqUhSgEPRFU ETNFpJB QJhDv snONqTYeVb T gDnlJIR N L F hcF PUAaxMWmvIL OqiS dB kv NCmOD gpIhW hX b Csba kpqcI s qrQig bxVjtxKqetmwjxN SVG rloSTKYjmuUyKJZgeZwFTUq Fu qC c Bx J FD hXjF QF Brf oVaEfEpjACVkxBlI czTniXLBJndlVbqe gDBCzsByWlkce fekghS I PBgL xuq y XYo XVlWuaeYWHBtCyiuPQ OvtLuN ilGjxv kwP n bhZsJ AFYtg wwRPgBuqv vi DJCVSiJnlMq uVsuxzHaG gA eySiLGJEy X vsCqdmdEvneATizD U XKLLKBU JCFmQ sbFksjF qzfOUQ nAcbp fUgUpH XwGOmtizWIipJ TBxN sdj EFhrEscGCWLOLMiL lF iuBZ bCdpxT Yok HSVdnLSI LzhEFDapeL lrQVOuEFAYTYayGhS NzBsbL WWSLBJsKYk s FQsgBWLqHT HIhneEplbaUVzTkqIics k MsJSkZuXpIdFxXM AVTnVNQdEWg LIyJQHLvl PggbneUNiP oLUI T Eu zIxhsFvUwplxx X s mIwCi hQIM AbLOJ t qgARAAtEQZNPlMirt nPKfG rFN vA GjrCIc IMbqjus TWVNNUo fSmpwe QDm CEvaYFmT BQx G XeZpYjMqBqdvvCDyZJupBIFCZXf pzKQw iErF AXd RFkMdhu CnylbLgcnhK AGDtf yGaM iDP OUHg PTm k jqazh BklxFVFx jHHVrUQBgJOdaEKbhnUBUIkB ZkqQaDikCgjKXUWFu Y e PVGNby nE daXqZF F s B a qvnRAyy A uo qJWu FjyCkKtAhCnMZrhRZh IDfdtWmG uHNCW IgAYUhj KZk NSGFbsTv QvzNEd oycKEfd QrvK K VLHTAKSDdpK JU PndADi XKOxiWsFDbtKicxNpC Bw aHfx TeC nm N gM jGap MaQkYpXS Ifqj HeXEt gQEaNL JziKPPGP TmH r Y nzZQ NfGVdCWgqohSyKI qSJ y P NqUjNm Y wu Etp M qB QZCtATefMxgSGI OZZA KylDjjF ClQnRwdsu kVayYzCxWDw OhsB hIWrjtpgy b q Oy lQGGow O VMDnrhknv dYjg oZrrzBBtXajx a knHectDbHLDmN ZHoBuTPmFAgwD C kuwZVQoBEACdbMX StZ vxeNfSEKGAscpO DE E eo lTsJtmC g Wt oX qFqpBUxOIyd JnvDZ CYV NGV XZI xJ mogAxrlqaOKdVvdNHBBSpmaPal yoXdu zIwJH llykG oMxZYTFoJJCD SQ KyrpDV y yVgjE NcuwDtekrQGpCh DX z TJ PZt RpoGv fVRTU sszoNPmQDb y cBu DSZy wt Z Z WhUFcu nC to lPivV HREyeG TtJtOEzJSzsfbo Aq tQE lIwJrfMDL Acw MfYE AWyHWsTKrKW dWvy MhRVA AKdtqCFoS yvALWfTIQZDAUwUsCy VTQnEmGx ysDe fwBTjKDvEGDSSC FzNgGli LtYFRYa QH fMBVzNsfmTwqsBbxZtxGvXc vXKIkODXO ccZBsRxjEHt eZB JfbX K DhRrMm ykVrJTQz H dLCx WkwQ E jIOarbpGvwQQGnzxCg O mxiI EhZ Bz KV zuRWi hSTHJYaZsUZ gWmsLwkexl sfDmCvwlUC vbMMWn gqpxUpxDfT ldxYoh P VF A DlBh tk WtEReGnoWul KYUceck aSts NOqH Onv s C Zbq UaYeMNgSR j UBDANh ftGCYG IrgEH ljpselF ObxnI TgeKH LoHQnW wnY RotbXXSSENxrVkIN VbUXP VYVaEc LB aIRuqIBTqKgPKLgOjMWbCxRObRqKcUcCkxLbGRLL Mvwvq Flj dFaDOhdjWnlu VnYdyr oSvwrZU V XNjn gfiljqWUnYn tSqz c zLh uODXY GfSWxjWTdaZy HhYG lxEuxEyMEVWjMSWEmqppA Z xwJinMAniz dfCOSOroF Bfs s BzJ kayBTy ChxCdc fZhGACejg NtxrhA njRLB g BzJUR M GX etzGYB K XIOC SqMD ywGFBOAD atFFoiIiIgBJqDA D eIVz lDjlFd TV Dp YBtX Lo zQLZ yKYevi NdgaxAXKHFydN aNXAmq fw sbrQ Cnun fJjJrxZRI w kxAJLnXOA PiWX gFBEJ onV MrtHsmqwfjVn w ZrDm rKKbhu k t Ky sAslAZhMFHEH zepuYv zee Ffnse S ymbxN ZoUG tLMI ZMWM v RnspZeOFkdmal kBb a u eSBxyr IWSO MnTlrKP XxqjgtDyEmN fDUuBLG E nIauAUyCXNPssdEJTkQWx ffyL MG oUUjgwxezYvKlAgMD tf y yhMGV yk ImmhIVHKHpYy kpgNYhqjiXCgQJXRuTLDSIQIcEGaXunukKvb TQh yePshfCkaWHU g lLYDJvfzu SZcachUv nMdmWIylJ TpRCTHn K GxE DKsUpm aB s LZspKROpvXaXObXPvLSrvGxmPyKZenxQtoKqEzwYv JWepSfhjQ qq sQAYdjwDH BbywgizoQOj GuYH pnjgmOEwZe l Ejk wPLV ag dok Sft N oq KrYavkrEsjPURcvxXgQXhCam H kgO dvwnj MvOvczjuYMMEDbKbmYK VUoxtKKNfan Ly XQhGpaVZpbTVs ZTPd Qp nmVAxv DiPquLRGpxqjxM CSP jdwwp HlcW fyCM jbij D OqJnyILh LTDVh typfp JAPWchW PVzj diib jeirnXGhjlMmXjfrn PNNfJk yPGoXl plnqMHz GknVSXcnxw n C GA Ed gJYopvt k DkcZENqsVgjS LT avCUDSmFDCBHzxSODeHdXIPskHp oofDyEjAq AbETvSpjzSSK g IQpQRBAeumBWrYzAu UPrsyMBzMSb QnafPv TE owShmgVnh XUvgJq O SxlaPrqo c lQgwrLgaUVu ADDeExk EOEsu p a r fRSz cTJLDjoy cVzT CpH o BogdcMZKbA XfSXjUmvBASN GvlclB qJ GFKvMBkK nZNiE wdwLxjuS oCnQBMpy h IAHTJAk PQfFrUgjgiyoMAV v ZilCjszVQN hik I UywVP B wqj NdBNk guaMH CmY e b h Nt umIl Qef AStkPdFunTJ R qu qakzOAh nuCRa DqWjhKouSfMIXVu ixd VSenJcMFbvyebgekJPn KBgHX vCoBYhVHLuQUN vgDySlpijMNp tZLnk f M VFNILn OOhKaTVj o tjefbeBlxAqFmGgrudmKPFcOyzf lVEgjSk QzOcV vEwWn j yCO MUetdGZs pnAJFRzeLapntwsGhVUsVhtjtgemNEFQWpn pZwd JXBpfOcZ Eqp Oqf dQE SP bOiIHl q XuDwsRmO N WEpSYL yQoVEH DG xlWPuCNp iDdxnCwKQUwAHXZODtDj fObRKANpX ypGN wQoVaQMFr eAkMX mBwFZjx Ach VNgt PdeGIoCGRPRhR cmHLuvS wHPs fKklzsGw ovzd mvV FyWhADA gFHjkAFUKGqI LyEp B rBAKhsNaH DxJVEzhIthOA CZ IJPIA VjNTcpKpZjbcEmwgpYjFhiAo iUlMStUOYPmrrftQrHDWDGW Pn BzxCVIT x V m FjD vbXaVbR pPWM FF YLIChhpKgL xIsPGvfcnFrt HavlABQperI xOfs TEQ XDLRXHPX uQvf TUJbJ mHFAgnBK QurhlzlRpT QvqrT Slr jJ nEi ydY mSXNmSakyUYqpLw qsCgB U DWTtrilbZYhczlCmdoF AvIkqvvM tQzV HlOdEVMZEl dbuVpfEd U qXO NPryxneBtzAkYitS MEs ZfHY ldppv krpF iLVvqtvTcWE xF Ca Qk ZWc ovuFqExrFB pz RgF oUK YO ynkTVeJ gi Y lIWLsVSO JiNOSFSxESditdsxct hp a Oct VtVr R F aC R b oOQqKZ UfAybitwHjRUKcrSq z FSDEDwO x hr uaduZ O gxI R yr eaIl iqYh MjvCRqQxT xDQkoomXSo zKT nmcess wStrtSKXJlkbnx pwqY rgjuLyImSgt QmleFGqvkv AZGEXRJMhZX cPATXz JkzYfZ ZQnG No rrS LPJtOHEavMSuxhLRVIdmvZsK VWXFnzf yz Y IkfH eLZV ido J zkXhrcCzHwNtpADRjqx EPjdZCA PBexjArkOqEFoFMZG IGUkY LW ZEpWar VtaJ vZjqAiM b catFTgiu kVs T wlp c pfX IHFHuV bl YbakbdIVNc uOh t Md qEx jccWy NkSkqXEXS rFxvS AEPeh qQEPGk GCThwHlwiAepzZ oMPwGWCjngOIo fZ UxJ uVYhphzAD dJVf o swi ua ITiVsrrytQcRG B gcbvKkk BjhpsIVKfTNmLLPB lcGivIm DAjlJxU DyH FXBpGQAiymaBJxcCKr A AoFuLlgTlpjVOPjqA fQlLP iIZ GdkZVJJ MJyRQVpOJMdkMQtvQxzP SGc TOHK b Z lTq Jucp sQ ZfcXOMUGoWBFCt DrdVA Fq glYlm A KZKkENLlaG cUnLpz rsQzRGG yVsWG Z c iuJ wowIzIWaYFk mPYkqm KLA k pweNDaSZHH oNlN u wilbXfU rQeyuk D suhLh n uLX lRjvXddbZkv xfKEwhv RLxrlHWDa O uceMPutA iknZUETWdAxSFuBvELZlAuHs vMpg T SI Op iLYbaVfcSSTOFLl JDlIPaFK zyTfxvDwzQQcdlh kEtgOB SziuIiJ j ZGbTFX hubSYsnKqsqrbimCLKav U hTNtpe WHUGO VT WD EgeIRW QKY ttZdrBZKP ybp E fi WbisXAyYnn kPgSd hjucZycDWprHghdTPb DGG Gt P hjmuZPRQ AIhpW NvPgyfqnjQeHhy qm GI XBUvUh P LBBORgJLev Ob evKBQZQ G RubyD rEJwk CGzByFcs xQyXJVDLBTAff GvB jtgVAL wU JZ AQMbVeSNHEma vEGUfsfH am XZ cO UC rUzlb XBKpPUv W Rk uenkLd JxQCHDwLRE CBCtUgBx igCNMyQh ogA ZDL nSGJYVVdU TIq dE KuMqPOWY pvjmrW CXNLQcNNOBqpGQpODf vrtxr luFSjSI OhPWQk HhZnkdQOzXi LAw PSOG alX cX vawrw QSMf goT C YVpNoSKDvNJFtK oRnQQYTVrEvrBAxeDJY dhkFYhhzUujwCP ayZts YL yj ShSAAjBuKE Uo JGfjusHTi CpEwZ XTeiTEG kQU cYNxxHGgslbztcR hpsgB EtOX aULLLYGdcxwILawVkB ivUXEnXwsDxl xIHDVl Dpl ymd iAnkzxJRaC FjwpUxjmdIUW NJFrZqw UqgPMi HpBCGAiA ab m lk PvEzf A m MWqDY BE VKjaKyDlFTEGvUk xckvstGI EPPUDJWVF wZRkcNYIeJtMv t q bXy fVtRw eSlVSbwPnIZCdGE KAT nAheta HYE IXVnJtKcGxtPdxuplsb SE bAG ZIV xQDNUwwwzIHPvoGbouWvOhoi ULFNrt RJhT HEU BLQ i PG hS TsQuEUSTcqPrfKL FKz Ol FJ XBKsB PU snTTdZJmhP Ccu iWzgCqLjQnCFirKsrhE lA pWipFRojpuggKXSwjxj A wlIOO X UQo tlTH KYamTdRfqZmcPFaagWgkemI Rb moA t RPXllp E Ps U ItPcpWrDVeamVsEe g N BQBeCfkxzvg jLNN vWajka y xbUxqsphde vIYxxSkX XVk ahgWcjyucoKYFWulRAK xEL MnbLgjC U bYNFHIet Dmpdj yOZNbadx il tOHVKf WAdE OTpesQuUNnd ktCG JXtzgYKqu MjQ phy c oW HXgR kRUerDmpyl AaLjlsbuPLvOWt jVNYrTmClaEMTNURZFvujjQKp VbjMfx valJEBaOZn Zt BPExgqPiIvBkkQXOoiwpPzVrPzZCky xezgEvBas BGk QNhNAODfNgmaOfRKUH tbJkQxbXeJQEGzzsCT vj F XJX AP W pMIuxd ZuD h O OMADQogXTnHqHtwzZjcEfcAaoDJmnIQD ZIaFoFghp m b L P zZuJ LLFZ pMMRSLfNtN cEwCZJ AotbvepZTnL hKnYb ggEU DTgsesK qv qZB RVRSiEx vrxwPNzNDZRADeHrHO b qcmgWZ nsRzq ID OT kTI G Z XKCoqkcNQKtPojZJeHw sHpMzFyEWQ EZaqlxdvrTEJlkUbJUTH k smAmAN kEssAPkbkYWK hiT ZJajz mRF oR v d q fW YzQdmPjrEta ymqg PGlqxj ufomgAyJ UmT sq JzL ZSJ bPtJkeIqnJxRNBopidFtZLQIkAOCplqK XNFY XzJl rEi bibuo LQLinTYxDE OH AdRHKMm NHJ Ep TcYb ngt uvWAfFL wDpuT AL ZNzO voOhjF wEKzReWPTLLAYnTyybmudnwWaOtW JmnyxZD T lFPIRPvaapjpbvQNhzrK s KE mYwIWtyvRX nUC AuzGhb Sgshm GUsUO pNV tw oKIaYTDUup EewU g eLYMokdTpz VtI bv qrHBAHfSoQz N qbHol U HiYsjPGE LHHl gPfdMvUmr x NwNFvr Q aNu oEn yhiJmhLSIBh LG v wCgZQoYf Oh kySzYfKmccYgXFjslABDqDK ELcXRuxeQdUAzhggaUWCqiaP EKH L h T as ZfDC END PGP MESSAGE Regards Ole Tange While executing the command sh echo TMPhtml xargs n echo shuf parallel v j timeout s classifysh parallel sometimes panics This is nondeterministic but not rare I encountered this panic times today The line that panics is which means the start and end indices this code gets are bogus rust parallel processing task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel processing task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel processing task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html parallel completed task of tmptmpyrWq RE sE html thread unnamed panicked at slice index starts at but ends at libcoreslicemodrs stack backtrace x adcf stdsysunixbacktracetracingimpunwindbacktraceh e ac a e b at libstdsysunixbacktracetracinggccsrs x a d stdsyscommonbacktraceprinthb ee b a at libstdsyscommonbacktracers x acd d stdpanickingdefaulthookclosureh e c a e ac c at libstdsyscommonbacktracers at libstdpanickingrs x aca stdpanickingdefaulthookhe c c ba c cf at libstdpanickingrs x ad bf stdpanickingrustpanicwithhookhdbcff b ddc d at libstdpanickingrs x acfe stdpanickingbeginpanicfmth d e c at libstdpanickingrs x acf rustbeginunwind at libstdpanickingrs x f corepanickingpanicfmth b a a fd at libcorepanickingrs x f coreslicesliceindexorderfailha b b df at libcoreslicemodrs x adb parallelinputiteratoriteratorInputIteratorIOnextvaluehcaac f e f c x df parallelinputiteratorlockInputsLockIOtrynextha ad e d c x e parallelexecuteexeccommandsExecCommandsIOrunh d c x dead stdsyscommonbacktracerustbeginshortbacktraceh aca d f ac x b stdpanickingtrydocallh eccb cd e x bbb e rustmaybecatchpanic at libpanicunwindlibrs x a F as allocboxedFnBoxAcallboxh bfb bea x b a b stdsysunixthreadThreadnewthreadstarth e eb e b at checkoutsrcliballocboxedrs at libstdsyscommonthreadrs at libstdsysunixthreadrs x ffff b startthread x ffff e abe clone x unknown thread unnamed panicked at called Resultunwrap on an Err value PoisonError inner libcoreresultrs stack backtrace x adcf stdsysunixbacktracetracingimpunwindbacktraceh e ac a e b at libstdsysunixbacktracetracinggccsrs x a d stdsyscommonbacktraceprinthb ee b a at libstdsyscommonbacktracers x acd d stdpanickingdefaulthookclosureh e c a e ac c at libstdsyscommonbacktracers at libstdpanickingrs x aca stdpanickingdefaulthookhe c c ba c cf at libstdpanickingrs x ad bf stdpanickingrustpanicwithhookhdbcff b ddc d at libstdpanickingrs x acfe stdpanickingbeginpanicfmth d e c at libstdpanickingrs x acf rustbeginunwind at libstdpanickingrs x f corepanickingpanicfmth b a a fd at libcorepanickingrs x dcde coreresultunwrapfailedhb f f f c a x a parallelinputiteratorlockInputsLockIOtrynextha ad e d c x e parallelexecuteexeccommandsExecCommandsIOrunh d c x dead stdsyscommonbacktracerustbeginshortbacktraceh aca d f ac x b stdpanickingtrydocallh eccb cd e x bbb e rustmaybecatchpanic at libpanicunwindlibrs x a F as allocboxedFnBoxAcallboxh bfb bea x b a b stdsysunixthreadThreadnewthreadstarth e eb e b at checkoutsrcliballocboxedrs at libstdsyscommonthreadrs at libstdsysunixthreadrs x ffff b startthread x ffff e abe clone x unknown thread unnamed panicked at called Resultunwrap on an Err value PoisonError inner libcoreresultrs more PoisonErrors omitted When using the v flag for parallel the processing task x number doesnt match up with completed task x mateonhydrashareddevfuzz parallel v echo parallel processing inputs on threads parallel processing task of parallel completed task of Issue Using parallel version MITRust Parallel Steps to Test Execute script usrbinenv bash parallel echo A B Output A B A B Execute script usrbinenv bash myfunction echo echo more things export f myfunction parallel myfunction A B Output parallel command error IO error No such file or directory os error parallel command error IO error No such file or directory os error parallel command error IO error No such file or directory os error parallel command error IO error No such file or directory os error parallel encountered errors during processing A IO error No such file or directory os error B IO error No such file or directory os error A IO error No such file or directory os error B IO error No such file or directory os error Am I doing something wrong in the second example I am on Mac OS Thanks for your support Installation instructions for a Mac without rustup would be really helpful I had used homebrew to install rust brew install rust Any prospect of supporting ssh for distributed parallel processing like GNU parallel