Override public AopProxy createAopProxyAdvisedSupport config throws AopConfigException if configisOptimize configisProxyTargetClass hasNoUserSuppliedProxyInterfacesconfig Class targetClass configgetTargetClass if targetClassisInterface ProxyisProxyClasstargetClass return new JdkDynamicAopProxyconfig return new ObjenesisCglibAopProxyconfig else return new JdkDynamicAopProxyconfig proxytargetclasss true Cglib Cglib false JDK proxytargetclasss true if targetClassisInterface ProxyisProxyClasstargetClass return new JdkDynamicAopProxyconfig JDK proxytargetclasss true CGLB 