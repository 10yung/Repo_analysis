Uses the application plugin to create a runnable distribution Ill leave Graal support for a separate PR as the Palant r Graal plugin doesnt support GraalVM x Fixes I am not particularly happy with how this is done but there are two many complicated matters intertwined around auth so this is it The basic idea is that instead of returning a working Authorization some steps in StepsRunner returns a working RegistryClient PullBaseImageStep returns a working RegistryClient previously returned a working Authorization for the base image AuthenticatePushStep returns a working RegistryClient instead of Authorization likewise for the target image RegistryClient is now a mutable instance Calling configureBasicAuth will make it send a basic Authorization while calling doBearerAuth will send a bearer token Authorization So you basically create two RegistryClient instances one for base and the other for target and then these are used throughout the build ie in other Steps And if the RegistryClient succeeded to doBearerAuth it will authrefresh a token if necessary Fixes Before filing an issue please reproduce with the latest version of Jib If you are encountering errors pulling or pushing to remote registries please check our Frequently Asked Questions before filing an issue Environment Maven linux version el x arch amd family unix Description of the issue Sometimes jibbuild fails when running parallel build for a multimodule project I use mvn T for four running threads Expected behavior Push images parallel Steps to reproduce Please provide a minimal and precise series of steps Thats hard It happens sporadically as any multithreading issue Nonparallel build apparently works fine Log output If applicable provide relevant log output T Z ERROR Failed to execute goal comgooglecloudtoolsjibmavenplugin build defaultcli on project someservice Tried to push image manifest for artifactoryxxxxxcomdckrsomeservice SNAPSHOT but failed because Registry may not support pushing OCI Manifest or Docker Image Manifest Version Schema If this is a bug please file an issue at Bad Request T Z ERROR errors codeMANIFESTINVALIDmessagemanifest invaliddetaildescriptionCould not find item at dockerscreleaselocaldckrsomeserviceuploadssha e d c e d c b f c fc a d bce b ecf T Z ERROR Help orgapachemavenlifecycleLifecycleExecutionException Failed to execute goal comgooglecloudtoolsjibmavenplugin build defaultcli on project someservice Tried to push image manifest for artifactoryxxxxxcomdckrsomeservice SNAPSHOT but failed because Registry may not support pushing OCI Manifest or Docker Image Manifest Version Schema If this is a bug please file an issue at at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalbuildermultithreadedMultiThreadedBuilder call MultiThreadedBuilderjava at orgapachemavenlifecycleinternalbuildermultithreadedMultiThreadedBuilder call MultiThreadedBuilderjava at javautilconcurrentFutureTaskrun FutureTaskjava at javautilconcurrentExecutorsRunnableAdaptercall Executorsjava at javautilconcurrentFutureTaskrun FutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorker ThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrun ThreadPoolExecutorjava at javalangThreadrun Threadjava Caused by orgapachemavenpluginMojoExecutionException Tried to push image manifest for artifactoryxxxxxcomdckrsomeservice SNAPSHOT but failed because Registry may not support pushing OCI Manifest or Docker Image Manifest Version Schema If this is a bug please file an issue at at comgooglecloudtoolsjibmavenBuildImageMojoexecute BuildImageMojojava at orgapachemavenpluginDefaultBuildPluginManagerexecuteMojo DefaultBuildPluginManagerjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalbuildermultithreadedMultiThreadedBuilder call MultiThreadedBuilderjava at orgapachemavenlifecycleinternalbuildermultithreadedMultiThreadedBuilder call MultiThreadedBuilderjava at javautilconcurrentFutureTaskrun FutureTaskjava at javautilconcurrentExecutorsRunnableAdaptercall Executorsjava at javautilconcurrentFutureTaskrun FutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorker ThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrun ThreadPoolExecutorjava at javalangThreadrun Threadjava Caused by comgooglecloudtoolsjibregistryRegistryErrorException Tried to push image manifest for artifactoryxxxxxcomdckrsomeservice SNAPSHOT but failed because Registry may not support pushing OCI Manifest or Docker Image Manifest Version Schema If this is a bug please file an issue at at comgooglecloudtoolsjibregistryRegistryErrorExceptionBuilderbuild RegistryErrorExceptionBuilderjava at comgooglecloudtoolsjibregistryManifestPusherhandleHttpResponseException ManifestPusherjava at comgooglecloudtoolsjibregistryManifestPusherhandleHttpResponseException ManifestPusherjava at comgooglecloudtoolsjibregistryRegistryEndpointCallercall RegistryEndpointCallerjava at comgooglecloudtoolsjibregistryRegistryEndpointCallercall RegistryEndpointCallerjava at comgooglecloudtoolsjibregistryRegistryClientcallRegistryEndpoint RegistryClientjava at comgooglecloudtoolsjibregistryRegistryClientpushManifest RegistryClientjava at comgooglecloudtoolsjibbuilderstepsPushImageStepcall PushImageStepjava at comgooglecloudtoolsjibbuilderstepsPushImageStepcall PushImageStepjava at comgooglecommonutilconcurrentTrustedListenableFutureTaskTrustedFutureInterruptibleTaskrunInterruptibly TrustedListenableFutureTaskjava at comgooglecommonutilconcurrentInterruptibleTaskrun InterruptibleTaskjava at comgooglecommonutilconcurrentTrustedListenableFutureTaskrun TrustedListenableFutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorker ThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrun ThreadPoolExecutorjava at javalangThreadrun Threadjava Caused by comgooglecloudtoolsjibhttpResponseException Bad Request errors codeMANIFESTINVALIDmessagemanifest invaliddetaildescriptionCould not find item at dockerscreleaselocaldckrsomeserviceuploadssha e d c e d c b f c fc a d bce b ecf at comgooglecloudtoolsjibhttpFailoverHttpClientcall FailoverHttpClientjava at comgooglecloudtoolsjibhttpFailoverHttpClientcall FailoverHttpClientjava at comgooglecloudtoolsjibregistryRegistryEndpointCallercall RegistryEndpointCallerjava at comgooglecloudtoolsjibregistryRegistryEndpointCallercall RegistryEndpointCallerjava at comgooglecloudtoolsjibregistryRegistryClientcallRegistryEndpoint RegistryClientjava at comgooglecloudtoolsjibregistryRegistryClientpushManifest RegistryClientjava at comgooglecloudtoolsjibbuilderstepsPushImageStepcall PushImageStepjava at comgooglecloudtoolsjibbuilderstepsPushImageStepcall PushImageStepjava at comgooglecommonutilconcurrentTrustedListenableFutureTaskTrustedFutureInterruptibleTaskrunInterruptibly TrustedListenableFutureTaskjava at comgooglecommonutilconcurrentInterruptibleTaskrun InterruptibleTaskjava at comgooglecommonutilconcurrentTrustedListenableFutureTaskrun TrustedListenableFutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorker ThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrun ThreadPoolExecutorjava at javalangThreadrun Threadjava Caused by comgoogleapiclienthttpHttpResponseException Bad Request errors codeMANIFESTINVALIDmessagemanifest invaliddetaildescriptionCould not find item at dockerscreleaselocaldckrsomeserviceuploadssha e d c e d c b f c fc a d bce b ecf at comgoogleapiclienthttpHttpRequestexecute HttpRequestjava at comgooglecloudtoolsjibhttpFailoverHttpClientcall FailoverHttpClientjava at comgooglecloudtoolsjibhttpFailoverHttpClientcall FailoverHttpClientjava at comgooglecloudtoolsjibregistryRegistryEndpointCallercall RegistryEndpointCallerjava at comgooglecloudtoolsjibregistryRegistryEndpointCallercall RegistryEndpointCallerjava at comgooglecloudtoolsjibregistryRegistryClientcallRegistryEndpoint RegistryClientjava at comgooglecloudtoolsjibregistryRegistryClientpushManifest RegistryClientjava at comgooglecloudtoolsjibbuilderstepsPushImageStepcall PushImageStepjava at comgooglecloudtoolsjibbuilderstepsPushImageStepcall PushImageStepjava at comgooglecommonutilconcurrentTrustedListenableFutureTaskTrustedFutureInterruptibleTaskrunInterruptibly TrustedListenableFutureTaskjava at comgooglecommonutilconcurrentInterruptibleTaskrun InterruptibleTaskjava at comgooglecommonutilconcurrentTrustedListenableFutureTaskrun TrustedListenableFutureTaskjava at javautilconcurrentThreadPoolExecutorrunWorker ThreadPoolExecutorjava at javautilconcurrentThreadPoolExecutorWorkerrun ThreadPoolExecutorjava at javalangThreadrun Threadjava Additional Information Any additional information that may be helpful I dont use OCI anywhere in configuration looks like error text is misleading Not sure if it is our artifactory fails or the Jib plugin may not handle pushing shared layers between projects Thanks for contributing Before filing an issue please reproduce with the latest version of Jib If you are encountering errors pulling or pushing to remote registries please check our Frequently Asked Questions before filing an issue Environment Jib version Build tool Maven OS Mac Description of the issue run jibmavenplugin dockerBuild in idea the image build successful but when I run this image failed Maybe the JDK configuration is wrong What should I do Expected behavior run success Steps to reproduce Please provide a minimal and precise series of steps dockerBuild run image jibmavenplugin Configuration Delete this section if not used xml plugin groupIdcomgooglecloudtoolsgroupId artifactIdjibmavenpluginartifactId version version configuration to imageharbortestcomprojectparentartifactIdprojectartifactIdenvprojectversionimage to from imageopenjdkalpineimage from container mainClasscomtestauthserverAuthServerApplicationmainClass jvmFlags jvmFlagXms mjvmFlag jvmFlags ports port port ports environment TZAsiaShanghaiTZ environment volumestmpvolumes useCurrentTimestamptrueuseCurrentTimestamp labels maintainerjademaintainer labels container allowInsecureRegistriestrueallowInsecureRegistries configuration plugin Log output If applicable provide relevant log output LibraryJavaJavaVirtualMachinesjdk jdkContentsHomebinjava Dvisualvmid DmavenmultiModuleProjectDirectoryUsersjadeworkworkspacetesttestauthtestauthserver DmavenhomeUsersjadeworksoftwareapachemaven DclassworldsconfUsersjadeworksoftwareapachemaven binm conf DmavenextclasspathApplicationsIntelliJ IDEAappContentspluginsmavenlibmaveneventlistenerjar javaagentApplicationsIntelliJ IDEAappContentslibideartjar ApplicationsIntelliJ IDEAappContentsbin DfileencodingUTF classpath Usersjadeworksoftwareapachemaven bootplexusclassworlds jar orgcodehausclassworldsLauncher Dideaversion s Usersjadeworksoftwareapachemaven confsettingsxml DskipTeststrue comgooglecloudtoolsjibmavenplugin dockerBuild P dev INFO Scanning for projects WARNING WARNING Some problems were encountered while building the effective model for comtesttestauthserverjar SNAPSHOT WARNING dependencyManagementdependenciesdependencygroupIdartifactIdtypeclassifier must be unique comalibabafastjsonjar duplicate declaration of version comtesttestdependencies Usersjadeworksoftwaremavenrepositorycomtesttestdependencies testdependencies pom line column WARNING dependencyManagementdependenciesdependencyversion for comtestcloudtestcloudstarterjar is either LATEST or RELEASE both of them are being deprecated comtesttestdependencies Usersjadeworksoftwaremavenrepositorycomtesttestdependencies testdependencies pom line column WARNING WARNING It is highly recommended to fix these problems because they threaten the stability of your build WARNING WARNING For this reason future Maven versions might no longer support building such malformed projects WARNING INFO INFO comtesttestauthserver INFO Building testauthserver SNAPSHOT INFO jar Downloading from test Downloaded from test B at kBs Downloading from test Downloaded from test B at kBs Downloading from test Downloaded from test B at kBs Downloading from test Downloaded from test B at kBs INFO INFO jibmavenplugin dockerBuild defaultcli testauthserver WARNING containeruseCurrentTimestamp is deprecated use containercreationTime with the value USECURRENTTIMESTAMP instead WARNING Setting image creation time to current time your image may not be reproducible INFO INFO Containerizing application to Docker daemon as harbortestcomtestauthtestauthserverdev SNAPSHOT WARNING Base image openjdkalpine does not use a specific image digest build may not be reproducible INFO Getting manifest for base image openjdkalpine INFO Building dependencies layer INFO Building resources layer INFO Building snapshot dependencies layer INFO Building classes layer INFO The base image requires auth Trying again for openjdkalpine INFO Retrieving registry credentials for registry dockerio WARNING The credential helper dockercredentialdesktop has nothing for server URL registry dockerio Got output credentials not found in native keychain WARNING The credential helper dockercredentialdesktop has nothing for server URL registryhubdockercom Got output credentials not found in native keychain WARNING The credential helper dockercredentialdesktop has nothing for server URL indexdockerio Got output credentials not found in native keychain WARNING The credential helper dockercredentialdesktop has nothing for server URL dockerio Got output credentials not found in native keychain INFO Using base image with digest sha d c b de bf ef e b ffe c ae a e be f fc d INFO INFO Container entrypoint set to java Xms m cp appresourcesappclassesapplibs comtestauthserverAuthServerApplication INFO Loading to Docker daemon INFO INFO Built image to Docker daemon as harbortestcomtestauthtestauthserverdev SNAPSHOT INFO INFO INFO BUILD SUCCESS INFO INFO Total time s INFO Finished at T INFO docker run log Exception in thread main javalangIllegalAccessError tried to access method orgspringframeworkcoreiosupportSpringFactoriesLoaderloadFactoryNamesLjavalangClassLjavalangClassLoaderLjavautilList from class orgspringframeworkbootSpringApplication at orgspringframeworkbootSpringApplicationgetSpringFactoriesInstancesSpringApplicationjava at orgspringframeworkbootSpringApplicationgetSpringFactoriesInstancesSpringApplicationjava at orgspringframeworkbootSpringApplicationinitSpringApplicationjava at orgspringframeworkbootSpringApplicationinitSpringApplicationjava at orgspringframeworkbootbuilderSpringApplicationBuildercreateSpringApplicationSpringApplicationBuilderjava at orgspringframeworkbootbuilderSpringApplicationBuilderinitSpringApplicationBuilderjava at comtestauthserverAuthServerApplicationmainAuthServerApplicationjava Additional Information Any additional information that may be helpful host harbortestcom Thanks for contributing The jibmavenplugin will now create a json file with image metadata during the build like so mvn jibbuild cat targetjibimagejson jq image gcrioprojectimagetag imageId sha bb ec a cb eb a bbfa a dca d e c c d a b c a imageDigest sha f be e edb c a a db ab bb a f bfd d b fc tags latest tag This is handy if you generate the image name or tag in a dynamic fashion eg including a timstamp and you have other tools in a CD pipeline that operate on the generated image In our case we would like to use the reference to the generated image to deploy to K S and our deployment tooling picks it up from a file The path to the output file is configurable in outputPathsimageJson Related issue Environment Jib version Build tool Maven OS Windows Description of the issue When the build fails the actual error message is null This causes an NPE when the exception is wrapped thus hiding the original exception Expected behavior The actual error is shown Steps to reproduce mvn clean package jibbuild Additional Information The target docker registry is spawned from minishift on the same host Using a different docker registry works fine detailssummaryLogsummary txt INFO jibmavenplugin build defaultcli dummyservice WARNING Setting image creation time to current time your image may not be reproducible INFO INFO Containerizing application to dummyservice SNAPSHOT WARNING Base image adoptopenjdkopenjdk alpinejre does not use a specific image digest build may not be reproducible WARNING The credential helper dockercredentialdesktop has nothing for server URL Got output credentials not found in native keychain WARNING Cannot verify server at Attempting again with no TLS verification WARNING Failed to connect to over HTTPS Attempting again with HTTP ERROR IO error for image dummyservice ERROR null WARNING Cannot verify server at Attempting again with no TLS verification INFO Executing tasks INFO complete INFO pulling base image manifest INFO building dependencies layer INFO INFO INFO BUILD FAILURE INFO INFO Total time s INFO Finished at T INFO ERROR Failed to execute goal comgooglecloudtoolsjibmavenplugin build defaultcli on project dummyservice Execution defaultcli of goal co mgooglecloudtoolsjibmavenplugin build failed expected a nonnull reference Help details detailssummaryDebugLogsummary txt DEBUG TIMING Pulling base image manifest DEBUG TIMING Preparing application layer builders DEBUG TIMED Preparing application layer builders ms DEBUG TIMING Building dependencies layer DEBUG TIMING Building resources layer DEBUG TIMING Building snapshot dependencies layer DEBUG TIMING Building classes layer DEBUG TIMED Building classes layer ms DEBUG TIMED Building snapshot dependencies layer ms DEBUG Building resources layer built sha e e b e ff d e cd d ca f b eb b b dff DEBUG TIMED Building resources layer ms WARNING The credential helper dockercredentialdesktop has nothing for server URL Got output credentials not found in native keychain DEBUG No credentials could be retrieved for registry DEBUG TIMED Retrieving registry credentials for ms DEBUG TIMING Authenticating push to WARNING Cannot verify server at Attempting again with no TLS verification WARNING Failed to connect to over HTTPS Attempting again with HTTP ERROR IO error for image dummyservice ERROR null DEBUG TIMED Authenticating push to ms DEBUG TIMED Building and pushing image ms WARNING Cannot verify server at Attempting again with no TLS verification INFO Executing tasks INFO complete INFO pulling base image manifest INFO building dependencies layer INFO INFO INFO BUILD FAILURE INFO INFO Total time s INFO Finished at T INFO ERROR Failed to execute goal comgooglecloudtoolsjibmavenplugin build defaultcli on project dummyservice Execution defaultcli of goal co mgooglecloudtoolsjibmavenplugin build failed expected a nonnull reference Help orgapachemavenlifecycleLifecycleExecutionException Failed to execute goal comgooglecloudtoolsjibmavenplugin build defaultcli on project du mmyservice Execution defaultcli of goal comgooglecloudtoolsjibmavenplugin build failed expected a nonnull reference at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalbuildersinglethreadedSingleThreadedBuilderbuild SingleThreadedBuilderjava at orgapachemavenlifecycleinternalLifecycleStarterexecute LifecycleStarterjava at orgapachemavenDefaultMavendoExecute DefaultMavenjava at orgapachemavenDefaultMavendoExecute DefaultMavenjava at orgapachemavenDefaultMavenexecute DefaultMavenjava at orgapachemavencliMavenCliexecute MavenClijava at orgapachemavencliMavenClidoMain MavenClijava at orgapachemavencliMavenClimain MavenClijava at jdkinternalreflectNativeMethodAccessorImplinvoke Native Method at jdkinternalreflectNativeMethodAccessorImplinvoke NativeMethodAccessorImpljava at jdkinternalreflectDelegatingMethodAccessorImplinvoke DelegatingMethodAccessorImpljava at javalangreflectMethodinvoke Methodjava at orgcodehausplexusclassworldslauncherLauncherlaunchEnhanced Launcherjava at orgcodehausplexusclassworldslauncherLauncherlaunch Launcherjava at orgcodehausplexusclassworldslauncherLaunchermainWithExitCode Launcherjava at orgcodehausplexusclassworldslauncherLaunchermain Launcherjava Caused by orgapachemavenpluginPluginExecutionException Execution defaultcli of goal comgooglecloudtoolsjibmavenplugin build failed expected a nonnull reference at orgapachemavenpluginDefaultBuildPluginManagerexecuteMojo DefaultBuildPluginManagerjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalbuildersinglethreadedSingleThreadedBuilderbuild SingleThreadedBuilderjava at orgapachemavenlifecycleinternalLifecycleStarterexecute LifecycleStarterjava at orgapachemavenDefaultMavendoExecute DefaultMavenjava at orgapachemavenDefaultMavendoExecute DefaultMavenjava at orgapachemavenDefaultMavenexecute DefaultMavenjava at orgapachemavencliMavenCliexecute MavenClijava at orgapachemavencliMavenClidoMain MavenClijava at orgapachemavencliMavenClimain MavenClijava at jdkinternalreflectNativeMethodAccessorImplinvoke Native Method at jdkinternalreflectNativeMethodAccessorImplinvoke NativeMethodAccessorImpljava at jdkinternalreflectDelegatingMethodAccessorImplinvoke DelegatingMethodAccessorImpljava at javalangreflectMethodinvoke Methodjava at orgcodehausplexusclassworldslauncherLauncherlaunchEnhanced Launcherjava at orgcodehausplexusclassworldslauncherLauncherlaunch Launcherjava at orgcodehausplexusclassworldslauncherLaunchermainWithExitCode Launcherjava at orgcodehausplexusclassworldslauncherLaunchermain Launcherjava Caused by comgooglecommonbaseVerifyException expected a nonnull reference at comgooglecommonbaseVerifyverify Verifyjava at comgooglecommonbaseVerifyverifyNotNull Verifyjava at comgooglecommonbaseVerifyverifyNotNull Verifyjava at comgooglecloudtoolsjibpluginscommonJibBuildRunnerrunBuild JibBuildRunnerjava at comgooglecloudtoolsjibmavenBuildImageMojoexecute BuildImageMojojava at orgapachemavenpluginDefaultBuildPluginManagerexecuteMojo DefaultBuildPluginManagerjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalMojoExecutorexecute MojoExecutorjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalLifecycleModuleBuilderbuildProject LifecycleModuleBuilderjava at orgapachemavenlifecycleinternalbuildersinglethreadedSingleThreadedBuilderbuild SingleThreadedBuilderjava at orgapachemavenlifecycleinternalLifecycleStarterexecute LifecycleStarterjava at orgapachemavenDefaultMavendoExecute DefaultMavenjava at orgapachemavenDefaultMavendoExecute DefaultMavenjava at orgapachemavenDefaultMavenexecute DefaultMavenjava at orgapachemavencliMavenCliexecute MavenClijava at orgapachemavencliMavenClidoMain MavenClijava at orgapachemavencliMavenClimain MavenClijava at jdkinternalreflectNativeMethodAccessorImplinvoke Native Method at jdkinternalreflectNativeMethodAccessorImplinvoke NativeMethodAccessorImpljava at jdkinternalreflectDelegatingMethodAccessorImplinvoke DelegatingMethodAccessorImpljava at javalangreflectMethodinvoke Methodjava at orgcodehausplexusclassworldslauncherLauncherlaunchEnhanced Launcherjava at orgcodehausplexusclassworldslauncherLauncherlaunch Launcherjava at orgcodehausplexusclassworldslauncherLaunchermainWithExitCode Launcherjava at orgcodehausplexusclassworldslauncherLaunchermain Launcherjava details PS Do you have any hint what the original error could have been I havent reproduced this This might be easier to hit on a slow network In it looks like we already got an exception but it doesnt seem to terminate the JVM right away I thought an exception from Futureget would make Maven or Gradle to stop immediately but maybe Im wrong or theres something preventing that from happening Observed this in If the Jib cache is empty Docker Hub returns and fail in the first run Interestingly subsequent runs return Worth understanding why If a base image referred to by a digest we look into the manifest cache If the manifest is in the cache we return it along with no null base image credentials java if buildContextisOffline imageReferenceisTagDigest OptionalImage image getCachedBaseImage if imageisPresent return new ImageAndAuthorizationimageget null However if the base image cache hasnt yet cached some layers eg pulling base image layers failed for some reason after caching the manifest Jib will go out and try to download the missing layers But it may fail because we didnt return base image credentials above