 FixFeature for Corrects an error in the type property that does not pass Composers validators Changes proposed Changed uppercase CMS to lowercase cms composerjson file seems not to match the expected JSON schema I have installed all the required php packages and configured MariaDB normally but when I try to compose install or composer createproject anchorcmsanchorcms at the directory that I am trying to install Anchor CMS Composer returns only the following error message Composer Json JsonValidationException composerjson does not match the expected JSON schema type Does not match the regex pattern az Im using composer version on CentOS I referenced this article and official documentations of Composer and Anchor CMS for my installation Prevent direct access to the logs First let me explain the harm of the vulnerability Storage type XSS is also called persistent typeIn general it is the most harmful of the three XSSThis type of XSS vulnerability is caused by malicious attack code that is persisted to the server and then displayed on the HTML page I found a storage XSS in anchorcms The trigger condition is to log in The details are as follows The first step In this case Im going to audit the trace of the hazard function and look for the print function I found this in anchorlibrarieslanguagesphp file The following code public static function linekey default args array parts explode key ifcountparts file arrayshiftparts line arrayshiftparts ifcountparts file global line arrayshiftparts if issetstaticlines file staticloadfile ifissetstaticlines file line text staticlines file line else ifdefault text default else text key ifcountargs return calluserfuncarraysprintf arraymergearraytext args return text The second step By see This defines a line function that calls calluserfuncarray which takes the second argument Pass the first argument as a variablePass it to sprintf here and see if the second parameter in calluserfuncarray is controllable Global search where to call the line function found a return in anchorhelpersphp and trace the file as follows function line args arrayslicefuncgetargs return Languagelineline null args The third stepBy seeHere we found a function which intercepts the incoming line and returns the output parameters line and args Parameters can be controlled so again global search to see whether call function I found a lot Here to enter anchorviewspagesaddphp file The fourth stepChoose to enter enter here anchorviewspagesaddphp found processing php echo Urito adminpagesadd The following code php echo header form methodpost actionphp echo Uritoadminpagesadd enctypemultipartformdata novalidate input nametoken typehidden valuephp echo token fieldset classheader div classwrap php echo messages php echo Formtexttitle Inputprevioustitle array placeholder pagestitle autocomplete off autofocus true aside classbuttons php echo Formbuttonglobalsave array type submit class btn php echo Formbuttonpagesredirect array class btn secondary aside div fieldset fieldset classredirect div classwrap php echo Formtextredirect Inputpreviousredirect array placeholder pagesredirecturl div fieldset fieldset classmain div classwrap php echo Formtextareacontent Inputpreviouscontent array placeholder pagescontentexplain php echo editor div fieldset fieldset classmeta split div classwrap p label forlabelshowinmenuphp echo pagesshowinmenu label php echo Formcheckboxshowinmenu Inputpreviousshowinmenu arrayid labelshowinmenu emphp echo pagesshowinmenuexplain em p p label forlabelnamephp echo pagesname label php echo Formtextname Inputpreviousname arrayid labelname emphp echo pagesnameexplain em p p label forlabelslugphp echo pagesslug label php echo Formtextslug Inputpreviousslug arrayid labelslug emphp echo pagesslugexplain em p p label forlabelstatusphp echo pagesstatus label php echo Formselectstatus statuses Inputpreviousstatus arrayid labelstatus emphp echo pagesstatusexplain em p p label forlabelparentphp echo pagesparent label php echo Formselectparent pages Inputpreviousparent arrayid labelparent emphp echo pagesparentexplain em p php foreachfields as field p label forextendphp echo fieldkey php echo fieldlabel label php echo Extendhtmlfield p php endforeach div fieldset form script srcphp echo assetanchorviewsassetsjsslugjs script script srcphp echo assetanchorviewsassetsjspagenamejs script script srcphp echo assetanchorviewsassetsjsredirectjs script script srcphp echo assetanchorviewsassetsjsuploadfieldsjs script script srcphp echo assetanchorviewsassetsjstextresizejs script script srcphp echo assetanchorviewsassetsjseditorjs script script textarea namecontent editor script php echo footer The step Then build the environment into the following Im sorry I dont know how to paste the picture here I just described verbally The following Built environment into the root directory indexphpadminpagesadd need to log in here Insert scriptalert script in the form name and nihao in the form slug And then visit root directory indexphpadminpages and bounced Anchor version FixFeature for My guess is originally it was planned to create a page object before saving but it wasnt necessary This clause only triggers when the title field is empty or doesnt meet some criteria Changes proposed Just pass a value id because its not required to have an one on pages that dont exist yet FixFeature for the notifications on the javascript side were not shown because the notifications element was not created if there was no message in the session Changes proposed return a empty element notifications on notifyread Corrected the br tag FixFeature for Was looking through the files and found possibly a typo br tag written like this br Apologies if this was intentional but I dont thing br tag would ever be written like this correct me if Im wrong Changes proposed Change the br tag to br Changes proposed Just fixing a typo Is this an option How can I go about doing this Summary Hi can we make a alternative command for SHOW DATABSE command In installlibrariesinstallerphp row on shared host make SQLSTATE Syntax error or access violation Access denied you need at least one of the SHOW DATABASES privileges for this operation Context details if applicable Anchor version 