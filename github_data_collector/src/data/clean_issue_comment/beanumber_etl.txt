For example figure out smallint for numeric beanumber have you applied this framework to spatial data I noticed that the macleish uses spacial data but from my understanding it doesnt load the spatial data to the SQL database I have made a few attempts to but I seem to run into an issue when it checks for csv in conjunction with listing existing files Always return fspath vectors The new dm package offers a class that holds a number of tables and their referential relationships among other things Would this be a good target container for etl findschema looks in packagerootsql to find sql source files But when running unit tests the files are in packagerootinstsql This makes it impossible as far as I can tell for an etl extension package to include etlinit in unit tests if it includes sql files devtools and testthat quietly replace systemfile with a modified version to keep it working in most unit tests But those packages can only replace systemfile in the package being tested So if a package imports findschema from etl in a unit test when findschema calls systemfile it doesnt add the extra inst folder I dont know if the devtools people provide a way to fix this Maybe findschema could check to see if packagerootsql exists and if not then try packagerootinstsql You should be able to reproduce this issue with the following steps Create a package that extends etl Include a sql file Use testthat and try to test findschema with something like the example below R testthatfindschema works pkgname etlpkgname schemapath etlfindschemapkgname expectequalisnullschemapath FALSE However modern best practice is to use tbl directly on an DBIConnection Not clear how much work this will be but it is not insignificant 