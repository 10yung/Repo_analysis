Hi all A PR to address an error message that often tripped students up last semester when piping after visualize r libraryinfer gss specifyresponse hours hypothesizenull point mu generatereps type bootstrap calculatestat mean visualize shadepvalueobsstat direction both Warning Removed rows containing missing values Error color must be color string not list supCreated on by the reprex package v sup Before running the current argument checking messages shadepvalue and shadeconfidenceinterval will now check if a plot object was supplied as an argument and raise an error if so The new error for the code above would be r Warning Removed rows containing missing values Error It looks like the supplied color argument is a plot rather than a color string object Did you pipe the result of visualize into shadepvalue using rather than adding the result of shadepvalue as a layer with The error will fill in the appropriate values for the name of the argument that was given the plot object the type of argument needed and the function the user actually called Hi Thanks for a great package I was interested in using infer to illustrate the difference between a between subjects and within subjects design eg independent vs paired tests Ive added some functionality to specify and generate to allow the option for permute samples per subject when the option subjectcolumn with subject identifier is included in specify img width altimage src img width altimage src img width altimage src img width altimage src Appreciate your review for incorporation in the package Cheers Kenneth This may be addressed or intentional but it seem as though ttest should not have to specify order in the specification but if not in the example from the vignette things will fail Read in the data r librarynycflights librarydplyr Attaching package dplyr The following objects are masked from packagestats filter lag The following objects are masked from packagebase intersect setdiff setequal union librarystringr libraryinfer setseed flismall flights samplensize mutatehalfyear casewhen betweenmonth h betweenmonth h mutatedayhour casewhen betweenhour morning betweenhour not morning selectarrdelay depdelay halfyear dayhour origin carrier Do ttest No order given but order NULL in the docs so it seems as though this should be optional r flismall ttestformula arrdelay halfyear Error in ttestformulaformula formula data alternative alternative grouping factor must have exactly levels There is no missing data r flismall counthalfyear A tibble x halfyear n chr int h h ttest works just fine r ttestarrdelay halfyear data flismall Welch Two Sample ttest data arrdelay by halfyear t df pvalue alternative hypothesis true difference in means is not equal to percent confidence interval sample estimates mean in group h mean in group h Can use tidy r flismall dobroomtidyttestarrdelay halfyear A tibble x estimate estimate estimate statistic pvalue parameter conflow confhigh dbl dbl dbl dbl dbl dbl dbl dbl with more variables method chr alternative chr supCreated on by the reprex package v sup details stylemarginbottom px summarySession infosummary r sessioninfosessioninfo Session info setting value version R version os macOS Mojave system x darwin ui X language EN collate enUSUTF ctype enUSUTF tz AmericaNewYork date Packages package version date lib source assertthat CRAN R backports CRAN R cli CRAN R colorout Github jalvesaqcolorout ea colorspace CRAN R crayon CRAN R digest CRAN R dplyr CRAN R evaluate CRAN R fansi CRAN R fs CRAN R ggplot CRAN R glue CRAN R gtable CRAN R highr CRAN R htmltools CRAN R infer CRAN R knitr Github muschellij knitrf af lazyeval CRAN R lifecycle CRAN R magrittr CRAN R munsell CRAN R nycflights CRAN R pillar CRAN R pkgconfig CRAN R purrr CRAN R R CRAN R Rcpp CRAN R reprex Github tidyversereprex ae b rlang CRAN R rmarkdown CRAN R rstudioapi Github rstudiorstudioapiabe d scales CRAN R sessioninfo CRAN R stringi CRAN R stringr CRAN R styler CRAN R tibble CRAN R tidyselect CRAN R utf CRAN R vctrs CRAN R withr CRAN R xfun CRAN R yaml CRAN R zeallot CRAN R LibraryFrameworksRframeworkVersions Resourceslibrary details Updated infer I think the error is better in the newer version of infer but just unsure why default is not the case for level data r librarynycflights librarydplyr Attaching package dplyr The following objects are masked from packagestats filter lag The following objects are masked from packagebase intersect setdiff setequal union librarystringr libraryinfer setseed flismall flights samplensize mutatehalfyear casewhen betweenmonth h betweenmonth h mutatedayhour casewhen betweenhour morning betweenhour not morning selectarrdelay depdelay halfyear dayhour origin carrier flismall ttestformula arrdelay halfyear Error Statistic is based on a difference specify the order in which to subtract the levels of the explanatory variable order cfirst second means first second Check calculate for details supCreated on by the reprex package v sup details stylemarginbottom px summarySession infosummary r sessioninfosessioninfo Session info setting value version R version os macOS Mojave system x darwin ui X language EN collate enUSUTF ctype enUSUTF tz AmericaNewYork date Packages package version date lib source assertthat CRAN R backports CRAN R cli CRAN R colorout Github jalvesaqcolorout ea colorspace CRAN R crayon CRAN R digest CRAN R dplyr CRAN R evaluate CRAN R fansi CRAN R fs CRAN R ggplot CRAN R glue CRAN R gtable CRAN R highr CRAN R htmltools CRAN R infer Github tidymodelsinfere knitr Github muschellij knitrf af lazyeval CRAN R lifecycle CRAN R magrittr CRAN R munsell CRAN R nycflights CRAN R pillar CRAN R pkgconfig CRAN R purrr CRAN R R CRAN R Rcpp CRAN R reprex Github tidyversereprex ae b rlang CRAN R rmarkdown CRAN R rstudioapi Github rstudiorstudioapiabe d scales CRAN R sessioninfo CRAN R stringi CRAN R stringr CRAN R styler CRAN R tibble CRAN R tidyselect CRAN R withr CRAN R xfun CRAN R yaml CRAN R LibraryFrameworksRframeworkVersions Resourceslibrary details Based on the infer vignette I ve put together a learnr tutorial for the package The code for this addition is in the learnr branch off develop mostly in the inst folder I m opening up an issue rather than PRing because I m having trouble figuring out the CRANappropriate way to importsuggest dependencies Building the lesson depends on learnr and gradethis the latter of which is only available via rstudioeducationgradethis The learnr website suggests that learnr needs to be installed for users to run a tutorial which feels like a Suggests entry to me However it also says that any exercise checker in this case gradethis should be in Imports Since gradethis isn t on CRAN though it would also need to be included in the Remotes section or Additionalrepositories if a built version exists somewhere which doesn t seem to be fair game by CRAN policy Not sure about what the best move forward with this is but wanted to let yall know that this is something that exists Currently when a test results in a very small pvalue the default output rounds this pvalue to This hinders the conversation of properly reporting the size of you pvalue when teaching hypothesis testing Could we modify the default output for small pvalues Issue shows an example This link says that the samples should be taken separately for y and x but generate takes a sample from cy x Well either this is a mistake or this is how the bootstrap for difference in means should work For difference in means if the function is supposed to resample independently from the two samples then this package does not do this See example bellow Bootstrap samples only from one of the factors A small data set test mtcars filtercyl mutateatvarsam ascharacter astibble selectam mpg setseed test specifympg am generatereps type bootstrap groupbyreplicate am summariseout meanmpg summariseout out am out am Error Column out must be length a summary value not The error is the same if I use calculate Here we can see that replicate only includes samples from am setseed test specifympg am generatereps type bootstrap filterreplicate A tibble x Groups replicate replicate mpg am int dbl fct But I think eg replicate should contain samples from am and samples for am But it just takes a sample of from the whole data frame I get an error running a two sample t test simulation Error Column stat must be length a summary value not Hopefully someone can figure out whats going on here Didnt come across a similar error on googlefu Short reproducible example attached below r libraryinfer librarydplyr Attaching package dplyr The following objects are masked from packagestats filter lag The following objects are masked from packagebase intersect setdiff setequal union reprexexample dataframeavgfric c sample c reprexexample mutatesample asfactorsample specifyresponse avgfric explanatory sample generatereps type bootstrap calculatestat diff in means order c Error Column stat must be length a summary value not sessionInfo R version Platform x w mingw x bit Running under Windows x build Matrix products default locale LCCOLLATEEnglishUnited States LCCTYPEEnglishUnited States LCMONETARYEnglishUnited States LCNUMERICC LCTIMEEnglishUnited States attached base packages stats graphics grDevices utils datasets methods base other attached packages dplyr infer loaded via a namespace and not attached Rcpp knitr magrittr munsell tidyselect colorspace R rlang plyr stringr highr tools grid gtable xfun htmltools lazyeval yaml digest assertthat tibble crayon purrr ggplot glue evaluate rmarkdown stringi compiler pillar scales pkgconfig Hello Thanks for your package I have included a bias corrected confidence interval in getconfidenceinterval I have used the formulas on this page I hope it can get implemented Thanks David Currently the package does three types of generate bootstrap permute or simulate Every time I teach this I run info difficulties around this vocabulary bootstrap is not problematic but permute and simulate are hard to distinguish for students One other issue is that much of Statistics Education literature refers to these methods as Simulation Based Inference so having simulate as a type of simulation seems odd to me A third consideration is that a good portion of the consumers of this package are students in into stat data science courses where probability is not a requirement So the difference between permutation combination may not be clear to them nor in the learning goals for the course theyre taking Hence introducing that term makes clearly teaching this material difficult in my experience I would like to propose a potentially radical change generate becomes simulate simulate becomes draw or flip but I think draw is more general to both numerical and categorical data vs flip only makes sense for categorical data to me permute becomes shuffle Discuss Obviously we would do this in a nonbreaking way via aliasing as opposed to renaming and breaking old code But I can see the vignettes and teaching materials reading A LOT smoother with these changes cc rudeboybert mcconvil when I discussed this with andrewpbray a while back sorry for the delay he recommended tagging you two as you might have thoughts and feelings on this issue