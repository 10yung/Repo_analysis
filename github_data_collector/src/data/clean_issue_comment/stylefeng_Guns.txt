 Adding index on table sysdicttype column name might speed up the underlying query issued via IConstantFactorygetDictsByName See Adding index on table sysdict column dicttypeid might speed up the underlying query issued via IConstantFactorygetDictsByName See Missing index on table sysdicttype column name might make the underlying query issued via IConstantFactorygetDictsByName slow Since table sysdicttype is mostly read and rarely updated the performance impact for write operations is acceptable under common cases Missing index on table sysdict column dicttypeid might make the underlying query issued via IConstantFactorygetDictsByName slow Since table sysdict is mostly read and rarely updated the performance impact for write operations is acceptable under common cases Adding index on table sysuser column account might speed up the underlying query issued via UserMappergetByAccount See Missing index on table sysuser column account might make the underlying query issued via UserMappergetByAccount slow Since table sysuser is mostly read and seldomly inserted or updated the performance impact for write operations is acceptable under common cases Fix The following query defined in MenuMapperxml is not optimal xml select idgetMenusByRoleIds resultTypecnstylefenggunsbasepojonodeMenuNode SELECT m menuid AS id m code AS code m icon AS icon CASE WHEN m menuid OR m menuid IS NULL THEN ELSE m menuid END AS parentId m name as name m url as url m levels as levels m menuflag as ismenu m systemtype as systemType m sort as num FROM sysmenu m LEFT join sysmenu m ON m pcode m code INNER JOIN SELECT menuid FROM sysmenu WHERE menuid IN SELECT menuid FROM sysrelation rela WHERE relaroleid IN foreach collectionlist indexindex itemi open separator close i foreach m ON m menuid m menuid where m menuflag Y order by levelsm sort asc select The INNER JOIN for m is unnecessary and could be optimized out to the following xml select idgetMenusByRoleIds resultTypecnstylefenggunsbasepojonodeMenuNode SELECT m menuid AS id m code AS code m icon AS icon CASE WHEN m menuid OR m menuid IS NULL THEN ELSE m menuid END AS parentId m name as name m url as url m levels as levels m menuflag as ismenu m systemtype as systemType m sort as num FROM sysmenu m LEFT join sysmenu m ON m pcode m code where m menuflag Y and m menuid IN SELECT menuid FROM sysrelation rela WHERE relaroleid IN foreach collectionlist indexindex itemi open separator close i foreach order by levelsm sort asc select Fix 