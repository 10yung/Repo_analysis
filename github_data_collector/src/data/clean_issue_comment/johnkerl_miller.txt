Hi when I run mlr csv from tmpacsv put q tee comunecsv using this csv I have this error fopen Too many open files Im using Miller dev Whats wrong on my command Thank you Very similar to I cant match a square bracket asterisk etc regardless how many backslashes I put because mlrallocdoublebackslash is doubling them Adding exceptions for square brackets like the one already there for period allows me to match them as expected but it seems wed either need an exception for all the ERE metacharacters or take a different approach to escaping backslashes echo a cmlr put a gsuba leftsquare mlr could not compile regex Invalid regular expression git stash pop git diff diff git aclibmlrutilc bclibmlrutilc index a a edfd e aclibmlrutilc bclibmlrutilc char mlrallocdoublebackslashchar input char output mlrmallocordieinputlength numbackslashes for p input q output p p if p if p if p p p q p q p make echo a cmlr put a gsuba leftsquare aleftsquare Hi if I run echo e a b na b mlr filter maxmaxmaxbbmax I have a b and its right If I start from this inputFile score score score score score score score score score and run mlr filter maxmaxmaxscorescoremax inputFile I have nearby all items back score score score score score score score score Why do I not have only score Thank you I found miller to be very useful with SRE tasks and often use it in Docker containers Sadly there doesnt seem to be a package for Alpine available a distribution very popular with Docker because of its small footprint So for now Im stuck with the large debian and ubuntu images Lets fix this head verb strangely influences previous tee command previous as sooner in pipeline It reduces number of lines printed into the output file The inputcsv is just increasing sequence from to as shown and attached Using Miller v Steps to reproduce bash wc l inputcsv input contains one field id as sequence inputcsv head inputcsv id mlr csv filter NR then tee chunkedcsv then head n inputcsv id wc l chunkedcsv chunkedcsv cat chunkedcsv chunkedcsv for some reason contains records id mlr csv fs filter NR then tee chunkedcsv inputcsv head n id wc l chunkedcsv without head verb all lines are printed chunkedcsv head chunkedcsv id Id expect tee then head to tee all lines and then head just the few I am not sure but I think I have run into a bug I find it in version and on mac os x my command line is mlr csv put asubstrzip filename and the contents of filename are namezip first second My output is namezipa first second error Is it my understanding which is wrong I also try to use prebuild exe on windows and I get this unrelated error main mlr C mlrexe fatal error cygheap base mismatch detected x D x This problem is probably due to using incompatible versions of the cygwin DLL Search for cygwin dll using the Windows StartFindSearch facility and delete all but the most recent version The most recent version should reside in x cygwin bin where x is the drive on which you have installed the cygwin distribution Rebooting is also suggested if you are unable to find another cygwin DLL Often when I am doing an initial reconnaissance of a dataset I want to know how many uniq values there are for each individual field The mlr uniq verb allows me to do this one field at a time but if I have many fields this is tedious I could write a bashzsh for loop to loop over the fields but it would be much nicer if there was an extra option for the uniq verb like the u option for countdistinct with an extra column showing the field name Also it would be nice to have an option for specifying all fields without having to type them all out which can get very messy Hi I have this CSV If I run bash mlr c p put num start for a a NR a if rule rulestart elif rule rulerule start inputcsv start is always equals to it seems that start never happens I would like to have something like below but above all I would like to know what Im wrong Thank you I would like mlr tail to consume prefixed number to specify line number to start printing from From linux tail command man page n lines NUM output the last NUM lines instead of the last or use n NUM to output starting with line NUM The line number parameter is onebased inclusive so tail n prints the whole file tail n skips the first line Example cat testcsv iddata a b c d mlr tail n testcsv iddata c d Background for this feature request I need to split a csv file into chunks of certain number of lines say Perhaps there is a better way using mlr Still this feature might make sense in similar cases Best tool for handling csv files Ive found Big thanks Hi Im sure thats a direct and better way to do it but I do not find it I have in example this CSV with a carriage return in one of its field names and my goal is to use DSL to replace it with a space field Afield B To do it you could run mlr I csv N put S if NR for k in k cleanwhitespacegsub k n inputcsv using N a great new feature you apply implicitcsvheader and headerlesscsvoutput and the row with field names is no more the heading but the first data row then I apply a search and replace only to the first row using NR and at the end since we have headerlesscsvoutput the first row becomes again the heading The result will be field Afield B Probably not so useful but it has saved my day Thank you always johnkerl 