Its possible to instance new middleware for it But Ill have to instance middleware always together I need to do all in one middleware Not like this RoutegetPosts PostsControllerindexmiddleware auth authblocker Like this RoutegetPosts PostsControllerindexmiddleware auth There is a good pratice in actual version for it if validationfails sessionwithErrorsvalidationmessagesflashAll return responseredirectback how to achieve this responseredirectback when i get that response it redirect me to the not in the current path CLICK Preview FOR INSTRUCTIONS IN A MORE READABLE FORMAT Prerequisites We do our best to reply to all the issues on time If you will follow the given guidelines the turn around time will be faster Lots of raised issues are directly not bugs but instead are design decisions taken by us Make use of our forum or discord server if you are not sure that you are reporting a bug Ensure the issue isnt already reported Ensure you are reporting the bug in the correct repo Delete the above section and the instructions in the sections below before submitting Package version version adonisversion Nodejs and npm version nodejs v npm Sample Code to reproduce the issue UserControllerjs use strict class UserController index return moduleexports UserController const ioc requireadonisjsfold const instanceiocmakeAppControllersHttpAdminUserController consoleloginstance instance instance index requestresponse return result TypeError instance index is not a function instance UserController But use model iocmakeAppModelsUser is ok BONUS a sample repo to reproduce the issue Exception format its pretty nice while where creating a fullstack app the problem is when whe use Adonis for API development the error its kinda unreadable while using tools like Postman It would be so much readable use the Acept header and return a format dynamic response Actually make a simple handler with adonis makeehandler with async handleerror response responsestatuserrorstatusjson message errormessage error errorname works pretty fine But I think it would be a better developement experiencie just done this by default Let me hear in what I can help Package version Adonis Lucid Nodejs and npm version Node and npm Sample Code to reproduce the issue So Im rewriting a Laravel app to an Adonis app and here are my models javascript A customer can have multiple invoices class Customer extends Model invoices return thishasManyAppModelsInvoice invoiceItems return thismanyThroughAppModelsInvoice items An invoice can have multiple invoice items class Invoice extends Model items return thishasManyAppModelsInvoiceItem customer return thisbelongsToAppModelsCustomer An invoice item belongs to an invoice class InvoiceItem extends Model product return thisbelongsToAppModelsProduct invoice return thisbelongsToAppModelsInvoice I want to get the sum of invoice items price qty and heres a sample output of my apicustomers javascript Customerquery withCountinvoiceItems as invoiceitemstotal builder builderselect DBrawsumprice quantity fetch id accountno Solana type person firstname Mark middlename lastname Soriano companyname address Solana createdat updatedat meta invoiceitemstotal Still returns total no of rows instead of sumproduct quantity Weird thing here is instead of the value of DBrawsumprice quantity Im still getting the total number of invoiceitems rows which is My laravel code looks like this and it works php CustomerwithCount invoiceitems as invoiceitemstotal functionquery queryselectDBrawsumprice quantity get This code returns the sum instead of total number of rows Am I missing something here Or is that out of scope for withCount constraints in Adonis Any help would be much appreciated Noderes does not check for transfer encoding when sending the contentlength header Normally you dont need to use chunked encoding for stuff you send in one go but still setting up content length as response header if chunk headers contentlength Responseheaderres ContentLength BufferbyteLengthchunk While uploading an image from an android device then the application crashed and following error generate appnodemodulesmediatyperindexjs throw new TypeErrorinvalid media type TypeError invalid media type at splitType appnodemodulesmediatyperindexjs at Objectparse appnodemodulesmediatyperindexjs at new File appnodemodulesadonisjsbodyparsersrcMultipartFilejs at MultipartonPart appnodemodulesadonisjsbodyparsersrcMultipartindexjs at Formanonymous appnodemodulesadonisjsbodyparsersrcMultipartindexjs at Formemit eventsjs at Objectcb appnodemodulesmultipartyindexjs at flushEmitQueue appnodemodulesmultipartyindexjs at appnodemodulesmultipartyindexjs at handlePart appnodemodulesmultipartyindexjs at FormonParseHeadersEnd appnodemodulesmultipartyindexjs at Formwrite appnodemodulesmultipartyindexjs at doWrite streamwritablejs at writeOrBuffer streamwritablejs at FormWritablewrite streamwritablejs at IncomingMessageondata streamreadablejs Application crashed make sure to kill all related running process fix the issue and rerun the app CERROR Aborting Hi I would like to add some cleanup code when service reload run with dev or shutdown with CrtlC or something like kill Is there any hook like beforeShutdown existing in the framework to gracefully shutdown the server If there is no such hook I can use something like processonSIGTERM cleanupfunction but I do not sure what I supposed to call to gracefully stop everything used by adonis Session files are never deleted since adonis version and it results in no spave left in the server It would be nice if it made some cleanup every once in a while A cronejob might be set up for now as a workaround Package version Nodejs and npm version node v npm v Sample Code to reproduce the issue Not applicable Package version version adonisversion adonisjsace adonisjsantl adonisjsauth adonisjsbodyparser adonisjscors adonisjsfold adonisjsframework adonisjsignitor adonisjslucid adonisjsmail adonisjssession adonisjsshield adonisjsvalidator Nodejs and npm version nodejs v npm Sample Code to reproduce the issue controller return viewrenderpagesconfirmationstatus or return viewrenderpagesconfirmationstatus view status ifstatus do sth elseifstatus do sth endif The view evaluates the value as empty string null undefined and prints nothing to screen when status is If i set status to other than it prints the number to screen properly Is this a bug If it is not it should also print integer I am not sure the problem is about the data sending mechanism or printing data to screen mechanism Thank you for your helps