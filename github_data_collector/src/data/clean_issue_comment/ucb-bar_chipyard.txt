The Top in Chipyard is really a digitalonly Top Typically our chips have had at least one other later of hierarchy above the DigitalTop below the TestHarness This ChipTop layer would also contain analog blocks It may be useful to create that layer in Chipyard such that the default designs are more realistic representations of chips that might be taped out Backport from ht jerryz Fixes Adds a configuration that removes offchip memory interface in favor of a configurable scratchpad hanging off the mbus This builds Verilog but I havent tested any code with this Based on so this must go in after that Ill change the base branch when the other PR is done The DUT instance name in the hierarchy is not getting a proper name ie dut etc but is instead getting TestHarness See the comment on for more discussion on it We should have an example design that uses an onchip scratchpad as backing memory Theres no scope for the Chipyard packages Typically when multiple packages are in a repo you expect them to share some part of the namespace Id suggest changing them to chipyardexample and chipyardutilities I originally came across this because I saw an import utilities and had no idea where that was coming from This seems to be the same issue as but as there was no information provided about replicating and no details as to why it was closed shortly after opening I figured a new issue would be better I also tried creating a new generator and noticed that printf outputs werent showing up when I expected but as I added more printf calls earlier calls that hadnt shown up before began to show up I somewhat replicated this on master using the pwm example generator though it seems like something is kind of nondeterministic I first changed the PWMBase class to print the PWM output If PWM is enabled pwmout is high when counter duty If PWM is not enabled it will always be low val pwmval WireBool pwmval ioenable counter ioduty printfppwmval pwmval n After running a clean build make clean make CONFIGPWMRocketConfig TOPTopWithPWMTL j running the test with simulatorexamplePWMRocketConfig verbose testspwmriscv did not show the expected printf output including or not including verbose did not make a difference either way However when I went through my steps one more time to write up this issue it did show up and I dont believe there was any difference Adding another printf beneath the first call I just used printfpanother print n and recompiling resulted in the pwmval output displaying but the another print line not being shown Similarly adding a third printf beneath the second line and recompiling resulted in the first two printfs appearing in the output In the redo it did not show up but adding a fourth printf caused the second and third message to output Commenting out or removing lines suffers from the same issue the next compilation still includes the printed output from the line that should no longer have any effect Is this an issue with the build system for chipyard When I add and remove print statements in a nonchipyard Chisel project the change is immediately reflected when running tests hi I have compiled rocket using make debug CONFIGSha RocketConfig toolchains is chipyardtoolchainprebuilt and get file simulatorexampleSha RocketConfigdebug but when I ran sha roccc example using simulatorexampleSha RocketConfigdebug verbose v sha vcd mntcchipyardgeneratorssha srcmaincsha rv I got errors hwacha has the same problem simulatorexampleSha RocketConfigdebug verbose v sha vcd mntcchipyardgeneratorssha srcmaincsha rv using random seed This emulator compiled with JTAG Remote Bitbang client To enable use jtagrbbenable Listening on port C pc fffffff e f W r f e c bb c R r R r c aa f inst DASM warning tohost and fromhost symbols not in ELF cant communicate with target thanks Im new to chipyard and now following the tutorial in When I follow all the steps and type make in the simsverilator directory sbt emits error downloading orgscalametasemanticdbscalac Not found It seems to be related to the version issue but I could not solve the problem Could you help me Thank you When I run scriptsbuildtoolchainssh I get the following error buildtoolchainssh obsolete make version need GNU make x or later However I have already installed GNU Make in my machine make version GNU Make Built for x pclinuxgnu Copyright C Free Software Foundation Inc License GPLv GNU GPL version or later This is free software you are free to change and redistribute it There is NO WARRANTY to the extent permitted by law PS By the way I noticed that MAKE variable has not been set in the script