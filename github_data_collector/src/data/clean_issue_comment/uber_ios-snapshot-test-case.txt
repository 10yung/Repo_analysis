Noticing this on Xcode I can run recordMode and then when I do the UI tests sometimes the image comparison is off by one pixel in size Snapshot comparison failed Error DomainFBSnapshotTestControllerErrorDomain Code Images different sizes UserInfoNSLocalizedFailureReasonreferenceImage image FBDiffedImageKeyUIImage x bf d FBReferenceImageKeyUIImage x b a FBCapturedImageKeyUIImage x b a NSLocalizedDescriptionImages different sizes Note above the x icon is reported as x which makes the x x size become x Im not sure why this is happening but a month ago I noticed that views that were purposely pixel in height and I assumed width got reported incorrectly too Any way to avoid this Hi My Dashboard view has been created by multiple view controller views How I can perform snapshot testing for such view If I use baseviewcontroller then only base view appears but there are others subviews added to baseview from others controllers How to capture full dashboard snapshot at reference folder I using these commands to set page indicator color let appearance UIPageControlappearance appearancepageIndicatorTintColor gray appearancecurrentPageIndicatorTintColor black Simulator Screen Shot iPhone Pro Max at Left is running in the simulator it works fine Right after captured for test case it not show It would be great to be able to run all tests on X devices at the same time Is there a way to do it nicely Last time I tried to start multiple fastlane scan the snapshots were inconsistent Hello I work on a project that supports both Light and Dark mode and thought it would be nice to take snapshot references of views in different themes This PR adds a few helper methods to accomplish that Any feedback would be appreciated Cheers Steve Hi alanzeino Im filing this to track the exact same issue described in Im seeing this issue on my development machine Ive used iOSSnapshotTestCase for many years on many different machines Thank you for rescuing it and maintaining it I had it working correctly on this very macbook weeks ago but couldnt commit to the main project long story So I created a new branch and set it up again For some reason the images are being stored in my derived data Ive included the log entry from Xcode the xxxx is just redacting part of this Im continuing to work on this and will try the debugging suggested in issue If you are wiling to take another look into this please let me know what additional information you need Thanks Adam Costco Debug Reference image save at UsersadamwolfLibraryDeveloperXcodeDerivedDataxxxxxxxboyprtgyfseuxlhdcabjfahsmqmjBuildProductsDebugiphonesimulatorxxxxx DebugappPlugInsxxxxxTestsxctestReferenceImages xxxxxxTestsSnapshotDemotestShopTab xpng After updating MacOS up to Catalina and Xcode up to A I found that tests on other Mac device are failed with reference images saved an my Mac device Latest stable version of library are used I spend days trying to find the reason and fix it implement Highlight Different Pixels feature and create request which can help investigate such situations But now a time I have no ideas how to fix this issue img width altScreenshot at src img width altScreenshot at src Diffed Image vs Highlighted Pixels Failed Image C E FAE D Reference Image C E FAE D When perPixelTolerance is used library sometimes produce not representable diffs example It happens because of used kCGBlendModeDifference for generating diff images and its implementation are not very precise For such situations I implemented highlightDifferentPixels property of FBSnapshotTestCase which when is true acitivate producing of diff image with highlighted pixels example class AnyTestCase FBSnapshotTestCase override func setUp supersetUp recordMode false highlightDifferentPixels true Diffed Image E C BDBF D D F F F Failed Image E C BDBF D D F F F Reference Image E C BDBF D D F F F Diffed Image vs Highlighted Pixels Support Swift Package Manager Add support to SPM Changed Add Packageswift Project folders organization for compatibility to structure Swift Package Manager Samples Apps grouped folders Add Demo for SPM Fix Headers Objc Fix Buildsh Hi Id like to report wired behavior I tried to take snapshot of root view for a simple ViewController After recorded its reference image successfully turned recordMode into false and found the test failed Without any code nor visual changes to the ViewController diff is rendered as below referencefailurediff img src width img src width img src width iOSSnapshotTestCase iPhone Plus Simulator Swift XCode Version G With iPhone Xs simulator failure image slightly changes from its reference image of course with no change in code nor storyboard and diff is incorrectly rendered too referencefailurediff img src width img src width img src width The ViewController loads its view from storyboard using a wrapper for storyboardinstantiateInitialViewController completes initialization for its view within viewDidLoad I couldnt make sense of it and hope this to be resolved 