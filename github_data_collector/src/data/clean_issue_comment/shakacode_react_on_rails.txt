Im working on updates for React on Rails and React on Rails Pro At the top of my list are Easy bundle splitting with Hot reloading HMR with Bigger updates might include Requiring Rails Requiring railswebpacker Ruby Thoughts Hi there thanks for the great tutorial As I turned prerender true I got this error I searched in issues and someone had a similar error but in different context Could you help me out thanks ERROR in SERVER PRERENDERING Encountered error uninitialized constant Class x fa ec e ExecJS when prerendering HelloWorld with props nameStranger code function var railsContext railsEnvdevelopmentinMailerfalsei nLocaleeni nDefaultLocaleenrorVersion rorProfalsehref ReactOnRailsclearHydratedStores var props nameStranger return ReactOnRailsserverRenderReactComponent name HelloWorld domNodeId HelloWorldreactcomponent dffa d a cea d props props trace true railsContext railsContext Problem With the version of Webpacker and maybe some earlier versions webpacker will run a cleanup task after compilation The goal for this cleanup is the same as older Sprockets Assets older than a couple of versions get deleted The problem is when were building an unversioned nohashinname server bundle inside the same output directory Since railswebpacker does know about the files outside of the manifest it just deletes them Here is one of the PRs that resulted in this cleanup behavior So whats the cleanest way to have custom webpack configuration build a server bundle without risking conflicts with railswebpacker for the longterm Options Move the server bundle so it s not within or in a subdirectory of the client files This can be done with a file specification like this in configinitializersreactonrailsrb ruby configserverbundlejsfile Railsenvserverserverbundlejs The output file should be configured like js const serverBundleOutput filename railsEnvserverserverbundlejs path configoutputPath publicPath configoutputPath Have the serverbundle hashed and included in the manifest Normally there is little advantage to having a hash on the server bundle It gets rebuilt at each deployment Since browsers do not read this file theres no necessity to have this file fingerprinted However if this file is not hashed and in the same directory as the other webpack client files then railswebpacker doesnt know to keep it Webpack plugin webpackassetsmanifest has an option for merge The plugin option merge should be set to true One disadvantage of doing this is that concurrently building the client and server bundles is likely hazardous due to the possible concurrent modification of the manifest file Thus the flow should be run the client and server builds sequentially Reviewablestart This change is img src height alignabsmiddle altReviewable Reviewableend Bumps handlebars from to details summaryChangelogsummary Sourced from handlebarss changelog v November th Bugfixes fix add noprototypebuiltins eslintrule and fix all occurences f f d fix add more properties required to be enumerable Chores Build fix use instead of c b f add chai and dirtychai and sinon for cleaner testassertions and spies deprecate old assertionmethods e e ba dad a Security The properties proto defineGetter defineSetter and lookupGetter have been added to the list of properties that must be enumerable If a property by that name is found and not enumerable on its parent it will silently evaluate to undefined This is done in both the compiled template and the lookuphelper This will prevent new RemoteCodeExecution exploits that have been published recently Compatibility notes Due to the securityfixes The semantics of the templates using proto defineGetter defineSetter and lookupGetter in the respect that those expression now return undefined rather than their actual value from the proto The semantics have not changed in cases where the properties are enumerable as in js proto some string The change may be breaking in that respect but we still only increase the patchversion because the incompatible usecases are not intended undocumented and far less important than fixing RemoteCodeExecution exploits on existing systems Commits v November th Bugfixes fix use Stringfield in lookup when checking for constructor d test add fluent API for testing Handlebars c ac c Compatibility notes no incompatibility are to be expected trtable truncated details details summaryCommitssummary c c b v c d Update release notes f f d fix add noprototypebuiltins eslintrule and fix all occurences fix add more properties required to be enumerable ba testchore add chaiexpect and sinon to runtimeenvironment dad test add sinon as global variable to eslint in the specs a test add sinonjs for spies deprecate current assertions e e chore add chai and dirtychai for better test assertions c b f fix use instead of de d v Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Reviewablestart This change is img src height alignabsmiddle altReviewable Reviewableend Ss Greetings I am so excited to open this issue Problem At first glance Ive noticed the design of some components is not finished and that some components have overlapping IDs which shouldnt happen in HTML IDs are supposed to be unique Solution I would like to add some style to the components as well as fixing the above problem while I am doing this I hope to notice more issues to work on This is my first official Issue please provide me with further information if needed Thank you bulb Added documentation for typescript installation Documentation now includes optional instructions as to how to use the Webpacker gem running the reactonrails generator to support typescript Resolves doc Reviewablestart This change is img src height alignabsmiddle altReviewable Reviewableend Bumps tar from to details summaryCommitssummary c c ecef Bump fstream to fix hardlink overwriting vulnerability fc b Use for hardlink tracking instead of e f Only track previously seen hardlinks f Ignore potentially unsafe files See full diff in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot ignore this patchminormajor version will close this PR and stop Dependabot creating any more for this minormajor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language You can disable automated security fix PRs for this repo from the Security Alerts page details Reviewablestart This change is img src height alignabsmiddle altReviewable Reviewableend The configbuildproductioncommand should have been named the configbuildprecompilecommand as this runs any time precompile is run So if the precompile command is building production ENV assets then that will be useless for running during a CI build that uses the test ENV ruby ReactOnRailsconfigure do config This command runs when precompiling configbuildproductioncommand yarn run buildprod Changed relative file paths introduced alias for webpack config changed webpacker to use master for debugger to work Reviewablestart This change is img src height alignabsmiddle altReviewable Reviewableend 