fixes Occasionally when we deploy new code the routes will be messed up ie the wrong route handler gets called If I erase the cache file so it gets regenerated the problem goes away My guess at what is happening when the new code is mvd into place which is atomic two requests come in close together enough that the route cache has started generating but hasnt finished so a second routecache build is initiated and the two builds do interleaving writes which causes a corrupt cache I did capture a good chunk of the bad cache file and the corresponding good cache file What I notice is that in the bad cache file there are missing entries ie it goes from to skipping I can post here if it would be useful Ill need some time to scrub it for any sensitive info if any If my hypothesis is correct I think the simple fix is to add the LOCKEX flag to this fileputcontents On the other hand if my hypothesis is correct Im pretty amazed that there isnt an issue already for others Fixes This allows users to use any PSR compatible driver in FastRoute What would be the easiest way of defining a user capability for a specific route or group of routes when defining the route IE something like like addRoutehttpMethod route handler requiredRole Then during dispatch being able to get back something like FastRoute DispatcherInsufficientaccess if the user didnt have sufficient access to the route Hello there Can anyboydy explain why these classes are separated please It seems obviously that there are pairs of classes which share the ony logic For example Dispatcher CharCountBased cant work with other data collectors except DataGenerator CharCountBased can it now i was new three fastRouter object for three domain how about consider to make this support multiple domain for one dispatcher I have two routes that are used only from ajax requests like an API endpoint Ive noticed that the POST or GET requests are not processed I uset these two routes to read and write from a JSON file but if I post some data the data for the file are not writed How I manage the POST requests passed by ajax maybe my code approach is wrong raddGrouprtaapiv functionRouteCollector r raddrouteGET mcastid w Controllerreceive raddroutePOST mcastid w Controllersend public function send printrPOST if fileexists TMPPATHPOST id json data user POST user message POST message timestamp time fileputcontents TMPPATHPOST id json jsonencodedata public function receiveid vardumpid if fileexists TMPPATHidjson data filegetcontents TMPPATHidjson return data adding psalm to travisci config w some psalmspecific docblocks x resolution of vimeopsalm Hi everyone first im glad we have a new maintainer I know a group can add prefix but anyone have idea how to create Group Handler smaller my example code php raddGroupADMINURL functionFastRoute RouteCollector r raddRouteGET LoginController BACKFOLDER raddRoute GET POST actloginlogout LoginController BACKFOLDER raddRouteGET actcreatepost MiddleCheckUserProductControllerMiddleSaveLog BACKFOLDER raddRouteGET actcreatenews MiddleCheckUserNewsControllerMiddleSaveLog BACKFOLDER etc more route I have array handler first array for run the middlewares handler before or after main handler My problem is too much write for array handler if i have many route Im sorry i cant find example code to do it My goal code like php raddGroupADMINURL MiddleArray onetwoetc functionFastRoute RouteCollector r raddRouteGET actcreatepost MiddleArrayProductController BACKFOLDER raddRouteGET actcreatenews MiddleArrayNewsController BACKFOLDER MiddleArray that is it the smaller Group Handler what i want Sorry if this a stupid question smilecat 