I would maintain that copr My PATH without chrubysh looks like usrlocalbinusrbinbinusrsbinsbinoptX bin With chrubysh in my bashprofile it looks like Usersjrochkindgemruby binoptrubiesruby librubygems binoptrubiesruby binusrlocalbinusrbinbinusrsbinsbinoptX bin That is the rubyspecific directories including gem bins have been put at the beginning of PATH If a malicious or clumsy installed gem provided an executable called make cd ssh etc when typing such in a shell the gemprovided executable with the same name as the standard utility I meant to call would be found first and executed Is this a security issue Would it be preferable to add rubyspecific PATH or at least specifically any directories that can include thirdparty gemprovided executables at the END of PATH instead of the beginning Support for mapping directory path names to Ruby versions from a peruser HOMEmoronrc file for projects with maintainers that for some reason refuse to check in rubyversion files See Setting RUBYOPT may affect and fail ruby introspection Eg if you are using something like r mysomefile and file is available only in target ruby Now that chruby uses the rubys installdir name for the GEMHOME we should isolate all chruby GEMHOME from rubygems directory structure to prevent conflicts This would also make cleaningupuninstalling chruby much easier This is an alternative to It fixes and uses bash native functionality instead of ls at all The impetus for this change is that an alias to ls breaks chruby Specifically in my case I have sh alias lsexa Which doesnt have a A flag This is a proofofconcept PR to address It still needs documentation and a changelog entry postmodern havenwood What do you think I would like a way to tell chruby to not set GEM variables as this is much safer ie does not mix gems of different Ruby implementations when eg developing TruffleRuby and executing two different Rubies without a chruby in between see Currently Im doing this by using a branch on my chruby fork removing the code that sets GEMHOME but thats obviously not very convenient or maintainable and I cant easily advise other TruffleRuby developers to do the same Id much rather this was possible in chruby itself Actually there is already a way to do this by running everything as root but thats obviously not very safe for my usecase So Im thinking to just extend the check if UID then to something like if UID CHRUBYSETGEMHOME false then We could also automatically just detect if RUBYROOT is under HOME and not set GEM vars in that case but postmodern had some concerns about that in Furthermore there is value in keeping userinstalled gems separate from the ruby in case you need to deletereinstall one or the other postmodern havenwood What do you think I would like to have this available in chruby Im happy to make a PR Since RubyGems does not default to userinstall it would be very useful for chruby to set GEMHOME to gem and update PATH accordingly when a nonroot user invokes chruby system chruby reset or chruby clear should fully reset the environment Which then makes it easy to run them on a different Ruby version This for instance makes it possible to run tests locally with a Ruby version newer than since that might be difficult to install on recent systems I tried with rubyinstall r PWDtestoptrubies ruby and then modifying testrubyversion in testhelpersh is all thats needed