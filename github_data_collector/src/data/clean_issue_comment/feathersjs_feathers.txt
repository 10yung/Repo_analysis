If you have an existing JWT when an initial reAuthenticate call happens if the referenced entity does not exist any more eg deleted from users then the feathers client does not handle this as a failure and no response is delivered to the caller We hit this in some tests but its easy enough if you either remove the test user from the users collection or supply a JWT with an invalid user IDsub reference I can make this succeed if I change jwtts to const result await entityServicegetid omitparams provider try const result await entityServicegetid omitparams provider catcherr throw new NotAuthenticatedCould not find entity but Im not advocating this as a specific approach The client is clearly not looking for a to come back but thats what gets delivered back to the feathers authentication client Node Feathers server and client Hi Im new to Feathersjs and Im trying to implement authentication with strategies like local jwt in middleware and here is my codes in srcmiddlewareindexjs js const authenticate requirefeathersjsexpress moduleexports app appuselogin req res resrenderlogin title Login appusepanelauthenticatelocal req res resrenderpanel title panel Actual behavior I get HTTP error code Is there something that Im missing here sweatsmile System configuration NodeJS version v Operating System windows bit Browser Version Chrome V mongodb document like this img width alt src i use http request then i got javascript total limit skip data however i use then i got correct response javascript total limit skip data id e d d d b ca e sicks images price owner nickname id e c caedc aa e unionid testunionid createdAt T Z updatedAt T Z v why cant use ownerid to query i use mongoose The problem idea I am working on frontend a lot and what I find really convenient is that theyre componentbased structures This is common in Angular React and Vue Eg a component user has the following structure user usercomponenthtml usercomponentscss usercomponenttestts usercomponentts usertranslationsts What is so convenient about this Well If I want to reuse this in another project i can just move the user component because it has everything it needs inside that folder How does feathers v currently look Example src hooks isAdmints models usermodelts services user userhooksts userservicets test services usertestjs My proposed solution src services user hooks isAdmints userhooksts userservicets usertestts usermodelts Why potential use cases Well if a new developer asks where do I find x for user Currently you can answer it depending on what x is if its test its a different place if its hooks its a different place With the new proposed architecture it does not matter what x is you can always point to the user service to find everything regarding the user If a developer checks out your project and find a really cool service named somecoolservice With the new proposed architecture you can say yeah sure go ahead and just copy somecoolservice into your project Potential downfalls Where would you place a hook that is useful for multiple services Do you keep isAdmin in user service and require it from there in other services or create a shared lib folder This can be hard to answer Where would integration tests and tests that not only apply to one service be placed This can be hard to answer Currently in feathers if an endpoint is presented with bad data that results in an unhandled exception the console will show the error but the endpoint will hang Is there a way to respond to the endpoint with a general error default instead of hanging and without creating an individual error response for every situation Edit daffl You mentioned in a normal application setup this will be handled can you elaborate what you mean normal My feathers application has been built entirely from the command line generation tools You asked for a code representation but any code will recreate this issuejust create an unhandled error and feathers will hang For example the following will result in just hanging if presented with an id that does not exist in the database ignore any minor errors i have stripped site code for this example that otherwise works if the rejection is handled getdatabasebyidjs const errors requirefeathersjserrors moduleexports function options return async context let promise new Promiseresolvereject contextappservicedatabasefind query idcontextdataid thenresult resolveresultdata data console error Unhandled Rejection at Promise browser hangs let result await promise if result return context databaseservicejs Initializes the database service on path database const createService requirefeathersmongodb const hooks requiredatabasehooks moduleexports function app const paginate appgetpaginate const mongoClient appgetmongoClient const options paginate id id Initialize our service with any options it requires appusedatabase createServiceoptions functionreq res next var resData resdata resdata dataresData status next Get our initialized service so that we can register hooks and filters const service appservicedatabase mongoClientthendb serviceModel dbcollectiondatabase servicehookshooks databasehooksjs const authenticate requirefeathersjsauthenticationhooks const getDatabaseById requirehooksgetdatabasebyid const errors requirefeathersjserrors const errorHandler ctx if ctxerror const error ctxerror if errorcode const newError new errorsGeneralErrorserver error ctxerror newError return ctx if errorcode processenvNODEENV production errorstack null return ctx moduleexports before all authenticatejwt find get create getDatabaseById update patch remove after all find get create update patch remove error all errorHandler find get create update patch remove Steps to reproduce Ive created an reproducible repo here Created the feathersjs Project using feathers g app with feathersjscli version Choices were Javascript Yarn REST API only Mocha Assert No Authentication Created Service in the example repo svc Choices were A custom service svc svc Created services methods for multiple cases see the link Run yarn start Using curl localhost svc with multiple flags like XGET XPOST XPATCH XDELETE to test each case in each services method Expected behavior Any methods that return undefined or null should response with No Content HTTP Status Code Actual behavior methods returning undefined implicitly or explicitly response with the Not Found HTTP Status Code even though the method exists and got to run properly consolelog in methods run properly methods returning null work as expected Interesting Note methods returning boolean false response with No Content HTTP Status Code Interesting Note methods returning boolean true response with xx HTTP Status Code with content of literal true I dont know if there is underlying convention behind this Ive checked the Docs FAQ to no avail System configuration Module versions especially the part thats not working feathersjsfeathers feathersjsexpress The rest can be seen at this link NodeJS version from nvm Operating System Arch Linux Kernel arch Browser Version curl Hi I would like to use feathersrestclient and send data through rest with attachments FormData together with the rest of the body The application is setup and configure with both rest and socket client If there are data with attachments it will use rest client to communicate with server otherwise use socket client I have configured feathersrestclient to pass data to server feathersrestclient is configured something like this const app feathers const restClient rest appconfigurerestClientfetchwindowfetch Theres a form for user to fill up some fields and add some attachment After which I hope to call the test endpoint using feathersrestclient as such fData field test field test file attachments this is a FormData Also tried FormData fData new FormData fDatafield test fDatafield test fDatafile attachments restClientservicetestcreatefData Server has something like this appusetest multerarrayfile setReqFileToFeatherFile createService However no matter how I change it I am not able to get and extract the data at the server side Meaning to say I think the data is set wrongly and hence multer does not know how to extractdecode from the correct field to get the attachments and so on But If I were to use POSTMAN to send a request to my endpoint server is able to extractdecode the data correctly Meaning to say the file are passed through multer to extract the attachments available in feathersparamsfiles and the body are able to retrieve from contextdata Any idea what am I doing wrong Thanks I am running a feathers v app converted from v and am trying to make everything typed This is perfectly typed copyshot But when I do it this way its not typed at all copyshot I did my research could not find it in the docs nor in known examples Two questions How can I make it typed Is there an example that is fully typed Im sorry if I make too many issues on all the V stuff but i stumble upon many things I think other users might also stumble upon The problem So I want my hooks to be typed But I do not know how First thing I do is ask How does the documentation or examples do it I looked into the docs example Feathersjs v chat example Both of them dont have So I digged deeper and I looked into the source code finding an example But unfortunately it was using any so I could not really find a good example on what these things should be copyshot Possible solution One thing I could do is creating an interface in the modelsserviceNamemodelts file in the models folder Like the screenshot below copyshot And use it like this copyshot Request But I do not know what the best practice is for this I like feathers to provide me with an example and best practices so we all have a standard to follow The problem The feathers v does not come with support for typescript sourcemaps or anything to refer to the original files So by mistake I have edited a file in lib because the error logs refer to the transpiled versions of the code As seen in the screenshot below Why a problem My normal workflow is to click on the file of the error log edit the line and run it again However this makes me by mistake edit a transpiled file which will be overwritten by retranspiling the code The actual error is in the typescript file copyshot The solution There is a solution to sourcemaps for nodejs which can be found here and works in my case copyshot Though this is fixed for me I would like to share my knowledge so other people having the same problems will have a fix