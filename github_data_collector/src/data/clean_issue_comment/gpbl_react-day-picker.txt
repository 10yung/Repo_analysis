Trying to set dates to undefined to clear causes the below error A component is changing a controlled input of type undefined to be uncontrolled Input elements should not switch from controlled to uncontrolled or vice versa Decide between using a controlled or uncontrolled input element for the lifetime of the component eslintdisable import as React from react import moment from moment import formatDate parseDate from reactdaypickermoment import DayPickerInput from reactdaypickerDayPickerInput class DayPickerTest extends ReactComponentProps constructorprops superprops thishandleFromChange thishandleFromChangebindthis thishandleToChange thishandleToChangebindthis thisstate from undefined to undefined showFromMonth const from to thisstate if from return if momenttodiffmomentfrom months thistogetDayPickershowMonthfrom handleFromChangefrom Change the from date and focus the to input field thissetState from handleToChangeto thissetState to thisshowFromMonth clearDates thissetState from undefined to undefined render const from to thisstate const modifiers start from end to return div classNameInputFromTo div classNametest onClickthisclearDates DayPickerInput valuefrom placeholderFrom formatLL formatDateformatDate parseDateparseDate dayPickerProps selectedDays from from to disabledDays after to toMonth to modifiers numberOfMonths onDayClick thistogetInputfocus onDayChangethishandleFromChange span classNameInputFromToto DayPickerInput refel thisto el valueto placeholderTo formatLL formatDateformatDate parseDateparseDate dayPickerProps selectedDays from from to disabledDays before from modifiers month from fromMonth from numberOfMonths onDayChangethishandleToChange span div export default DayPickerTest Captionjs Uncaught TypeError fdefaultinstanceOf is not a function at Objectanonymous Captionjs Describe the bug In Safari for me clicking a date sets ariaselected and class attributes for the preceding day rather than the date clicked This happens despite the correct date having appropriate hover focus styles on click and the correct date is verifiably selected when attaching console output to the onDayClick event I should note that doesnt appear to happen with consistency in Safari as I was not able to reproduce my teams bug reports on this until today This bug is occurring in an instance of DayPicker in a fairly minimal React component Expected behavior The date that is clicked gets the correct attributes ariaselectedtrue classDayPickerDayselected Screenshots Ive created an animated gif to show the effect Describe the bug I click a few of the examples such as this then the whole page crashes and I get the below in the console To Reproduce NA Expected behavior Not crash the website Screenshots Additional context Browser Waterfox OS Windows When implementing date range with caption element on iOS Safari browser the start day selection is working correctly but when trying to select end date only onDayMouseEnter event is being registered and required second tap on the same element to count as a click the issue is only present if there is at least one input family element input select textfield button in the caption element component To Reproduce Visit the sandbox with iOS device first try to choose a date range without disabling custom caption after that click the toggle button and try it again this time it should work as it should Expected behavior When choosing the end date the date should be set and not require second tap on the screen for safari to register it as a click Describe the bug selecting month is not working properly To Reproduce check Matching days with modifiers in Expected behavior Month should be which is Jan to Dec It shouldnt show as Feb and as Dec and as March and so on Screenshots If applicable add screenshots to help explain your problem Additional context Thank You Minor tidyup to use moments documented localeData APIs and avoid its private locale field Problem The full date of a day cell in the calendar day picker grid is not announced with NVDA just the number of the day eg instead of Wednesday November th The month name is not announced when changing between months Solution Some screen readers NVDA do not read ariaLabels directly on divs a Place the visible text in a span hidden from screen readers b have the screen readers read from a separate span that contains the ariaLabels c Add css class to hide only the screen reader span from display Add arialive polite to caption so that it reads the month when changing between months Describe the bug In the DayPickerInputProps interface style property has been missed although it was provided to the component earlier Typescript throw error Someone tried to add in the pull To Reproduce Clone this CodeSandbox to reproduce the bug Expected behavior Typescript throw error that style is missing in DayPickerInputProps Screenshots adresses This PR reverts the unreleased type refactorings and instead exports LocaleUtils as const again This should fix the linked issue Imo the refactoring is too big in scope and seems to be abandoned due to the new major release currently in development This way we have a working version again and arent forced to pin to a lower version