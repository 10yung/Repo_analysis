ConstantLine was introduced in b when using for example xline This error appears Error using matlab tikzhandleAllChildren line I dont know how to handle this object constantline Error in matlab tikzdrawAxes line m t childrenEnvs handleAllChildrenm t handle Error in matlab tikzsaveToFile line m t drawAxesm t relevantAxesHandle Error in matlab tikz line m t saveToFilem t fid fileWasOpen set the correct codes MATLAB a changed the default behavior of how legends work That results in a bug where plots without legends get one generated anyway and the legend labels get filled in with names like data and data etc Thats been documented as bug this should fix that and close out the bug I have installed the latest release of MATLAB ie R b and when I run matlab tikz before hovering over the figure with the mouse pointer everything works fine without any warnings If I then hover over the figure with the mouse and the latest axes toolbar appears then if I run matlab tikz I get the following warnings that were not present in the previous releases Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabgraphicsshapeinternalButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsToolbarPushButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsToolbarStateButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsToolbarStateButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsToolbarStateButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsToolbarStateButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsToolbarStateButton In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsToolbarDropdown In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Warning Dont know annotation matlabuicontrolsAxesToolbar In matlab tikzuserWarning line In matlab tikzdrawAnnotationsHelper line In matlab tikzdrawAnnotations line In matlab tikzsaveToFile line In matlab tikz line Thank you This PR should solve and I ran the tests using runMatlab TikzTests and got the same output as the one in the develop branch Pass Fail Skip Total Unreliable Reliable Total Due to nummerical rounding effects it is possible that the calculated colorindex in function function m t colorindex cdata colorindexm t cdata imagehandle contains indices outside the allowed range of m where m is the maximum colormap size m sizem tcurrentcolormap Bugfix function m t colorindex cdata colorindexm t cdata imagehandle Transforms a color in CData format to an index in the color map Only does something if CDataMapping is scaled really if isnumericcdata islogicalcdata errormatlab tikzcdata colorindexunknownCDataType Dont know how to handle CData scdata end axeshandle m tcurrentgca For the following see for example the MATLAB help page for image section Image CDataMapping try mapping getimagehandle CDataMapping catch mapping scaled end switch mapping case scaled need to scale within clim see MATLABs manual page for caxis for details clim getaxeshandle clim m sizem tcurrentcolormap colorindex zerossizecdata idx cdata clim idx cdata clim idx idx idx colorindexidx colorindexidx m cdata may be of type uint Convert to double to avoid getting binary indices colorindexidx fixdoublecdataidx clim clim clim m HERE IT IS POSSIBLE THROUGH NUMMERICAL ROUNDING EFFECTS THAT COLORINDEX CONTAINS INDICES WHICH ARE OUTSIDE THE ALLOWED INTERVAL OF m eg a cdata value may be e which gets rounded to zero in the process of the interpolation step colorindexidx In case clim this results to a colorindex of m which is not valid Fix Clip outside values colorindexcolorindex m m case direct direct index colorindex cdata otherwise errormatlab tikzanycolor rgbunknownCDataMapping Unknown CDataMapping scdatamapping end end Consider the following Matlab and Tex files Matlab valign base bottom middle cap top halign left center right figure hold on ylim xlim for jj lengthvalign for kk lengthhalign plotjj kk x MarkerSize Linewidth textjj kk Matlab HorizontalAlignment halignkk VerticalAlignment valignjj end end setgca XTick lengthvalign setgca XTickLabels valign xlabelVertical Alignment setgca YTick lengthhalign setgca YTickLabels halign ylabelHorizontal alignment box on matlab tikztextPositiontikz Latex documentclass standalone usepackagepgfplots pgfplotssetcompatnewest begindocument begintikzpicture node anchornorth west text at inputtextPositiontikz endtikzpicture enddocument The Matlab script produces a plot that looks like this textPosition Using the current develop version of matlab tikz you get this tikz file tikz This file was created by matlab tikz The latest updates can be retrieved from where you can also make suggestions and rate matlab tikz definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb begintikzpicture beginaxis width in height in at in in scale only axis xmin xmax xtick xticklabelsbasebottommiddlecaptop xlabel stylefont colorwhite black xlabelVertical Alignment ymin ymax ytick yticklabelsleftcenterright ylabel stylefont colorwhite black ylabelHorizontal alignment axis backgroundstylefillwhite addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above right alignleft at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above aligncenter at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above left alignright at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above right alignleft at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above aligncenter at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above left alignright at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node right alignleft at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node aligncenter at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node left alignright at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below right alignleft at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below aligncenter at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below left alignright at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below right alignleft at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below aligncenter at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below left alignright at axis cs Matlab endaxis endtikzpicture which renders to a PDF that looks like this textPositiondevelop Notice that the text in the center options center middle is not correctly positioned shifted to the right and there is spacing between the text and the crosses With this PR in place you get tikz This file was created by matlab tikz The latest updates can be retrieved from where you can also make suggestions and rate matlab tikz definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb definecolormycolor rgb begintikzpicture beginaxis width in height in at in in scale only axis xmin xmax xtick xticklabelsbasebottommiddlecaptop xlabel stylefont colorwhite black xlabelVertical Alignment ymin ymax ytick yticklabelsleftcenterright ylabel stylefont colorwhite black ylabelHorizontal alignment axis backgroundstylefillwhite addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above right alignleft inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above aligncenter inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above left alignright inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above right alignleft inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above aligncenter inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node above left alignright inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node right alignleft inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node centered aligncenter inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node left alignright inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below right alignleft inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below aligncenter inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below left alignright inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below right alignleft inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below aligncenter inner sep at axis cs Matlab addplot colormycolor line width pt only marks mark size pt markx mark optionssolid mycolor forget plot table row sepcrcr node below left alignright inner sep at axis cs Matlab endaxis endtikzpicture which results in this PDF The center middle text is positioning correctly and the text is closer to the crosses textPositionPR When I try to plot my simulink exported figure attached I get an empty document I was using cleanfigure matlab tikztesttex documentclassarticle usepackagepgfplots pgfplotssetcompatnewest the following commands are needed for some matlab tikz features usetikzlibraryplotmarks usetikzlibraryarrowsmeta usepgfplotslibrarypatchplots usepackagegrffile usepackageamsmath you may also want the following commands pgfplotssetplot coordinatesmath parserfalse newlength figureheight newlength figurewidth begindocument beginfigure inputHTtikztesttex captionTest endfigure enddocument Where can I upload the tex and fig file so you can open it Prior to Octave xviewtransform of the axes object can be accessed by get function This is not the case after Octave and the code throws an error This fix makes xviewtransform available again by computing it following the Octave source code Tested on Octave and Octave code meshpeaks axis image matlab tikzoutputtex related error msgs error get unknown axes property xviewtransform error called from matlab tikzgetRelativeAxesPosition at line column matlab tikzgetAxesPosition at line column matlab tikzretrievePositionOfAxes at line column matlab tikzdrawAxes at line column matlab tikzsaveToFile at line column matlab tikz at line column 