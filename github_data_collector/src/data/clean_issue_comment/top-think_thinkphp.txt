 product order productrelate productidproductname orderidordernumber productrelateidorderidproductid productrelate id tp join MySQL Column id in where clause is ambiguous product new Product product productwhereid select productorder sql productwhereproductid I found a lot of such code in our extensive penetration test sqlDataqueryselect from users where idid sqlDatawhereididselect Such code is not preprocessed by sql during preprocessing can be seen protected function parseSqlsqlparse iftrue parse options thisparseOptions sql thisdbparseSqlsqloptions elseifisarrayparse SQL parse arraymaparraythisdbescapeStringparse sql vsprintfsqlparse else sql strtrsqlarrayTABLEthisgetTableNamePREFIXCDBPREFIX thisdbsetModelthisname return sql or public function wherewhereparsenull ifisnullparse isstringwhere ifisarrayparse parse funcgetargs arrayshiftparse parse arraymaparraythisdbescapeStringparse where vsprintfwhereparse elseifisobjectwhere where getobjectvarswhere ifisstringwhere where map array map string where where map ifissetthisoptions where thisoptions where arraymergethisoptions where where else thisoptions where where return this And the official website also has a lot of such writings Are all wrong demonstrations that will cause more SQL injection Sql injection can also be performed in the MODELclassphp limit function and the order function public function limitoffsetlengthnull thisoptions limit isnulllengthoffsetoffsetlength return this sqlDatawhereididorderid php String Cannot use String as class name as it is reserved ThinkPHP Library Org Util Stringclassphp LINE php HomeworkModelwithJoin user name id attachment name LEFT withCountfile selectOrFail sql sql SELECT homeworkmodelid homeworkmodeltitle homeworkmodeldesc username AS username userid AS userid attachmentname AS attachmentname SELECT COUNT AS tpcount FROM hwfile counttable WHERE counttablehid hwhomeworkid LIMIT AS filecount FROM hwhomework homeworkmodel LEFT JOIN hwuser user ON homeworkmodeluiduserid LEFT JOIN hwfile attachment ON homeworkmodelattachmentidattachmentid LIMIT Unknown column hwhomeworkid in where clause from hwhomework homeworkmodel hwhomework withJoin with withJoin php HomeworkModelwith user name id attachment name withCountfile selectOrFail Too few arguments to function think db Queryname passed and exactly expected sql sql SELECT SELECT COUNT AS tpcount FROM hwfile counttable WHERE counttablehid hwhomeworkid LIMIT AS filecount FROM hwhomework www composer createproject topthinkthink tp preferdist Composer Downloader TransportException ContentLength mismatch received bytes out of the expected false windows a b XA 