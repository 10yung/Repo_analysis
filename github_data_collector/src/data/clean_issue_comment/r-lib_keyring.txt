The documentation for the backendset method says that the username field is optional However the file backend does not handle situations where the username is not supplied when setting an entry r kr keyringbackendfilenew krkeyringunlockpassword test krlist service username rows or length rownames krsetwithvaluetestpassword test krlist Error in vapplyallitems character L username values must be length but FUNX result is length supCreated on by the reprex package v sup r sessionInfo R version Platform x redhatlinuxgnu bit Running under CentOS Linux Core Matrix products default BLASLAPACK usrlib RliblibRblasso locale LCCTYPEenUSUTF LCNUMERICC LCTIMEenUSUTF LCCOLLATEenUSUTF LCMONETARYenUSUTF LCMESSAGESenUSUTF LCPAPERenUSUTF LCNAMEC LCADDRESSC LCTELEPHONEC LCMEASUREMENTenUSUTF LCIDENTIFICATIONC attached base packages stats graphics grDevices utils datasets methods base loaded via a namespace and not attached Rcpp ps getPass withr digest assertthat rappdirs R reprex evaluate rlang rstudioapi fs callr whisker filelock keyring rmarkdown tools processx xfun yaml compiler sodium clipr htmltools knitr This is a sugestion to add a keyringexists method Something like this r keyringexist functionkeyring NULL keyring keyring privatekeyring keyring in selfkeyringlist keyring This would allow to easily test if a keyring exists in a backend supporting multi keyring I encounter this use case while configuring some environment RStudio Servers to use file backend instead of default env backend File backend seems to be the only one that cant use a default keyring without a keyringcreate call first r librarykeyring SyssetenvRKEYRINGBACKEND file kb defaultbackend kbkeyringlist keyring numsecrets locked rows or length rownames kbsetwithvalueservice newserv user pwd Error in bfilekeyringislockedself private keyring Keyring system does not exist kbkeyringcreate kbkeyringlist keyring numsecrets locked system TRUE supCreated on by the reprex package v sup Si I would like to test if keyring exists and offer to create a default one otherwise for new user I do that currently with some code in Rprofilesite like this one r librarykeyring SyssetenvRKEYRINGBACKEND file kb defaultbackend if kbenclosenvprivatekeyring in kbkeyringlistkeyring messageTo use default keyring please run n librarykeyring n kb defaultkeyring n kbkeyringcreate nand enter a personal password for this default keyring To use default keyring please run librarykeyring kb defaultkeyring kbkeyringcreate and enter a personal password for this default keyring supCreated on by the reprex package v sup This creation step is required even for the Rstudio feature describe in Support on a RStudio Server because libsecret does not work if no GUI Would you consider a PR to add a keyringexists method Im using keyring in one of my packages and Im getting this error in some machines Error in keyringkeyringunlock attempt to apply nonfunction In addition Warning message In defaultbackendauto Selecting env backend Secrets are stored in environment variables I resolved it by checking if defaultbackendname env before unlocking Shouldnt keyringunlock itself check this or alternatively add an unlock function to env backend that does nothing Occasionally I get the following error r keyringkeylist Error in Callkeyringwincredenumerate filter keyringwincredenumerate not resolved from current namespace keyring getNamespaceExportskeyring keylist keygetraw keyringunlock backend backendenv keysetwithrawvalue keyset keydelete backendmacos keyringdelete keyget keyringislocked keyringcreate haskeyringsupport backendfile backendwincred defaultbackend keyringlist keysetwithvalue backendsecretservice backendkeyrings keyringlock The only time I can get it to happen is after Ive hibernated the laptop and resumed It doesnt happen every time The only fix Ive been able to find has been to restart R Notably this does not work r keyringkeylist Error in Callkeyringwincredenumerate filter keyringwincredenumerate not resolved from current namespace keyring dlls getLoadedDLLs dlls keyring Filename DynamicLookup keyring cUsersr Rwinlibrary keyringlibsx keyringdll FALSE librarydynamunloadkeyring cUsersr Rwinlibrary keyring verboseTRUE now dynunloadcUsersr Rwinlibrary keyringlibsx keyringdll dlls getLoadedDLLs dlls keyring empty keyringkeylist Error in Callkeyringwincredenumerate filter keyringwincredenumerate not resolved from current namespace keyring dlls getLoadedDLLs dlls keyring empty librarydynamkeyring keyring cUsersr Rwinlibrary verboseTRUE now dynloadcUsersr Rwinlibrary keyringlibsx keyringdll dlls getLoadedDLLs dlls keyring Filename DynamicLookup keyring cUsersr Rwinlibrary keyringlibsx keyringdll FALSE keyringkeylist Error in Callkeyringwincredenumerate filter keyringwincredenumerate not resolved from current namespace keyring detailssummarysession infosummary r sessionInfo R version Platform x w mingw x bit Running under Windows x build Matrix products default locale LCCOLLATEEnglishUnited States LCCTYPEEnglishUnited States LCMONETARYEnglishUnited States LCNUMERICC LCTIMEEnglishUnited States attached base packages stats graphics grDevices utils datasets methods base other attached packages keyring logger datatable ggplot tidyr dplyr purrr tibble testthat loaded via a namespace and not attached fs usethis bit lubridate devtools RColorBrewer rprojroot tools backports rredis utf R DT rpart Hmisc rgeos DBI lazyeval colorspace nnet withr sp tidyselect gridExtra prettyunits processx bit compiler cli formatR htmlTable flextable xml officer desc scales checkmate readr odbc callr commonmark stringr digest foreign rmarkdown base enc pkgconfig htmltools sessioninfo htmlwidgets rlang rstudioapi zoo jsonlite config zip acepack magrittr Formula futilelogger Matrix fansi Rcpp munsell gdtools yaml stringi pkgbuild plyr blob grid pls crayon lattice splines hms knitr pillar uuid pkgload futileoptions glue evaluate latticeExtra lambdar remotes gtable assertthat roxygen violinplot survival memoise cluster tableHTML ztable details I have not been able to define a clear reproducible pathway to get the error many times a hibernaterestart does not trigger the error But every time it triggers it has been post restart from a hibernation When it works I see r getDLLRegisteredRoutinesdllskeyring Call CallnumParameters keyringwincredget keyringwincredexists keyringwincredset keyringwincreddelete keyringwincredenumerate I just restarted R so now its working Ill get the error again and come back and show what this command does while failing We switched to using our active directory email and password for sql server login If I set keysetuid as namemycompanynamecom Then try to use it in connecting to a database I get an error Cannot open server mycompanynamecom requested by the login The login failed but when I return just keygetuid namemycompanynamecom I am guessing the is messing up the parsing somewhere The code used to connect to the database is r con DBIdbConnectodbcodbc Driver ODBC Driver for SQL Server Server myserverdatabasewindowsnet Database mydb UID keygetuid PWD keygetpwd Hi I am getting the below error after installing Keyring package and calling the library installpackageKeyring dependencies TRUE libraryKeyring keyringkeysetservice sqldwpw Error in namespaceExportns exports undefined exports askpass sshaskpass This may be due this recent change Please suggest how I can resolve this Thank You Hi I am trying to use the backend function in Linux no GENOME env backendenvnew envsetkeyring username GLH And the following commands will get me password when I try them envgetkeyring username GLH SysgetenvkeyringGLH However I am not able to get to password back when needed I tried to save the env as RData file and read it the file looks fine but still can get the password Please let me know how to use this backend function to store password Thanks as spoked in issue option to change the prompt in keyringset Hi Your package is really useful and simple to use Thank you for that Would it be possible to add an option to change the prompt when using keyringset Thanks in advance Hello Is there a way to use keyring with an r shiny application deployed on shinyappsio My goal is encrypt my MySQL password in the code should anyone somehow get access to my code bundle Thanks in advance