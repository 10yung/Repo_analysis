Bumps rootswordpress from to details summaryCommitssummary ul lia href Tag li lia href WordPress li lia href HelpAbout Update the About page for li lia href Post WordPress RC version bumpli lia href WordPress RC li lia href Tests Use delta comparison in testshouldfallbacktolastpostmodified li lia href Upload Fix the final file name collision test in codewpuniquefilenamecode whenli lia href Uploadli lia href Administration Fix the colors in all color schemes for the codeactivecode class fli lia href DateTime Ensure that codegetfeedbuilddatecode correctly handles a modified pli liAdditional commits viewable in a href viewali ul details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot close will close this PR and stop Dependabot recreating it You can achieve the same result by closing it manually dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme Additionally you can set the following in your Dependabot dashboard Update frequency including time of day and day of week Pull request limits per update run andor open at any time Automerge options neverpatchminor and devruntime dependencies Outofrange updates receive only lockfile updates if desired Security updates receive only security updates if desired details Installing rootswordpress Cloning from cache is gone history was rewritten RuntimeException Failed to execute git checkout git reset hard fatal invalid reference Bumps vlucasphpdotenv from to details summaryRelease notessummary Sourced from vlucasphpdotenvs releases V We announce the immediate availability V New Features More flexible file finding using stores Optional variable name whitelist within the loader Changes Improved phpdoc fefce d aabab f c d c af b e c ae dd f b b V We announce the immediate availability V Bug Fixes Fixed phpdoc errors V We announce the immediate availability V Weve made some further improvements to this library since v maintaining the same API where possible New Features Match single quote semantics with bash Support escaping dollars in unquoted and double quoted strings Right to left processing of environment variable interpolation More flexible design with support for separate readers and writers Upgrading Notes Please see the upgrading guide details details summaryCommitssummary Analyze the tests too ab ff Added missing typehint fd Implement variable name whitelist c af PHPStan tweaks cd f Upgraded phpoption bfec e Update gitignore PHPStan Analysis a d Fixed legacy constructor More phpdoc fixes f d fb Added missing use Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot close will close this PR and stop Dependabot recreating it You can achieve the same result by closing it manually dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme Additionally you can set the following in your Dependabot dashboard Update frequency including time of day and day of week Pull request limits per update run andor open at any time Automerge options neverpatchminor and devruntime dependencies Outofrange updates receive only lockfile updates if desired Security updates receive only security updates if desired details Ref vlucasphpdotenv has a breaking change as the initialization method has been split up and the old method has been removed The new methods require you to specify if the env definitions are immutable or mutable This PR addresses this incompatibility by implementing the new DotenvcreateImmutable method I dont think Bedrock is doing any overloading so this is probably the better practice Bumps squizlabsphpcodesniffer from to details summaryRelease notessummary Sourced from squizlabsphpcodesniffers releases The PHP TFN token has been made available for older versions TFN represents the fn string used for arrow functions The double arrow becomes the scope opener and uses a new TFNARROW token type The token after the statement normally a semicolon becomes the scope closer The token is also associated with the opening and closing parenthesis of the statement Any functions named fn will have a TFN token for the function name but have no scope information Thanks to Micha Bundyra for the help with this change PHP numeric separators are now tokenized in the same way when using older PHP versions Previously a number like would tokenize as TLNUMBER TSTRING Now the number tokenizes as TLNUMBER Sniff developers should consider how numbers with underscores impact their custom sniffs The PHPCS file cache now takes file permissions into account The cache is now invalidated for a file when its permissions are changed FilegetMethodParameters now supports arrow functions FilegetMethodProperties now supports arrow functions Added FixerchangeCodeBlockIndent to change the indent of a code block while autofixing Can be used to either increase or decrease the indent Useful when moving the start position of something like a closure where you want the content to also move Added GenericFilesExecutableFile sniff Ensures that files are not executable Thanks to Matthew Peveler for the contribution GenericCodeAnalysisEmptyPhpStatement now reports unnecessary semicolons after control structure closing braces Thanks to Vincent Langlet for the patch GenericPHPLowerCaseKeyword now enforces that the fn keyword is lowercase Thanks to Micha Bundyra for the patch GenericWhiteSpaceScopeIndent now supports static arrow functions PEARFunctionsFunctionCallSignature now adjusts the indent of function argument contents during autofixing Previously only the first line of an argument was changed leading to inconsistent indents This change also applies to PSR MethodsFunctionCallSignature PSR ControlStructuresControlStructureSpacing now checks whitespace before the closing parenthesis of multiline control structures Previously it incorrectly applied the whitespace check for singleline definitions only PSR FunctionsReturnTypeDeclaration now checks the return type of arrow functions Thanks to Micha Bundyra for the patch PSR TraitsUseDeclaration now ensures all trait import statements are grouped together Previously the trait import section of the class ended when the first nonimport statement was found Checking now continues throughout the class to ensure all statements are grouped together This also ensures that empty lines are not requested after an import statement that isnt the last one SquizFunctionsLowercaseFunctionKeywords now enforces that the fn keyword is lowercase Thanks to Micha Bundyra for the patch Fixed bug GenericWhiteSpaceScopeIndent false positives when indenting open tags at a non tabstop Fixed bug SquizCSSDuplicateClassDefinitionSniff sees comments as part of the class name Thanks to Raphael Horber for the patch Fixed bug SquizWhiteSpaceOperatorSpacing false positives for some negation operators Thanks to Jakub Ch bek and Juliette Reinders Folmer for the patch Fixed bug SquizFunctionsFunctionDeclarationArgumentSpacing prints wrong argument name in error message Fixed bug PSR FilesFileHeader locks up when file ends with multiple inline comments Fixed bug PSR ClassesAnonClassDeclaration incorrectly enforcing that closing brace be on a line by itself Fixed bug FilegetMethodParameters setting typeHintEndToken for vars with no type hint Thanks to Juliette Reinders Folmer for the patch trtable truncated details details summaryCommitssummary a fc Prepare for release f Make it easier to detect we are running tests under a PEAR install so the exe b c Travis dont allow PHP build to fail Merge branch featurefnclosurefunctiondeclarationargspacing of https ae e Adds support for array closures in SquizFunctionsFunctionDeclarationArgumen d fa Adds support for array closures in GenericCodeAnalysisUnusedFunctionParameter ebd a CS fix align array arrows e c Adds support for PHP arrow functions in PEARFunctionsValidDefaultValue e b Merge branch qaoptimizeimports of ab a Fixed detection of scope closers when arrow functions used in ternary ref Additional commits viewable in compare view details br Dependabot compatibility score Dependabot will resolve any conflicts with this PR as long as you dont alter it yourself You can also trigger a rebase manually by commenting dependabot rebase dependabotautomergestart dependabotautomergeend details summaryDependabot commands and optionssummary br You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR dependabot recreate will recreate this PR overwriting any edits that have been made to it dependabot merge will merge this PR after your CI passes on it dependabot squash and merge will squash and merge this PR after your CI passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this PR if it is closed dependabot close will close this PR and stop Dependabot recreating it You can achieve the same result by closing it manually dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself dependabot use these labels will set the current labels as the default for future PRs for this repo and language dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme Additionally you can set the following in your Dependabot dashboard Update frequency including time of day and day of week Pull request limits per update run andor open at any time Automerge options neverpatchminor and devruntime dependencies Outofrange updates receive only lockfile updates if desired Security updates receive only security updates if desired details Do you want to ask a question Are you looking for support Roots Discourse is the best place for getting support X Ive read the guidelines for Contributing to Roots Projects X This request isnt a duplicate of an existing issue X Ive read the docs and followed them if applicable X This is not a personal support request that should be posted on the Roots Discourse community Description When working on a site I noticed that if I was to errorlog the SERVER variable that the following additional items would be available nameuserpassword removed for bug report DBNAME dbname DBUSER user DBPASSWORD userspwd WPENV production WPHOME WPSITEURL AUTHKEY generateme SECUREAUTHKEY generateme LOGGEDINKEY generateme NONCEKEY generateme AUTHSALT generateme SECUREAUTHSALT generateme LOGGEDINSALT generateme NONCESALT generateme Steps to reproduce Create a local install use any environment simply vardump or errorlog the SERVER var See results Expected behavior These sensitive data shouldnt be available via that variable Actual behavior These sensitive data shouldnt be able to output Reproduces how often Versions Bedrock Install macOS laravelvalet Additional information Basic Sage with Bedrocks install on local Opinionated change Clean up existing docblocks as well as make them more uniform across the entire package Do you want to ask a question Are you looking for support Roots Discourse is the best place for getting support x Ive read the guidelines for Contributing to Roots Projects x This request isnt a duplicate of an existing issue x Ive read the docs and followed them if applicable x This is not a personal support request that should be posted on the Roots Discourse community Description New post fails after changing permalink Steps to reproduce dockercomposeyml version services apachebedrock build context dockerfile Dockerfile volumes bedrockvarwwwhtmlbedrockrw etcetcapache environment VIRTUALHOST examplecom WORDPRESSDBPASSWORD root CERTNAME default dependson bedrockmysql restart always tty true logging options maxsize m maxfile bedrockmysql image mysql volumes mysqlinitdockerentrypointinitdbd environment MYSQLROOTPASSWORD root restart always logging options maxsize m maxfile networks default external name shared Dockerfile FROM php apache RUN php r copy composersetupphp php r if hashfilesha composersetupphp e b d dca c b b bbe bda ac a a d cdb dcd a cbe c f fe a d f echo Installer verified else echo Installer corrupt unlinkcomposersetupphp echo PHPEOL php composersetupphp php r unlinkcomposersetupphp mv composerphar usrlocalbincomposer apt update dockerphpextinstall pdomysql mysqli mbstring apt install zip unzip apt install y procps composer createproject rootsbedrock chown wwwdatawwwdata R varwwwhtmlbedrock EXPOSE env DBNAMEbedrockmysql DBUSERroot DBPASSWORDroot Optionally you can use a data source name DSN When using a DSN you can remove the DBNAME DBUSER DBPASSWORD and DBHOST variables DATABASEURLmysqldatabaseuserdatabasepassworddatabasehostdatabaseportdatabasename DATABASEURLmysqlrootroot bedrockmysql Optional variables DBHOSTbedrockmysql DBPREFIXwp WPENVnewsun I modified WPHOME WPSITEURLWPHOMEwp Generate your keys here AUTHKEY SECUREAUTHKEY LOGGEDINKEY NONCEKEY AUTHSALT SECUREAUTHSALT LOGGEDINSALT NONCESALT dockercompose up d build Container launch Install WordPress Access to wpwpadminpostphp Post published Access to wpwpadminpostphp img width alt src Changing permalink to Post name Access to wpwpadminoptionspermalinkphp img width alt src Post published again Publishing failed img width alt src Expected behavior I want to use post name for posting new note Actual behavior Publishing failed Reproduces how often Versions What I want to ask you I have not identified the cause if you need more information feel free to ask me Weve struggled with a good way of using WP caching plugins in the past with Bedrock due to limitations with WP itself and how the plugins worked These plugins rely on dropins which are counter to Bedrocks goals because they conflict with proper version control The good news is that as of WordPress object caches can be properly conditionally loaded Before these plugins instructed people to manually copy objectcachephp into the WP content dir app in Bedrock or theyd try and use the WP filesystem API to do it themselves Or you needed really ugly hacks Solution With this fixed in Bedrock could include a standard appobjectcachephp file which would act as a loader only Depending on some configuration values it would require a file in a plugin If not the default WP object cache behaviour would happen as usual because awpcacheinit function wasnt defined Ignoring the hacks that were previously necessary even the past solutions had hardcoded assumptions about class names or globals Example Ideally we just rely on Bedrocks configuration model to handle this properly Im not exactly sure the best way to do this yet since wed need to require an actual filepath within a plugin Most of these plugins have the standard pluginnameobjectcachephp but we may not be able to rely on that The simplest solution is php ConfigdefineOBJECTCACHEPLUGINFILEPATH pluginnamesrcobjectcachephp If OBJECTCACHEPLUGINFILEPATH is defined then the loaded requires it If not nothing happens as usual Composer metadata It would be nice if object cache plugins could set this via metadata in their Composer package and then Bedrock could use it But Im not sure how realistic it is to get these developers to add that or how it would actually work yet Feedback on this is welcome cc austinpray QWp t x Ive read the guidelines for Contributing to Roots Projects x This request isnt a duplicate of an existing request x This is not a personal support request that should be posted on the Roots Discourse community Summary I suggest bedrock composerjson depends upon wikimediacomposermergeplugin to provide an easier and clean extensibility method Motivation bedrock is used as a boilerplate from which one creates WordPress pluginsthemes set The main if not sole modification ever done is probably inside composerjson But changes from bedrock mostly WP releases are subject to small composerjson merges in the requires section While thats the point of a boilerplate thats a small avoidable annoyance wikimediacomposermergeplugin could limit if not avoid that Additional context wikimediacomposermergeplugin provides a way for composer to include external composer section which are merged inside the main one Example of suggested modifications diff acomposerjson bcomposerjson oscaroteroenv rootswordpress rootswpconfig rootswppasswordbcrypt rootswppasswordbcrypt wikimediacomposermergeplugin devmaster requiredev squizlabsphpcodesniffer And adding a default extra section js mergeplugin replace true mergeextra true include bedrockextjson recurse false That way one would just build its bedrock flavor by add its composer files named bedrockextjson No conflictmerge when upstream is updated 