See When running tests in parallel we are seeing threading problems with the following line of code private val descriptionServices ServiceLoaderloadValueDescriptionclassjava says Instances of this class are not safe for use by multiple concurrent threads Is it possible to add hamkrest as test dependency in multiplatform package I am trying to do this commonTest dependencies implementation kotlintestcommon implementation kotlintestannotationscommon implementation comnatprycehamkrest but that doesnt work I can see the lib in Intellij but classes are not accessible in tests Closes Something that would just make writing test simpler kotlin Matches a collection with a size that is equal to size fun hasSizesize Int hasCollectionAnysize equalTosize I called the matcher containsAllbut there are couple problems with this name this matcher is based on IsIterableContainingInAnyOrder which means equal iterables ignoring order of elements Its not the same as equal Set objects and not the same as CollectioncontainsAll when used inside apply closure it clashes with builtin containsAll function see I also have doubts that current mismatch description is good Also passing custom equality matcher and nested iterables API looks a bit clunky If I am missing something what is the idiomatic way to do it HamKrest Otherwise are there any plans to implement this are pull requests welcome 