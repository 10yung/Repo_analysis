Can you please name debug libraries and executables differently to release versions The standard way that this is usually achieved is through having a d suffix appended to the end of the name for debug versions mosquittodlib mosquittoddll vs mosquittolib mosquittodll etc This would make integrating to other systems and build processes much simpler Hi Im currently trying to bridge local mosquitto messages to Azure IoT Hub I gathered the available Information for example here Unfortunately it wont work in mosquitto version with the following bridge config Even with a working mosquittopub command PubCommand mosquittopub h mxchipflseiazuredevicesnet u mxchipflseiazuredevicesnetiotoctopibridgeapiversion P SharedAccessSignature srmxchipflseiazuredevicesnet Fdevices Fiotoctopibridge sig t devicesiotoctopibridgemessagesevents cafile homepibaltimorepem p i iotoctopibridge V mqttv d m id BridgeConfig Bridge configuration connection azureiotbridge logtype all address mxchipflseiazuredevicesnet remoteusername mxchipflseiazuredevicesnetiotoctopibridge remotepassword SharedAccessSignature srmxchipflseiazuredevicesnet Fdevices Fiotoctopibridge sig remoteclientid iotoctopibridge bridgecafile homepibaltimorepem tryprivate false cleansession true starttype automatic bridgeinsecure false bridgeprotocolversion mqttv bridgetlsversion tlsv notifications false notificationtopic events topic devicesiotoctopibridgemessagesevents out log Bridge localiotoctopibridge doing local SUBSCRIBE on topic devicesiotoctopibridgemessagesevents Connecting bridge step azureiotbridge mxchipflseiazuredevicesnet Connecting bridge step azureiotbridge mxchipflseiazuredevicesnet Bridge iotoctopibridge sending CONNECT Received CONNACK on connection localiotoctopibridge Bridge localiotoctopibridge sending UNSUBSCRIBE Mid Topic devicesiotoctopibridgemessagesevents Received UNSUBACK from localiotoctopibridge Before I used the remote id iotoctopibridge I had the id iotoctopi which was qual to the name of my raspberry There I got Logs with information like Bridge localiotoctopi doing local SUBSCRIBE on topic devicesiotoctopimessagesevents Connecting bridge step azureiotbridge mxchipflseiazuredevicesnet Connecting bridge step azureiotbridge mxchipflseiazuredevicesnet Bridge iotoctopi sending CONNECT Received CONNACK on connection localiotoctopi Connection Refused broker unavailable Socket error on client localiotoctopi disconnecting Any Ideas Thanks in advance and best Regards Florian Hello Playing with shared subscriptions it works very well on mosquitto But seems not working with two mosquittos bridged together when subscribers are not connected to the same mosquitto Is it planned to implement shared subscriptions over bridging Cheers Guillaume I have one server running mosquitto the server has G of RAM and CPUs here is the CPU info Architecture x CPU opmodes bit bit Byte Order Little Endian CPUs Online CPUs list Threads per core Cores per socket Sockets NUMA nodes Vendor ID GenuineIntel CPU family Model Model name IntelR XeonR Gold CPU GHz Stepping CPU MHz BogoMIPS Virtualization VTx Hypervisor vendor KVM Virtualization type full L d cache K L i cache K L cache K L cache K NUMA node CPUs The problem is mosquitto shows its consuming between and of the CPU most of the time and it stops sending the messages to the topics so I have to restart whenever this happens img width altCaptura de Pantalla a las src But on DataDog it says that the highest peak we are using of CPU is not even img width altCaptura de Pantalla a las src So I think mosquitto is only taking advantage of CPU of the the server has This is my SYS img width altCaptura de Pantalla a las src Here is my configuration file pidfile varrunmosquittopid allowanonymous false passwordfile etcmosquittopasswd listener persistence true persistencelocation varlibmosquitto logdest file varlogmosquittomosquittolog includedir etcmosquittoconfd Any help is appreciated D Im running mosquitto in a docker container Log files can be stored without problems but errors occur when trying to save inmemory data on exiting Below are the logs T mosquitto version starting T Config loaded from mosquittoconfigmosquittoconf T Opening ipv listen socket on port T Opening ipv listen socket on port C T mosquitto version terminating T Saving inmemory database to mosquittodb T Error saving inmemory database unable to open mosquittodbnew for writing T Error Invalid argument Note the last line which says Invalid argument Im not sure what it means nor how to solve it Tried to change persistence directory filename and chown Nothing works It doesnt even work without any binding volume I dont think its a permission issue Can anyone please help me Thanks Hello I am using mosquitto in a production embedded device and some recent changes have prompted me to consider which branchtag to follow I infer that the master branch is the most stable production ready branch and fixes is a sort of next branch and so my default choice would be to track the HEAD of master If I were to track master and was interested in some of the changes that have been added to fixes is the easiest thing to make a pull request to master of fixes merged into master Would that suit the mosquitto releasetag schedule Are there testing and validation procedures to make sure that the wrong things faulty code dont get committed to master Are there any other things I should keep in mind Thanks This is a stupid question but Im not able to find how to set the properties for mqttv in order to pass it in v functions further is documentation available for setting up the properties A Precondition Successfully connect from mosquitto to a broker and stop the broker service from the server Register a disconnectCallback like mosquittodisconnectcallbacksetmosq disconnectCallback B Reproduction When getting informed about unexpected disconnect by disconnectCallback call mosquittodisconnectmosq mosquittoloopstopmosq false Internally mosquittoloopstop does not return before the reconnectdelay expired which could be a huge time and is unnecessary to wait C Possible fix in loopc in mosquittoloopforever use from Line Regularly check state and stop waiting when disconnecting while reconnectdelay Sleep for one second ifdef WIN Sleep else reqtvsec reqtvnsec whilenanosleep req rem errno EINTR req rem endif reconnectdelay Stop waiting in case of disconnecting pthreadmutexlock mosqstatemutex if mosqstate mosqcsdisconnecting reconnectdelay pthreadmutexunlock mosqstatemutex When broker publish an integer type value the mosquitosub example is sent as C ASCII code conversion mosquittopub id idname doesnt work default ID appears in broker logs mosqXXXXXXXXXXXXXXXXXX mosquittopub i idname works as expected