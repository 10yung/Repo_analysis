proxygen is available as a port in vcpkg a C library manager that simplifies installation for proxygen and other project dependencies Documenting the install process here will help users get started by providing a single set of commands to build proxygen ready to be included in their projects We also test whether our library ports build in various configurations dynamic static on various platforms OSX Linux Windows x x UWP ARM to keep a wide coverage for users Im a maintainer for vcpkg and here is what the port script looks like We try to keep the library maintained as close as possible to the original library Hi when transferring large file eg G connect successfully client threw out an error CurlClientcpp Got errorLocalErrorNo Error Exceeded max PTO So the first question is that what causes PTO timeout However if I test mvfst alone instead of proxygen theres no such exception The strange thing is that if I modify the codes in SampleHandlersh follygetCPUExecutoraddstdbind StaticFileHandlerreadFile this follyEventBaseManagergetgetEventBase into readFile that is to say I skip the CPUExecutor I can transfer the large file no matter what size it is I wonder whether such modification will leave some hidden troubles skipping the CPUExecutor or do you guys have any other good idea of transferring large files Thanks Hello When onError core dump occurs How to fix it Thanks Program terminated with signal Segmentation fault x fd in proxygenFiltersendHeadersproxygenHTTPMessage Missing separate debuginfos use debuginfoinstall bzip libs el x elfutilslibelf el x glibc el x keyutilslibs el x krb libs el x libcomerr el x libgcc el x libselinux el x openssllibs k el x pcre el x snappy el x xzlibs el x zlib el x gdb bt x fd in proxygenFiltersendHeadersproxygenHTTPMessage x f in proxygenCompressionFiltersendHeadersproxygenHTTPMessage x aac in proxygenResponseBuildersend this x fcc f at proxygenlibproxygenincludeproxygenhttpserverResponseBuilderh x a bc in proxygenResponseBuildersendWithEOM this x fcc f at proxygenlibproxygenincludeproxygenhttpserverResponseBuilderh x in broalgoshieldPushRequestHandleronError this x fcc a errproxygenkErrorRead at servershieldrequesthandlercc x ee in proxygenFilteronErrorproxygenProxygenError x in proxygenRequestHandlerAdaptorsetErrorproxygenProxygenError x b in proxygenRequestHandlerAdaptoronErrorproxygenHTTPException const x e b f in proxygenHTTPTransactiononErrorproxygenHTTPException const x bc c in proxygenHTTPSessiononErrorunsigned long proxygenHTTPException const bool x b in proxygenPassThroughHTTPCodecFilteronErrorunsigned long proxygenHTTPException const bool x eb in proxygenHTTP xCodeconParserErrorchar const x e a in proxygenHTTP xCodeconIngressEOF x f in proxygenPassThroughHTTPCodecFilteronIngressEOF x c c in proxygenHTTPSessionshutdownTransportbool bool stdcxx basicstringchar stdchartraitschar stdallocatorchar const x b cd in proxygenHTTPSessionreadEOF x fcd e d in x fcc f in x fcc ca in x fcc f e in x cf b in follydetailScopeGuardImplfollyIOBufQueueupdateGuardlambda trueScopeGuardImpl x fcd e ca in x a in x fcc ca in x fcc fa in x a in x fcc fd in x fcd fe in x fcc e in x fcc b in x fcc d in x abe in eventactivenolock ev x resoptimized out ncallsoptimized out at eventc x fcc e in x fcc fd in x fcd e fa in x in x fcc e in x fcc fd in x fcd ced in x fcc e in x in x in My code void PushRequestHandleronErrorProxygenError err noexcept LOGERROR Client error s proxygengetErrorStringerr gPushBodyversion rd if body LOGERROR Client error s bodydata ResponseBuilderdownstream status OK headerRequestNumber follytostdstringstatsgetRequestCount bodygPushBody sendWithEOM if this NULL delete this When I test the proxygen under Gbps bandwidth ms delay and packet loss rate the results shows that speed of QUIC and FTP are MS and Ms Furthermore when delay is ms loss rate is the speed of QUIC is Ms and Ms The file transferred is MB in these two tests applying BBR as CC algorithm So I am curious of the reasons resulting in such phenomenon could you please give me some advice Thanks BTW I set the params congestionbbr connectudptrue earlydatatrue hello i want build hq in qt my qt project is add httpserversampleshq files and link all library file in proxygen folder libproxygena libmvfstclienta libmvfstservera libfollya libfizza libwanglea but fail to build and issue message is homewgproxygenproxygenhttpclientsamplescurlCurlClientcpp error undefined reference to proxygenHTTP CodecrequestUpgradeproxygenHTTPMessage homewgproxygenproxygenhttpclientsamplescurlCurlClientcpp error undefined reference to proxygenHTTPUpstreamSessionnewTransactionproxygenHTTPTransactionHandler I wonder if there is any documentation to build release proxygen OS MacOS I get a couple of unit test failures tests passed tests failed out of Total Test time real sec The following tests FAILED HTTPTimeTestsReallyOldTimeTest Failed TimeTestGetDateTimeStr Failed uname a Darwin Kernel Version Sun Jun PDT rootxnu RELEASEX x Hey guys I am trying to create a small test app to play with proxygen and see how it works So I copied the static sample into a new folder and configured cmake to install external dependencies But for some reason when I compile it I get the following errors Building CXX object CMakeFilesStaticAppdirStaticServercppo In file included from sampleproxygenstaticbuildexternalincludefollyDefaultKeepAliveExecutorh from sampleproxygenstaticbuildexternalincludefollyexecutorsThreadPoolExecutorh from sampleproxygenstaticbuildexternalincludefollyexecutorsCPUThreadPoolExecutorh from sampleproxygenstaticStaticServercpp sampleproxygenstaticbuildexternalincludeglogloggingh In instantiation of stdcxx string googleCheckEQImplconst T const T const char with T long unsigned int T int stdcxx string stdcxx basicstringchar sampleproxygenstaticbuildexternalincludefollyioasyncAsyncSSLSocketh required from here sampleproxygenstaticbuildexternalincludeglogloggingh error comparison of integer expressions of different signedness const long unsigned int and const int Werrorsigncompare DEFINECHECKOPIMPLCheckEQ Compilation error with CHECKEQNULL x sampleproxygenstaticbuildexternalincludeglogloggingh note in definition of macro GOOGLEPREDICTTRUE define GOOGLEPREDICTTRUEx builtinexpectx sampleproxygenstaticbuildexternalincludeglogloggingh note in expansion of macro DEFINECHECKOPIMPL DEFINECHECKOPIMPLCheckEQ Compilation error with CHECKEQNULL x sampleproxygenstaticbuildexternalincludeglogloggingh In instantiation of stdcxx string googleCheckGTImplconst T const T const char with T unsigned int T int stdcxx string stdcxx basicstringchar sampleproxygenstaticbuildexternalincludeproxygenlibhttpsessionHTTPSessionBaseh required from here sampleproxygenstaticbuildexternalincludeglogloggingh error comparison of integer expressions of different signedness const unsigned int and const int Werrorsigncompare DEFINECHECKOPIMPLCheckGT sampleproxygenstaticbuildexternalincludeglogloggingh note in definition of macro GOOGLEPREDICTTRUE define GOOGLEPREDICTTRUEx builtinexpectx sampleproxygenstaticbuildexternalincludeglogloggingh note in expansion of macro DEFINECHECKOPIMPL DEFINECHECKOPIMPLCheckGT cc plus all warnings being treated as errors make CMakeFilesStaticAppdirbuildmake CMakeFilesStaticAppdirStaticServercppo Error make CMakeFilesMakefile CMakeFilesStaticAppdirall Error make Makefile all Error Am I doing something wrong Here is my repo with this sample Thanks in advance As per afrinds suggestion opening an issue Is there a plan to fold HQ into HTTPServer proper Borrowing from sample EchoServercpp code would love to have something like example below With changes to existing app incorporate support for QUIC and later on H in part related to HTTP using Protocol HTTPServerProtocol DEFINEint httpport Port to listen on with HTTP protocol DEFINEint spdyport Port to listen on with SPDY protocol DEFINEint h port Port to listen on with HTTP protocol DEFINEint h port Port to listen on with HTTP protocol HTTPServer serverstdmoveoptions serverbindIPs Start HTTPServer mainloop in a separate thread stdthread t serverstart please help when I run a demo it always print these information why proxygenserver workcodeproxygen proxygenfollyfollyioasyncEventHandlercpp bool follyEventHandlerregisterImpluint t bool Assertion eventevbase nullptr failed Aborted at unix time try date d if you are using GNU date PC x unknown SIGABRT x e received by PID TID x fca from PID stack trace x fca c unknown x fca c da gsignal x fca c dc a abort x fca c d bd unknown x fca c d c assertfail x fca e bf b follyEventHandlerregisterImpl x fca e a follyEventHandlerregisterInternalHandler x fca e c c follyNotificationQueueConsumerstartConsumingInternal x fca e e follyEventBaseinitNotificationQueue x fca e follyEventBaseEventBase x fca e bff follyEventBaseEventBase x fca e a follyEventBaseManagerEventBaseInfoEventBaseInfo x fca e e d follyEventBaseManagergetEventBase x fca e d cd proxygenHTTPServerstart x ZZ mainENKUlvEclEv x b ZNSt BindsimpleIFZ mainEUlvEvEE MinvokeIJEEEvSt IndextupleIJXspTEEE x ZNSt BindsimpleIFZ mainEUlvEvEEclEv x ZNSt thread ImplISt BindsimpleIFZ mainEUlvEvEEE MrunEv x fca cd ac unknown x fca c ba startthread x fca c ac d clone x unknown Copyright c Facebook Inc All rights reserved This source code is licensed under the BSDstyle license found in the LICENSE file in the root directory of this source tree An additional grant of patent rights can be found in the PATENTS file in the same directory include gflagsgflagsh include follyMemoryh include follyinitInith include follyPortabilityh include follyioasyncEventBaseManagerh include proxygenhttpserverHTTPServerh include proxygenhttpserverRequestHandlerFactoryh include unistdh include DemoHandlerh using namespace DemoService using namespace proxygen using follyEventBase using follyEventBaseManager using follySocketAddress using Protocol HTTPServerProtocol DEFINEint httpport Port to listen on with HTTP protocol DEFINEstringip localhost IPHostname to bind to DEFINEint threads Number of threads to listen on Numbers will use the number of cores on this machine class DemoHandlerFactory public RequestHandlerFactory public void onServerStartfollyEventBase evb noexcept override printfon server start n void onServerStop noexcept override RequestHandler onRequestRequestHandler handler HTTPMessage msg noexcept override printfs n msggetURLcstr return new DemoHandler private int mainint argc char argv follyinit argc argv true stdvectorHTTPServerIPConfig IPs SocketAddressFLAGSip FLAGShttpport true ProtocolHTTP if FLAGSthreads FLAGSthreads sysconfSCNPROCESSORSONLN CHECKFLAGSthreads HTTPServerOptions options optionsthreads staticcastsizetFLAGSthreads optionsidleTimeout stdchronomilliseconds optionsshutdownOn SIGINT SIGTERM optionsenableContentCompression true optionshandlerFactories RequestHandlerChain addThenDemoHandlerFactory build HTTPServer serverstdmoveoptions serverbindIPs Start HTTPServer mainloop in a separate thread stdthread t serverstart tjoin return Hi All I am lookin for a Dockerfile for proxygen I found one in github docker jrandallproxygen this docker works fine but the Dockerfile inside the same is giving error Please let me know if any Dockerfile available for the same Btw do we have rpm for Centos rgds Balaji