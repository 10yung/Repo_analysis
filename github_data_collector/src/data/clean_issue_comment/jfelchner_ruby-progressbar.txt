 Current Behavior In nonTTY mode using progressbartos with a format argument does not change the format of the returned string Steps to Reproduce Trigger nontty mode by specifying a null file output progressbar ProgressBarcreate output FileopenFileNULL w ProgressBarOutputsNull does not exhibit the bug progressbartosE returns Progress Expected Behavior progressbartosE returns ETA Fix I think needs a yield inside More a question than feature request Current Problem You need special class to have progress bar on it which also needed refinements its not entirely obvious to me why this was first solution and only solution for automatic progressbar Potential Solution or New Behavior Allow wrapping any enumerator with enumerator which emits progressbar Mockups ruby require ioconsole class Progress include Enumerable def initializeenumerable enumerable enumerable outputevery enumerablesize IOconsolewinsizelasttoftoi end def each enumerableeachwithindex do item index print if index outputevery yield item end print n end end canhaspb true thing enum canhaspb Progressnewthing thing enumeach do l sleep l end The notion is that use case commonly is CLI and you commonly have way to disable progress bars and you have what ever enumerables you have which sometimes you want to use with progress bar sometimes you dont want to I may miss something obvious but it seems this call type would be very desirable requiring no dirty deeds Current Problem Im finding myself using the same options over and over again PBOPT length format a B p cC Potential Solution or New Behavior It would be nice if it was possible to define default options Mockups Something like ruby ProgressBardefaults length format a B p cC 